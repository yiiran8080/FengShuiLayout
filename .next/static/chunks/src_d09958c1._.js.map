{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/types/room.js"],"sourcesContent":["export const ITEM_TYPES = {\r\n  ROOM: 'room',\r\n  FURNITURE: 'furniture'\r\n}\r\n\r\nexport const ROOM_TYPES = {\r\n  LIVING_ROOM: 'living_room',\r\n  DINING_ROOM: 'dining_room',\r\n  STORAGE_ROOM: 'storage_room',\r\n  STUDY_ROOM: 'study_room',\r\n  BEDROOM: 'bedroom',\r\n  BATHROOM: 'bathroom',\r\n  KITCHEN: 'kitchen',\r\n  BALCONY: 'balcony',\r\n  GARDEN: 'garden',\r\n  GARAGE: 'garage',\r\n  CORRIDOR: 'corridor',\r\n}\r\n\r\nexport const FURNITURE_TYPES = {\r\n  BED: 'bed',\r\n  SOFA: 'sofa',\r\n  TABLE: 'table',\r\n  CHAIR: 'chair',\r\n  CABINET: 'cabinet',\r\n  TV: 'tv',\r\n  LAMP: 'lamp',\r\n  DOOR: 'door',\r\n  WINDOW: 'window',\r\n  BOOKSHELF: 'bookshelf',\r\n  WARDROBE: 'wardrobe',\r\n  PLANT: 'plant',\r\n  FRIDGE: 'fridge',\r\n  STOVE: 'stove',\r\n  SINK: 'sink',\r\n  WASHBASIN: 'washbasin',\r\n  TOILET: 'toilet',\r\n  SHOWER: 'shower',\r\n  BATHTUB: 'bathtub'\r\n};\r\nexport const FURNITURE_TYPES_LABEL_CN = {\r\n  [FURNITURE_TYPES.DOOR]: '门',\r\n  [FURNITURE_TYPES.WINDOW]: '窗',\r\n  [FURNITURE_TYPES.TABLE]: '枱',\r\n  [FURNITURE_TYPES.CHAIR]: '椅子',\r\n  [FURNITURE_TYPES.SOFA]: '沙发',\r\n  [FURNITURE_TYPES.BED]: '床',\r\n  [FURNITURE_TYPES.LAMP]: '儿童床',\r\n  [FURNITURE_TYPES.TV]: '电视',\r\n  [FURNITURE_TYPES.BOOKSHELF]: '茶几',\r\n  [FURNITURE_TYPES.WARDROBE]: '柜',\r\n  [FURNITURE_TYPES.PLANT]: '植物',\r\n  [FURNITURE_TYPES.FRIDGE]: '冰箱',\r\n  [FURNITURE_TYPES.STOVE]: '炉具',\r\n  [FURNITURE_TYPES.SINK]: '锌盘',\r\n  [FURNITURE_TYPES.WASHBASIN]: '洗手盘',\r\n  [FURNITURE_TYPES.TOILET]: '马桶',\r\n  [FURNITURE_TYPES.SHOWER]: '淋浴',\r\n  [FURNITURE_TYPES.BATHTUB]: '浸浴'\r\n};\r\nexport const FURNITURE_TYPES_LABEL_TW = {\r\n  [FURNITURE_TYPES.DOOR]: '門',\r\n  [FURNITURE_TYPES.WINDOW]: '窗',\r\n  [FURNITURE_TYPES.TABLE]: '枱',\r\n  [FURNITURE_TYPES.CHAIR]: '椅子',\r\n  [FURNITURE_TYPES.SOFA]: '沙發',\r\n  [FURNITURE_TYPES.BED]: '床',\r\n  [FURNITURE_TYPES.LAMP]: '兒童床',\r\n  [FURNITURE_TYPES.TV]: '電視',\r\n  [FURNITURE_TYPES.BOOKSHELF]: '茶几',\r\n  [FURNITURE_TYPES.WARDROBE]: '櫃',\r\n  [FURNITURE_TYPES.PLANT]: '植物',\r\n  [FURNITURE_TYPES.FRIDGE]: '冰箱',\r\n  [FURNITURE_TYPES.STOVE]: '爐具',\r\n  [FURNITURE_TYPES.SINK]: '锌盘',\r\n  [FURNITURE_TYPES.WASHBASIN]: '洗手盤',\r\n  [FURNITURE_TYPES.TOILET]: '馬桶',\r\n  [FURNITURE_TYPES.SHOWER]: '淋浴',\r\n  [FURNITURE_TYPES.BATHTUB]: '浸浴'\r\n};\r\nexport const ROOM_TYPES_LABEL_CN = {\r\n  [ROOM_TYPES.LIVING_ROOM]: \"客厅\", // 客厅\r\n  [ROOM_TYPES.DINING_ROOM]: \"饭厅\", // 饭厅\r\n  [ROOM_TYPES.STORAGE_ROOM]: \"杂物房\", // 储物室\r\n  [ROOM_TYPES.STUDY_ROOM]: \"书房\", // 书房\r\n  [ROOM_TYPES.BEDROOM]: \"睡房\", // 睡房\r\n  [ROOM_TYPES.BATHROOM]: \"浴室\", // 浴室\r\n  [ROOM_TYPES.KITCHEN]: \"厨房\", // 厨房\r\n  [ROOM_TYPES.BALCONY]: \"阳台\", // 阳台\r\n  [ROOM_TYPES.GARDEN]: \"花园\", // 花园\r\n  [ROOM_TYPES.GARAGE]: \"车库\", // 车库\r\n  [ROOM_TYPES.CORRIDOR]: \"走廊\", // 走廊\r\n};\r\nexport const ROOM_TYPES_LABEL_TW = {\r\n  [ROOM_TYPES.LIVING_ROOM]: \"客廳\",\r\n  [ROOM_TYPES.DINING_ROOM]: \"飯廳\", // 或 \"餐廳\"\r\n  [ROOM_TYPES.STORAGE_ROOM]: \"雜物房\",\r\n  [ROOM_TYPES.STUDY_ROOM]: \"書房\",\r\n  [ROOM_TYPES.BEDROOM]: \"睡房\", // 或 \"臥室\"\r\n  [ROOM_TYPES.BATHROOM]: \"浴室\",\r\n  [ROOM_TYPES.KITCHEN]: \"廚房\",\r\n  [ROOM_TYPES.BALCONY]: \"陽台\",\r\n  [ROOM_TYPES.GARDEN]: \"花園\",\r\n  [ROOM_TYPES.GARAGE]: \"車庫\",\r\n  [ROOM_TYPES.CORRIDOR]: \"走廊\",\r\n};\r\nexport const ROOM_COLORS = {\r\n  [ROOM_TYPES.LIVING_ROOM]: \"#F0DF9C\", // 客厅\r\n  [ROOM_TYPES.DINING_ROOM]: \"#F5D4BC\", // 饭厅\r\n  [ROOM_TYPES.STORAGE_ROOM]: \"#ADC0BC\", // 储物室\r\n  [ROOM_TYPES.STUDY_ROOM]: \"#B0B8C9\", // 书房\r\n  [ROOM_TYPES.BEDROOM]: \"#F5B8B8\", // 睡房\r\n  [ROOM_TYPES.BATHROOM]: \"#C1D7E2\", // 浴室\r\n  [ROOM_TYPES.KITCHEN]: \"#EDE0C6\", // 厨房\r\n  [ROOM_TYPES.BALCONY]: \"#D0DCAA\", // 阳台\r\n  [ROOM_TYPES.GARDEN]: \"#AACDBC\", // 花园\r\n  [ROOM_TYPES.GARAGE]: \"#C7C7DD\", // 车库\r\n  [ROOM_TYPES.CORRIDOR]: \"#CDCDCD\", // 走廊\r\n\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport function getBirthDate(birthDateTime: Date) {\n  const date = new Date(birthDateTime);\n  return {\n    year: date.getFullYear().toString(),\n    month: (date.getMonth() + 1).toString().padStart(2, \"0\"),\n    day: date.getDate().toString().padStart(2, \"0\"),\n    hour: date.getHours().toString().padStart(2, \"0\"),\n  };\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,4NAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,yLAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAEO,SAAS,aAAa,aAAmB;IAC9C,MAAM,OAAO,IAAI,KAAK;IACtB,OAAO;QACL,MAAM,KAAK,WAAW,GAAG,QAAQ;QACjC,OAAO,CAAC,KAAK,QAAQ,KAAK,CAAC,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG;QACpD,KAAK,KAAK,OAAO,GAAG,QAAQ,GAAG,QAAQ,CAAC,GAAG;QAC3C,MAAM,KAAK,QAAQ,GAAG,QAAQ,GAAG,QAAQ,CAAC,GAAG;IAC/C;AACF","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/canvasComp/Undo.jsx"],"sourcesContent":["import {\r\n    Undo2,\r\n    Redo2,\r\n} from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nexport default function Undo({ history, historyIndex, handleUndo, handleRedo, className }) {\r\n    return <div className={cn(\"flex items-center gap-2\", className)}>\r\n        <button\r\n            className={`p-1 rounded hover:bg-gray-100 ${historyIndex <= 0 ? \"text-gray-300\" : \"text-gray-600\"\r\n                }`}\r\n            onClick={handleUndo}\r\n            disabled={historyIndex <= 0}\r\n        >\r\n            <Undo2 className=\"w-4 h-4\" />\r\n        </button>\r\n        <button\r\n            className={`p-1 rounded hover:bg-gray-100 ${historyIndex >= history.length - 1\r\n                ? \"text-gray-300\"\r\n                : \"text-gray-600\"\r\n                }`}\r\n            onClick={handleRedo}\r\n            disabled={historyIndex >= history.length - 1}\r\n        >\r\n            <Redo2 className=\"w-4 h-4\" />\r\n        </button>\r\n    </div>\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAIA;;;;AACe,SAAS,KAAK,EAAE,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,UAAU,EAAE,SAAS,EAAE;IACrF,qBAAO,4TAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,2BAA2B;;0BACjD,4TAAC;gBACG,WAAW,CAAC,8BAA8B,EAAE,gBAAgB,IAAI,kBAAkB,iBAC5E;gBACN,SAAS;gBACT,UAAU,gBAAgB;0BAE1B,cAAA,4TAAC,+RAAA,CAAA,QAAK;oBAAC,WAAU;;;;;;;;;;;0BAErB,4TAAC;gBACG,WAAW,CAAC,8BAA8B,EAAE,gBAAgB,QAAQ,MAAM,GAAG,IACvE,kBACA,iBACA;gBACN,SAAS;gBACT,UAAU,gBAAgB,QAAQ,MAAM,GAAG;0BAE3C,cAAA,4TAAC,+RAAA,CAAA,QAAK;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAG7B;KArBwB","debugId":null}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,8OAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wSAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn(\"text-lg font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: \"outline\" }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAGA;AAEA;AACA;AANA;;;;;AAQA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,4TAAC,kYAAA,CAAA,OAAyB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AACtE;KAJS;AAMT,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBACE,4TAAC,kYAAA,CAAA,UAA4B;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AAE5E;MANS;AAQT,SAAS,kBAAkB,EACzB,GAAG,OACsD;IACzD,qBACE,4TAAC,kYAAA,CAAA,SAA2B;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAE1E;MANS;AAQT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,4TAAC,kYAAA,CAAA,UAA4B;QAC3B,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,4TAAC;;0BACC,4TAAC;;;;;0BACD,4TAAC,kYAAA,CAAA,UAA4B;gBAC3B,aAAU;gBACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+WACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIjB;MAjBS;AAmBT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,4TAAC,kYAAA,CAAA,QAA0B;QACzB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,4TAAC,kYAAA,CAAA,cAAgC;QAC/B,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,4TAAC,kYAAA,CAAA,SAA2B;QAC1B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,KAAK;QAC/B,GAAG,KAAK;;;;;;AAGf;MAVS;AAYT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,4TAAC,kYAAA,CAAA,SAA2B;QAC1B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;YAAE,SAAS;QAAU,IAAI;QACrD,GAAG,KAAK;;;;;;AAGf;OAVS","debugId":null}},
    {"offset": {"line": 486, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/app/hooks/useMobile.js"],"sourcesContent":["'use client'\r\nimport { useState, useEffect } from 'react';\r\nexport default function useMobile() {\r\n    const [isMobile, setIsMobile] = useState(false);\r\n    // 添加useEffect监听窗口大小\r\n    useEffect(() => {\r\n        const checkMobile = () => {\r\n            setIsMobile(window.matchMedia('(max-width: 768px)').matches);\r\n        };\r\n\r\n        checkMobile();\r\n        window.addEventListener('resize', checkMobile);\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', checkMobile);\r\n        };\r\n    }, []);\r\n    return isMobile;\r\n}\r\n"],"names":[],"mappings":";;;AACA;;AADA;;AAEe,SAAS;;IACpB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,oBAAoB;IACpB,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;+BAAE;YACN,MAAM;mDAAc;oBAChB,YAAY,OAAO,UAAU,CAAC,sBAAsB,OAAO;gBAC/D;;YAEA;YACA,OAAO,gBAAgB,CAAC,UAAU;YAElC;uCAAO;oBACH,OAAO,mBAAmB,CAAC,UAAU;gBACzC;;QACJ;8BAAG,EAAE;IACL,OAAO;AACX;GAhBwB","debugId":null}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/Canvas.jsx"],"sourcesContent":["\"use client\";\r\nimport { useDroppable } from \"@dnd-kit/core\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  useState,\r\n  useCallback,\r\n  useRef,\r\n  useEffect,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n} from \"react\";\r\nimport {\r\n  ITEM_TYPES,\r\n  ROOM_COLORS,\r\n  FURNITURE_TYPES_LABEL_CN,\r\n  FURNITURE_TYPES_LABEL_TW,\r\n  FURNITURE_TYPES,\r\n} from \"@/types/room\";\r\nimport { Trash2, Save, Minus, Plus, RotateCcwSquare } from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport Undo from \"./canvasComp/Undo\";\r\nimport { useTranslations } from \"next-intl\";\r\nimport { cn } from \"@/lib/utils\";\r\n// import InfiniteCanvas from 'infinite-canvas';\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n  AlertDialogTrigger,\r\n} from \"@/components/ui/alert-dialog\"\r\n\r\nimport useMobile from \"@/app/hooks/useMobile\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nconst MAX_SCALE = 120;\r\nconst MIN_SCALE = 50;\r\nlet containerRect;\r\nexport const Canvas = forwardRef(\r\n  (\r\n    {\r\n      items,\r\n      onShowTab,\r\n      showTab,\r\n      history,\r\n      historyIndex,\r\n      setHistory,\r\n      setHistoryIndex,\r\n      handleUndo,\r\n      handleRedo,\r\n      onGenReport,\r\n      locale\r\n    },\r\n    ref\r\n  ) => {\r\n\r\n    const FURNITURE_TYPES_LABEL = locale === 'zh-TW' ? FURNITURE_TYPES_LABEL_TW : FURNITURE_TYPES_LABEL_CN;\r\n    const t = useTranslations(\"design\");\r\n    const isMobile = useMobile();\r\n    const [position, setPosition] = useState({ x: 0, y: 0 });\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\r\n    const [activeRoom, setActiveRoom] = useState(null);\r\n    const [canvasSize, setCanvasSize] = useState({ width: 2000, height: 2000 });\r\n    const [isRoomDragging, setIsRoomDragging] = useState(false);\r\n    const [roomDragStart, setRoomDragStart] = useState({ x: 0, y: 0 });\r\n    const [draggedRoom, setDraggedRoom] = useState(null);\r\n    const [localItems, setLocalItems] = useState([]);\r\n    const [isResizing, setIsResizing] = useState(false);\r\n    const [resizeStart, setResizeStart] = useState({ x: 0, y: 0 });\r\n    const [resizeCorner, setResizeCorner] = useState(null);\r\n    const [scale, setScale] = useState(100);\r\n    const [touchStore, setTouchStore] = useState({\r\n      originScale: 100,\r\n      isMoving: false,\r\n      pageX: 0,\r\n      pageY: 0,\r\n      pageX2: 0,\r\n      pageY2: 0,\r\n      initialDistance: 0,\r\n    });\r\n    const [compassRotation, setCompassRotation] = useState(0); //指南针旋转角度\r\n\r\n    useImperativeHandle(\r\n      ref,\r\n      () => ({\r\n        getLocalItems: () => localItems,\r\n        setLocalItems,\r\n        setActiveRoom,\r\n        setIsRoomDragging,\r\n        setDraggedRoom,\r\n        setRoomDragStart,\r\n        setPosition,\r\n        setCompassRotation,\r\n        getPosition: () => position,\r\n        getCompassRotation: () => compassRotation,\r\n        getScale: () => scale,\r\n        setScale\r\n      }),\r\n      [localItems, position, compassRotation, scale]\r\n    );\r\n\r\n    const containerRef = useRef(null);\r\n    const { setNodeRef } = useDroppable({\r\n      id: \"canvas\",\r\n      data: {\r\n        accepts: [ITEM_TYPES.ROOM, ITEM_TYPES.FURNITURE],\r\n      },\r\n    });\r\n    useEffect(() => {\r\n      containerRect = document.getElementById(\"canvas-drop-area\")?.getBoundingClientRect();\r\n    }, [])\r\n    // 计算画布需要的大小\r\n    // useEffect(() => {\r\n    //   if (localItems.length === 0) return;\r\n\r\n    //   let maxX = -Infinity;\r\n    //   let maxY = -Infinity;\r\n    //   let minX = Infinity;\r\n    //   let minY = Infinity;\r\n\r\n    //   localItems.forEach(item => {\r\n    //     const itemRight = item.position.x + item.size?.width;\r\n    //     const itemBottom = item.position.y + item.size?.height;\r\n\r\n    //     maxX = Math.max(maxX, itemRight);\r\n    //     maxY = Math.max(maxY, itemBottom);\r\n    //     minX = Math.min(minX, item.position.x);\r\n    //     minY = Math.min(minY, item.position.y);\r\n    //   });\r\n\r\n    //   // 确保最小尺寸为5000x5000\r\n    //   const newWidth = Math.max(5000, maxX - minX + CANVAS_PADDING * 2);\r\n    //   const newHeight = Math.max(5000, maxY - minY + CANVAS_PADDING * 2);\r\n\r\n    //   if (newWidth !== canvasSize.width || newHeight !== canvasSize.height) {\r\n    //     setCanvasSize({ width: newWidth, height: newHeight });\r\n    //     setPosition({ x: newWidth - 5000, y: minY });\r\n    //   }\r\n    // }, [localItems, canvasSize.width, canvasSize.height]);\r\n\r\n    // 计算两点之间的距离\r\n    const getDistance = (x1, y1, x2, y2) => {\r\n      return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\r\n    };\r\n\r\n\r\n    // 处理画布拖动开始\r\n    const handleCanvasMouseDown = useCallback(\r\n      (e) => {\r\n        if (e.target.closest('[data-room-element=\"true\"]')) {\r\n          return;\r\n        }\r\n        //console.log('handleCanvasMouseDown', e.target.id)\r\n        if (e.target.id !== 'canvas') return;\r\n\r\n        if (e.button !== 0 && !e.touches) return; //非左键\r\n\r\n        if (e.touches?.length === 2) {\r\n          const touch1 = e.touches[0];\r\n          const touch2 = e.touches[1];\r\n          const initialDistance = getDistance(\r\n            touch1.pageX,\r\n            touch1.pageY,\r\n            touch2.pageX,\r\n            touch2.pageY\r\n          );\r\n\r\n          setTouchStore(prev => ({\r\n            ...prev,\r\n            isMoving: true,\r\n            pageX: touch1.pageX,\r\n            pageY: touch1.pageY,\r\n            pageX2: touch2.pageX,\r\n            pageY2: touch2.pageY,\r\n            initialDistance,\r\n            originScale: scale\r\n          }));\r\n          return;\r\n        }\r\n\r\n        setActiveRoom(null);\r\n        setIsDragging(true);\r\n        if (e.touches?.length === 1) {\r\n          setDragStart({\r\n            x: e.touches[0].clientX - position.x,\r\n            y: e.touches[0].clientY - position.y,\r\n          });\r\n        } else {\r\n          setDragStart({\r\n            x: e.clientX - position.x,\r\n            y: e.clientY - position.y,\r\n          });\r\n        }\r\n      },\r\n      [position, scale]\r\n    );\r\n\r\n    const furnitureInroom = (furniture, parentRoom) => {\r\n      if (!furniture.position || !parentRoom.position) return false;\r\n      let t = 20;\r\n      console.log('家具在里面', furniture.rotation);\r\n      if (furniture.rotation === -90 || furniture.rotation === -270) {\r\n        console.log('ss', furniture.size.width, furniture.size.height);\r\n        t = Math.abs(furniture.size.width - furniture.size.height) / 2 + t;\r\n      }\r\n      return (\r\n        furniture.position.x + t >= parentRoom.position.x &&\r\n        furniture.position.x <= parentRoom.position.x + parentRoom.size.width &&\r\n        furniture.position.x - t + furniture.size.width <=\r\n        parentRoom.position.x + parentRoom.size.width &&\r\n        furniture.position.y + t >= parentRoom.position.y &&\r\n        furniture.position.y <=\r\n        parentRoom.position.y + parentRoom.size.height &&\r\n        furniture.position.y - t + furniture.size.height <=\r\n        parentRoom.position.y + parentRoom.size.height\r\n      );\r\n    };\r\n    // 处理房间拖动开始\r\n    const handleRoomMouseDown = useCallback(\r\n      (e, room) => {\r\n        e.stopPropagation();\r\n        setIsRoomDragging(true);\r\n        setDraggedRoom(room);\r\n        // 计算鼠标点击位置相对于房间左上角的偏移\r\n        if (e.touches?.length == 1) {\r\n          setRoomDragStart({\r\n            x: e.touches[0].clientX - room.position.x,\r\n            y: e.touches[0].clientY - room.position.y,\r\n          });\r\n          // console.log(\"handleRoomMouseDown\", room.position.x);\r\n        } else {\r\n          setRoomDragStart({\r\n            x: e.clientX - room.position.x,\r\n            y: e.clientY - room.position.y,\r\n          });\r\n        }\r\n        if (room.type === ITEM_TYPES.ROOM) {\r\n          //给每个家具设置一个偏移量\r\n          const furnitureList = localItems.map((item) => {\r\n            if (\r\n              item.type === ITEM_TYPES.FURNITURE &&\r\n              furnitureInroom(item, room)\r\n            ) {\r\n              // console.log(\"家具在里面\", item, room);\r\n              return {\r\n                ...item,\r\n                parentId: room.id,\r\n                offset: {\r\n                  x: item.position.x - room.position.x,\r\n                  y: item.position.y - room.position.y,\r\n                },\r\n              };\r\n            } else {\r\n              return {\r\n                ...item,\r\n                parentId: null,\r\n              };\r\n            }\r\n          });\r\n          // console.log('ddd',furnitureList);\r\n          let updatedItems = localItems.map((item) => {\r\n            let target = furnitureList.find(\r\n              (furniture) => furniture.id === item.id\r\n            );\r\n            return target || item;\r\n          });\r\n          // console.log('updatedItems',updatedItems);\r\n          setLocalItems(updatedItems);\r\n        }\r\n      },\r\n      [localItems]\r\n    );\r\n\r\n    // 处理调整大小开始\r\n    const handleResizeStart = useCallback((e, room, corner) => {\r\n      e.stopPropagation();\r\n      setIsResizing(true);\r\n      setResizeCorner(corner);\r\n      if (e.touches?.length == 1) {\r\n        // console.log('handleResizeStart', e)\r\n        setResizeStart({\r\n          x: e.touches[0].clientX,\r\n          y: e.touches[0].clientY,\r\n        });\r\n      } else {\r\n        setResizeStart({\r\n          x: e.clientX,\r\n          y: e.clientY,\r\n        });\r\n      }\r\n    }, []);\r\n\r\n    const debounceToastInfo = _.throttle(toast.info, 3000);\r\n    // 处理鼠标移动事件\r\n    const handleMouseMove =\r\n      (e) => {\r\n        e.preventDefault();\r\n        //e.stopPropagation();\r\n        //console.log('handleMouseMove', e.target);\r\n        // if (e.target.id !== 'canvas' || !e.target.closest('[data-room-element=\"true\"]')) return;\r\n        if (e.touches?.length === 2) {\r\n          const touch1 = e.touches[0];\r\n          const touch2 = e.touches[1];\r\n\r\n          const currentDistance = getDistance(\r\n            touch1.pageX,\r\n            touch1.pageY,\r\n            touch2.pageX,\r\n            touch2.pageY\r\n          );\r\n\r\n          if (touchStore.initialDistance) {\r\n            if (currentDistance > touchStore.initialDistance) {\r\n              handleZoom('in', 1);\r\n            } else {\r\n              handleZoom('out', 1);\r\n            }\r\n            // const scaleFactor = Math.max(currentDistance / touchStore.initialDistance) ;\r\n            // const newScale = Math.min(\r\n            //   110,\r\n            //   Math.max(90, Math.round(touchStore.originScale * scaleFactor))\r\n            // );\r\n            // onTransCanvas(newScale);\r\n            // setScale(newScale);\r\n          } else {\r\n            setTouchStore(prev => ({\r\n              ...prev,\r\n              initialDistance: currentDistance,\r\n              originScale: scale\r\n            }));\r\n          }\r\n        } else if (isResizing && activeRoom && resizeCorner) {\r\n          let deltaX, deltaY;\r\n          if (e.touches?.length == 1) {\r\n            deltaX = e.touches[0].clientX - resizeStart.x;\r\n            deltaY = e.touches[0].clientY - resizeStart.y;\r\n          } else {\r\n            deltaX = e.clientX - resizeStart.x;\r\n            deltaY = e.clientY - resizeStart.y;\r\n          }\r\n          let ratio = activeRoom.size.width / activeRoom.size.height;\r\n          const updatedItems = localItems.map((item) => {\r\n            if (item.id === activeRoom.id) {\r\n              const newSize = { ...item.size };\r\n              const newPosition = { ...item.position };\r\n\r\n              switch (resizeCorner) {\r\n                case \"top-left\":\r\n                  newSize.width = item.size.width - deltaX;\r\n                  if (activeRoom.type === ITEM_TYPES.ROOM) {\r\n                    //房间自由调整\r\n                    newSize.height = item.size.height - deltaY;\r\n                  } else {\r\n                    //家具限制宽高比例\r\n                    newSize.height = newSize.width / ratio;\r\n                  }\r\n\r\n                  newPosition.x = item.position.x + deltaX;\r\n                  newPosition.y = item.position.y + deltaY;\r\n                  break;\r\n                case \"top-right\":\r\n                  newSize.width = item.size.width + deltaX;\r\n                  if (activeRoom.type === ITEM_TYPES.ROOM) {\r\n                    //房间自由调整\r\n                    newSize.height = item.size.height - deltaY;\r\n                  } else {\r\n                    //家具限制宽高比例\r\n                    newSize.height = newSize.width / ratio;\r\n                  }\r\n\r\n                  newPosition.y = item.position.y + deltaY;\r\n                  break;\r\n                case \"bottom-left\":\r\n                  newSize.width = item.size.width - deltaX;\r\n                  if (activeRoom.type === ITEM_TYPES.ROOM) {\r\n                    //房间自由调整\r\n                    newSize.height = item.size.height + deltaY;\r\n                  } else {\r\n                    //家具限制宽高比例\r\n                    newSize.height = newSize.width / ratio;\r\n                  }\r\n\r\n                  newPosition.x = item.position.x + deltaX;\r\n                  break;\r\n                case \"bottom-right\":\r\n                  newSize.width = item.size.width + deltaX;\r\n                  if (activeRoom.type === ITEM_TYPES.ROOM) {\r\n                    //房间自由调整\r\n                    newSize.height = item.size.height + deltaY;\r\n                  } else {\r\n                    //家具限制宽高比例\r\n                    newSize.height = newSize.width / ratio;\r\n                  }\r\n\r\n                  break;\r\n              }\r\n\r\n              let condition;\r\n              if (item.type === ITEM_TYPES.ROOM) {\r\n                condition = newSize.width >= 100 && newSize.height >= 100;\r\n              } else if (item.data.type === FURNITURE_TYPES.WINDOW) {\r\n                condition = newSize.width >= 8 && newSize.height >= 8;\r\n              } else condition = newSize.width >= 20 && newSize.height >= 20;\r\n\r\n              // 房间最小尺寸100，家具最小尺寸\r\n              if (condition) {\r\n                return {\r\n                  ...item,\r\n                  size: newSize,\r\n                  position: newPosition,\r\n                  //relativePosition: newPosition\r\n                };\r\n              }\r\n              return item;\r\n            }\r\n            return item;\r\n          });\r\n          setLocalItems(updatedItems);\r\n          if (e.touches?.length == 1) {\r\n            setResizeStart({\r\n              x: e.touches[0].clientX,\r\n              y: e.touches[0].clientY,\r\n            });\r\n          } else {\r\n            setResizeStart({\r\n              x: e.clientX,\r\n              y: e.clientY,\r\n            });\r\n          }\r\n        } else if (isRoomDragging && draggedRoom) {\r\n          // console.log(\"isRoomDragging\");\r\n          let newX, newY;\r\n          if (e.touches?.length == 1) {\r\n            newX = e.touches[0].clientX - roomDragStart.x;\r\n            newY = e.touches[0].clientY - roomDragStart.y;\r\n            // console.log(\"newX\", newX, newY);\r\n          } else {\r\n            newX = e.clientX - roomDragStart.x;\r\n            newY = e.clientY - roomDragStart.y;\r\n          }\r\n          newX = Math.max(0, newX); // 限制x轴最小值为0\r\n          newY = Math.max(0, newY); // 限制y轴最小值为0\r\n          let updatedItems = [];\r\n          // console.log('localItems',localItems);\r\n          if (draggedRoom.type === ITEM_TYPES.ROOM) {\r\n            //其中家具一起移动\r\n            const furnitureIdList = localItems\r\n              .filter((item) => {\r\n                //  console.log(item,  furnitureInroom(item, draggedRoom));\r\n                return (\r\n                  item.type === ITEM_TYPES.FURNITURE &&\r\n                  item.parentId === draggedRoom.id\r\n                );\r\n                // furnitureInroom(item, draggedRoom)\r\n              })\r\n              .map((item) => item.id);\r\n\r\n            updatedItems = localItems.map((item) => {\r\n              if (item.id === draggedRoom.id) {\r\n                return {\r\n                  ...item,\r\n                  position: {\r\n                    x: newX,\r\n                    y: newY,\r\n                  },\r\n                };\r\n              } else if (furnitureIdList.includes(item.id)) {\r\n                // console.log(item.offset);\r\n                return {\r\n                  ...item,\r\n                  position: {\r\n                    x: newX + item.offset?.x || 0,\r\n                    y: newY + item.offset?.y || 0,\r\n                  },\r\n                };\r\n              }\r\n              return item;\r\n            });\r\n          } else {\r\n            updatedItems = localItems.map((item) => {\r\n              if (item.id === draggedRoom.id) {\r\n                return {\r\n                  ...item,\r\n                  position: {\r\n                    x: newX,\r\n                    y: newY,\r\n                  },\r\n                };\r\n              }\r\n              return item;\r\n            });\r\n          }\r\n\r\n          setLocalItems(updatedItems);\r\n        } else if (isDragging) {\r\n          let newX, newY;\r\n          if (e.touches?.length === 1) {\r\n            newX = e.touches[0].clientX - dragStart.x;\r\n            newY = e.touches[0].clientY - dragStart.y;\r\n          } else {\r\n            newX = e.clientX - dragStart.x;\r\n            newY = e.clientY - dragStart.y;\r\n          }\r\n          // console.log('ne', newX, newY, e.clientX, e.clientY);\r\n          //无限画布效果。\r\n\r\n\r\n          let canvasWidth, canvasHeight;\r\n          if (newX > 0) {\r\n            // debounceToastInfo(\"到底啦\",\r\n            //   {\r\n            //     closeButton: false\r\n            //   })\r\n            newX = 0;\r\n          }\r\n          if (newY > 0) {\r\n            newY = 0;\r\n          }\r\n          if (newX < -1000) {\r\n            newX = -1000;\r\n          }\r\n          if (newY < -1000) {\r\n            newY = -1000;\r\n          }\r\n\r\n          if (2000 + newX < containerRect.width / (scale / 100)) {\r\n            canvasWidth = (2000 - newX) / (scale / 100);\r\n            // if (scale < 100) {\r\n            //   canvasWidth = canvasWidth / (scale / 100)\r\n            // }\r\n\r\n\r\n          }\r\n          if (2000 + newY < containerRect.height / (scale / 100)) {\r\n\r\n            canvasHeight = (2000 - newY) / (scale / 100)\r\n          }\r\n\r\n          setPosition({\r\n            x: newX,\r\n            y: newY,\r\n          });\r\n          setCanvasSize({ width: canvasWidth || canvasSize.width, height: canvasHeight || canvasSize.height });\r\n        }\r\n      }\r\n\r\n\r\n    // 处理鼠标松开事件\r\n    const handleMouseUp =\r\n      useCallback(\r\n        (e) => {\r\n          if (e.touches?.length < 2) {\r\n            setTouchStore(prev => ({ ...prev, isMoving: false, initialDistance: 0 }));\r\n          }\r\n          //console.log(\"localItems\", localItems);\r\n          // console.log('handleMouseUp', e)\r\n          // 如果是房间拖动或调整大小结束，记录历史\r\n          if (isRoomDragging || isResizing) {\r\n            let newX, newY;\r\n            if (e.changedTouches?.length == 1) {\r\n              newX = e.changedTouches[0].clientX - roomDragStart.x - position.x;\r\n              newY = e.changedTouches[0].clientY - roomDragStart.y - position.y;\r\n            } else {\r\n              newX = e.clientX - roomDragStart.x - position.x;\r\n              newY = e.clientY - roomDragStart.y - position.y;\r\n            }\r\n\r\n            let newItems;\r\n            if (\r\n              draggedRoom &&\r\n              !localItems.some((item) => item.id === draggedRoom.id)\r\n            ) {\r\n              //新添加的房间/家具,设置坐标\r\n              // newX+ (scale - 100) * 15\r\n              const newRoom = {\r\n                ...draggedRoom,\r\n                position: {\r\n                  x: newX / (scale / 100),\r\n\r\n                  y: newY / (scale / 100),\r\n                },\r\n                data: {\r\n                  ...draggedRoom.data,\r\n                  label: `${draggedRoom.data.label}`,\r\n                  //parentRoom: draggedRoom.id,\r\n                }\r\n              };\r\n              newItems = [...localItems, newRoom];\r\n\r\n              setLocalItems(newItems);\r\n              onHandleActiveRoom(newRoom, newItems);\r\n            } else {\r\n              //移动结束一个已有的房间/家具\r\n              newItems = localItems\r\n            }\r\n\r\n            const newHistory = history.slice(0, historyIndex + 1);\r\n            newHistory.push(newItems);\r\n            setHistory(newHistory);\r\n            setHistoryIndex(newHistory.length - 1);\r\n          }\r\n\r\n          setIsDragging(false);\r\n          setIsRoomDragging(false);\r\n\r\n          setDraggedRoom(null);\r\n          setIsResizing(false);\r\n          setResizeCorner(null);\r\n        }\r\n        ,\r\n        [\r\n          isRoomDragging,\r\n          isResizing,\r\n          localItems,\r\n          history,\r\n          historyIndex,\r\n          roomDragStart,\r\n          draggedRoom,\r\n          position,\r\n          touchStore,\r\n        ]\r\n      );\r\n\r\n    const onHandleActiveRoom = (room, _localItems) => {\r\n      if (room.type === ITEM_TYPES.FURNITURE) {\r\n        //每次选中家具，都对当前家具的房间重新排序\r\n        const currentItems = _localItems || localItems;\r\n        let parentRoom = currentItems.find((item) => {\r\n          //console.log(room.position.x, item.position.x,item.size.width,room.position.y,item.position.y,item.size.height)\r\n          return item.type === ITEM_TYPES.ROOM && furnitureInroom(room, item);\r\n        });\r\n        //\r\n        if (!parentRoom) {\r\n          console.log(\"选中家具，当前未匹配到房间\");\r\n          let newLocalItems = _.cloneDeep(currentItems);\r\n          let target = newLocalItems.filter((item) => item.id === room.id)[0];\r\n          if (target) {\r\n            target.data.label = `未分配-${FURNITURE_TYPES_LABEL[target.data.type]\r\n              }`;\r\n            target.data.parentRoom = null;\r\n            room.data.label = `未分配-${FURNITURE_TYPES_LABEL[target.data.type]\r\n              }`;\r\n            room.data.parentRoom = null;\r\n            setLocalItems(newLocalItems);\r\n          }\r\n        } else {\r\n          //按x坐标升序排序\r\n          const furnitureList = currentItems\r\n            .filter(\r\n              (item) =>\r\n                item.type === ITEM_TYPES.FURNITURE &&\r\n                item.data.type === room.data.type &&\r\n                furnitureInroom(item, parentRoom)\r\n            )\r\n            .sort((a, b) => a.position.x - b.position.x)\r\n            .map((item, index) => {\r\n              let label = `${parentRoom.data.label}-${FURNITURE_TYPES_LABEL[room.data.type]\r\n                }${index + 1}`;\r\n              if (item.id === room.id) {\r\n                room.data.label = label;\r\n                room.data.parentRoom = parentRoom;\r\n              }\r\n              return {\r\n                ...item,\r\n                data: {\r\n                  ...item.data,\r\n                  label,\r\n                  parentRoom,\r\n                },\r\n              };\r\n            });\r\n          // console.log('furnitureList',furnitureList)\r\n          let newLocalItems = currentItems.map((item) => {\r\n            let target = furnitureList.find(\r\n              (furniture) => furniture.id === item.id\r\n            );\r\n            return target || item;\r\n          });\r\n          setLocalItems(newLocalItems);\r\n        }\r\n      }\r\n      setTimeout(() => {\r\n        // console.log('room',room)\r\n        setActiveRoom(room);\r\n      });\r\n    };\r\n    // 添加事件监听器\r\n    useEffect(() => {\r\n      const container = containerRef.current;\r\n      if (!container) return;\r\n\r\n      container.addEventListener(\"mousedown\", handleCanvasMouseDown);\r\n      window.addEventListener(\"mousemove\", handleMouseMove);\r\n      window.addEventListener(\"mouseup\", handleMouseUp);\r\n\r\n      container.addEventListener(\"touchstart\", handleCanvasMouseDown);\r\n      window.addEventListener(\"touchmove\", handleMouseMove, { passive: false });\r\n      window.addEventListener(\"touchend\", handleMouseUp);\r\n\r\n      return () => {\r\n        container.removeEventListener(\"mousedown\", handleCanvasMouseDown);\r\n        window.removeEventListener(\"mousemove\", handleMouseMove);\r\n        window.removeEventListener(\"mouseup\", handleMouseUp);\r\n\r\n        container.removeEventListener(\"touchstart\", handleCanvasMouseDown);\r\n        window.removeEventListener(\"touchmove\", handleMouseMove);\r\n        window.removeEventListener(\"touchend\", handleMouseUp);\r\n      };\r\n    }, [handleCanvasMouseDown, handleMouseMove, handleMouseUp]);\r\n    // 检查是否满足基本要求（至少一个房间、一个门和一个窗）\r\n    const hasRequiredItems = () => {\r\n      const hasRoom = items.some(\r\n        (item) =>\r\n          item.type === ITEM_TYPES.ROOM &&\r\n          item.data.type !== \"door\" &&\r\n          item.data.type !== \"window\"\r\n      );\r\n      const hasDoor = items.some(\r\n        (item) => item.type === ITEM_TYPES.ROOM && item.data.type === \"door\"\r\n      );\r\n      const hasWindow = items.some(\r\n        (item) => item.type === ITEM_TYPES.ROOM && item.data.type === \"window\"\r\n      );\r\n      return hasRoom && hasDoor && hasWindow;\r\n    };\r\n\r\n    // 处理缩放\r\n    function handleZoom(type, step = 5) {\r\n      let newScale;\r\n      if (type === \"in\" && scale < MAX_SCALE) {\r\n        newScale = scale + step;\r\n      } else if (type === \"out\" && scale > MIN_SCALE) {\r\n        newScale = scale - step;\r\n      } else if (type === \"reset\") {\r\n        newScale = 100;\r\n      } else {\r\n        return;\r\n      }\r\n\r\n\r\n      if (type === 'out') {\r\n        setCanvasSize({\r\n          width: (canvasSize.width - (position.x < 0 ? position.x : 0)) * (1 + (scale - newScale) / 100),\r\n          height: (canvasSize.height - (position.y < 0 ? position.y : 0)) * (1 + (scale - newScale) / 100)\r\n        })\r\n      }\r\n      // let updatedItems = localItems.map((item) => {\r\n      //   // console.log(1 + (newScale - scale) / 100)\r\n      //   // let width = item.size.width + 300 * ((newScale - scale) / 100);\r\n      //   // let height = item.size.height + 300 * ((newScale - scale) / 100);\r\n      //   let dom = document.getElementById(item.id);\r\n      //   let rect = dom.getBoundingClientRect();\r\n      //   //console.log(rect, dom.style.top, dom.style.left, dom.style.width, dom.style.height)\r\n      //   // return item;\r\n      //   const initialTop = 1 * dom.style.top.split('px')[0];\r\n      //   const initialLeft = 1 * dom.style.left.split('px')[0];\r\n      //   const initialWidth = 1 * dom.style.width.split('px')[0];\r\n      //   const initialHeight = 1 * dom.style.height.split('px')[0];\r\n\r\n\r\n      //   // 计算缩放后的位置和尺寸\r\n      //   const scaledWidth = initialWidth * newScale / 100;\r\n      //   const scaledHeight = initialHeight * newScale / 100;\r\n      //   const scaledTop = initialTop - (scaledHeight - initialHeight) / 2;\r\n      //   const scaledLeft = initialLeft - (scaledWidth - initialWidth) / 2;\r\n      //   console.log(initialTop, initialLeft, scaledTop, scaledLeft)\r\n      //   // 应用缩放和调整后的位置\r\n      //   return {\r\n      //     ...item,\r\n      //     position: {\r\n      //       x: scaledLeft,\r\n      //       y: scaledTop\r\n      //     }\r\n      //   }\r\n      //   // box.style.transform = `scale(${scale})`;\r\n      //   // box.style.top = `${scaledTop}px`;\r\n      //   // box.style.left = `${scaledLeft}px`;\r\n      //   // return {\r\n      //   //   ...item,\r\n      //   //   position: {\r\n      //   //     x: item.position.x * (1 + (newScale - scale) / 100),\r\n      //   //     y: item.position.y * (1 + (newScale - scale) / 100),\r\n      //   //   },\r\n      //   //   // item.size.width * (1 + (newScale - scale) / 100),\r\n      //   //   //item.position.x * (1 + (newScale - scale) / 100),\r\n      //   //   //+ 300 * ((newScale - scale) / 100),\r\n      //   //   // size: {\r\n      //   //   //   width,\r\n      //   //   //   height,\r\n      //   //   // }\r\n      //   // }\r\n      // })\r\n      // setLocalItems(updatedItems);\r\n      // 更新状态\r\n      //onTransCanvas(type, newScale);\r\n      setScale(newScale);\r\n\r\n    };\r\n    function onTransCanvas(type, newScale) {\r\n      // 获取画布容器和画布元素\r\n      // const container = document.getElementById(\"canvas-drop-area\");\r\n      // const containerRect = document.getElementById(\"canvas-drop-area\").getBoundingClientRect();\r\n      // //console.log('111', containerRect, container.querySelector('.cursor-move'));\r\n      // const canvasRect = container.querySelector('.cursor-move').getBoundingClientRect();\r\n      // console.log('222', canvasRect.width, canvasRect.height);\r\n      // const x1 = (containerRect.width - canvasRect.width) / 2;\r\n      // const y1 = (containerRect.height - canvasRect.height) / 2;\r\n      // // 获取画布相对于视口的位置和尺寸\r\n      // //const canvasRect = containerRef.current.querySelector('.cursor-move').getBoundingClientRect();\r\n      // const newPositionX = (containerRect.width - canvasRect.width * (newScale / 100)) / 2;\r\n      // const newPositionY = (containerRect.height - canvasRect.height * (newScale / 100)) / 2;\r\n      //setPosition({ x: newPositionX, y: newPositionY });\r\n      //console.log(newPositionX - x1, newPositionY - y1, position);\r\n      // if (type === 'in') {\r\n      //   setPosition({ x: position.x + 150, y: position.y + 150 });\r\n      // } else if (type === 'out') {\r\n      //   setPosition({ x: position.x - 150, y: position.y - 150 });\r\n      // }\r\n\r\n    }\r\n    const handleRotate = useCallback(() => {\r\n      if (!activeRoom) return;\r\n\r\n      const updatedItems = localItems.map((item) => {\r\n        if (item.id === activeRoom.id) {\r\n          // 计算新的旋转角度（每次增加45度，对360取模）\r\n          const newRotation = ((item.rotation || 0) - 45) % 360;\r\n\r\n          // 如果是90度或270度旋转，需要交换宽高\r\n          // const isOddRotation = Math.abs(newRotation) % 180 === 90;\r\n          // const newWidth = isOddRotation ? item.size.height : item.size.width;\r\n          // const newHeight = isOddRotation ? item.size.width : item.size.height;\r\n          // //          // 计算旋转后的新位置，保持中心点不变\r\n          // const centerX = item.position.x + item.size.width / 2;\r\n          // const centerY = item.position.y + item.size.height / 2;\r\n          // //  console.log(newWidth,newHeight)\r\n          // //  // 计算新的左上角位置\r\n          // const newX = centerX - newWidth / 2;\r\n          // const newY = centerY - newHeight / 2;\r\n          //  console.log(item.position.x,newX,item.position.y ,newY)\r\n          return {\r\n            ...item,\r\n            rotation: newRotation,\r\n            // position: {\r\n            //   x: newX,\r\n            //   y: newY\r\n            // },\r\n            //  size: {\r\n            //    width: newWidth,\r\n            //    height: newHeight\r\n            // }\r\n          };\r\n        }\r\n        return item;\r\n      });\r\n\r\n      setLocalItems(updatedItems);\r\n    }, [activeRoom, localItems]);\r\n    const onCompassClick = () => {\r\n      // console.log(\"compass\");\r\n      // 增加45度，并保持在0-360范围内\r\n      let newRotation = compassRotation + 45;\r\n      // if (newRotation >= 360) {\r\n      //   newRotation -= 360;\r\n      // }\r\n      setCompassRotation(newRotation);\r\n    };\r\n    const Sizehandler = (room) => {\r\n      return (\r\n        <>\r\n          <div\r\n            className=\"absolute w-3 h-3 bg-white border border-red-500 cursor-nw-resize rounded-full\"\r\n            style={{ top: -6, left: -6 }}\r\n            onMouseDown={(e) => handleResizeStart(e, room, \"top-left\")}\r\n            onTouchStart={(e) => handleResizeStart(e, room, \"top-left\")}\r\n          />\r\n          <div\r\n            className=\"absolute w-3 h-3 bg-white border border-red-500 cursor-ne-resize rounded-full\"\r\n            style={{ top: -6, right: -6 }}\r\n            onMouseDown={(e) => handleResizeStart(e, room, \"top-right\")}\r\n            onTouchStart={(e) => handleResizeStart(e, room, \"top-right\")}\r\n          />\r\n          <div\r\n            className=\"absolute w-3 h-3 bg-white border border-red-500 cursor-sw-resize rounded-full\"\r\n            style={{ bottom: -6, left: -6 }}\r\n            onMouseDown={(e) => handleResizeStart(e, room, \"bottom-left\")}\r\n            onTouchStart={(e) => handleResizeStart(e, room, \"bottom-left\")}\r\n          />\r\n          <div\r\n            className=\"absolute w-3 h-3 bg-white border border-red-500 cursor-se-resize rounded-full\"\r\n            style={{ bottom: -6, right: -6 }}\r\n            onMouseDown={(e) => handleResizeStart(e, room, \"bottom-right\")}\r\n            onTouchStart={(e) => handleResizeStart(e, room, \"bottom-right\")}\r\n          />\r\n        </>\r\n      );\r\n    };\r\n\r\n    // console.log('localItems',localItems) \r\n    // scale(${scale / 100})\r\n    return (\r\n      <div\r\n        ref={(node) => {\r\n          containerRef.current = node;\r\n          setNodeRef(node);\r\n        }}\r\n        className=\"relative w-full min-h-[calc(100vh-64px)] overflow-hidden bg-background\"\r\n      >\r\n        {/* 右上角控制面板 */}\r\n        <div className=\"fixed top-20 right-6 flex items-center gap-4 z-9\">\r\n          {!isMobile && (\r\n            <>\r\n              {/* 撤销/重做 */}\r\n              <Undo\r\n                history={history}\r\n                historyIndex={historyIndex}\r\n                handleUndo={handleUndo}\r\n                handleRedo={handleRedo}\r\n                className={\" bg-white rounded-full shadow-lg  px-3 py-2\"}\r\n              />\r\n\r\n            </>\r\n          )}\r\n          {/* 缩放控制 */}\r\n          <div className=\"flex items-center gap-2 bg-white rounded-full shadow-lg px-3 py-2\">\r\n            <button\r\n              className=\"p-1 rounded hover:bg-gray-100 text-gray-600\"\r\n              onClick={(e) => handleZoom(\"out\")}\r\n              disabled={scale <= 50}\r\n            >\r\n              <Minus className=\"w-4 h-4\" />\r\n            </button>\r\n            <span className=\"text-sm font-medium text-gray-600 min-w-[48px] text-center\">\r\n              {scale}%\r\n            </span>\r\n            <button\r\n              className=\"p-1 rounded hover:bg-gray-100 text-gray-600\"\r\n              onClick={(e) => handleZoom(\"in\")}\r\n              disabled={scale >= 120}\r\n            >\r\n              <Plus className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n          {/* 指南针 */}\r\n          <div\r\n            style={{\r\n              transform: `rotate(${compassRotation}deg)`,\r\n              transition: \"transform 0.3s ease-out\",\r\n            }}\r\n            onClick={onCompassClick}\r\n            className=\"flex flex-col items-center\"\r\n          >\r\n            <div className=\"text-sm text-gray-600\">N</div>\r\n\r\n            <Image\r\n              src=\"/images/compass.png\"\r\n              alt=\"方向\"\r\n              width={40}\r\n              height={40}\r\n              className=\"cursor-pointer\"\r\n            />\r\n            {/* 显示当前角度 */}\r\n          </div>\r\n        </div>\r\n        {/* translate(${position.x}px, ${position.y}px) */}\r\n        <div\r\n          id='canvas'\r\n          className=\"absolute cursor-move\"\r\n          style={{\r\n            width: `${canvasSize.width}px`,\r\n            height: `${canvasSize.height}px`,\r\n            transform: `translate(${position.x}px, ${position.y}px)  scale(${scale / 100})`,\r\n            transformOrigin: \"top left\",\r\n            backgroundImage:\r\n              \"radial-gradient(circle, #ddd 1px, transparent 1px)\",\r\n            backgroundSize: \"10px 10px\",\r\n          }}\r\n        >\r\n          <div className=\"relative\">\r\n            {localItems.map((item) => {\r\n              if (item.type === ITEM_TYPES.ROOM) {\r\n                return (\r\n                  <div\r\n                    // id={item.id}\r\n                    key={item.id}\r\n                    data-room-element=\"true\"\r\n                    className={`absolute ${activeRoom?.id === item.id ? \"ring-2 ring-red-500\" : \"\"\r\n                      } cursor-move z-100`}\r\n                    style={{\r\n                      left: item.position.x,\r\n                      top: item.position.y,\r\n                      width: item.size.width,\r\n                      height: item.size.height,\r\n                      // transform: `scale(${scale / 100})`,\r\n                      // transformOrigin: \"center\",\r\n                    }}\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      onHandleActiveRoom(item);\r\n                    }}\r\n                    onMouseDown={(e) => handleRoomMouseDown(e, item)}\r\n                    onTouchStart={(e) => handleRoomMouseDown(e, item)}\r\n                  >\r\n                    {activeRoom && activeRoom.id === item.id && (\r\n                      <div\r\n                        style={{\r\n                          left: \"50%\",\r\n                          top: \"-64px\",\r\n                          transform: \"translateX(-50%)\",\r\n                        }}\r\n                        className=\"min-w-fit whitespace-nowrap  absolute z-1 h-[40px] rounded-4xl bg-white shadow-lg  items-center px-3 gap-2 md:flex hidden\"\r\n                      >\r\n                        <span className=\"text-sm text-gray-600\">已选中：</span>\r\n                        <div className=\"flex flex-grow items-center gap-1\">\r\n                          {/* 颜色方块 */}\r\n                          <div\r\n                            style={{\r\n                              width: \"12px\",\r\n                              height: \"12px\",\r\n                              backgroundColor:\r\n                                ROOM_COLORS[activeRoom.data.type],\r\n                              borderRadius: \"2px\",\r\n                            }}\r\n                          />\r\n                          {/* 房间名称 */}\r\n                          <span className=\"text-sm text-gray-600 font-bold\">\r\n                            {activeRoom.data.label}\r\n                          </span>\r\n                        </div>\r\n\r\n                        {/* 删除按钮 */}\r\n                        <button\r\n                          className=\"flex-shrink-0 text-red-500\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            const newItems = localItems.filter(\r\n                              (item) => item.id !== activeRoom.id\r\n                            );\r\n                            setLocalItems(newItems);\r\n                            setActiveRoom(null);\r\n                          }}\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4 text-red-500\" />\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div\r\n                      className=\"w-full h-full\"\r\n                      style={{\r\n                        border:\r\n                          item.type === ITEM_TYPES.ROOM ? \"8px solid\" : \"none\",\r\n                        borderColor:\r\n                          item.type === ITEM_TYPES.ROOM\r\n                            ? ROOM_COLORS[item.data.type]\r\n                            : \"transparent\",\r\n                        borderRadius:\r\n                          item.type === ITEM_TYPES.ROOM ? \"8px\" : \"0\",\r\n                        backgroundColor:\r\n                          item.type === ITEM_TYPES.ROOM\r\n                            ? ROOM_COLORS[item.data.type] + \"80\"\r\n                            : \"transparent\",\r\n                      }}\r\n                    >\r\n                      <div\r\n                        className=\"absolute top-2 left-2 text-[14px] text-[#888888]\"\r\n                        style={{\r\n                          zIndex: 1,\r\n                        }}\r\n                      >\r\n                        {item.data.label}\r\n                      </div>\r\n                    </div>\r\n                    {activeRoom?.id === item.id && Sizehandler(item)}\r\n                  </div>\r\n                );\r\n              } else if (item.type === ITEM_TYPES.FURNITURE) {\r\n                // console.log('item', item)\r\n                return (\r\n                  <div\r\n                    key={item.id}\r\n                    data-room-element=\"true\"\r\n                    className={`absolute cursor-move z-200`}\r\n                    style={{\r\n                      left: item.position.x,\r\n                      top: item.position.y,\r\n                      width: item.size.width,\r\n                      height: item.size.height,\r\n                      // transform: `translate(${position.x}px, ${position.y}px)`,\r\n                      // transformOrigin: \"center\",\r\n                    }}\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      onHandleActiveRoom(item);\r\n                    }}\r\n                    onMouseDown={(e) => {\r\n                      e.stopPropagation();\r\n                      handleRoomMouseDown(e, item);\r\n                    }}\r\n                    onTouchStart={(e) => {\r\n                      e.stopPropagation();\r\n                      handleRoomMouseDown(e, item);\r\n                    }}\r\n                  >\r\n                    {activeRoom && activeRoom.id === item.id && (\r\n                      <div\r\n                        style={{\r\n                          left: \"50%\",\r\n                          top: \"-64px\",\r\n                          transform: \"translateX(-50%)\",\r\n                        }}\r\n                        className=\"min-w-fit whitespace-nowrap absolute z-1 h-[40px] rounded-4xl bg-white shadow-lg  items-center px-3 gap-2 md:flex hidden\"\r\n                      >\r\n                        <span className=\"text-sm text-gray-600\">已选中：</span>\r\n                        <div className=\"flex flex-grow items-center gap-1\">\r\n                          {/* 颜色方块 */}\r\n                          {activeRoom.data.parentRoom && (\r\n                            <div\r\n                              style={{\r\n                                width: \"12px\",\r\n                                height: \"12px\",\r\n                                backgroundColor:\r\n                                  ROOM_COLORS[\r\n                                  activeRoom.data.parentRoom.data.type\r\n                                  ],\r\n                                borderRadius: \"2px\",\r\n                              }}\r\n                            />\r\n                          )}\r\n\r\n                          {/* 家具名称 */}\r\n                          <span className=\"text-sm text-gray-600 font-bold\">\r\n                            {activeRoom.data.label}\r\n                          </span>\r\n                        </div>\r\n                        {/* 旋转按钮 */}\r\n                        <button\r\n                          className=\"flex-shrink-0\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            handleRotate();\r\n                          }}\r\n                        >\r\n                          <RotateCcwSquare className=\"w-4 h-4\" />\r\n                        </button>\r\n                        {/* 删除按钮 */}\r\n                        <button\r\n                          className=\"flex-shrink-0 text-red-500 hover:text-red-600 transition-colors\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            const newItems = localItems.filter(\r\n                              (item) => item.id !== activeRoom.id\r\n                            );\r\n                            setLocalItems(newItems);\r\n                            setActiveRoom(null);\r\n                          }}\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4 text-red-500\" />\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                    {activeRoom?.id === item.id && Sizehandler(item)}\r\n                    <Image\r\n                      draggable=\"false\"\r\n                      className={\r\n                        activeRoom?.id === item.id ? \"ring-2 ring-red-500\" : \"\"\r\n                      }\r\n                      style={{\r\n                        transform: item.rotation\r\n                          ? `rotate(${item.rotation}deg)`\r\n                          : \"none\",\r\n                        transformOrigin: \"center\",\r\n                      }}\r\n                      //  objectFit= 'contain'\r\n                      src={item.activeIcon}\r\n                      alt=\"Furniture\"\r\n                      width={item.size.width}\r\n                      height={item.size.height}\r\n                    />\r\n                  </div>\r\n                );\r\n              }\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 选中房间的图层面板，仅在移动端显示 */}\r\n        {activeRoom && (\r\n          <div\r\n            className={cn(\r\n              \"min-w-fit whitespace-nowrap fixed  left-1/2 -translate-x-1/2 h-10 rounded-4xl bg-white shadow-lg flex items-center px-3 gap-2 md:hidden\",\r\n              showTab ? \"bottom-85\" : \"bottom-22.5 \"\r\n            )}\r\n          >\r\n            <span className=\"text-sm text-gray-600\">已选中：</span>\r\n            <div className=\"flex flex-grow items-center gap-1\">\r\n              {/* 颜色方块 */}\r\n              <div\r\n                style={{\r\n                  width: \"12px\",\r\n                  height: \"12px\",\r\n                  backgroundColor:\r\n                    ROOM_COLORS[\r\n                    activeRoom.data.parentRoom\r\n                      ? activeRoom.data.parentRoom.data.type\r\n                      : activeRoom.data.type\r\n                    ],\r\n                  borderRadius: \"2px\",\r\n                }}\r\n              />\r\n              {/* 房间名称 */}\r\n              <span className=\"text-sm text-gray-600 font-bold\">\r\n                {activeRoom.data.label}\r\n              </span>\r\n            </div>\r\n            {/* 旋转按钮 */}\r\n            {activeRoom.type === ITEM_TYPES.FURNITURE && (\r\n              <button\r\n                className=\"flex-shrink-0\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleRotate();\r\n                }}\r\n              >\r\n                {\" \"}\r\n                <RotateCcwSquare className=\"w-4 h-4\" />\r\n              </button>\r\n            )}\r\n\r\n            {/* 删除按钮 */}\r\n            <button\r\n              className=\"flex-shrink-0 text-red-500 hover:text-red-600 transition-colors\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                const newItems = localItems.filter(\r\n                  (item) => item.id !== activeRoom.id\r\n                );\r\n                setLocalItems(newItems);\r\n                setActiveRoom(null);\r\n              }}\r\n            >\r\n              <Trash2 className=\"w-4 h-4 text-red-500\" />\r\n            </button>\r\n          </div>\r\n        )}\r\n        {/* 移动端的操作按钮 控制显示drag tab */}\r\n        <div className=\"fixed z-50 bottom-6 left-0 px-2 gap-4 w-full bg-transparent flex items-center justify-between  md:hidden\">\r\n          {!showTab && (\r\n            <button\r\n              onClick={onShowTab}\r\n              className=\"border-primary border-1 font-bold w-4/5 py-3 bg-white text-foreground rounded-[100px] text-sm\"\r\n            >\r\n              {t(\"showTab\")}\r\n            </button>\r\n          )}\r\n\r\n          <AlertDialog>\r\n            <AlertDialogTrigger className={cn(\r\n              \"inline-flex font-bold py-3 bg-button-gradient text-white rounded-[100px] text-sm items-center justify-center gap-0\",\r\n              showTab ? \"w-full \" : \"w-4/5\"\r\n            )}>\r\n              {t(\"cta\")}\r\n              <Image\r\n                src=\"/images/hero/star.png\"\r\n                alt=\"arrow\"\r\n                width={15}\r\n                height={16}\r\n              />\r\n            </AlertDialogTrigger>\r\n            <AlertDialogContent>\r\n              <AlertDialogHeader>\r\n                <AlertDialogTitle>{t(\"alert\")}</AlertDialogTitle>\r\n                {/* <AlertDialogDescription>\r\n                  This action cannot be undone. This will permanently delete your account\r\n                  and remove your data from our servers.\r\n                </AlertDialogDescription> */}\r\n              </AlertDialogHeader>\r\n              <AlertDialogFooter>\r\n                <AlertDialogCancel>{t(\"cancel\")}</AlertDialogCancel>\r\n                <AlertDialogAction onClick={onGenReport}>{t(\"ok\")}</AlertDialogAction>\r\n              </AlertDialogFooter>\r\n            </AlertDialogContent>\r\n          </AlertDialog>\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1995, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/i18n/routing.ts"],"sourcesContent":["import { defineRouting } from \"next-intl/routing\";\r\n\r\nexport const routing = defineRouting({\r\n  // A list of all locales that are supported\r\n  locales: [\"zh-CN\", \"zh-TW\"],\r\n\r\n  // Used when no locale matches\r\n  defaultLocale: \"zh-CN\",\r\n});\r\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,UAAU,CAAA,GAAA,obAAA,CAAA,gBAAa,AAAD,EAAE;IACnC,2CAA2C;IAC3C,SAAS;QAAC;QAAS;KAAQ;IAE3B,8BAA8B;IAC9B,eAAe;AACjB","debugId":null}},
    {"offset": {"line": 2018, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/i18n/navigation.ts"],"sourcesContent":["import { createNavigation } from \"next-intl/navigation\";\r\nimport { routing } from \"./routing\";\r\n\r\n// Lightweight wrappers around Next.js' navigation\r\n// APIs that consider the routing configuration\r\nexport const { Link, redirect, usePathname, useRouter, getPathname } =\r\n  createNavigation(routing);\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;AAIO,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,EAAE,GAClE,CAAA,GAAA,gdAAA,CAAA,mBAAgB,AAAD,EAAE,yHAAA,CAAA,UAAO","debugId":null}},
    {"offset": {"line": 2039, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2335, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/LanguageToggle.jsx"],"sourcesContent":["'use client';\r\nimport { Link } from '@/i18n/navigation';\r\nimport { usePathname } from 'next/navigation';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { ChevronDownIcon } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { useTranslations } from \"next-intl\";\r\nexport default function LanguageToggle({ className, trigger }) {\r\n  const pathname = usePathname();\r\n  // const t = useTranslations(\"Navigation\");\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild className={cn(\"cursor-pointer flex items-center space-x-1 text-white hover:opacity-80\", className)}>\r\n        <div>{\r\n          trigger ? trigger : pathname.startsWith('/zh-CN') ? '简体中文' : '繁體中文'\r\n        } <ChevronDownIcon className=\"w-4 h-4\" /></div>\r\n\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent className=\"bg-white rounded-lg shadow-lg p-1 min-w-[120px]\">\r\n        <DropdownMenuItem className=\"focus:bg-inherit\">\r\n          <Link\r\n            href={`/${pathname.split('/').slice(2).join('/')}`}\r\n            locale=\"zh-CN\"\r\n            className=\"px-4 py-2 text-sm  hover:text-primary rounded text-foreground\"\r\n          >\r\n            简体中文\r\n          </Link>\r\n        </DropdownMenuItem>\r\n        <DropdownMenuItem className=\"focus:bg-inherit\">\r\n          <Link\r\n            href={`/${pathname.split('/').slice(2).join('/')}`}\r\n            locale=\"zh-TW\"\r\n            className=\"px-4 py-2 text-sm hover:text-primary rounded text-foreground\"\r\n          >\r\n            繁體中文\r\n          </Link>\r\n        </DropdownMenuItem>\r\n      </DropdownMenuContent>\r\n\r\n    </DropdownMenu>\r\n  )\r\n\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAOA;AACA;;;AAXA;;;;;;;AAae,SAAS,eAAe,EAAE,SAAS,EAAE,OAAO,EAAE;;IAC3D,MAAM,WAAW,CAAA,GAAA,oQAAA,CAAA,cAAW,AAAD;IAC3B,2CAA2C;IAC3C,qBACE,4TAAC,+IAAA,CAAA,eAAY;;0BACX,4TAAC,+IAAA,CAAA,sBAAmB;gBAAC,OAAO;gBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,0EAA0E;0BACnH,cAAA,4TAAC;;wBACC,UAAU,UAAU,SAAS,UAAU,CAAC,YAAY,SAAS;wBAC9D;sCAAC,4TAAC,+SAAA,CAAA,kBAAe;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAG/B,4TAAC,+IAAA,CAAA,sBAAmB;gBAAC,WAAU;;kCAC7B,4TAAC,+IAAA,CAAA,mBAAgB;wBAAC,WAAU;kCAC1B,cAAA,4TAAC,4HAAA,CAAA,OAAI;4BACH,MAAM,CAAC,CAAC,EAAE,SAAS,KAAK,CAAC,KAAK,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM;4BAClD,QAAO;4BACP,WAAU;sCACX;;;;;;;;;;;kCAIH,4TAAC,+IAAA,CAAA,mBAAgB;wBAAC,WAAU;kCAC1B,cAAA,4TAAC,4HAAA,CAAA,OAAI;4BACH,MAAM,CAAC,CAAC,EAAE,SAAS,KAAK,CAAC,KAAK,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM;4BAClD,QAAO;4BACP,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AASX;GAnCwB;;QACL,oQAAA,CAAA,cAAW;;;KADN","debugId":null}},
    {"offset": {"line": 2451, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/app/actions.ts"],"sourcesContent":["\"use server\";\r\nimport { signOut } from \"@/auth\";\r\nexport const handleSignOut = async () => {\r\n  await signOut({ redirectTo: \"/auth/login\" });\r\n};\r\n"],"names":[],"mappings":";;;;;IAEa","debugId":null}},
    {"offset": {"line": 2463, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = \"default\",\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: \"sm\" | \"default\"\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"popper\",\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            \"p-1\",\n            position === \"popper\" &&\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2712, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/MenuContent.jsx"],"sourcesContent":["'use client'\r\nimport { X } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { useTranslations } from 'next-intl';\r\nimport { Link } from '@/i18n/navigation';\r\nimport { usePathname } from 'next/navigation';\r\nimport { useSession } from 'next-auth/react'\r\nimport { handleSignOut } from \"../app/actions\";\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/components/ui/select\"\r\nimport { toast } from 'react-toastify';\r\nexport default function MenuBar({ className, isOpen, setIsOpen }) {\r\n    const t = useTranslations(\"home.hero\");\r\n    const pathname = usePathname();\r\n\r\n    const { data: session } = useSession();\r\n    const isLogined = session?.user?.userId;\r\n    const onLoginClick = async () => {\r\n        setIsOpen(false);\r\n        toast.info('正在跳转，请稍候...', { autoClose: 5000 });\r\n        if (isLogined) {\r\n            await handleSignOut()\r\n        }\r\n    }\r\n\r\n    return <div className={cn(\"absolute top-0 right-0 w-full md:w-80 md:shadow-lg bg-white z-20 transition-transform duration-300 ease-in-out\",\r\n        isOpen ? 'translate-y-0' : '-translate-y-100'\r\n    )}>\r\n        <div className='flex justify-between items-center py-4.5 px-4 '>\r\n            <span className='text-[#066952] text-xl font-bold'>HarmoniQ</span>\r\n            <X className='w-4 h-4 cursor-pointer' onClick={() => setIsOpen(false)} />\r\n        </div>\r\n\r\n        <Link\r\n            className='block text-base focus:bg-secondary focus:text-primary py-3.5 px-4'\r\n            href={pathname.indexOf(\"/design\") < 0 && pathname.indexOf(\"/login\") < 0 ? \"/design\" : \"/\"}\r\n\r\n        >\r\n            {pathname.indexOf(\"/design\") < 0 && pathname.indexOf(\"/login\") < 0 ? t(\"cta\") : t(\"home\")}\r\n        </Link>\r\n        <Select>\r\n            <SelectTrigger className=\"w-full text-base border-none py-4 mt-1 data-[state=open]:mb-22 px-4 shadow-none data-[state=open]:bg-secondary data-[state=open]:text-primary\">\r\n                {t('locale')}\r\n            </SelectTrigger>\r\n            <SelectContent className='border-none shadow-none'>\r\n                <Link\r\n                    href={`/${pathname.split('/').slice(2).join('/')}`}\r\n                    locale=\"zh-CN\"\r\n                    className={`block px-4 py-2 text-sm  rounded ${pathname.startsWith('/zh-CN') ? 'bg-[#13AB87] text-white' : 'text-[#888]'}`}\r\n                >\r\n                    简体中文\r\n                </Link>\r\n                <Link\r\n                    href={`/${pathname.split('/').slice(2).join('/')}`}\r\n                    locale=\"zh-TW\"\r\n                    className={`block px-4 py-2 text-sm  rounded ${pathname.startsWith('/zh-TW') ? 'bg-[#13AB87] text-white' : 'text-[#888]'}`}\r\n                >\r\n                    繁體中文\r\n                </Link>\r\n            </SelectContent>\r\n        </Select>\r\n        {\r\n            pathname.indexOf(\"/login\") < 0 && <Link\r\n                className='block text-base focus:bg-secondary focus:text-primary py-3.5 px-4'\r\n                href={\"/auth/login\"}\r\n                onClick={onLoginClick}\r\n\r\n            >\r\n                {isLogined ? t(\"logout\") : t(\"login\")}\r\n            </Link>\r\n\r\n        }\r\n\r\n\r\n\r\n    </div>\r\n\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;;;AAfA;;;;;;;;;;AAgBe,SAAS,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE;;IAC5D,MAAM,IAAI,CAAA,GAAA,wZAAA,CAAA,kBAAe,AAAD,EAAE;IAC1B,MAAM,WAAW,CAAA,GAAA,oQAAA,CAAA,cAAW,AAAD;IAE3B,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,CAAA,GAAA,2UAAA,CAAA,aAAU,AAAD;IACnC,MAAM,YAAY,SAAS,MAAM;IACjC,MAAM,eAAe;QACjB,UAAU;QACV,kSAAA,CAAA,QAAK,CAAC,IAAI,CAAC,eAAe;YAAE,WAAW;QAAK;QAC5C,IAAI,WAAW;YACX,MAAM,CAAA,GAAA,wHAAA,CAAA,gBAAa,AAAD;QACtB;IACJ;IAEA,qBAAO,4TAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,kHACtB,SAAS,kBAAkB;;0BAE3B,4TAAC;gBAAI,WAAU;;kCACX,4TAAC;wBAAK,WAAU;kCAAmC;;;;;;kCACnD,4TAAC,mRAAA,CAAA,IAAC;wBAAC,WAAU;wBAAyB,SAAS,IAAM,UAAU;;;;;;;;;;;;0BAGnE,4TAAC,4HAAA,CAAA,OAAI;gBACD,WAAU;gBACV,MAAM,SAAS,OAAO,CAAC,aAAa,KAAK,SAAS,OAAO,CAAC,YAAY,IAAI,YAAY;0BAGrF,SAAS,OAAO,CAAC,aAAa,KAAK,SAAS,OAAO,CAAC,YAAY,IAAI,EAAE,SAAS,EAAE;;;;;;0BAEtF,4TAAC,qIAAA,CAAA,SAAM;;kCACH,4TAAC,qIAAA,CAAA,gBAAa;wBAAC,WAAU;kCACpB,EAAE;;;;;;kCAEP,4TAAC,qIAAA,CAAA,gBAAa;wBAAC,WAAU;;0CACrB,4TAAC,4HAAA,CAAA,OAAI;gCACD,MAAM,CAAC,CAAC,EAAE,SAAS,KAAK,CAAC,KAAK,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM;gCAClD,QAAO;gCACP,WAAW,CAAC,iCAAiC,EAAE,SAAS,UAAU,CAAC,YAAY,4BAA4B,eAAe;0CAC7H;;;;;;0CAGD,4TAAC,4HAAA,CAAA,OAAI;gCACD,MAAM,CAAC,CAAC,EAAE,SAAS,KAAK,CAAC,KAAK,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM;gCAClD,QAAO;gCACP,WAAW,CAAC,iCAAiC,EAAE,SAAS,UAAU,CAAC,YAAY,4BAA4B,eAAe;0CAC7H;;;;;;;;;;;;;;;;;;YAML,SAAS,OAAO,CAAC,YAAY,mBAAK,4TAAC,4HAAA,CAAA,OAAI;gBACnC,WAAU;gBACV,MAAM;gBACN,SAAS;0BAGR,YAAY,EAAE,YAAY,EAAE;;;;;;;;;;;;AAS7C;GAlEwB;;QACV,wZAAA,CAAA,kBAAe;QACR,oQAAA,CAAA,cAAW;QAEF,2UAAA,CAAA,aAAU;;;KAJhB","debugId":null}},
    {"offset": {"line": 2870, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/Avatar.jsx"],"sourcesContent":["import { useSession } from 'next-auth/react'\r\nimport { useState } from 'react'\r\nimport MenuContent from './MenuContent'\r\nexport default function () {\r\n    const { data: session } = useSession();\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const onMenuClick = () => {\r\n        setIsOpen(true)\r\n    }\r\n    // session?.user?.name \r\n    return session?.user?.name && <div>\r\n        <div\r\n            className=\"w-8 h-8 bg-[#6a84f8] rounded-full text-center cursor-pointer\"\r\n            onClick={onMenuClick}\r\n        >\r\n            <span className='text-white font-bold text-xl'>{session?.user?.name.slice(0, 1).toUpperCase()}</span>\r\n        </div>\r\n        <MenuContent isOpen={isOpen} setIsOpen={setIsOpen} />\r\n    </div>\r\n\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AACe;IACX,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,CAAA,GAAA,2UAAA,CAAA,aAAU,AAAD;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,cAAc;QAChB,UAAU;IACd;IACA,uBAAuB;IACvB,OAAO,SAAS,MAAM,sBAAQ,4TAAC;;0BAC3B,4TAAC;gBACG,WAAU;gBACV,SAAS;0BAET,cAAA,4TAAC;oBAAK,WAAU;8BAAgC,SAAS,MAAM,KAAK,MAAM,GAAG,GAAG;;;;;;;;;;;0BAEpF,4TAAC,oIAAA,CAAA,UAAW;gBAAC,QAAQ;gBAAQ,WAAW;;;;;;;;;;;;AAGhD","debugId":null}},
    {"offset": {"line": 2930, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/NavbarDesign.jsx"],"sourcesContent":["'use client';\r\nimport Link from 'next/link';\r\nimport LanguageToggle from './LanguageToggle';\r\nimport { Save, UserPen } from 'lucide-react';\r\nimport Undo from './canvasComp/Undo';\r\nimport useMobile from '../app/hooks/useMobile';\r\nimport Avatar from './Avatar';\r\nimport { useTranslations } from \"next-intl\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n  AlertDialogTrigger,\r\n} from \"@/components/ui/alert-dialog\"\r\nexport default function NavbarDesign({ onSaveProject, onGenReport, onUserOpen }) {\r\n  const { isMobile } = useMobile();\r\n      const t = useTranslations(\"design\");\r\n  return (\r\n    <nav className=\"bg-white h-16 border-b-gray-100 border-b-2 fixed top-0 left-0 right-0 z-10\">\r\n      <div className=\"mx-auto px-4 h-full\">\r\n        <div className=\"flex items-center justify-between h-full\">\r\n          <Link href=\"/\" className=\"text-2xl font-bold text-primary\">\r\n            HarmoniQ\r\n          </Link>\r\n\r\n          <div className=\"flex items-center space-x-4 text-foreground  gap-3\">\r\n            <LanguageToggle className=\"text-foreground\" />\r\n            <span className='flex items-center gap-1 cursor-pointer' onClick={onSaveProject}><Save className=\"w-4 h-4\" />保存 </span>\r\n            <span className='flex items-center gap-1 cursor-pointer' onClick={() => onUserOpen(true)}><UserPen className=\"w-4 h-4\" />个人资料 </span>\r\n            <AlertDialog>\r\n              <AlertDialogTrigger className=\"inline-flex px-4 py-1 bg-button-gradient text-white rounded-full hover:bg-primary/90 transition-colors items-center gap-2\" >\r\n                {t(\"cta\")}\r\n               <span className=\"text-lg\">✨</span>\r\n              </AlertDialogTrigger>\r\n              <AlertDialogContent>\r\n                <AlertDialogHeader>\r\n                  <AlertDialogTitle>{t(\"alert\")}</AlertDialogTitle>\r\n                  {/* <AlertDialogDescription>\r\n                  This action cannot be undone. This will permanently delete your account\r\n                  and remove your data from our servers.\r\n                </AlertDialogDescription> */}\r\n                </AlertDialogHeader>\r\n                <AlertDialogFooter>\r\n                  <AlertDialogCancel>{t(\"cancel\")}</AlertDialogCancel>\r\n                  <AlertDialogAction onClick={onGenReport}>{t(\"ok\")}</AlertDialogAction>\r\n                </AlertDialogFooter>\r\n              </AlertDialogContent>\r\n            </AlertDialog>\r\n\r\n            <Avatar />\r\n          </div>\r\n\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;;AAmBe,SAAS,aAAa,EAAE,aAAa,EAAE,WAAW,EAAE,UAAU,EAAE;;IAC7E,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,mIAAA,CAAA,UAAS,AAAD;IACzB,MAAM,IAAI,CAAA,GAAA,wZAAA,CAAA,kBAAe,AAAD,EAAE;IAC9B,qBACE,4TAAC;QAAI,WAAU;kBACb,cAAA,4TAAC;YAAI,WAAU;sBACb,cAAA,4TAAC;gBAAI,WAAU;;kCACb,4TAAC,8RAAA,CAAA,UAAI;wBAAC,MAAK;wBAAI,WAAU;kCAAkC;;;;;;kCAI3D,4TAAC;wBAAI,WAAU;;0CACb,4TAAC,uIAAA,CAAA,UAAc;gCAAC,WAAU;;;;;;0CAC1B,4TAAC;gCAAK,WAAU;gCAAyC,SAAS;;kDAAe,4TAAC,yRAAA,CAAA,OAAI;wCAAC,WAAU;;;;;;oCAAY;;;;;;;0CAC7G,4TAAC;gCAAK,WAAU;gCAAyC,SAAS,IAAM,WAAW;;kDAAO,4TAAC,mSAAA,CAAA,UAAO;wCAAC,WAAU;;;;;;oCAAY;;;;;;;0CACzH,4TAAC,8IAAA,CAAA,cAAW;;kDACV,4TAAC,8IAAA,CAAA,qBAAkB;wCAAC,WAAU;;4CAC3B,EAAE;0DACJ,4TAAC;gDAAK,WAAU;0DAAU;;;;;;;;;;;;kDAE3B,4TAAC,8IAAA,CAAA,qBAAkB;;0DACjB,4TAAC,8IAAA,CAAA,oBAAiB;0DAChB,cAAA,4TAAC,8IAAA,CAAA,mBAAgB;8DAAE,EAAE;;;;;;;;;;;0DAMvB,4TAAC,8IAAA,CAAA,oBAAiB;;kEAChB,4TAAC,8IAAA,CAAA,oBAAiB;kEAAE,EAAE;;;;;;kEACtB,4TAAC,8IAAA,CAAA,oBAAiB;wDAAC,SAAS;kEAAc,EAAE;;;;;;;;;;;;;;;;;;;;;;;;0CAKlD,4TAAC,+HAAA,CAAA,UAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;AASnB;GA5CwB;;QACD,mIAAA,CAAA,UAAS;QAChB,wZAAA,CAAA,kBAAe;;;KAFP","debugId":null}},
    {"offset": {"line": 3136, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/MenuBar.jsx"],"sourcesContent":["'use client'\r\nimport { Menu } from 'lucide-react';\r\nimport { useState } from 'react'\r\nimport { cn } from '@/lib/utils';\r\n\r\nimport MenuContent from './MenuContent';\r\nexport default function MenuBar({ className }) {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const onMenuClick = () => {\r\n        setIsOpen(true)\r\n    }\r\n    return <div>\r\n        <Menu className={cn(\"w-4 h-4\", className)} onClick={onMenuClick} />\r\n        <MenuContent isOpen={isOpen} setIsOpen={setIsOpen} />\r\n\r\n    </div>\r\n\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAEA;;;AALA;;;;;AAMe,SAAS,QAAQ,EAAE,SAAS,EAAE;;IACzC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAErC,MAAM,cAAc;QAChB,UAAU;IACd;IACA,qBAAO,4TAAC;;0BACJ,4TAAC,yRAAA,CAAA,OAAI;gBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;gBAAY,SAAS;;;;;;0BACpD,4TAAC,oIAAA,CAAA,UAAW;gBAAC,QAAQ;gBAAQ,WAAW;;;;;;;;;;;;AAIhD;GAZwB;KAAA","debugId":null}},
    {"offset": {"line": 3195, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/NavbarDesignMobile.jsx"],"sourcesContent":["\r\nimport { Save, UserPen, Menu, CircleHelp, X } from 'lucide-react';\r\nimport Undo from './canvasComp/Undo';\r\nimport { useState } from 'react';\r\nimport MenuBar from './MenuBar';\r\nimport Avatar from \"@/components/Avatar\";\r\nexport default function NavbarDesignMobile({ onSaveProject, history, historyIndex, handleUndo, handleRedo, onUserOpen }) {\r\n  const [showTip, setShowTip] = useState(false);\r\n  return (\r\n    <div className='fixed top-0 left-0 right-0 z-50'>\r\n      <nav className=\"bg-white h-16 border-b-gray-100 border-b-2 \">\r\n        <div className=\"mx-auto px-4 h-full\">\r\n          <div className=\"flex items-center justify-between h-full\">\r\n            <div className=\"flex items-center space-x-4 text-foreground  gap-3\">\r\n              <Undo history={history} historyIndex={historyIndex} handleUndo={handleUndo} handleRedo={handleRedo} />\r\n              <span className='flex items-center gap-1 cursor-pointer' onClick={onSaveProject}><Save className=\"w-4 h-4\" /> </span>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-4 text-foreground  gap-3\">\r\n              <span className='flex items-center gap-1 cursor-pointer'><CircleHelp className=\"w-4 h-4\" onClick={() => setShowTip(true)} /></span>\r\n              <span className='flex items-center gap-1 cursor-pointer' ><UserPen className=\"w-4 h-4\" onClick={() => onUserOpen(true)} /> </span>\r\n              {/* <MenuBar className=\"text-foreground\" /> */}\r\n              <Avatar />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n      {\r\n        showTip && (\r\n          <div className='h-8 w-full bg-[#E5F4FF] px-6 py-3 flex justify-between items-center'>\r\n            <span className='text-[12px] text-foreground flex items-center gap-1'>\r\n              <CircleHelp className=\"w-4 h-4 text-[#888]\" />\r\n              至少需要设置1个房间、1扇门和1扇窗才可测算\r\n            </span>\r\n            <X className='w-4 h-4 text-[#888]' onClick={() => setShowTip(false)} />\r\n          </div>\r\n        )\r\n      }\r\n    </div>\r\n\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AACe,SAAS,mBAAmB,EAAE,aAAa,EAAE,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE;;IACrH,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,qBACE,4TAAC;QAAI,WAAU;;0BACb,4TAAC;gBAAI,WAAU;0BACb,cAAA,4TAAC;oBAAI,WAAU;8BACb,cAAA,4TAAC;wBAAI,WAAU;;0CACb,4TAAC;gCAAI,WAAU;;kDACb,4TAAC,2IAAA,CAAA,UAAI;wCAAC,SAAS;wCAAS,cAAc;wCAAc,YAAY;wCAAY,YAAY;;;;;;kDACxF,4TAAC;wCAAK,WAAU;wCAAyC,SAAS;;0DAAe,4TAAC,yRAAA,CAAA,OAAI;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;;0CAG/G,4TAAC;gCAAI,WAAU;;kDACb,4TAAC;wCAAK,WAAU;kDAAyC,cAAA,4TAAC,ySAAA,CAAA,aAAU;4CAAC,WAAU;4CAAU,SAAS,IAAM,WAAW;;;;;;;;;;;kDACnH,4TAAC;wCAAK,WAAU;;0DAA0C,4TAAC,mSAAA,CAAA,UAAO;gDAAC,WAAU;gDAAU,SAAS,IAAM,WAAW;;;;;;4CAAS;;;;;;;kDAE1H,4TAAC,+HAAA,CAAA,UAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;YAMb,yBACE,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBAAK,WAAU;;0CACd,4TAAC,ySAAA,CAAA,aAAU;gCAAC,WAAU;;;;;;4BAAwB;;;;;;;kCAGhD,4TAAC,mRAAA,CAAA,IAAC;wBAAC,WAAU;wBAAsB,SAAS,IAAM,WAAW;;;;;;;;;;;;;;;;;;AAOzE;GAnCwB;KAAA","debugId":null}},
    {"offset": {"line": 3381, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/DraggableItem.jsx"],"sourcesContent":["'use client'\nimport { useDraggable } from '@dnd-kit/core';\n\nexport function DraggableItem({ id, type, data, children, isOverCanvas }) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    isDragging,\n  } = useDraggable({\n    id,\n    data: {\n      type,\n      ...data\n    }\n  });\n\n  const style = transform ? {\n    transform: `translate3d(${transform.x}px, ${transform.y}px, 0)`,\n    opacity: isDragging && !isOverCanvas ? 0.5 : isDragging && isOverCanvas ? 0 : 1,\n    position: 'relative',\n    zIndex: isDragging ? 1000 : 1,\n    visibility: 'visible',\n    // touchAction: 'none'\n  } : {};\n  // , touchAction: 'none' \n  return (\n\n    <div className='relative z-0 w-22.5'>\n      <div className='absolute  -z-1 w-22.5 top-0 left-0' >\n        {children}\n      </div>\n      <div ref={setNodeRef}\n        // style={style}\n        {...listeners}\n        {...attributes}\n        className=\"cursor-move\"\n        style={{ ...style }}>\n        {children}\n      </div>\n\n\n      {/* {isDragging && (\n        <div className=\"fixed top-4 left-1/2 -translate-x-1/2 bg-white px-4 py-2 rounded-full shadow-lg\">\n          {children}\n        </div>\n      )} */}\n    </div>\n\n  );\n} "],"names":[],"mappings":";;;;AACA;;;AADA;;AAGO,SAAS,cAAc,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,YAAY,EAAE;;IACtE,MAAM,EACJ,UAAU,EACV,SAAS,EACT,UAAU,EACV,SAAS,EACT,UAAU,EACX,GAAG,CAAA,GAAA,4SAAA,CAAA,eAAY,AAAD,EAAE;QACf;QACA,MAAM;YACJ;YACA,GAAG,IAAI;QACT;IACF;IAEA,MAAM,QAAQ,YAAY;QACxB,WAAW,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,MAAM,CAAC;QAC/D,SAAS,cAAc,CAAC,eAAe,MAAM,cAAc,eAAe,IAAI;QAC9E,UAAU;QACV,QAAQ,aAAa,OAAO;QAC5B,YAAY;IAEd,IAAI,CAAC;IACL,yBAAyB;IACzB,qBAEE,4TAAC;QAAI,WAAU;;0BACb,4TAAC;gBAAI,WAAU;0BACZ;;;;;;0BAEH,4TAAC;gBAAI,KAAK;gBAEP,GAAG,SAAS;gBACZ,GAAG,UAAU;gBACd,WAAU;gBACV,OAAO;oBAAE,GAAG,KAAK;gBAAC;0BACjB;;;;;;;;;;;;AAYT;GAhDgB;;QAOV,4SAAA,CAAA,eAAY;;;KAPF","debugId":null}},
    {"offset": {"line": 3456, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot=\"scroll-area\"\n      className={cn(\"relative\", className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot=\"scroll-area-viewport\"\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  );\n}\n\nfunction ScrollBar({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot=\"scroll-area-scrollbar\"\n      orientation={orientation}\n      className={cn(\n        \"flex touch-none p-px transition-colors select-none visible\",\n        orientation === \"vertical\" &&\n          \"h-full w-2.5 border-l border-l-transparent\",\n        orientation === \"horizontal\" &&\n          \"h-2.5 flex-col border-t border-t-transparent\",\n        className\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot=\"scroll-area-thumb\"\n        className=\"bg-border relative flex-1 rounded-full\"\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  );\n}\n\nexport { ScrollArea, ScrollBar };\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,4TAAC,oYAAA,CAAA,OAAwB;QACvB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QACzB,GAAG,KAAK;;0BAET,4TAAC,oYAAA,CAAA,WAA4B;gBAC3B,aAAU;gBACV,WAAU;0BAET;;;;;;0BAEH,4TAAC;;;;;0BACD,4TAAC,oYAAA,CAAA,SAA0B;;;;;;;;;;;AAGjC;KArBS;AAuBT,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACkE;IACrE,qBACE,4TAAC,oYAAA,CAAA,sBAAuC;QACtC,aAAU;QACV,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8DACA,gBAAgB,cACd,8CACF,gBAAgB,gBACd,gDACF;QAED,GAAG,KAAK;kBAET,cAAA,4TAAC,oYAAA,CAAA,kBAAmC;YAClC,aAAU;YACV,WAAU;;;;;;;;;;;AAIlB;MAzBS","debugId":null}},
    {"offset": {"line": 3534, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/dragBarComp/DragBarPC.jsx"],"sourcesContent":["import { DraggableItem } from \"../DraggableItem\"\r\nimport { Canvas } from \"../Canvas\"\r\nimport Image from \"next/image\"\r\nimport { ScrollArea, ScrollBar } from \"@/components/ui/scroll-area\"\r\n\r\nexport default function DragBarPC(props) {\r\n    const { sidebarRef, roomItems, furnitureItems, isOverCanvas, draggingItemSize } = props\r\n    return <ScrollArea className=\"h-[calc(100vh-64px)] w-1/6\">\r\n        <div ref={sidebarRef} className=\"md:block hidden  bg-white p-4 shadow border-r-gray-100 border-r-2\">\r\n            <div className=\"mb-8\">\r\n                <h3 className=\"text-2xl font-semibold mb-4\">房间</h3>\r\n                <div className=\"grid 2xl:grid-cols-3 xl:grid-cols-2 gap-2\">\r\n\r\n                    {roomItems.map((item) => (\r\n                        <DraggableItem\r\n                            key={item.id}\r\n                            id={item.id}\r\n                            type={item.type}\r\n                            data={item.data}\r\n                            isOverCanvas={isOverCanvas}\r\n                        >\r\n                            <div className=\"flex flex-col items-center\">\r\n                                <div className=\"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors\">\r\n                                    <Image\r\n                                        className=' bg-[#EFF7F4] rounded-lg'\r\n                                        src={item.data.icon}\r\n                                        alt={item.data.label}\r\n                                        width={draggingItemSize}\r\n                                        height={draggingItemSize}\r\n                                    />\r\n                                </div>\r\n                                <span className=\"mt-1 text-sm text-gray-600\">{item.data.label}</span>\r\n                            </div>\r\n                        </DraggableItem>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <h3 className=\"text-2xl font-semibold mb-4\">家具</h3>\r\n                <div className=\"grid 2xl:grid-cols-3 xl:grid-cols-2 gap-2\">\r\n                    {furnitureItems.map((item) => (\r\n                        <DraggableItem\r\n                            key={item.id}\r\n                            id={item.id}\r\n                            type={item.type}\r\n                            data={item.data}\r\n                            isOverCanvas={isOverCanvas}\r\n                        >\r\n                            <div className=\"flex flex-col items-center\">\r\n                                <div className=\"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors\">\r\n                                    <Image\r\n                                        className='bg-[#EFF7F4] rounded-lg'\r\n                                        src={item.data.icon}\r\n                                        alt={item.data.label}\r\n                                        width={draggingItemSize}\r\n                                        height={draggingItemSize}\r\n                                    />\r\n                                </div>\r\n                                <span className=\"mt-1 text-sm text-gray-600\">{item.data.label}</span>\r\n                            </div>\r\n                        </DraggableItem>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ScrollArea>\r\n\r\n\r\n\r\n\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;;AAEe,SAAS,UAAU,KAAK;IACnC,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,cAAc,EAAE,YAAY,EAAE,gBAAgB,EAAE,GAAG;IAClF,qBAAO,4TAAC,6IAAA,CAAA,aAAU;QAAC,WAAU;kBACzB,cAAA,4TAAC;YAAI,KAAK;YAAY,WAAU;;8BAC5B,4TAAC;oBAAI,WAAU;;sCACX,4TAAC;4BAAG,WAAU;sCAA8B;;;;;;sCAC5C,4TAAC;4BAAI,WAAU;sCAEV,UAAU,GAAG,CAAC,CAAC,qBACZ,4TAAC,sIAAA,CAAA,gBAAa;oCAEV,IAAI,KAAK,EAAE;oCACX,MAAM,KAAK,IAAI;oCACf,MAAM,KAAK,IAAI;oCACf,cAAc;8CAEd,cAAA,4TAAC;wCAAI,WAAU;;0DACX,4TAAC;gDAAI,WAAU;0DACX,cAAA,4TAAC,+PAAA,CAAA,UAAK;oDACF,WAAU;oDACV,KAAK,KAAK,IAAI,CAAC,IAAI;oDACnB,KAAK,KAAK,IAAI,CAAC,KAAK;oDACpB,OAAO;oDACP,QAAQ;;;;;;;;;;;0DAGhB,4TAAC;gDAAK,WAAU;0DAA8B,KAAK,IAAI,CAAC,KAAK;;;;;;;;;;;;mCAhB5D,KAAK,EAAE;;;;;;;;;;;;;;;;8BAuB5B,4TAAC;;sCACG,4TAAC;4BAAG,WAAU;sCAA8B;;;;;;sCAC5C,4TAAC;4BAAI,WAAU;sCACV,eAAe,GAAG,CAAC,CAAC,qBACjB,4TAAC,sIAAA,CAAA,gBAAa;oCAEV,IAAI,KAAK,EAAE;oCACX,MAAM,KAAK,IAAI;oCACf,MAAM,KAAK,IAAI;oCACf,cAAc;8CAEd,cAAA,4TAAC;wCAAI,WAAU;;0DACX,4TAAC;gDAAI,WAAU;0DACX,cAAA,4TAAC,+PAAA,CAAA,UAAK;oDACF,WAAU;oDACV,KAAK,KAAK,IAAI,CAAC,IAAI;oDACnB,KAAK,KAAK,IAAI,CAAC,KAAK;oDACpB,OAAO;oDACP,QAAQ;;;;;;;;;;;0DAGhB,4TAAC;gDAAK,WAAU;0DAA8B,KAAK,IAAI,CAAC,KAAK;;;;;;;;;;;;mCAhB5D,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BxC;KAlEwB","debugId":null}},
    {"offset": {"line": 3716, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\nimport { ChevronDown } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root> & {\n  setShowTab: (show: boolean) => void;\n}) {\n  return (\n    <div className=\"relative\">\n      <TabsPrimitive.Root\n        data-slot=\"tabs\"\n        className={cn(\"flex flex-col gap-2\", className)}\n        {...props}\n      />\n      <ChevronDown\n        className=\"w-4 h-4 absolute top-2.5 right-5\"\n        onClick={() => props.setShowTab(false)}\n      />\n    </div>\n  );\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  );\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AACA;AALA;;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAGJ;IACC,qBACE,4TAAC;QAAI,WAAU;;0BACb,4TAAC,6XAAA,CAAA,OAAkB;gBACjB,aAAU;gBACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;gBACpC,GAAG,KAAK;;;;;;0BAEX,4TAAC,2SAAA,CAAA,cAAW;gBACV,WAAU;gBACV,SAAS,IAAM,MAAM,UAAU,CAAC;;;;;;;;;;;;AAIxC;KAnBS;AAqBT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,4TAAC,6XAAA,CAAA,OAAkB;QACjB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,4TAAC,6XAAA,CAAA,UAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,4TAAC,6XAAA,CAAA,UAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 3811, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/ui/carousel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport useEmblaCarousel, {\r\n  type UseEmblaCarouselType,\r\n} from \"embla-carousel-react\";\r\nimport { ArrowLeft, ArrowRight } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ntype CarouselApi = UseEmblaCarouselType[1];\r\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>;\r\ntype CarouselOptions = UseCarouselParameters[0];\r\ntype CarouselPlugin = UseCarouselParameters[1];\r\n\r\ntype CarouselProps = {\r\n  opts?: CarouselOptions;\r\n  plugins?: CarouselPlugin;\r\n  orientation?: \"horizontal\" | \"vertical\";\r\n  setApi?: (api: CarouselApi) => void;\r\n};\r\n\r\ntype CarouselContextProps = {\r\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0];\r\n  api: ReturnType<typeof useEmblaCarousel>[1];\r\n  scrollPrev: () => void;\r\n  scrollNext: () => void;\r\n  canScrollPrev: boolean;\r\n  canScrollNext: boolean;\r\n} & CarouselProps;\r\n\r\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null);\r\n\r\nfunction useCarousel() {\r\n  const context = React.useContext(CarouselContext);\r\n\r\n  if (!context) {\r\n    throw new Error(\"useCarousel must be used within a <Carousel />\");\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\nconst Carousel = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\r\n>(\r\n  (\r\n    {\r\n      orientation = \"horizontal\",\r\n      opts,\r\n      setApi,\r\n      plugins,\r\n      className,\r\n      children,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const [carouselRef, api] = useEmblaCarousel(\r\n      {\r\n        ...opts,\r\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\r\n      },\r\n      plugins\r\n    );\r\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false);\r\n    const [canScrollNext, setCanScrollNext] = React.useState(false);\r\n\r\n    const onSelect = React.useCallback((api: CarouselApi) => {\r\n      if (!api) {\r\n        return;\r\n      }\r\n\r\n      setCanScrollPrev(api.canScrollPrev());\r\n      setCanScrollNext(api.canScrollNext());\r\n    }, []);\r\n\r\n    const scrollPrev = React.useCallback(() => {\r\n      api?.scrollPrev();\r\n    }, [api]);\r\n\r\n    const scrollNext = React.useCallback(() => {\r\n      api?.scrollNext();\r\n    }, [api]);\r\n\r\n    const handleKeyDown = React.useCallback(\r\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\r\n        if (event.key === \"ArrowLeft\") {\r\n          event.preventDefault();\r\n          scrollPrev();\r\n        } else if (event.key === \"ArrowRight\") {\r\n          event.preventDefault();\r\n          scrollNext();\r\n        }\r\n      },\r\n      [scrollPrev, scrollNext]\r\n    );\r\n\r\n    React.useEffect(() => {\r\n      if (!api || !setApi) {\r\n        return;\r\n      }\r\n\r\n      setApi(api);\r\n    }, [api, setApi]);\r\n\r\n    React.useEffect(() => {\r\n      if (!api) {\r\n        return;\r\n      }\r\n\r\n      onSelect(api);\r\n      api.on(\"reInit\", onSelect);\r\n      api.on(\"select\", onSelect);\r\n\r\n      return () => {\r\n        api?.off(\"select\", onSelect);\r\n      };\r\n    }, [api, onSelect]);\r\n\r\n    return (\r\n      <CarouselContext.Provider\r\n        value={{\r\n          carouselRef,\r\n          api: api,\r\n          opts,\r\n          orientation:\r\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\r\n          scrollPrev,\r\n          scrollNext,\r\n          canScrollPrev,\r\n          canScrollNext,\r\n        }}\r\n      >\r\n        <div\r\n          ref={ref}\r\n          onKeyDownCapture={handleKeyDown}\r\n          className={cn(\"relative\", className)}\r\n          role=\"region\"\r\n          aria-roledescription=\"carousel\"\r\n          {...props}\r\n        >\r\n          {children}\r\n        </div>\r\n      </CarouselContext.Provider>\r\n    );\r\n  }\r\n);\r\nCarousel.displayName = \"Carousel\";\r\n\r\nconst CarouselContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => {\r\n  const { carouselRef, orientation } = useCarousel();\r\n\r\n  return (\r\n    <div ref={carouselRef} className=\"overflow-hidden\">\r\n      <div\r\n        ref={ref}\r\n        className={cn(\r\n          \"flex\",\r\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n});\r\nCarouselContent.displayName = \"CarouselContent\";\r\n\r\nconst CarouselItem = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => {\r\n  const { orientation } = useCarousel();\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      role=\"group\"\r\n      aria-roledescription=\"slide\"\r\n      className={cn(\r\n        \"min-w-0 shrink-0 grow-0 basis-full\",\r\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nCarouselItem.displayName = \"CarouselItem\";\r\n\r\nconst CarouselPrevious = React.forwardRef<\r\n  HTMLButtonElement,\r\n  React.ComponentProps<typeof Button>\r\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\r\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel();\r\n\r\n  return (\r\n    <Button\r\n      ref={ref}\r\n      variant={variant}\r\n      size={size}\r\n      className={cn(\r\n        \"absolute  h-8 w-8 rounded-full\",\r\n        orientation === \"horizontal\"\r\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\r\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\r\n        className\r\n      )}\r\n      disabled={!canScrollPrev}\r\n      onClick={scrollPrev}\r\n      {...props}\r\n    >\r\n      <ArrowLeft className=\"h-4 w-4\" />\r\n      <span className=\"sr-only\">Previous slide</span>\r\n    </Button>\r\n  );\r\n});\r\nCarouselPrevious.displayName = \"CarouselPrevious\";\r\n\r\nconst CarouselNext = React.forwardRef<\r\n  HTMLButtonElement,\r\n  React.ComponentProps<typeof Button>\r\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\r\n  const { orientation, scrollNext, canScrollNext } = useCarousel();\r\n\r\n  return (\r\n    <Button\r\n      ref={ref}\r\n      variant={variant}\r\n      size={size}\r\n      className={cn(\r\n        \"absolute h-8 w-8 rounded-full\",\r\n        orientation === \"horizontal\"\r\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\r\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\r\n        className\r\n      )}\r\n      disabled={!canScrollNext}\r\n      onClick={scrollNext}\r\n      {...props}\r\n    >\r\n      <ArrowRight className=\"h-4 w-4\" />\r\n      <span className=\"sr-only\">Next slide</span>\r\n    </Button>\r\n  );\r\n});\r\nCarouselNext.displayName = \"CarouselNext\";\r\n\r\nexport {\r\n  type CarouselApi,\r\n  Carousel,\r\n  CarouselContent,\r\n  CarouselItem,\r\n  CarouselPrevious,\r\n  CarouselNext,\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4122, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/dragBarComp/DragBarMobile.jsx"],"sourcesContent":["import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { DraggableItem } from \"../DraggableItem\";\r\nimport Image from \"next/image\";\r\nimport { ScrollArea, ScrollBar } from \"@/components/ui/scroll-area\"\r\nimport {\r\n    Carousel,\r\n    CarouselContent,\r\n    CarouselItem,\r\n    CarouselNext,\r\n    CarouselPrevious,\r\n} from \"@/components/ui/carousel\"\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport default function DragBarMobile(props) {\r\n    const { showTab, setShowTab, roomItems, furnitureItems, isOverCanvas, draggingItemSize } = props\r\n    const [active, setActive] = useState('')\r\n    useEffect(() => {\r\n        setActive('room')\r\n    }, [])\r\n    return (\r\n\r\n        <div\r\n            style={{\r\n                boxShadow: \"0 -1px 5px 0px rgba(0, 0, 0, 0.2)\",\r\n            }}\r\n            className={cn(\"fixed bottom-0 left-0 z-10 w-full pb-20 pl-0 pr-2 bg-white md:hidden rounded-t-2xl transition-transform duration-300 ease-in-out\", showTab ? 'translate-y-0' : 'translate-y-full')}\r\n\r\n        >\r\n            <Tabs value={active} className=\"w-full gap-4\" setShowTab={setShowTab} onValueChange={(value) => setActive(value)}>\r\n                <TabsList className=\"mx-auto bg-white gap-8\">\r\n                    <TabsTrigger\r\n                        defaultValue\r\n                        value=\"room\"\r\n                        className=\"rounded-[3px] text-[12px] font-bold data-[state=active]:shadow-none data-[state=active]:border-b-4 data-[state=active]:border-b-primary\"\r\n                    >\r\n                        房间\r\n                    </TabsTrigger>\r\n                    <TabsTrigger\r\n                        value=\"furniture\"\r\n                        className=\"rounded-[3px] text-[12px] font-bold data-[state=active]:shadow-none data-[state=active]:border-b-4 data-[state=active]:border-b-primary\"\r\n                    >\r\n                        家具\r\n                    </TabsTrigger>\r\n                </TabsList>\r\n                <TabsContent value=\"room\" className=\"w-full pb-3 overflow-hidden\">\r\n                    <Carousel>\r\n                        <CarouselContent>\r\n                            <CarouselItem>\r\n                                <div className=\"grid grid-cols-4 gap-x-8 gap-y-6\">\r\n                                    {roomItems.slice(0, 8).map((item) => (\r\n                                        <DraggableItem\r\n                                            key={item.id}\r\n                                            id={item.id}\r\n                                            type={item.type}\r\n                                            data={item.data}\r\n                                            isOverCanvas={isOverCanvas}\r\n                                        >\r\n                                            <div className=\"flex flex-col items-center\">\r\n                                                <div className=\"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors\">\r\n                                                    <Image\r\n                                                        className='bg-[#EFF7F4] rounded-lg'\r\n                                                        src={item.data.icon}\r\n                                                        alt={item.data.label}\r\n                                                        width={draggingItemSize}\r\n                                                        height={draggingItemSize}\r\n                                                    />\r\n                                                </div>\r\n                                                <span className=\"mt-1 text-[12px] text-gray-600\">{item.data.label}</span>\r\n                                            </div>\r\n                                        </DraggableItem>\r\n                                    ))}\r\n                                </div>\r\n\r\n                            </CarouselItem>\r\n                            <CarouselItem>\r\n                                <div className=\"grid grid-cols-4 gap-x-8 gap-y-6\">\r\n                                    {roomItems.slice(8).map((item) => (\r\n                                        <DraggableItem\r\n                                            key={item.id}\r\n                                            id={item.id}\r\n                                            type={item.type}\r\n                                            data={item.data}\r\n                                            isOverCanvas={isOverCanvas}\r\n                                        >\r\n                                            <div className=\"flex flex-col items-center\">\r\n                                                <div className=\"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors\">\r\n                                                    <Image\r\n                                                        className='bg-[#EFF7F4] rounded-lg'\r\n                                                        src={item.data.icon}\r\n                                                        alt={item.data.label}\r\n                                                        width={draggingItemSize}\r\n                                                        height={draggingItemSize}\r\n                                                    />\r\n                                                </div>\r\n                                                <span className=\"mt-1 text-[12px] text-gray-600\">{item.data.label}</span>\r\n                                            </div>\r\n                                        </DraggableItem>\r\n                                    ))}\r\n                                </div>\r\n\r\n                            </CarouselItem>\r\n\r\n                        </CarouselContent>\r\n                        <CarouselPrevious className=\"left-0 \" />\r\n                        <CarouselNext className=\"right-0\" />\r\n                    </Carousel>\r\n                    {/* <div className=\"grid grid-cols-6 gap-x-8 gap-y-4 min-w-110 \">\r\n                       \r\n                    </div> */}\r\n\r\n\r\n\r\n                </TabsContent>\r\n                <TabsContent value=\"furniture\" className=\"w-full pb-3 overflow-hidden\">\r\n                    <Carousel>\r\n                        <CarouselContent>\r\n                            <CarouselItem>\r\n                                <div className=\"grid grid-cols-4 gap-x-8 gap-y-6\">\r\n                                    {furnitureItems.slice(0, 8).map((item) => (\r\n                                        <DraggableItem\r\n                                            key={item.id}\r\n                                            id={item.id}\r\n                                            type={item.type}\r\n                                            data={item.data}\r\n                                            isOverCanvas={isOverCanvas}\r\n                                        >\r\n                                            <div className=\"flex flex-col items-center\">\r\n                                                <div className=\"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors\">\r\n                                                    <Image\r\n                                                        className='bg-[#EFF7F4] rounded-lg'\r\n                                                        src={item.data.icon}\r\n                                                        alt={item.data.label}\r\n                                                        width={draggingItemSize}\r\n                                                        height={draggingItemSize}\r\n                                                    />\r\n                                                </div>\r\n                                                <span className=\"mt-1 text-[12px] text-gray-600\">{item.data.label}</span>\r\n                                            </div>\r\n                                        </DraggableItem>\r\n                                    ))}\r\n                                </div>\r\n                            </CarouselItem>\r\n                            <CarouselItem>\r\n                                <div className=\"grid grid-cols-4 gap-x-8 gap-y-6\">\r\n                                    {furnitureItems.slice(8, 16).map((item) => (\r\n                                        <DraggableItem\r\n                                            key={item.id}\r\n                                            id={item.id}\r\n                                            type={item.type}\r\n                                            data={item.data}\r\n                                            isOverCanvas={isOverCanvas}\r\n                                        >\r\n                                            <div className=\"flex flex-col items-center\">\r\n                                                <div className=\"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors\">\r\n                                                    <Image\r\n                                                        className='bg-[#EFF7F4] rounded-lg'\r\n                                                        src={item.data.icon}\r\n                                                        alt={item.data.label}\r\n                                                        width={draggingItemSize}\r\n                                                        height={draggingItemSize}\r\n                                                    />\r\n                                                </div>\r\n                                                <span className=\"mt-1 text-[12px] text-gray-600\">{item.data.label}</span>\r\n                                            </div>\r\n                                        </DraggableItem>\r\n                                    ))}\r\n                                </div>\r\n                            </CarouselItem>\r\n                            <CarouselItem>\r\n                                <div className=\"grid grid-cols-4 gap-x-8 gap-y-6\">\r\n                                    {furnitureItems.slice(16).map((item) => (\r\n                                        <DraggableItem\r\n                                            key={item.id}\r\n                                            id={item.id}\r\n                                            type={item.type}\r\n                                            data={item.data}\r\n                                            isOverCanvas={isOverCanvas}\r\n                                        >\r\n                                            <div className=\"flex flex-col items-center\">\r\n                                                <div className=\"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors\">\r\n                                                    <Image\r\n                                                        className='bg-[#EFF7F4] rounded-lg'\r\n                                                        src={item.data.icon}\r\n                                                        alt={item.data.label}\r\n                                                        width={draggingItemSize}\r\n                                                        height={draggingItemSize}\r\n                                                    />\r\n                                                </div>\r\n                                                <span className=\"mt-1 text-[12px] text-gray-600\">{item.data.label}</span>\r\n                                            </div>\r\n                                        </DraggableItem>\r\n                                    ))}\r\n                                </div>\r\n                            </CarouselItem>\r\n                        </CarouselContent>\r\n                        <CarouselPrevious className=\"left-0 \" />\r\n                        <CarouselNext className=\"right-0\" />\r\n                    </Carousel>\r\n\r\n\r\n\r\n\r\n                </TabsContent>\r\n            </Tabs>\r\n\r\n        </div>\r\n\r\n\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4581, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/lib/ajax.ts"],"sourcesContent":["interface IOption {\r\n  url: string;\r\n  method: string;\r\n  headers?: { [key: string]: string };\r\n  body?: any;\r\n}\r\n\r\nexport interface IAjaxRes {\r\n  status: number;\r\n  message?: string;\r\n  data?: any;\r\n}\r\n\r\nasync function ajax(opt: IOption): Promise<IAjaxRes> {\r\n  const { url, method, headers = {}, body } = opt;\r\n  try {\r\n    const res = await fetch(url, {\r\n      method: method.toUpperCase(),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        ...headers,\r\n      },\r\n      body: body ? JSON.stringify(body) : undefined,\r\n    });\r\n    const resData = await res.json();\r\n    return resData;\r\n  } catch (ex: any) {\r\n    throw new Error(\"ajax error \", ex.message);\r\n  }\r\n}\r\n\r\nexport async function get(url: string) {\r\n  return await ajax({ url, method: \"GET\" });\r\n}\r\n\r\nexport async function post(url: string, data: any) {\r\n  return await ajax({ url, method: \"POST\", body: data });\r\n}\r\n\r\nexport async function patch(url: string, data: any) {\r\n  return await ajax({ url, method: \"PATCH\", body: data });\r\n}\r\n\r\nexport async function del(url: string, data: any) {\r\n  return await ajax({ url, method: \"DELETE\", body: data });\r\n}\r\n"],"names":[],"mappings":";;;;;;AAaA,eAAe,KAAK,GAAY;IAC9B,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG;IAC5C,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,KAAK;YAC3B,QAAQ,OAAO,WAAW;YAC1B,SAAS;gBACP,gBAAgB;gBAChB,GAAG,OAAO;YACZ;YACA,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;QACtC;QACA,MAAM,UAAU,MAAM,IAAI,IAAI;QAC9B,OAAO;IACT,EAAE,OAAO,IAAS;QAChB,MAAM,IAAI,MAAM,eAAe,GAAG,OAAO;IAC3C;AACF;AAEO,eAAe,IAAI,GAAW;IACnC,OAAO,MAAM,KAAK;QAAE;QAAK,QAAQ;IAAM;AACzC;AAEO,eAAe,KAAK,GAAW,EAAE,IAAS;IAC/C,OAAO,MAAM,KAAK;QAAE;QAAK,QAAQ;QAAQ,MAAM;IAAK;AACtD;AAEO,eAAe,MAAM,GAAW,EAAE,IAAS;IAChD,OAAO,MAAM,KAAK;QAAE;QAAK,QAAQ;QAAS,MAAM;IAAK;AACvD;AAEO,eAAe,IAAI,GAAW,EAAE,IAAS;IAC9C,OAAO,MAAM,KAAK;QAAE;QAAK,QAAQ;QAAU,MAAM;IAAK;AACxD","debugId":null}},
    {"offset": {"line": 4640, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content>) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <DialogPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\n          <XIcon />\n          <span className=\"sr-only\">Close</span>\n        </DialogPrimitive.Close>\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,4TAAC,+XAAA,CAAA,OAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,4TAAC,+XAAA,CAAA,UAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,4TAAC,+XAAA,CAAA,SAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,4TAAC,+XAAA,CAAA,QAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,4TAAC,+XAAA,CAAA,UAAuB;QACtB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,GAAG,OACkD;IACrD,qBACE,4TAAC;QAAa,aAAU;;0BACtB,4TAAC;;;;;0BACD,4TAAC,+XAAA,CAAA,UAAuB;gBACtB,aAAU;gBACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+WACA;gBAED,GAAG,KAAK;;oBAER;kCACD,4TAAC,+XAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,4TAAC,uRAAA,CAAA,QAAK;;;;;0CACN,4TAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;MAxBS;AA0BT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,4TAAC,+XAAA,CAAA,QAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,4TAAC,+XAAA,CAAA,cAA2B;QAC1B,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 4837, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator-root\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,4TAAC,4XAAA,CAAA,OAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kKACA;QAED,GAAG,KAAK;;;;;;AAGf;KAlBS","debugId":null}},
    {"offset": {"line": 4873, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/ui/radio-group.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction RadioGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {\n  return (\n    <RadioGroupPrimitive.Root\n      data-slot=\"radio-group\"\n      className={cn(\"grid gap-3\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction RadioGroupItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {\n  return (\n    <RadioGroupPrimitive.Item\n      data-slot=\"radio-group-item\"\n      className={cn(\n        \"border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator\n        data-slot=\"radio-group-indicator\"\n        className=\"relative flex items-center justify-center\"\n      >\n        <CircleIcon className=\"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n}\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,4TAAC,oYAAA,CAAA,OAAwB;QACvB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;QAC3B,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,4TAAC,oYAAA,CAAA,OAAwB;QACvB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0XACA;QAED,GAAG,KAAK;kBAET,cAAA,4TAAC,oYAAA,CAAA,YAA6B;YAC5B,aAAU;YACV,WAAU;sBAEV,cAAA,4TAAC,iSAAA,CAAA,aAAU;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI9B;MArBS","debugId":null}},
    {"offset": {"line": 4938, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,4TAAC,8XAAA,CAAA,OAAmB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 4972, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/DatePicker/index.jsx"],"sourcesContent":["\r\nimport 'rmc-picker/assets/index.css';\r\nimport './index.css'\r\nimport MultiPicker from 'rmc-picker/lib/MultiPicker';\r\nimport Picker from 'rmc-picker/lib/Picker';\r\nimport React from 'react';\r\nexport const years = Array.from({ length: 100 }, (_, i) => (2025 - i).toString())\r\nexport const months = Array.from({ length: 12 }, (_, i) => (i + 1).toString().padStart(2, '0'))\r\nexport const days = Array.from({ length: 31 }, (_, i) => (i + 1).toString().padStart(2, '0'))\r\nexport const hours = Array.from({ length: 24 }, (_, i) => i.toString().padStart(2, '0'))\r\nexport default class DatePicker extends React.Component {\r\n    state = {\r\n        value: [],\r\n    };\r\n    componentDidMount() {\r\n        if (this.props.value) {\r\n            this.setState({\r\n                value: this.props.value\r\n            });\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.props.value && this.props.value !== prevProps.value) {\r\n            this.setState({\r\n                value: this.props.value\r\n            });\r\n        }\r\n    }\r\n    onChange = (value) => {\r\n        //console.log('onChange', value);\r\n        this.setState({\r\n            value,\r\n        });\r\n        if (this.props.onChange) {\r\n            this.props.onChange(value)\r\n        }\r\n\r\n    }\r\n\r\n    // onScrollChange = (value) => {\r\n    //     console.log('onScrollChange', value);\r\n    // }\r\n    renderItems = (items, text) => items.map(\r\n        item => <Picker.Item className=\"my-picker-view-item\" value={item}>{item + text}</Picker.Item>\r\n    )\r\n    render() {\r\n        return (\r\n            <div style={{ background: '#f5f5f9', padding: 0 }}>\r\n\r\n                <MultiPicker\r\n                    selectedValue={this.state.value}\r\n                    onValueChange={this.onChange}\r\n                //onScrollChange={this.onScrollChange}\r\n                >\r\n\r\n\r\n                    <Picker indicatorClassName=\"my-picker-indicator\">\r\n                        {this.renderItems(years, '年')}\r\n\r\n                    </Picker>\r\n\r\n\r\n                    <Picker indicatorClassName=\"my-picker-indicator\">\r\n                        {this.renderItems(months, '月')}\r\n                    </Picker>\r\n                    <Picker indicatorClassName=\"my-picker-indicator\">\r\n                        {this.renderItems(days, '日')}\r\n                    </Picker>\r\n                    <Picker indicatorClassName=\"my-picker-indicator\">\r\n                        {this.renderItems(hours, '时')}\r\n                    </Picker>\r\n\r\n                </MultiPicker>\r\n            </div>\r\n        );\r\n    }\r\n}"],"names":[],"mappings":";;;;;;;;AAGA;AACA;AACA;;;;;;;AACO,MAAM,QAAQ,MAAM,IAAI,CAAC;IAAE,QAAQ;AAAI,GAAG,CAAC,GAAG,IAAM,CAAC,OAAO,CAAC,EAAE,QAAQ;AACvE,MAAM,SAAS,MAAM,IAAI,CAAC;IAAE,QAAQ;AAAG,GAAG,CAAC,GAAG,IAAM,CAAC,IAAI,CAAC,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG;AACnF,MAAM,OAAO,MAAM,IAAI,CAAC;IAAE,QAAQ;AAAG,GAAG,CAAC,GAAG,IAAM,CAAC,IAAI,CAAC,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG;AACjF,MAAM,QAAQ,MAAM,IAAI,CAAC;IAAE,QAAQ;AAAG,GAAG,CAAC,GAAG,IAAM,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG;AACpE,MAAM,mBAAmB,4RAAA,CAAA,UAAK,CAAC,SAAS;IACnD,QAAQ;QACJ,OAAO,EAAE;IACb,EAAE;IACF,oBAAoB;QAChB,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;YAClB,IAAI,CAAC,QAAQ,CAAC;gBACV,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK;YAC3B;QACJ;IACJ;IACA,mBAAmB,SAAS,EAAE,SAAS,EAAE;QACrC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,UAAU,KAAK,EAAE;YAC1D,IAAI,CAAC,QAAQ,CAAC;gBACV,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK;YAC3B;QACJ;IACJ;IACA,WAAW,CAAC;QACR,iCAAiC;QACjC,IAAI,CAAC,QAAQ,CAAC;YACV;QACJ;QACA,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACrB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;QACxB;IAEJ,EAAC;IAED,gCAAgC;IAChC,4CAA4C;IAC5C,IAAI;IACJ,cAAc,CAAC,OAAO,OAAS,MAAM,GAAG,CACpC,CAAA,qBAAQ,4TAAC,yRAAA,CAAA,UAAM,CAAC,IAAI;gBAAC,WAAU;gBAAsB,OAAO;0BAAO,OAAO;;;;;sBAC7E;IACD,SAAS;QACL,qBACI,4TAAC;YAAI,OAAO;gBAAE,YAAY;gBAAW,SAAS;YAAE;sBAE5C,cAAA,4TAAC,8RAAA,CAAA,UAAW;gBACR,eAAe,IAAI,CAAC,KAAK,CAAC,KAAK;gBAC/B,eAAe,IAAI,CAAC,QAAQ;;kCAK5B,4TAAC,yRAAA,CAAA,UAAM;wBAAC,oBAAmB;kCACtB,IAAI,CAAC,WAAW,CAAC,OAAO;;;;;;kCAK7B,4TAAC,yRAAA,CAAA,UAAM;wBAAC,oBAAmB;kCACtB,IAAI,CAAC,WAAW,CAAC,QAAQ;;;;;;kCAE9B,4TAAC,yRAAA,CAAA,UAAM;wBAAC,oBAAmB;kCACtB,IAAI,CAAC,WAAW,CAAC,MAAM;;;;;;kCAE5B,4TAAC,yRAAA,CAAA,UAAM;wBAAC,oBAAmB;kCACtB,IAAI,CAAC,WAAW,CAAC,OAAO;;;;;;;;;;;;;;;;;IAM7C;AACJ","debugId":null}},
    {"offset": {"line": 5104, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/components/UserInfoDialog.jsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Separator } from \"@/components/ui/separator\"\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n    SelectLabel,\r\n    SelectGroup,\r\n} from \"@/components/ui/select\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport useMobile from '@/app/hooks/useMobile'\r\n\r\nimport DatePicker from \"./DatePicker\"\r\nimport { years, months, days, hours } from './DatePicker'\r\n\r\n\r\nexport default function UserInfoDialog({ open, onUserOpen, onSubmit, userInfo }) {\r\n    const isMobile = useMobile()\r\n    const [gender, setGender] = useState('男')\r\n    const [birthYear, setBirthYear] = useState('1996')\r\n    const [birthMonth, setBirthMonth] = useState('03')\r\n    const [birthDay, setBirthDay] = useState('12')\r\n    const [birthHour, setBirthHour] = useState('22')\r\n\r\n    // 当接收到用户信息时，更新表单状态\r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            setGender(userInfo.gender || 'male')\r\n\r\n            if (userInfo.birthDateTime) {\r\n                const date = new Date(userInfo.birthDateTime)\r\n                setBirthYear(date.getFullYear().toString())\r\n                setBirthMonth((date.getMonth() + 1).toString().padStart(2, '0'))\r\n                setBirthDay(date.getDate().toString().padStart(2, '0'))\r\n                setBirthHour(date.getHours().toString().padStart(2, '0'))\r\n            }\r\n        }\r\n    }, [userInfo])\r\n\r\n\r\n\r\n    const handleSubmit = () => {\r\n        const birthDateTime = new Date(\r\n            parseInt(birthYear),\r\n            parseInt(birthMonth) - 1,\r\n            parseInt(birthDay),\r\n            parseInt(birthHour)\r\n        )\r\n\r\n        onSubmit({\r\n            gender,\r\n            birthDateTime\r\n        })\r\n    }\r\n\r\n    const onDateChange = value => {\r\n        if (value) {\r\n            setBirthYear(value[0]);\r\n            setBirthMonth(value[1]);\r\n            setBirthDay(value[2]);\r\n            setBirthHour(value[3]);\r\n        }\r\n\r\n    }\r\n    const MobileTimeSelector = () => {\r\n        return (\r\n            <div >\r\n                <div className=\"flex justify-between pb-4\">\r\n                    <Label className=\"text-base\">出生日期</Label>\r\n                    <span>{`${birthYear}年${birthMonth}月${birthDay}日${birthHour}时`}</span>\r\n\r\n                </div>\r\n                <Separator />\r\n\r\n                <DatePicker onChange={onDateChange} value={[birthYear, birthMonth, birthDay, birthHour]} />\r\n                <Separator />\r\n\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n    const DesktopTimeSelector = () => (\r\n        <div className=\"grid grid-cols-4 gap-4\">\r\n            <div>\r\n                <Label className=\"font-bold pb-4 text-base\">年</Label>\r\n                <Select value={birthYear} onValueChange={setBirthYear}>\r\n                    <SelectTrigger className='w-24'>\r\n                        <SelectValue placeholder=\"年\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n\r\n                        {years.map(year => (\r\n                            <SelectItem key={year} value={year}>\r\n                                {year}年\r\n                            </SelectItem>\r\n                        ))}\r\n\r\n                    </SelectContent>\r\n                </Select>\r\n            </div>\r\n\r\n            <div><Label className=\"font-bold pb-4 text-base\">月</Label>\r\n                <Select value={birthMonth} onValueChange={setBirthMonth}>\r\n                    <SelectTrigger className='w-24'>\r\n                        <SelectValue placeholder=\"月\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                        {months.map(month => (\r\n                            <SelectItem key={month} value={month}>\r\n                                {month}月\r\n                            </SelectItem>\r\n                        ))}\r\n                    </SelectContent>\r\n                </Select>\r\n            </div>\r\n\r\n            <div><Label className=\"font-bold pb-4 text-base\">日</Label>\r\n                <Select value={birthDay} onValueChange={setBirthDay}>\r\n                    <SelectTrigger className='w-20'>\r\n                        <SelectValue placeholder=\"日\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                        {days.map(day => (\r\n                            <SelectItem key={day} value={day}>\r\n                                {day}日\r\n                            </SelectItem>\r\n                        ))}\r\n\r\n                    </SelectContent>\r\n\r\n                </Select></div>\r\n\r\n            <div><Label className=\"font-bold pb-4 text-base\">小时</Label>\r\n                <Select value={birthHour} onValueChange={setBirthHour}>\r\n                    <SelectTrigger className='w-20' >\r\n                        <SelectValue placeholder=\"时\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent >\r\n                        {hours.map(hour => (\r\n                            <SelectItem key={hour} value={hour}>\r\n                                {hour}时\r\n                            </SelectItem>\r\n                        ))}\r\n                    </SelectContent>\r\n                </Select></div>\r\n\r\n        </div>\r\n    )\r\n    const GenderDesktop = () => {\r\n        return <div className=\"space-y-2 pb-4\">\r\n            <Label className=\"font-bold pb-2 text-base\">性别</Label>\r\n            <RadioGroup\r\n                value={gender}\r\n                onValueChange={setGender}\r\n                className=\"flex space-x-4\"\r\n            >\r\n                <div className=\"flex items-center space-x-2\">\r\n                    <RadioGroupItem value=\"male\" id=\"male\" />\r\n                    <Label htmlFor=\"male\">男</Label>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                    <RadioGroupItem value=\"female\" id=\"female\" />\r\n                    <Label htmlFor=\"female\">女</Label>\r\n                </div>\r\n            </RadioGroup>\r\n        </div>\r\n    }\r\n\r\n    const GenderMobile = () => {\r\n        return <div className=\"flex justify-between\">\r\n            <Label className='text-base'>性别</Label>\r\n            <div className=\"flex bg-gray-200 p-1 rounded-[6px]  \">\r\n                <button\r\n\r\n                    style={{\r\n                        boxShadow: \"0 1px 5px 0px rgba(0, 0, 0, 0.3)\",\r\n                    }}\r\n                    className={`rounded-[6px] px-4 py-1 ${gender === 'male' ? 'bg-white' : 'transparent'}`}\r\n                    onClick={() => setGender('male')}\r\n                >\r\n                    男\r\n                </button>\r\n                <button\r\n                    className={`rounded-[6px] px-4 py-1 ${gender === 'female' ? 'bg-white' : 'transparent'}`}\r\n                    onClick={() => setGender('female')}\r\n                >\r\n                    女\r\n                </button>\r\n            </div>\r\n        </div>\r\n    }\r\n    return (\r\n        <Dialog open={open} onOpenChange={onUserOpen}>\r\n            <DialogContent className=\"sm:max-w-[432px]\">\r\n                <DialogHeader>\r\n                    <DialogTitle className=\"text-lg md:text-xl font-bold md:text-left text-center\">个人资料</DialogTitle>\r\n                    <div className=\"py-4 text-sm md:text-base  text-left\">\r\n                        您的个人资料仅用于此次测算\r\n                    </div>\r\n                </DialogHeader>\r\n                <Separator className='md:hidden' />\r\n\r\n                <div className=\"grid gap-4 pb-4\">\r\n                    {isMobile ? <GenderMobile /> : <GenderDesktop />}\r\n\r\n                    <Separator className='md:hidden' />\r\n                    {isMobile ? <MobileTimeSelector /> : <DesktopTimeSelector />}\r\n\r\n                    {\r\n                        isMobile ? <div className='flex justify-around'>\r\n                            <Button onClick={() => { onUserOpen(false) }} className=\"px-10 border-1 border-[#ccc] text-foreground rounded-[100px] bg-white font-bold mt-10\">\r\n                                取消\r\n                            </Button>\r\n                            <Button onClick={handleSubmit} className=\"px-10 bg-[#13ab87] font-bold mt-10 rounded-[100px]\">\r\n                                保存\r\n                            </Button>\r\n                        </div> :\r\n                            <Button onClick={handleSubmit} className=\"w-full bg-[#13ab87] font-bold mt-10 rounded-[100px]\">\r\n                                保存\r\n                            </Button>\r\n                    }\r\n\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5730, "column": 0}, "map": {"version":3,"sources":["file://D%3A/code/fengshui/src/app/%5Blocale%5D/design/page.jsx"],"sourcesContent":["'use client'\r\nimport {\r\n  DndContext,\r\n  DragOverlay,\r\n  TouchSensor,    // 添加触摸传感器\r\n  MouseSensor,\r\n  useSensor,\r\n  useSensors,\r\n  pointerWithin,\r\n  closestCorners\r\n} from '@dnd-kit/core';\r\n\r\nimport { redirect } from \"next/navigation\";\r\nimport { use, useState, useRef, useEffect } from 'react';\r\nimport {\r\n  ITEM_TYPES,\r\n  ROOM_TYPES,\r\n  FURNITURE_TYPES,\r\n  FURNITURE_TYPES_LABEL_CN,\r\n  FURNITURE_TYPES_LABEL_TW,\r\n  ROOM_TYPES_LABEL_CN,\r\n  ROOM_TYPES_LABEL_TW\r\n} from '@/types/room';\r\nimport { Canvas } from '@/components/Canvas';\r\nimport NavbarDesign from '@/components/NavbarDesign';\r\nimport NavbarDesignMobile from '@/components/NavbarDesignMobile';\r\nimport Image from 'next/image';\r\nimport useMobile from '../../hooks/useMobile';\r\nimport DragBarPC from '@/components/dragBarComp/DragBarPC';\r\nimport DragBarMobile from '@/components/dragBarComp/DragBarMobile';\r\nimport { get, post } from \"@/lib/ajax\";\r\n\r\nimport { useSession } from 'next-auth/react'\r\nimport UserInfoDialog from '@/components/UserInfoDialog';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { useRouter } from 'next/navigation';\r\nconst ROOM_COLORS = {\r\n  [ROOM_TYPES.LIVING_ROOM]: '#F0DF9C',   // 客厅\r\n  [ROOM_TYPES.DINING_ROOM]: '#F5D4BC',   // 饭厅\r\n  [ROOM_TYPES.STORAGE_ROOM]: '#ADC0BC',  // 储物室\r\n  [ROOM_TYPES.STUDY_ROOM]: '#B0B8C9',    // 书房\r\n  [ROOM_TYPES.BEDROOM]: '#F5B8B8',       // 睡房\r\n  [ROOM_TYPES.BATHROOM]: '#C1D7E2',      // 浴室\r\n  [ROOM_TYPES.KITCHEN]: '#EDE0C6',       // 厨房\r\n  [ROOM_TYPES.BALCONY]: '#D0DCAA',       // 阳台\r\n  [ROOM_TYPES.GARDEN]: '#AACDBC',        // 花园\r\n  [ROOM_TYPES.GARAGE]: '#C7C7DD',        // 车库\r\n  [ROOM_TYPES.CORRIDOR]: '#CDCDCD',      // 走廊\r\n};\r\n\r\n\r\n\r\n\r\nexport default function DesignPage({ params }) {\r\n  //  console.log('params', params.locale)\r\n  const _params = use(params);\r\n  const locale = _params.locale;\r\n  const ROOM_TYPES_LABEL = locale === 'zh-TW' ? ROOM_TYPES_LABEL_TW : ROOM_TYPES_LABEL_CN;\r\n  const FURNITURE_TYPES_LABEL = locale === 'zh-TW' ? FURNITURE_TYPES_LABEL_TW : FURNITURE_TYPES_LABEL_CN;\r\n  const furnitureItems = [\r\n    { id: 'door-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.DOOR, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.DOOR], icon: '/images/fur-icon/door.png', activeIcon: '/images/fur-icon/door-gr.png', size: { width: 40, height: 40 } } },\r\n    { id: 'window-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.WINDOW, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.WINDOW], icon: '/images/fur-icon/window.png', activeIcon: '/images/fur-icon/window-gr.png', size: { width: 8, height: 56 } } },\r\n    { id: 'table-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.TABLE, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.TABLE], icon: '/images/fur-icon/table.png', activeIcon: '/images/fur-icon/table-gr.png', size: { width: 44, height: 120 } } },\r\n    { id: 'chair-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.CHAIR, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.CHAIR], icon: '/images/fur-icon/chair.png', activeIcon: '/images/fur-icon/chair-gr.png', size: { width: 28, height: 35 } } },\r\n    { id: 'sofa-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.SOFA, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.SOFA], icon: '/images/fur-icon/sofa.png', activeIcon: '/images/fur-icon/sofa-gr.png', size: { width: 67, height: 123 } } },\r\n    { id: 'bed-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.BED, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.BED], icon: '/images/fur-icon/bed.png', activeIcon: '/images/fur-icon/bed-gr.png', size: { width: 89, height: 128 } } },\r\n    { id: 'lamp-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.LAMP, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.LAMP], icon: '/images/fur-icon/lamp.png', activeIcon: '/images/fur-icon/lamp-gr.png', size: { width: 70, height: 128 } } },\r\n    { id: 'tv-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.TV, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.TV], icon: '/images/fur-icon/tv.png', activeIcon: '/images/fur-icon/tv-gr.png', size: { width: 134, height: 32 } } },\r\n    { id: 'bookshelf-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.BOOKSHELF, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.BOOKSHELF], icon: '/images/fur-icon/bookshelf.png', activeIcon: '/images/fur-icon/bookshelf-gr.png', size: { width: 44, height: 44 } } },\r\n    { id: 'wardrobe-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.WARDROBE, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.WARDROBE], icon: '/images/fur-icon/wardrobe.png', activeIcon: '/images/fur-icon/wardrobe-gr.png', size: { width: 40, height: 129 } } },\r\n    { id: 'plant-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.PLANT, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.PLANT], icon: '/images/fur-icon/plant.png', activeIcon: '/images/fur-icon/plant-gr.png', size: { width: 36, height: 36 } } },\r\n    { id: 'fridge-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.FRIDGE, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.FRIDGE], icon: '/images/fur-icon/fridge.png', activeIcon: '/images/fur-icon/fridge-gr.png', size: { width: 40, height: 43 } } },\r\n    { id: 'stove-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.STOVE, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.STOVE], icon: '/images/fur-icon/stove.png', activeIcon: '/images/fur-icon/stove-gr.png', size: { width: 62, height: 32 } } },\r\n    { id: 'sink-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.SINK, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.SINK], icon: '/images/fur-icon/sink.png', activeIcon: '/images/fur-icon/sink-gr.png', size: { width: 60, height: 40 } } },\r\n    { id: 'washbasin-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.WASHBASIN, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.WASHBASIN], icon: '/images/fur-icon/washbasin.png', activeIcon: '/images/fur-icon/washbasin-gr.png', size: { width: 50, height: 50 } } },\r\n    { id: 'toilet-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.TOILET, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.TOILET], icon: '/images/fur-icon/toilet.png', activeIcon: '/images/fur-icon/toilet-gr.png', size: { width: 40, height: 60 } } },\r\n    { id: 'shower-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.SHOWER, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.SHOWER], icon: '/images/fur-icon/shower.png', activeIcon: '/images/fur-icon/shower-gr.png', size: { width: 80, height: 80 } } },\r\n    { id: 'bathtub-template', type: ITEM_TYPES.FURNITURE, data: { cateType: ITEM_TYPES.FURNITURE, type: FURNITURE_TYPES.BATHTUB, label: FURNITURE_TYPES_LABEL[FURNITURE_TYPES.BATHTUB], icon: '/images/fur-icon/bathtub.png', activeIcon: '/images/fur-icon/bathtub-gr.png', size: { width: 120, height: 60 } } }\r\n  ];\r\n  const sensors = useSensors(\r\n    useSensor(TouchSensor, {\r\n      tolerance: 50,\r\n    }),\r\n    useSensor(MouseSensor, {\r\n      // 鼠标传感器配置\r\n      activationConstraint: {\r\n        distance: 10,    // 激活所需的移动距离\r\n      },\r\n    }\r\n    )\r\n  );\r\n  const router = useRouter();\r\n  const [active, setActive] = useState(null);\r\n  const [isOverCanvas, setIsOverCanvas] = useState(false);\r\n  const [sidebarWidth, setSidebarWidth] = useState(0);\r\n  const [showTab, setShowTab] = useState(false);\r\n  const [history, setHistory] = useState([[]]);\r\n  const [historyIndex, setHistoryIndex] = useState(0);\r\n  const [showUserInfoDialog, setShowUserInfoDialog] = useState(false);\r\n  const [userInfo, setuserInfo] = useState({})\r\n  const [loading, setLoading] = useState(false);\r\n  const canvasRef = useRef(null);\r\n  const sidebarRef = useRef(null);\r\n  const isMobile = useMobile();\r\n  const draggingItemSize = isMobile ? 48 : 56;\r\n  const defaultRoomSize = isMobile ? { width: 200, height: 200 } : { width: 300, height: 300 }\r\n  // const defaultFurSize = { width: draggingItemSize, height: 32 }\r\n\r\n  const roomItems = [\r\n    {\r\n      id: 'living-room',\r\n      type: ITEM_TYPES.ROOM,\r\n      data: {\r\n        cateType: ITEM_TYPES.ROOM,\r\n        type: ROOM_TYPES.LIVING_ROOM,\r\n        label: ROOM_TYPES_LABEL[ROOM_TYPES.LIVING_ROOM],\r\n        icon: '/images/room-icon/living_room.png',\r\n        size: defaultRoomSize\r\n      }\r\n    },\r\n    {\r\n      id: 'dining-room',\r\n      type: ITEM_TYPES.ROOM,\r\n      data: {\r\n        cateType: ITEM_TYPES.ROOM,\r\n        type: ROOM_TYPES.DINING_ROOM,\r\n        label: ROOM_TYPES_LABEL[ROOM_TYPES.DINING_ROOM],\r\n        icon: '/images/room-icon/dining_room.png',\r\n        size: defaultRoomSize\r\n      }\r\n    },\r\n    {\r\n      id: 'storage-room',\r\n      type: ITEM_TYPES.ROOM,\r\n      data: {\r\n        cateType: ITEM_TYPES.ROOM,\r\n        type: ROOM_TYPES.STORAGE_ROOM,\r\n        label: ROOM_TYPES_LABEL[ROOM_TYPES.STORAGE_ROOM],\r\n        icon: '/images/room-icon/storage_room.png',\r\n        size: defaultRoomSize\r\n      }\r\n    },\r\n    {\r\n      id: 'study-room',\r\n      type: ITEM_TYPES.ROOM,\r\n      data: {\r\n        cateType: ITEM_TYPES.ROOM,\r\n        type: ROOM_TYPES.STUDY_ROOM,\r\n        label: ROOM_TYPES_LABEL[ROOM_TYPES.STUDY_ROOM],\r\n        icon: '/images/room-icon/study_room.png',\r\n        size: defaultRoomSize\r\n      }\r\n    },\r\n    {\r\n      id: 'bedroom',\r\n      type: ITEM_TYPES.ROOM,\r\n      data: {\r\n        cateType: ITEM_TYPES.ROOM,\r\n        type: ROOM_TYPES.BEDROOM,\r\n        label: ROOM_TYPES_LABEL[ROOM_TYPES.BEDROOM],\r\n        icon: '/images/room-icon/bedroom.png',\r\n        size: defaultRoomSize\r\n      }\r\n    },\r\n    {\r\n      id: 'bathroom',\r\n      type: ITEM_TYPES.ROOM,\r\n      data: {\r\n        cateType: ITEM_TYPES.ROOM,\r\n        type: ROOM_TYPES.BATHROOM,\r\n        label: ROOM_TYPES_LABEL[ROOM_TYPES.BATHROOM],\r\n        icon: '/images/room-icon/bathroom.png',\r\n        size: defaultRoomSize\r\n      }\r\n    },\r\n    {\r\n      id: 'kitchen',\r\n      type: ITEM_TYPES.ROOM,\r\n      data: {\r\n        cateType: ITEM_TYPES.ROOM,\r\n        type: ROOM_TYPES.KITCHEN,\r\n        label: ROOM_TYPES_LABEL[ROOM_TYPES.KITCHEN],\r\n        icon: '/images/room-icon/kitchen.png',\r\n        size: defaultRoomSize\r\n      }\r\n    },\r\n    {\r\n      id: 'balcony',\r\n      type: ITEM_TYPES.ROOM,\r\n      data: {\r\n        cateType: ITEM_TYPES.ROOM,\r\n        type: ROOM_TYPES.BALCONY,\r\n        label: ROOM_TYPES_LABEL[ROOM_TYPES.BALCONY],\r\n        icon: '/images/room-icon/balcony.png',\r\n        size: defaultRoomSize\r\n      }\r\n    },\r\n    {\r\n      id: 'garden',\r\n      type: ITEM_TYPES.ROOM,\r\n      data: {\r\n        cateType: ITEM_TYPES.ROOM,\r\n        type: ROOM_TYPES.GARDEN,\r\n        label: ROOM_TYPES_LABEL[ROOM_TYPES.GARDEN],\r\n        icon: '/images/room-icon/garden.png',\r\n        size: defaultRoomSize\r\n      }\r\n    },\r\n    {\r\n      id: 'garage',\r\n      type: ITEM_TYPES.ROOM,\r\n      data: {\r\n        cateType: ITEM_TYPES.ROOM,\r\n        type: ROOM_TYPES.GARAGE,\r\n        label: ROOM_TYPES_LABEL[ROOM_TYPES.GARAGE],\r\n        icon: '/images/room-icon/garage.png',\r\n        size: defaultRoomSize\r\n      }\r\n    },\r\n    {\r\n      id: 'corridor',\r\n      type: ITEM_TYPES.ROOM,\r\n      data: {\r\n        cateType: ITEM_TYPES.ROOM,\r\n        type: ROOM_TYPES.CORRIDOR,\r\n        label: ROOM_TYPES_LABEL[ROOM_TYPES.CORRIDOR],\r\n        icon: '/images/room-icon/corridor.png',\r\n        size: defaultRoomSize\r\n      }\r\n    },\r\n\r\n  ];\r\n  const { data: session } = useSession();\r\n\r\n  // 添加useEffect监听侧边栏宽度\r\n  useEffect(() => {\r\n    const updateWidth = () => {\r\n      if (sidebarRef.current) {\r\n        setSidebarWidth(sidebarRef.current.offsetWidth);\r\n      }\r\n    };\r\n\r\n    updateWidth();\r\n    window.addEventListener('resize', updateWidth);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', updateWidth);\r\n    };\r\n  }, []);\r\n\r\n\r\n  // 加载设计数据  TODO\r\n  useEffect(() => {\r\n    //toast.error(\"查询错误:\")\r\n    const loadDesign = async () => {\r\n\r\n      //const userId = 'yunyanyr@gmail.com';\r\n      const userId = session?.user?.userId;\r\n      if (!userId) {\r\n        return\r\n      }\r\n\r\n      //console.log('session', session?.user?.userId)\r\n      try {\r\n        setLoading(true);\r\n        const { status: status0, message: message0, data: userInfo } = await get(`/api/users/${userId}`)\r\n        const { status: status1, message: message1, data: designData } = await get(`/api/design/${userId}`);\r\n        // console.log('designData', status0, message0)\r\n        if (status0 !== 0) {\r\n          toast.error(\"查询用户错误:\" + message0)\r\n          return\r\n        }\r\n        if (status1 !== 0) {\r\n          toast.error(\"查询布局错误:\" + message1)\r\n          return\r\n        }\r\n        // console.log('data', userInfo, localItems)\r\n        setuserInfo(userInfo);\r\n        setShowUserInfoDialog(true);\r\n        const { localItems = [], scale = 100, canvasPosition = { x: 0, y: 0 }, compassRotation = 0 } = designData;\r\n        let newItems = localItems.map(item => {\r\n          return {\r\n            ...item,\r\n            type: item._type,\r\n            data: {\r\n              ...item.data,\r\n              type: item.data._type\r\n            }\r\n          }\r\n        })\r\n        canvasRef.current?.setLocalItems(newItems);\r\n        canvasRef.current?.setPosition(canvasPosition);\r\n        canvasRef.current?.setCompassRotation(compassRotation);\r\n        canvasRef.current?.setScale(scale);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        setLoading(false);\r\n        toast.error(\"加载布局错误:\" + error)\r\n        console.error('Error loading design:', error);\r\n      }\r\n    };\r\n    loadDesign();\r\n  }, [session?.user?.userId]);\r\n\r\n\r\n  const handleDragStart = (event) => {\r\n    const { active } = event;\r\n    setActive(active);\r\n    setIsOverCanvas(false);\r\n  };\r\n  const initOverCanvas = (event, roomDragStart) => {\r\n    const { over } = event;\r\n    const isOverCanvasArea = over?.id === 'canvas';\r\n\r\n    setIsOverCanvas(isOverCanvasArea);\r\n    if (isOverCanvasArea) {\r\n      const localItems = canvasRef.current.getLocalItems();\r\n      const label = `${active.data.current.label}${localItems.filter(item => item.data.type === active.data.current.type).length + 1}`;\r\n      const newItem = {\r\n        id: `${active.data.current.type}-${localItems.filter(item => item.data.type === active.data.current.type).length + 1}`,\r\n        type: active.data.current.cateType,\r\n        data: {\r\n          ...active.data.current,\r\n          label: active.data.current.cateType === ITEM_TYPES.ROOM ? label : '',\r\n        },\r\n        size: active.data.current.size,\r\n        activeIcon: active.data.current.activeIcon\r\n      };\r\n\r\n      canvasRef.current.setIsRoomDragging(true);\r\n      canvasRef.current.setRoomDragStart(roomDragStart);\r\n      canvasRef.current.setDraggedRoom(newItem)\r\n    } else {\r\n      canvasRef.current.setIsRoomDragging(false);\r\n    }\r\n  }\r\n  const handleDragMove = (event) => {\r\n    if (!isMobile) return;\r\n    // console.log('y', event.delta.y);\r\n    if (event.delta.y < -120) {\r\n      initOverCanvas(event, { x: 0, y: 50 })\r\n    }\r\n  }\r\n  const handleDragOver = (event) => {\r\n    if (isMobile) return;\r\n    initOverCanvas(event, { x: sidebarWidth, y: draggingItemSize })\r\n  }\r\n\r\n  // 保存设计数据 TODO\r\n  const onSaveProject = async () => {\r\n\r\n    if (!session?.user?.userId) {\r\n      redirect('/auth/login');\r\n    }\r\n\r\n    //const userId = 'yunyanyr@gmail.com'\r\n    try {\r\n      setLoading(true)\r\n      const { status } = await post(`/api/design/${session.user.userId}`, {\r\n        localItems: canvasRef.current.getLocalItems(),\r\n        canvasPosition: canvasRef.current.getPosition(),\r\n        compassRotation: canvasRef.current.getCompassRotation(),\r\n        scale: canvasRef.current.getScale(),\r\n\r\n      });\r\n      if (status == 0) {\r\n        toast.success(\"保存成功！\");\r\n      }\r\n\r\n      // 可以添加成功提示\r\n    } catch (error) {\r\n      toast.error(\"保存失败：\" + error);\r\n      console.error('Error saving design:', error);\r\n      // 可以添加错误提示\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  };\r\n  const onGenReport = async () => {\r\n    const items = canvasRef.current.getLocalItems();\r\n\r\n    let doorFlag = false, windowFlag = false;\r\n    items.forEach(item => {\r\n      if (item.data.type === 'door') {\r\n        doorFlag = true\r\n      }\r\n      if (item.data.type === 'window') {\r\n        windowFlag = true\r\n      }\r\n    })\r\n    if (!doorFlag || !windowFlag) {\r\n      toast.error(\"至少需要1个房间、1扇门和1扇窗才可测算！\", {\r\n        autoClose: false,\r\n        style: {\r\n          width: 400\r\n        }\r\n\r\n      });\r\n      return;\r\n    }\r\n    try {\r\n      await onSaveProject();\r\n      router.push(`/report?birthDateTime=${userInfo.birthDateTime}`);\r\n    } catch (e) {\r\n\r\n    }\r\n\r\n  }\r\n  const onShowTab = () => {\r\n    setShowTab(true)\r\n  }\r\n  // 处理撤销\r\n  const handleUndo = () => {\r\n    if (historyIndex > 0) {\r\n      canvasRef.current?.setActiveRoom(null);\r\n      setHistoryIndex((prev) => prev - 1);\r\n      canvasRef.current?.setLocalItems(history[historyIndex - 1]);\r\n    }\r\n  };\r\n\r\n  // 处理重做\r\n  const handleRedo = () => {\r\n    if (historyIndex < history.length - 1) {\r\n      canvasRef.current?.setActiveRoom(null);\r\n      setHistoryIndex((prev) => prev + 1);\r\n      canvasRef.current?.setLocalItems(history[historyIndex + 1]);\r\n    }\r\n  };\r\n\r\n  // 处理用户信息提交 TODO\r\n  const handleUserInfoSubmit = async (userInfo) => {\r\n    if (!session?.user?.userId) {\r\n      redirect('/auth/login');\r\n    }\r\n    setLoading(true)\r\n    setuserInfo(userInfo);\r\n\r\n    const userId = 'yunyanyr@gmail.com'\r\n    try {\r\n      const { status } = await post(`/api/users/${session.user.userId}`, {\r\n        gender: userInfo.gender,\r\n        birthDateTime: userInfo.birthDateTime.toISOString()\r\n      });\r\n      if (status == 0) {\r\n        toast.success(\"保存成功！\");\r\n        setShowUserInfoDialog(false);\r\n      }\r\n\r\n\r\n    } catch (error) {\r\n      toast.error(\"保存失败：\" + error);\r\n      console.error('Error saving user info:', error);\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  };\r\n  // if (loading) {\r\n  //   return (\r\n  //     <div className=\"flex flex-col py-25 px-5 \">\r\n  //       {/* <Skeleton className=\"h-12 w-full\" /> */}\r\n  //       <div className=\"space-y-2\">\r\n  //         <Skeleton className=\"h-6 w-full\" />\r\n  //         <Skeleton className=\"h-6 w-full\" />\r\n  //         <Skeleton className=\"h-6 w-full\" />\r\n  //         <Skeleton className=\"h-6 w-full\" />\r\n  //       </div>\r\n  //     </div>\r\n  //   );\r\n  // }\r\n  return (\r\n    <>\r\n      <ClipLoader\r\n        color={'#666'}\r\n        loading={loading}\r\n        cssOverride={{ position: 'fixed', left: '50%', top: '50%', zIndex: 60 }}\r\n        size={30}\r\n        aria-label=\"loading...\"\r\n        data-testid=\"loader\"\r\n      />\r\n\r\n      <UserInfoDialog\r\n        open={showUserInfoDialog}\r\n        onUserOpen={setShowUserInfoDialog}\r\n        onSubmit={handleUserInfoSubmit}\r\n        userInfo={userInfo}\r\n      />\r\n      {\r\n        isMobile ? (\r\n          <NavbarDesignMobile\r\n            onSaveProject={onSaveProject}\r\n            history={history}\r\n            historyIndex={historyIndex}\r\n            handleUndo={handleUndo}\r\n            handleRedo={handleRedo}\r\n            onUserOpen={setShowUserInfoDialog}\r\n          />\r\n        ) : (\r\n          <NavbarDesign onSaveProject={onSaveProject} onGenReport={onGenReport} onUserOpen={setShowUserInfoDialog} />\r\n        )\r\n      }\r\n      <div className=\"pt-16\">\r\n        <DndContext\r\n          sensors={sensors}\r\n          onDragStart={handleDragStart}\r\n          onDragOver={handleDragOver}\r\n          onDragMove={handleDragMove}\r\n        // collisionDetection={pointerWithin}\r\n        >\r\n          <div className=\"min-h-[calc(100vh-64px)] bg-gray-50\">\r\n            <div className=\"container p-0\" style={{ maxWidth: '100%' }}>\r\n              <div className=\"flex h-[calc(100vh-64px)]\">\r\n                {\r\n                  isMobile ? (\r\n                    <DragBarMobile showTab={showTab} setShowTab={setShowTab} roomItems={roomItems} furnitureItems={furnitureItems} isOverCanvas={isOverCanvas} draggingItemSize={draggingItemSize} />\r\n                  ) : (\r\n                    <DragBarPC sidebarRef={sidebarRef} roomItems={roomItems} furnitureItems={furnitureItems} isOverCanvas={isOverCanvas} draggingItemSize={draggingItemSize} />\r\n                  )\r\n                }\r\n                {/* Canvas */}\r\n                <div className=\"flex-1 overflow-auto\" id=\"canvas-drop-area\" >\r\n                  <Canvas ref={canvasRef}\r\n                    locale={locale}\r\n                    history={history}\r\n                    historyIndex={historyIndex}\r\n                    setHistory={setHistory}\r\n                    setHistoryIndex={setHistoryIndex}\r\n                    handleUndo={handleUndo}\r\n                    handleRedo={handleRedo}\r\n                    onGenReport={onGenReport}\r\n                    showTab={showTab}\r\n                    onShowTab={onShowTab} />\r\n                </div>\r\n              </div>\r\n\r\n\r\n            </div>\r\n          </div>\r\n          <DragOverlay>\r\n            {\r\n              active?.id && isOverCanvas && (\r\n                active.data.current.cateType === ITEM_TYPES.ROOM ? (\r\n                  // 房间在画布上的样式\r\n                  <div\r\n                    className=\"flex flex-col items-center justify-center bg-white/80 rounded-lg\"\r\n                    style={{\r\n                      transform: isMobile ? 'translateY(78px)' : 'translateY(0)',\r\n                      width: defaultRoomSize.width,\r\n                      height: defaultRoomSize.height,\r\n                      border: '8px solid',\r\n                      borderColor: ROOM_COLORS[roomItems.find(item => item.id === active.id)?.data.type],\r\n                      borderRadius: '8px',\r\n                    }}\r\n                  >\r\n                    <div className=\"flex flex-col items-center\">\r\n                      <Image\r\n                        className='bg-[#EFF7F4] rounded-lg'\r\n                        src={active.data.current.icon}\r\n                        alt=\"Room\"\r\n                        width={draggingItemSize}\r\n                        height={draggingItemSize}\r\n                      />\r\n\r\n                      <span className=\"mt-1 text-sm text-gray-600\">\r\n                        {active.data.current.label + (canvasRef.current.getLocalItems().filter(item => item.data.type === active.data.current.type).length + 1)}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  // 家具在画布上的样式\r\n                  <Image\r\n                    // className='bg-[#EFF7F4] rounded-lg'\r\n                    src={active.data.current.activeIcon}\r\n                    alt=\"Furniture\"\r\n                    width={active.data.current.size.width}\r\n                    height={active.data.current.size.height}\r\n                  />\r\n                )\r\n\r\n              )\r\n            }\r\n\r\n          </DragOverlay>\r\n        </DndContext>\r\n      </div>\r\n\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}