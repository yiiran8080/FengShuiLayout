{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/components/AuthProvider.jsx"],"sourcesContent":["'use client'\n\nimport { SessionProvider } from 'next-auth/react';\n\nexport default function AuthProvider({ children }) {\n    return (\n        <SessionProvider>\n            {children}\n        </SessionProvider>\n    );\n} "],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIe,SAAS,aAAa,EAAE,QAAQ,EAAE;IAC7C,qBACI,6LAAC,wIAAA,CAAA,kBAAe;kBACX;;;;;;AAGb;KANwB","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/components/PageTracker.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { usePathname } from \"next/navigation\";\n\nconst pageNames = {\n\t\"/zh-TW\": \"Home Page\",\n\t\"/zh-TW/free\": \"Free Analysis Page\",\n\t\"/zh-TW/freereport\": \"Free Report Page\",\n\t\"/zh-TW/design\": \"Design Page\",\n\t\"/zh-TW/report\": \"Report Page\",\n\t\"/zh-TW/success\": \"Success Page\",\n\t\"/zh-TW/price\": \"Pricing Page\",\n\t\"/zh-CN\": \"Home Page (CN)\",\n\t\"/zh-CN/free\": \"Free Analysis Page (CN)\",\n\t\"/zh-CN/freereport\": \"Free Report Page (CN)\",\n\t\"/zh-CN/design\": \"Design Page (CN)\",\n\t\"/zh-CN/report\": \"Report Page (CN)\",\n\t\"/zh-CN/success\": \"Success Page (CN)\",\n\t\"/zh-CN/price\": \"Pricing Page (CN)\",\n\t// Add more routes as needed\n};\n\nexport default function PageTracker() {\n\tconst pathname = usePathname();\n\n\tuseEffect(() => {\n\t\tconst trackPage = () => {\n\t\t\tif (typeof window !== \"undefined\" && window.gtag) {\n\t\t\t\tconst pageName = pageNames[pathname] || `Page: ${pathname}`;\n\n\t\t\t\t// Send page view with custom title\n\t\t\t\twindow.gtag(\"event\", \"page_view\", {\n\t\t\t\t\tpage_title: pageName,\n\t\t\t\t\tpage_location: window.location.href,\n\t\t\t\t\tpage_path: pathname,\n\t\t\t\t\tcustom_page_name: pageName,\n\t\t\t\t\tsend_to: \"G-FSF2H5X9S4\", // Explicitly specify tracking ID\n\t\t\t\t\tpage_referrer: document.referrer || \"(direct)\",\n\t\t\t\t});\n\n\t\t\t\tconsole.log(`Page tracked: ${pageName} at ${pathname}`);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\t// Retry logic for gtag availability\n\t\tlet attempts = 0;\n\t\tconst maxAttempts = 50; // 5 seconds max wait\n\n\t\tconst tryTracking = () => {\n\t\t\tif (trackPage() || attempts >= maxAttempts) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tattempts++;\n\t\t\tsetTimeout(tryTracking, 100);\n\t\t};\n\n\t\ttryTracking();\n\t}, [pathname]);\n\n\treturn null; // This component doesn't render anything\n}\n"],"names":[],"mappings":";;;AAEA;AACA;;AAHA;;;AAKA,MAAM,YAAY;IACjB,UAAU;IACV,eAAe;IACf,qBAAqB;IACrB,iBAAiB;IACjB,iBAAiB;IACjB,kBAAkB;IAClB,gBAAgB;IAChB,UAAU;IACV,eAAe;IACf,qBAAqB;IACrB,iBAAiB;IACjB,iBAAiB;IACjB,kBAAkB;IAClB,gBAAgB;AAEjB;AAEe,SAAS;;IACvB,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAE3B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACT,MAAM;mDAAY;oBACjB,IAAI,aAAkB,eAAe,OAAO,IAAI,EAAE;wBACjD,MAAM,WAAW,SAAS,CAAC,SAAS,IAAI,CAAC,MAAM,EAAE,UAAU;wBAE3D,mCAAmC;wBACnC,OAAO,IAAI,CAAC,SAAS,aAAa;4BACjC,YAAY;4BACZ,eAAe,OAAO,QAAQ,CAAC,IAAI;4BACnC,WAAW;4BACX,kBAAkB;4BAClB,SAAS;4BACT,eAAe,SAAS,QAAQ,IAAI;wBACrC;wBAEA,QAAQ,GAAG,CAAC,CAAC,cAAc,EAAE,SAAS,IAAI,EAAE,UAAU;wBACtD,OAAO;oBACR;oBACA,OAAO;gBACR;;YAEA,oCAAoC;YACpC,IAAI,WAAW;YACf,MAAM,cAAc,IAAI,qBAAqB;YAE7C,MAAM;qDAAc;oBACnB,IAAI,eAAe,YAAY,aAAa;wBAC3C;oBACD;oBACA;oBACA,WAAW,aAAa;gBACzB;;YAEA;QACD;gCAAG;QAAC;KAAS;IAEb,OAAO,MAAM,yCAAyC;AACvD;GAxCwB;;QACN,qIAAA,CAAA,cAAW;;;KADL","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/context/ImageContext.js"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\n\nconst ImageContext = createContext();\n\nexport function ImageProvider({ children }) {\n\tconst [preview, setPreview] = useState(null);\n\tconst [file, setFile] = useState(null);\n\n\t// Load image from localStorage on component mount\n\tuseEffect(() => {\n\t\ttry {\n\t\t\tconst savedPreview = localStorage.getItem(\"savedImagePreview\");\n\t\t\tif (savedPreview) {\n\t\t\t\tsetPreview(savedPreview);\n\t\t\t}\n\t\t} catch (error) {}\n\t}, []);\n\n\t// Custom setPreview function that also saves to localStorage\n\tconst setPreviewWithStorage = (newPreview) => {\n\t\tsetPreview(newPreview);\n\t\ttry {\n\t\t\tif (newPreview) {\n\t\t\t\tlocalStorage.setItem(\"savedImagePreview\", newPreview);\n\t\t\t} else {\n\t\t\t\tlocalStorage.removeItem(\"savedImagePreview\");\n\t\t\t}\n\t\t} catch (error) {}\n\t};\n\n\t// Custom setFile function that also handles preview\n\tconst setFileWithPreview = (newFile) => {\n\t\tsetFile(newFile);\n\n\t\tif (newFile) {\n\t\t\t// Create preview URL and save it\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = (e) => {\n\t\t\t\tconst previewUrl = e.target.result;\n\t\t\t\tsetPreviewWithStorage(previewUrl);\n\t\t\t};\n\t\t\treader.readAsDataURL(newFile);\n\t\t} else {\n\t\t\tsetPreviewWithStorage(null);\n\t\t}\n\t};\n\n\t// Function to clear all image data\n\tconst clearImages = () => {\n\t\tsetPreview(null);\n\t\tsetFile(null);\n\t\ttry {\n\t\t\tlocalStorage.removeItem(\"savedImagePreview\");\n\t\t} catch (error) {}\n\t};\n\n\treturn (\n\t\t<ImageContext.Provider\n\t\t\tvalue={{\n\t\t\t\tpreview,\n\t\t\t\tsetPreview: setPreviewWithStorage,\n\t\t\t\tfile,\n\t\t\t\tsetFile: setFileWithPreview,\n\t\t\t\tclearImages,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</ImageContext.Provider>\n\t);\n}\n\nexport function useImage() {\n\tconst context = useContext(ImageContext);\n\tif (!context) {\n\t\tthrow new Error(\"useImage must be used within an ImageProvider\");\n\t}\n\treturn context;\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIA,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD;AAE1B,SAAS,cAAc,EAAE,QAAQ,EAAE;;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,kDAAkD;IAClD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACT,IAAI;gBACH,MAAM,eAAe,aAAa,OAAO,CAAC;gBAC1C,IAAI,cAAc;oBACjB,WAAW;gBACZ;YACD,EAAE,OAAO,OAAO,CAAC;QAClB;kCAAG,EAAE;IAEL,6DAA6D;IAC7D,MAAM,wBAAwB,CAAC;QAC9B,WAAW;QACX,IAAI;YACH,IAAI,YAAY;gBACf,aAAa,OAAO,CAAC,qBAAqB;YAC3C,OAAO;gBACN,aAAa,UAAU,CAAC;YACzB;QACD,EAAE,OAAO,OAAO,CAAC;IAClB;IAEA,oDAAoD;IACpD,MAAM,qBAAqB,CAAC;QAC3B,QAAQ;QAER,IAAI,SAAS;YACZ,iCAAiC;YACjC,MAAM,SAAS,IAAI;YACnB,OAAO,MAAM,GAAG,CAAC;gBAChB,MAAM,aAAa,EAAE,MAAM,CAAC,MAAM;gBAClC,sBAAsB;YACvB;YACA,OAAO,aAAa,CAAC;QACtB,OAAO;YACN,sBAAsB;QACvB;IACD;IAEA,mCAAmC;IACnC,MAAM,cAAc;QACnB,WAAW;QACX,QAAQ;QACR,IAAI;YACH,aAAa,UAAU,CAAC;QACzB,EAAE,OAAO,OAAO,CAAC;IAClB;IAEA,qBACC,6LAAC,aAAa,QAAQ;QACrB,OAAO;YACN;YACA,YAAY;YACZ;YACA,SAAS;YACT;QACD;kBAEC;;;;;;AAGJ;GAjEgB;KAAA;AAmET,SAAS;;IACf,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACb,MAAM,IAAI,MAAM;IACjB;IACA,OAAO;AACR;IANgB","debugId":null}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/lib/ajax.ts"],"sourcesContent":["interface IOption {\n\turl: string;\n\tmethod: string;\n\theaders?: { [key: string]: string };\n\tbody?: any;\n\tisCached?: boolean;\n}\n\nexport interface IAjaxRes {\n\tstatus: number;\n\tmessage?: string;\n\tdata?: any;\n}\n\nasync function ajax(opt: IOption): Promise<IAjaxRes> {\n\tconst { url, method, headers = {}, body, isCached } = opt;\n\ttry {\n\t\tconst res = await fetch(url, {\n\t\t\tmethod: method.toUpperCase(),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t...headers,\n\t\t\t},\n\t\t\tbody: body ? JSON.stringify(body) : undefined,\n\t\t\tcache: isCached ? \"force-cache\" : \"no-store\",\n\t\t});\n\t\tconst resData = await res.json();\n\t\treturn resData;\n\t} catch (ex: any) {\n\t\tthrow new Error(\"ajax error \", ex.message);\n\t}\n}\n\nexport async function get(url: string, options: any) {\n\treturn await ajax({ url, method: \"GET\", ...options });\n}\n\nexport async function post(url: string, data: any) {\n\treturn await ajax({ url, method: \"POST\", body: data });\n}\n\nexport async function patch(url: string, data: any) {\n\treturn await ajax({ url, method: \"PATCH\", body: data });\n}\n\nexport async function del(url: string, data: any) {\n\treturn await ajax({ url, method: \"DELETE\", body: data });\n}\n"],"names":[],"mappings":";;;;;;AAcA,eAAe,KAAK,GAAY;IAC/B,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG;IACtD,IAAI;QACH,MAAM,MAAM,MAAM,MAAM,KAAK;YAC5B,QAAQ,OAAO,WAAW;YAC1B,SAAS;gBACR,gBAAgB;gBAChB,GAAG,OAAO;YACX;YACA,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;YACpC,OAAO,WAAW,gBAAgB;QACnC;QACA,MAAM,UAAU,MAAM,IAAI,IAAI;QAC9B,OAAO;IACR,EAAE,OAAO,IAAS;QACjB,MAAM,IAAI,MAAM,eAAe,GAAG,OAAO;IAC1C;AACD;AAEO,eAAe,IAAI,GAAW,EAAE,OAAY;IAClD,OAAO,MAAM,KAAK;QAAE;QAAK,QAAQ;QAAO,GAAG,OAAO;IAAC;AACpD;AAEO,eAAe,KAAK,GAAW,EAAE,IAAS;IAChD,OAAO,MAAM,KAAK;QAAE;QAAK,QAAQ;QAAQ,MAAM;IAAK;AACrD;AAEO,eAAe,MAAM,GAAW,EAAE,IAAS;IACjD,OAAO,MAAM,KAAK;QAAE;QAAK,QAAQ;QAAS,MAAM;IAAK;AACtD;AAEO,eAAe,IAAI,GAAW,EAAE,IAAS;IAC/C,OAAO,MAAM,KAAK;QAAE;QAAK,QAAQ;QAAU,MAAM;IAAK;AACvD","debugId":null}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/context/UserContext.js"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\nimport { useSession } from \"next-auth/react\";\nimport { get } from \"@/lib/ajax\";\n\nconst UserContext = createContext();\n\nexport function UserProvider({ children }) {\n\tconst { data: session, status: sessionStatus } = useSession();\n\tconst [userInfo, setUserInfo] = useState(null);\n\tconst [loading, setLoading] = useState(true);\n\tconst [lastUpdateTime, setLastUpdateTime] = useState(Date.now());\n\n\t// Function to fetch user data\n\tconst fetchUserData = async () => {\n\t\tif (sessionStatus === \"loading\") {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!session?.user?.userId) {\n\t\t\tsetLoading(false);\n\t\t\tsetUserInfo(null);\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tsetLoading(true);\n\t\t\tconst response = await get(`/api/users/${session.user.userId}`);\n\n\t\t\tif (response.status === 0 && response.data) {\n\t\t\t\tsetUserInfo(response.data);\n\t\t\t\tsetLastUpdateTime(Date.now());\n\t\t\t} else {\n\t\t\t\tsetUserInfo(null);\n\t\t\t}\n\t\t} catch (error) {setUserInfo(null);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\t// Fetch user data when session changes\n\tuseEffect(() => {\n\t\tfetchUserData();\n\t}, [session?.user?.userId, sessionStatus]);\n\n\t// Function to update user info and force refresh\n\tconst updateUserInfo = (newUserInfo) => {\n\t\tsetUserInfo(newUserInfo);\n\t\tsetLastUpdateTime(Date.now());\n\t};\n\n\t// Function to force refresh from API\n\tconst refreshUserInfo = async () => {\n\t\tawait fetchUserData();\n\t};\n\n\tconst contextValue = {\n\t\tuserInfo,\n\t\tsetUserInfo: updateUserInfo,\n\t\trefreshUserInfo,\n\t\tloading: loading || sessionStatus === \"loading\",\n\t\tlastUpdateTime,\n\t};\n\n\treturn (\n\t\t<UserContext.Provider value={contextValue}>\n\t\t\t{children}\n\t\t</UserContext.Provider>\n\t);\n}\n\nexport function useUser() {\n\tconst context = useContext(UserContext);\n\tif (!context) {\n\t\tthrow new Error(\"useUser must be used within a UserProvider\");\n\t}\n\treturn context;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD;AAEzB,SAAS,aAAa,EAAE,QAAQ,EAAE;;IACxC,MAAM,EAAE,MAAM,OAAO,EAAE,QAAQ,aAAa,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,aAAU,AAAD;IAC1D,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,KAAK,GAAG;IAE7D,8BAA8B;IAC9B,MAAM,gBAAgB;QACrB,IAAI,kBAAkB,WAAW;YAChC;QACD;QAEA,IAAI,CAAC,SAAS,MAAM,QAAQ;YAC3B,WAAW;YACX,YAAY;YACZ;QACD;QAEA,IAAI;YACH,WAAW;YACX,MAAM,WAAW,MAAM,CAAA,GAAA,qHAAA,CAAA,MAAG,AAAD,EAAE,CAAC,WAAW,EAAE,QAAQ,IAAI,CAAC,MAAM,EAAE;YAE9D,IAAI,SAAS,MAAM,KAAK,KAAK,SAAS,IAAI,EAAE;gBAC3C,YAAY,SAAS,IAAI;gBACzB,kBAAkB,KAAK,GAAG;YAC3B,OAAO;gBACN,YAAY;YACb;QACD,EAAE,OAAO,OAAO;YAAC,YAAY;QAC7B,SAAU;YACT,WAAW;QACZ;IACD;IAEA,uCAAuC;IACvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACT;QACD;iCAAG;QAAC,SAAS,MAAM;QAAQ;KAAc;IAEzC,iDAAiD;IACjD,MAAM,iBAAiB,CAAC;QACvB,YAAY;QACZ,kBAAkB,KAAK,GAAG;IAC3B;IAEA,qCAAqC;IACrC,MAAM,kBAAkB;QACvB,MAAM;IACP;IAEA,MAAM,eAAe;QACpB;QACA,aAAa;QACb;QACA,SAAS,WAAW,kBAAkB;QACtC;IACD;IAEA,qBACC,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAC3B;;;;;;AAGJ;GA/DgB;;QACkC,wIAAA,CAAA,aAAU;;;KAD5C;AAiET,SAAS;;IACf,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACb,MAAM,IAAI,MAAM;IACjB;IACA,OAAO;AACR;IANgB","debugId":null}}]
}