"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5226],{25446:(e,o,n)=>{n(95155),n(12115),n(60388),n(59434),n(38543),n(45493)},35226:(e,o,n)=>{n.d(o,{default:()=>C});var t=n(95155),l=n(12115),i=n(60388),r=n(66766);n(63340);var s=n(35695),a=n(44838),c=n(66474),h=n(59434);let g=async()=>{try{console.log("\uD83C\uDF0D Detecting user region...");let e=await fetch("https://ipapi.co/json/",{timeout:5e3});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let o=await e.json();console.log("\uD83C\uDF0D Geolocation data:",o);let n=o.country_code;if("CN"===n)return console.log("\uD83C\uDDE8\uD83C\uDDF3 Detected: China"),"china";if("HK"===n)return console.log("\uD83C\uDDED\uD83C\uDDF0 Detected: Hong Kong"),"hongkong";return console.log("� Detected: Other region - using Hong Kong as default"),"hongkong"}catch(e){return console.warn("⚠️ Region detection failed:",e.message),console.log("\uD83C\uDDF9\uD83C\uDDFC Falling back to Taiwan as default region"),"taiwan"}},d=()=>{try{for(let e of navigator.languages||[navigator.language||navigator.userLanguage]){let o=e.toLowerCase();if(o.includes("zh-cn")||o.includes("zh-hans"))return console.log("\uD83C\uDE38 Language detected: Simplified Chinese (China)"),"china";if(o.includes("zh-hk"))return console.log("\uD83C\uDE33 Language detected: Hong Kong Chinese"),"hongkong"}return console.log("\uD83C\uDF10 No specific Chinese locale detected, defaulting to Hong Kong"),"hongkong"}catch(e){return console.warn("⚠️ Language detection failed:",e.message),"taiwan"}},u=async()=>{console.log("\uD83D\uDE80 Starting region detection...");let e=localStorage.getItem("userRegion");if(e&&["china","hongkong"].includes(e))return console.log("\uD83D\uDCBE Using stored region preference:",e),e;let o=await g();if("hongkong"===o){let e=d();return console.log("\uD83D\uDCCD Final region selection:",e),e}return console.log("\uD83D\uDCCD Final region selection:",o),o},f=e=>{["china","hongkong"].includes(e)&&(localStorage.setItem("userRegion",e),console.log("\uD83D\uDCBE Saved region preference:",e))},m={china:{name:"China",code:"CN",currency:"CNY",symbol:"\xa5",locale:"zh-CN",prices:{basic:688,premium:1288},stripePriceIds:{basic:"price_china_basic_cny",premium:"price_china_premium_cny"},currencyPosition:"before",flag:"\uD83C\uDDE8\uD83C\uDDF3",paymentMethods:["card","alipay","wechat_pay"]},hongkong:{name:"Hong Kong",code:"HK",currency:"HKD",symbol:"HK$",locale:"zh-TW",prices:{basic:888,premium:1588},stripePriceIds:{basic:"price_hk_basic_hkd",premium:"price_hk_premium_hkd"},currencyPosition:"before",flag:"\uD83C\uDDED\uD83C\uDDF0",paymentMethods:["card","alipay_hk","octopus"]}},p=e=>m[e]||m.hongkong,y=(e,o)=>{let n=p(o),t=e.toLocaleString();return"before"===n.currencyPosition?"".concat(n.symbol).concat(t):"".concat(t).concat(n.symbol)},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{autoRedirect:o=!1,skipFirstRedirect:n=!0}=e,t=(0,i.rd)(),r=(0,i.a8)(),[s,a]=(0,l.useState)("hongkong"),[c,h]=(0,l.useState)(null),[g,d]=(0,l.useState)(!0),[m,x]=(0,l.useState)(null),[N,b]=(0,l.useState)(!1),k=r.startsWith("/zh-CN")?"zh-CN":"zh-TW",v={china:"zh-CN",hongkong:"zh-TW"};return(0,l.useEffect)(()=>{(async()=>{try{d(!0),console.log("\uD83D\uDE80 Initializing enhanced region detection...");let e=await u(),l=p(e);if(a(e),h(l),x(null),console.log("✅ Region initialized:",e),o&&!N&&!n){let o=v[e];if(o&&o!==k){console.log("\uD83D\uDD04 Auto-redirecting from ".concat(k," to ").concat(o));let e="/".concat(r.split("/").slice(2).join("/"));t.push(e,{locale:o}),b(!0)}}}catch(o){console.error("❌ Region detection failed:",o),x(o.message);let e=p("hongkong");a("hongkong"),h(e)}finally{d(!1)}})()},[o,N,n,k,r,t]),{region:s,regionConfig:c,isLoading:g,error:m,currentLocale:k,hasAutoRedirected:N,changeRegion:e=>{if(["china","hongkong"].includes(e)){let o=p(e),n=v[e];if(a(e),h(o),f(e),console.log("\uD83D\uDD04 Region changed to:",e),n&&n!==k){let e="/".concat(r.split("/").slice(2).join("/"));t.push(e,{locale:n})}}},formatPriceForRegion:e=>y(e,s),getStripePriceId:function(){var e;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"basic";return(null==c?void 0:null===(e=c.stripePriceIds)||void 0===e?void 0:e[o])||null},currency:(null==c?void 0:c.currency)||"HKD",symbol:(null==c?void 0:c.symbol)||"HK$",locale:(null==c?void 0:c.locale)||"zh-TW",flag:(null==c?void 0:c.flag)||"\uD83C\uDDED\uD83C\uDDF0"}};function N(e){let{className:o,navTextColor:n="#fff"}=e,r=(0,s.usePathname)(),g=(0,i.rd)(),{region:d,changeRegion:u,isLoading:f,currentLocale:m}=x({autoRedirect:!0,skipFirstRedirect:!0}),[p,y]=(0,l.useState)(!1);(0,l.useEffect)(()=>{y(!0)},[]);let N=r.startsWith("/zh-CN")?"zh-CN":"zh-TW",b=[{key:"china",name:"中国大陆",flag:"\uD83C\uDDE8\uD83C\uDDF3",locale:"zh-CN",currency:"CNY",symbol:"\xa5",displayText:"\uD83C\uDDE8\uD83C\uDDF3 简体中文"},{key:"hongkong",name:"香港",flag:"\uD83C\uDDED\uD83C\uDDF0",locale:"zh-TW",currency:"HKD",symbol:"HK$",displayText:"\uD83C\uDDED\uD83C\uDDF0 繁體中文"}],k=b.find(e=>e.key===d)||b[1],v=e=>{let o=b.find(o=>o.key===e);if(!o)return;u(e);let n="/".concat(r.split("/").slice(2).join("/"));g.push(n,{locale:o.locale})};return p?(0,t.jsxs)(a.rI,{children:[(0,t.jsx)(a.ty,{asChild:!0,className:(0,h.cn)("cursor-pointer flex items-center space-x-1 hover:opacity-80",o),children:(0,t.jsxs)("div",{style:{color:n},children:[(()=>{if(!p)return"\uD83C\uDF0D Loading...";if(f)return"\uD83C\uDF0D Detecting...";let e=b.find(e=>e.locale===N);return e?e.displayText:k.displayText})(),(0,t.jsx)(c.A,{className:"w-4 h-4 ml-1 inline"})]})}),(0,t.jsxs)(a.SQ,{className:"bg-white rounded-lg shadow-lg p-1 min-w-[160px]",children:[b.map(e=>(0,t.jsx)(a._2,{className:"focus:bg-inherit",children:(0,t.jsxs)("button",{onClick:()=>v(e.key),className:(0,h.cn)("w-full text-left px-4 py-2 text-sm hover:text-primary rounded text-foreground flex items-center justify-between",d===e.key&&N===e.locale?"bg-green-50 text-green-600 font-medium":""),children:[(0,t.jsx)("span",{children:e.displayText}),(0,t.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:e.symbol})]})},e.key)),!1]})]}):(0,t.jsx)("div",{className:(0,h.cn)("cursor-pointer flex items-center space-x-1 opacity-50",o),children:(0,t.jsx)("span",{style:{color:n},children:"\uD83C\uDF0D Loading..."})})}var b=n(88939),k=n(45493);n(22346);var v=n(17652);n(25446);var j=n(72877);function C(e){var o;let{from:n,backgroundColor:s="transparent"}=e,a=(0,v.c3)("Navigation"),c=(0,v.c3)("home.hero"),h=(0,i.rd)(),g=(0,i.a8)(),d=(0,b.A)(),{data:u,status:f}=(0,k.wV)(),[m,p]=(0,l.useState)(!1),y="authenticated"===f&&(null==u?void 0:null===(o=u.user)||void 0===o?void 0:o.userId),x="/home"===g,C=x?"#fff":"#000",w=e=>{let o=document.getElementById(e);o&&o.scrollIntoView({behavior:"smooth"})},T=e=>{"/home"===g?w(e):h.push("/home#".concat(e))};return(0,l.useEffect)(()=>{{let e=window.location.hash.replace("#","");e&&setTimeout(()=>{w(e)},100)}},[g]),(0,t.jsxs)("nav",{className:"absolute top-0 left-0 right-0 z-[70] h-16 ".concat(x?"":"bg-white shadow-sm"),style:{fontFamily:"Noto Serif TC, serif",backgroundColor:"transparent"===s?"transparent":"#".concat(s.replace("#",""))},children:[(0,t.jsx)("div",{className:"h-full px-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between h-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)(i.N_,{href:"/home",className:"flex items-center gap-2",children:[(0,t.jsx)(r.default,{src:x?"/images/logo/logo-white.png":"/images/logo/logo-black.png",alt:"HarmoniQ Logo",width:32,height:32,className:"w-8 h-8 mx-2"}),(0,t.jsx)("span",{className:"text-2xl font-bold mr-15",style:{fontFamily:"Noto Serif TC, serif",color:C},children:"HarmoniQ"})]}),!d&&(0,t.jsxs)("div",{className:"flex items-center gap-10 ml-6",children:[(0,t.jsx)(i.N_,{href:"/home",className:"transition-colors hover:opacity-80",style:{fontFamily:"Noto Serif TC, serif",color:C},children:a("home")}),(0,t.jsx)(i.N_,{href:"/",className:"transition-colors hover:opacity-80",style:{fontFamily:"Noto Serif TC, serif",color:C},children:a("smartChat")}),(0,t.jsx)(i.N_,{href:"/price",className:"transition-colors hover:opacity-80",style:{fontFamily:"Noto Serif TC, serif",color:C},children:a("pricing")}),(0,t.jsx)("button",{onClick:()=>T("faq"),className:"transition-colors cursor-pointer hover:opacity-80",style:{fontFamily:"Noto Serif TC, serif",color:C},children:a("faq")})]})]}),(0,t.jsxs)("div",{className:"flex items-center md:space-x-6",children:[d&&(0,t.jsx)("button",{onClick:()=>p(!m),className:"p-2 rounded-md hover:bg-gray-100 mr-2",style:{color:C},children:m?(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),!d&&(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsx)(N,{navTextColor:C})}),"loading"===f?(0,t.jsx)("div",{className:"w-6 h-6 border-2 rounded-full border-t-transparent animate-spin",style:{borderColor:C}}):y&&"login"!==n?(0,t.jsx)(j.A,{}):(0,t.jsx)(i.N_,{className:"block text-base focus:text-primary",href:"/auth/login",style:{fontFamily:"Noto Serif TC, serif",color:C},children:c("login")})]})]})}),d&&m&&(0,t.jsx)("div",{className:"absolute top-16 left-0 right-0 bg-white border-b shadow-lg z-[80]",children:(0,t.jsxs)("div",{className:"px-4 py-2 space-y-2",children:[(0,t.jsx)(i.N_,{href:"/home",className:"block py-2 px-4 text-gray-800 hover:bg-gray-100 rounded transition-colors",onClick:()=>p(!1),style:{fontFamily:"Noto Serif TC, serif"},children:a("home")}),(0,t.jsx)(i.N_,{href:"/",className:"block py-2 px-4 text-gray-800 hover:bg-gray-100 rounded transition-colors",onClick:()=>p(!1),style:{fontFamily:"Noto Serif TC, serif"},children:a("smartChat")}),(0,t.jsx)(i.N_,{href:"/price",className:"block py-2 px-4 text-gray-800 hover:bg-gray-100 rounded transition-colors",onClick:()=>p(!1),style:{fontFamily:"Noto Serif TC, serif"},children:a("pricing")}),(0,t.jsx)("button",{onClick:()=>{T("faq"),p(!1)},className:"block w-full text-left py-2 px-4 text-gray-800 hover:bg-gray-100 rounded transition-colors",style:{fontFamily:"Noto Serif TC, serif"},children:a("faq")}),(0,t.jsx)("div",{className:"border-t pt-2 mt-2",children:(0,t.jsx)(N,{navTextColor:"#000"})})]})}),d&&m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-[75]",onClick:()=>p(!1)})]})}}}]);