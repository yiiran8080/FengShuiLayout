"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1233],{14871:(e,t,o)=>{o.d(t,{A:()=>S});var a=o(95155),r=o(12115);o(66766),o(29190);var s=o(35695),l=o(69303),n=o(17652),i=o(45493),c=o(38543),d=o(27055),m=o(60470);let x=Array.from({length:100},(e,t)=>1926+t),g=Array.from({length:12},(e,t)=>t+1),h=Array.from({length:31},(e,t)=>t+1),f=Array.from({length:24},(e,t)=>t+1),u={bedroom:"bedroom",livingRoom:"living_room",diningRoom:"dining_room",kitchen:"kitchen",bathroom:"bathroom",studyRoom:"study_room",balcony:"balcony",storageRoom:"storage_room"},p={north:"north",northEast:"northEast",east:"east",center:"center",southEast:"southEast",south:"south",southWest:"southWest",west:"west",northWest:"northWest"},y=(e,t,o)=>{let a=e.split(","),r=a[0].match(/:(.*?);/)[1],s=atob(a[1]),l=s.length,n=new Uint8Array(l);for(;l--;)n[l]=s.charCodeAt(l);return new File([n],t,{type:r})},S=()=>{let e=(0,n.c3)("upload"),t=(0,s.useParams)(),o=(null==t?void 0:t.locale)||"zh-TW",[S,b]=(0,r.useState)(null),[v,F]=(0,r.useState)(null),[N,w]=(0,r.useState)(!1),[j,C]=(0,r.useState)(""),[D,T]=(0,r.useState)(""),[k,U]=(0,r.useState)(""),[R,I]=(0,r.useState)(""),[P,E]=(0,r.useState)(""),[_,A]=(0,r.useState)(""),[O,W]=(0,r.useState)(""),[L,z]=(0,r.useState)(""),[J,H]=(0,r.useState)(""),[M,B]=(0,r.useState)(!1),[G,Y]=(0,r.useState)(!1),[q,Q]=(0,r.useState)(null),[V,K]=(0,r.useState)(!1),[X,Z]=(0,r.useState)(!1);(0,r.useRef)(null);let $=(0,s.useRouter)(),{setPreview:ee,setFile:et}=(0,l.l)(),{data:eo,status:ea}=(0,i.wV)(),{userData:er,forceRefresh:es}=(0,d.J)(),el=Object.keys(u),en=Object.keys(p),ei=()=>{let t=[];if(j||t.push(e("gender")),D||t.push(e("year")),k||t.push(e("month")),R||t.push(e("day")),P||t.push(e("hour")),_||t.push(e("roomType")),O||t.push(e("direction")),t.length>0){let o=e("pleaseCompleteFields")+": "+t.join(", ");return c.oR.warning(o),!1}return!0},ec=()=>{try{localStorage.setItem("uploadPicFormData",JSON.stringify({gender:j,year:D,month:k,day:R,hour:P,roomType:_,direction:O,validationError:q})),console.log("Form data saved to localStorage")}catch(e){console.error("Error saving form data:",e)}},ed=()=>{try{let e=localStorage.getItem("uploadPicFormData");if(e){let t=JSON.parse(e);C(t.gender||""),T(t.year||""),U(t.month||""),I(t.day||""),E(t.hour||""),A(t.roomType||""),W(t.direction||""),Q(t.validationError||null),console.log("Form data loaded from localStorage")}}catch(e){console.error("Error loading form data:",e)}},em=async()=>{try{let e=sessionStorage.getItem("uploadPicFileData");if(e){let t=JSON.parse(e);if(!t.timestamp||Date.now()-t.timestamp<36e5){let e=y(t.base64,t.name,t.type),o=URL.createObjectURL(e);return b(e),F(o),et(e),ee(o),console.log("File restored from sessionStorage:",t.name),console.log("Preview URL created:",o),!0}sessionStorage.removeItem("uploadPicFileData"),console.log("Cleared old file data from sessionStorage")}}catch(e){console.error("Error loading file data:",e),sessionStorage.removeItem("uploadPicFileData")}return!1};(0,r.useEffect)(()=>((async()=>{!V&&(console.log("Initializing component, loading saved data..."),console.log("Session status:",ea),ed(),await em()?console.log("File successfully restored from storage"):console.log("No saved file found"),K(!0))})(),()=>{v&&v.startsWith("blob:")&&URL.revokeObjectURL(v)}),[]),(0,r.useEffect)(()=>{"loading"!==ea&&V&&(async()=>{S||v||(console.log("Session loaded, rechecking saved file data..."),await em()&&console.log("File restored after login"))})()},[ea,V,S,v]),(0,r.useEffect)(()=>{V&&(j||D||k||R||P||_||O)&&ec()},[j,D,k,R,P,_,O,q,V]);let ex=async()=>{if(!X){Z(!0),B(!0);try{if(!ei())return;console.log("\uD83E\uDDF9 Clearing all old saved data..."),localStorage.removeItem("uploadPicFormData"),sessionStorage.removeItem("freeReportUserData");let t="".concat(D,"-").concat(k.padStart(2,"0"),"-").concat(R.padStart(2,"0"),"T").concat(P.padStart(2,"0"),":00"),o={gender:j,birthDateTime:t,roomType:u[_],direction:p[O],furniture:L||""};sessionStorage.setItem("freeReportUserData",JSON.stringify(o)),console.log("\uD83D\uDCBE Saved FRESH userData to sessionStorage:",o),es&&es();let a=u[_],r=p[O],s=(0,m.Ay)(t,j);console.log("\uD83D\uDD2E Calculated wuxing data:",s);let l={roomType:a,direction:r,userInfo:o,generatedAt:new Date().toISOString(),reportType:"free_report",birthYear:D,nayin:s.nayin,wuxingJu:s.wuxingJu,bazi:{year:s.year,month:s.month,day:s.day,hour:s.hour},mingPalace:s.mingPalace,bodyPalace:s.bodyPalace,wuxingScale:s.wuxingScale};console.log("\uD83D\uDCCA Analysis result with calculated data:",l),await eg(a,r,{gender:j,birthDateTime:t},l),c.oR.success(e("reportGenerating")||"正在生成您的免費報告..."),$.push("/freereport?roomType=".concat(encodeURIComponent(a),"&direction=").concat(encodeURIComponent(r),"&generated=true"))}catch(t){console.error("Error in handleStart:",t),c.oR.error(e("errorGeneratingReport")||"生成報告時發生錯誤")}finally{B(!1),Z(!1)}}},eg=async(e,t,a,r)=>{try{let s=await fetch("/api/track-free-report-generation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomType:e,direction:t,userInfo:a,hasUploadedImage:!!S,imageFileName:(null==S?void 0:S.name)||null,analysisResult:r,locale:o||"zh-TW",timeSpentOnPage:0,referrer:document.referrer||"",sessionId:sessionStorage.getItem("ga_session_id")||"session_".concat(Date.now()),isAnonymous:!0})});if(s.ok){let e=await s.json();console.log("✅ Free report generation tracked:",e)}else console.error("❌ Failed to track free report generation")}catch(e){console.error("❌ Error tracking free report generation:",e)}};return(0,a.jsxs)("div",{className:"relative flex flex-col items-center justify-start w-full min-h-screen px-4 py-6 mb-10 text-center sm:px-6 md:px-8 lg:px-0",style:{backgroundImage:"url('/images/report/freebg.png')",backgroundRepeat:"no-repeat",backgroundPosition:"right center",backgroundSize:"contain"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-sm sm:hidden",style:{zIndex:1}}),(0,a.jsx)("h1",{className:"relative z-10 mt-3 mb-2 mb-4 text-2xl leading-tight md:text-3xl lg:text-4xl sm:leading-normal",style:{fontFamily:'"Noto Serif TC", serif',fontWeight:900,color:"#374A37"},children:e("modalTitle")}),(0,a.jsx)("div",{className:"relative z-10 w-full max-w-4xl mx-auto lg:right-[130px]",children:(0,a.jsxs)("div",{className:"p-1 rounded-xl",children:[(0,a.jsxs)("div",{className:"p-4 space-y-4 sm:p-6 sm:space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl md:text-3xl lg:text-4xl",style:{fontFamily:'"Noto Serif TC", serif',fontWeight:900,color:"#000000",marginBottom:"16px",textAlign:"start"},children:e("personalInfo")}),(0,a.jsx)("p",{className:"text-base md:text-lg lg:text-xl",style:{fontFamily:'"Noto Serif TC", serif',fontWeight:700,color:"#777777",marginBottom:"24px",textAlign:"start"},children:e("personalInfoDescription")}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-xl text-left md:text-2xl lg:text-3xl",style:{fontFamily:'"Noto Serif TC", serif',fontWeight:900,color:"#004F44"},children:e("gender")}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"radio",name:"gender",value:"male",checked:"male"===j,onChange:e=>C(e.target.value),className:"sr-only"}),(0,a.jsx)("div",{className:"w-6 h-6 mr-2 rounded-full",style:{backgroundColor:"male"===j?"#004F44":"#D9D9D9"}}),(0,a.jsx)("span",{className:"text-sm md:text-base",style:{fontFamily:'"Noto Serif TC", serif'},children:e("male")})]}),(0,a.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"radio",name:"gender",value:"female",checked:"female"===j,onChange:e=>C(e.target.value),className:"sr-only"}),(0,a.jsx)("div",{className:"w-6 h-6 mr-2 rounded-full",style:{backgroundColor:"female"===j?"#004F44":"#D9D9D9"}}),(0,a.jsx)("span",{className:"text-sm md:text-base",style:{fontFamily:'"Noto Serif TC", serif'},children:e("female")})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-xl text-left md:text-2xl lg:text-3xl",style:{fontFamily:'"Noto Serif TC", serif',fontWeight:900,color:"#004F44"},children:e("birthDateTime")}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:flex md:flex-wrap",children:[(0,a.jsxs)("select",{className:"px-3 py-3 text-sm border-0 sm:text-base focus:outline-none",style:{borderRadius:"100px",backgroundColor:"#FFFFFF",boxShadow:"inset 0 1px 4px rgba(0, 0, 0, 0.25)",fontFamily:'"Noto Serif TC", serif',width:"100%",maxWidth:"158px"},value:D,onChange:e=>T(e.target.value),children:[(0,a.jsx)("option",{value:"",children:e("year")}),x.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsxs)("select",{className:"px-3 py-3 text-sm border-0 sm:text-base focus:outline-none",style:{borderRadius:"100px",backgroundColor:"#FFFFFF",boxShadow:"inset 0 1px 4px rgba(0, 0, 0, 0.25)",fontFamily:'"Noto Serif TC", serif',width:"100%",maxWidth:"158px"},value:k,onChange:e=>U(e.target.value),children:[(0,a.jsx)("option",{value:"",children:e("month")}),g.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsxs)("select",{className:"px-3 py-3 text-sm border-0 sm:text-base focus:outline-none",style:{borderRadius:"100px",backgroundColor:"#FFFFFF",boxShadow:"inset 0 1px 4px rgba(0, 0, 0, 0.25)",fontFamily:'"Noto Serif TC", serif',width:"100%",maxWidth:"158px"},value:R,onChange:e=>I(e.target.value),children:[(0,a.jsx)("option",{value:"",children:e("day")}),h.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsxs)("select",{className:"px-3 py-3 text-sm border-0 sm:text-base focus:outline-none",style:{borderRadius:"100px",backgroundColor:"#FFFFFF",boxShadow:"inset 0 1px 4px rgba(0, 0, 0, 0.25)",fontFamily:'"Noto Serif TC", serif',width:"100%",maxWidth:"158px"},value:P,onChange:e=>E(e.target.value),children:[(0,a.jsx)("option",{value:"",children:e("hour")}),f.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]}),(0,a.jsx)("h2",{className:"text-2xl md:text-3xl lg:text-4xl",style:{fontFamily:'"Noto Serif TC", serif',fontWeight:900,color:"#000000",marginTop:"32px",marginBottom:"24px",justifyContent:"start",textAlign:"start"},children:e("roomData")}),(0,a.jsxs)("div",{className:"flex flex-col items-start gap-4 sm:flex-row sm:items-start",children:[(0,a.jsxs)("div",{className:"flex flex-col items-start space-y-2",children:[(0,a.jsx)("label",{className:"block text-lg text-left md:text-xl lg:text-2xl",style:{fontFamily:'"Noto Serif TC", serif',fontWeight:900,color:"#004F44"},children:e("roomType")}),(0,a.jsxs)("select",{className:"px-3 py-2 text-sm border-0 focus:outline-none sm:text-base",style:{borderRadius:"100px",backgroundColor:"#FFFFFF",boxShadow:"inset 0 1px 4px rgba(0, 0, 0, 0.25)",fontFamily:'"Noto Serif TC", serif',width:"158px"},value:_,onChange:e=>A(e.target.value),children:[(0,a.jsx)("option",{value:"",children:e("roomTypeSelect")}),el.map(t=>(0,a.jsx)("option",{value:t,children:e("roomTypes.".concat(t))},t))]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start space-y-2",children:[(0,a.jsx)("label",{className:"block text-lg text-left md:text-xl lg:text-2xl",style:{fontFamily:'"Noto Serif TC", serif',fontWeight:900,color:"#004F44"},children:e("direction")}),(0,a.jsxs)("select",{className:"px-3 py-2 text-sm border-0 focus:outline-none sm:text-base",style:{borderRadius:"100px",backgroundColor:"#FFFFFF",boxShadow:"inset 0 1px 4px rgba(0, 0, 0, 0.25)",fontFamily:'"Noto Serif TC", serif',width:"158px"},value:O,onChange:e=>W(e.target.value),children:[(0,a.jsx)("option",{value:"",children:e("directionSelect")}),en.map(t=>(0,a.jsx)("option",{value:t,children:e("directions.".concat(t))},t))]})]})]})]}),(0,a.jsx)("div",{className:"sticky bottom-0 z-10 flex flex-col items-start p-4 space-y-3 sm:p-6",children:(0,a.jsx)("button",{className:"w-full max-w-[200px] py-3 text-base font-bold text-white transition-all duration-200 rounded-lg shadow-lg sm:text-lg bg-[#004F44] hover:scale-105 hover:shadow-xl active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",onClick:ex,disabled:M||"loading"===ea,children:M?e("calculating"):"loading"===ea?e("checkingAuth")||"Checking...":e("startAnalysis")})})]})}),J&&(0,a.jsx)("div",{className:"relative z-10 w-full max-w-2xl p-4 mt-6 text-sm text-gray-800 whitespace-pre-line bg-[#004F44] rounded-lg sm:text-base",children:J}),M&&(0,a.jsx)("div",{className:"relative z-10 mt-6 text-sm text-blue-500 sm:text-base",children:e("processing")})]})}},27055:(e,t,o)=>{o.d(t,{J:()=>n,UserProvider:()=>l});var a=o(95155),r=o(12115);let s=(0,r.createContext)();function l(e){let{children:t}=e,[o,l]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(()=>{try{console.log("UserContext: Attempting to load user data...");let e=sessionStorage.getItem("freeReportUserData");if(console.log("UserContext: Checking sessionStorage for freeReportUserData:",e),e){let t={...JSON.parse(e),userId:"free_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),isFreeUser:!0};l(t),console.log("UserContext: ✅ Loaded FRESH userData from sessionStorage:",t);return}let t=localStorage.getItem("uploadPicFormData");if(console.log("UserContext: savedFormData from localStorage:",t),t){let e=JSON.parse(t);console.log("UserContext: Parsed form data:",e);let o={gender:e.gender||"female",birthDateTime:e.year&&e.month&&e.day&&e.hour?"".concat(e.year,"-").concat(e.month.padStart(2,"0"),"-").concat(e.day.padStart(2,"0"),"T").concat(e.hour.padStart(2,"0"),":00"):new Date().toISOString(),userId:"free_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),isFreeUser:!0};l(o),console.log("UserContext: ⚠️ Loaded CACHED userData from localStorage:",o)}else console.log("UserContext: No saved data found in either storage")}catch(e){console.error("UserContext: Error loading user data:",e)}i(!0),console.log("UserContext: Initialization complete")})()},[]);let c=()=>{let e=sessionStorage.getItem("freeReportUserData");if(console.log("UserContext: forceRefresh - Checking sessionStorage:",e),e){let t={...JSON.parse(e),userId:"free_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),isFreeUser:!0};l(t),console.log("UserContext: ✅ forceRefresh - Loaded FRESH userData from sessionStorage:",t);return}let t=localStorage.getItem("uploadPicFormData");if(t){let e=JSON.parse(t),o={gender:e.gender||"female",birthDateTime:e.year&&e.month&&e.day&&e.hour?"".concat(e.year,"-").concat(e.month.padStart(2,"0"),"-").concat(e.day.padStart(2,"0"),"T").concat(e.hour.padStart(2,"0"),":00"):new Date().toISOString(),userId:"free_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),isFreeUser:!0};l(o),console.log("UserContext: ⚠️ forceRefresh - Loaded CACHED userData from localStorage:",o)}};return(0,r.useEffect)(()=>{let e=e=>{"uploadPicFormData"===e.key&&(console.log("UserContext: localStorage changed, refreshing data..."),c())};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,a.jsx)(s.Provider,{value:{userData:o,setUserData:e=>{if(console.log("UserContext: Updating userData:",e),l(e),e){localStorage.removeItem("uploadPicFormData");let t={gender:e.gender,year:new Date(e.birthDateTime).getFullYear().toString(),month:(new Date(e.birthDateTime).getMonth()+1).toString(),day:new Date(e.birthDateTime).getDate().toString(),hour:new Date(e.birthDateTime).getHours().toString()};localStorage.setItem("uploadPicFormData",JSON.stringify(t)),console.log("UserContext: Saved formData to localStorage:",t)}},isInitialized:n,forceRefresh:()=>{console.log("UserContext: Force refreshing data..."),c()}},children:t})}function n(){let e=(0,r.useContext)(s);if(!e)throw Error("useUser must be used within a UserProvider");return e}},40003:(e,t,o)=>{o.d(t,{A:()=>i});var a=o(95155),r=o(60388),s=o(66766),l=o(22346),n=o(17652);function i(){let e=(0,n.c3)("home.footer"),t={contact:[{name:e("contact"),href:"/customer/contact"}],law:[{name:e("privacy"),href:"/customer/privacy"},{name:e("terms"),href:"/customer/terms"}],social:[{icon:"/images/footer/Facebook.png",href:"https://www.facebook.com/profile.php?id=61578389876952"},{icon:"/images/footer/Instagram.png",href:"https://www.instagram.com/harmoniq_fengshui/"}]};return(0,a.jsx)("footer",{className:"bg-[#004F44] text-gray-300 px-5 md:px-0",style:{fontFamily:"Noto Serif TC, serif"},children:(0,a.jsxs)("div",{className:"container px-4 mx-auto py-25",children:[(0,a.jsxs)("div",{className:"justify-center item-center text-[50px] font-bold text-white text-center mb-10",children:[(0,a.jsx)("h1",{className:"text-white",style:{fontFamily:"Noto Serif TC, serif",fontWeight:400,fontSize:"46px"},children:e("title")}),(0,a.jsx)("p",{className:"mt-2 text-white",style:{fontFamily:"Noto Serif TC, serif",fontWeight:400,fontSize:"24px"},children:e("subtitle")}),(0,a.jsx)(r.N_,{href:"/price",className:"inline-flex items-center justify-center mt-10 transition-colors hover:bg-gray-50",style:{width:"172px",height:"50px",borderRadius:"20px",backgroundColor:"white",border:"1px solid #ccc",color:"#25826C",textDecoration:"none",fontSize:"18px",fontFamily:"Noto Serif TC, serif"},children:e("button")})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-5",children:[(0,a.jsxs)("div",{className:"flex gap-12",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-4 text-xl font-semibold text-white",style:{fontFamily:"Noto Serif TC, serif"},children:e("consult")}),(0,a.jsx)("ul",{className:"space-y-2",children:t.contact.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(r.N_,{href:e.href,className:"text-xl transition-colors hover:text-white",style:{fontFamily:"Noto Serif TC, serif"},children:e.name})},e.name))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-4 text-xl font-semibold text-white",style:{fontFamily:"Noto Serif TC, serif"},children:e("law")}),(0,a.jsx)("ul",{className:"space-y-2",children:t.law.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(r.N_,{href:e.href,className:"text-xl transition-colors hover:text-white",style:{fontFamily:"Noto Serif TC, serif"},children:e.name})},e.name))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-4 text-xl font-semibold text-white min-w-30",style:{fontFamily:"Noto Serif TC, serif"},children:e("focus")}),(0,a.jsx)("div",{className:"flex space-x-4",children:t.social.map(e=>e.href?(0,a.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"transition-opacity hover:opacity-80",children:(0,a.jsx)(s.default,{src:e.icon,alt:"",width:30,height:30})},e.icon):(0,a.jsx)(s.default,{src:e.icon,alt:"",width:30,height:30},e.icon))})]})]}),(0,a.jsx)(l.Separator,{className:"mt-7.5"}),(0,a.jsx)("div",{className:"mt-5 font-semibold text-center border-t border-[#004F44] md:mt-10",style:{fontFamily:"Noto Serif TC, serif"},children:(0,a.jsxs)("p",{children:["\xa9 2025 HarmoniQ. ",e("copyright")]})})]})})}},69303:(e,t,o)=>{o.d(t,{ImageProvider:()=>n,l:()=>i});var a=o(95155),r=o(12115);let s=(0,r.createContext)(),l=(e,t,o)=>{let a=e.split(","),r=a[0].match(/:(.*?);/)[1],s=atob(a[1]),l=s.length,n=new Uint8Array(l);for(;l--;)n[l]=s.charCodeAt(l);return new File([n],t,{type:r})};function n(e){let{children:t}=e,[o,n]=(0,r.useState)(null),[i,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>((async()=>{if(!d){try{let e=sessionStorage.getItem("uploadPicFileData");if(e){let t=JSON.parse(e);if(!t.timestamp||Date.now()-t.timestamp<36e5){let e=l(t.base64,t.name,t.type),o=URL.createObjectURL(e);c(e),n(o),console.log("ImageContext: File restored from sessionStorage:",t.name),console.log("ImageContext: Preview URL created:",o)}else sessionStorage.removeItem("uploadPicFileData"),console.log("ImageContext: Cleared old file data from sessionStorage")}}catch(e){console.error("ImageContext: Error loading saved image data:",e),sessionStorage.removeItem("uploadPicFileData")}m(!0)}})(),()=>{o&&o.startsWith("blob:")&&URL.revokeObjectURL(o)}),[]);let x=e=>{o&&o.startsWith("blob:")&&URL.revokeObjectURL(o),n(e)};return(0,a.jsx)(s.Provider,{value:{preview:o,setPreview:x,file:i,setFile:e=>{c(e),!e&&o&&x(null)},isInitialized:d},children:t})}function i(){return(0,r.useContext)(s)}}}]);