"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6721],{40003:(e,t,l)=>{l.d(t,{A:()=>i});var r=l(95155),s=l(60388),a=l(66766),o=l(22346),n=l(17652);function i(){let e=(0,n.c3)("home.footer"),t={contact:[{name:e("contact"),href:"/customer/contact"}],law:[{name:e("privacy"),href:"/customer/privacy"},{name:e("terms"),href:"/customer/terms"}],social:[{icon:"/images/footer/Facebook.png",href:"https://www.facebook.com/profile.php?id=61578389876952"},{icon:"/images/footer/Instagram.png",href:"https://www.instagram.com/harmoniq_fengshui/"}]};return(0,r.jsx)("footer",{className:"bg-[#004F44] text-gray-300 px-5 md:px-0",style:{fontFamily:"Noto Serif TC, serif"},children:(0,r.jsxs)("div",{className:"container px-4 mx-auto py-25",children:[(0,r.jsxs)("div",{className:"justify-center item-center text-[50px] font-bold text-white text-center mb-10",children:[(0,r.jsx)("h1",{className:"text-white",style:{fontFamily:"Noto Serif TC, serif",fontWeight:400,fontSize:"46px"},children:e("title")}),(0,r.jsx)("p",{className:"mt-2 text-white",style:{fontFamily:"Noto Serif TC, serif",fontWeight:400,fontSize:"24px"},children:e("subtitle")}),(0,r.jsx)(s.N_,{href:"/price",className:"inline-flex items-center justify-center mt-10 transition-colors hover:bg-gray-50",style:{width:"172px",height:"50px",borderRadius:"20px",backgroundColor:"white",border:"1px solid #ccc",color:"#25826C",textDecoration:"none",fontSize:"18px",fontFamily:"Noto Serif TC, serif"},children:e("button")})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-5",children:[(0,r.jsxs)("div",{className:"flex gap-12",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"mb-4 text-xl font-semibold text-white",style:{fontFamily:"Noto Serif TC, serif"},children:e("consult")}),(0,r.jsx)("ul",{className:"space-y-2",children:t.contact.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(s.N_,{href:e.href,className:"text-xl transition-colors hover:text-white",style:{fontFamily:"Noto Serif TC, serif"},children:e.name})},e.name))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"mb-4 text-xl font-semibold text-white",style:{fontFamily:"Noto Serif TC, serif"},children:e("law")}),(0,r.jsx)("ul",{className:"space-y-2",children:t.law.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(s.N_,{href:e.href,className:"text-xl transition-colors hover:text-white",style:{fontFamily:"Noto Serif TC, serif"},children:e.name})},e.name))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"mb-4 text-xl font-semibold text-white min-w-30",style:{fontFamily:"Noto Serif TC, serif"},children:e("focus")}),(0,r.jsx)("div",{className:"flex space-x-4",children:t.social.map(e=>e.href?(0,r.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"transition-opacity hover:opacity-80",children:(0,r.jsx)(a.default,{src:e.icon,alt:"",width:30,height:30})},e.icon):(0,r.jsx)(a.default,{src:e.icon,alt:"",width:30,height:30},e.icon))})]})]}),(0,r.jsx)(o.Separator,{className:"mt-7.5"}),(0,r.jsx)("div",{className:"mt-5 font-semibold text-center border-t border-[#004F44] md:mt-10",style:{fontFamily:"Noto Serif TC, serif"},children:(0,r.jsxs)("p",{children:["\xa9 2025 HarmoniQ. ",e("copyright")]})})]})})}},69303:(e,t,l)=>{l.d(t,{ImageProvider:()=>o,l:()=>n});var r=l(95155),s=l(12115);let a=(0,s.createContext)();function o(e){let{children:t}=e,[l,o]=(0,s.useState)(null),[n,i]=(0,s.useState)(null);return(0,r.jsx)(a.Provider,{value:{preview:l,setPreview:o,file:n,setFile:i},children:t})}function n(){return(0,s.useContext)(a)}},91247:(e,t,l)=>{l.d(t,{A:()=>b});var r=l(95155),s=l(12115),a=l(66766);l(29190);var o=l(35695),n=l(69303),i=l(17652),c=l(45493),d=l(91599),m=l(38543);let x=Array.from({length:100},(e,t)=>1926+t),h=Array.from({length:12},(e,t)=>t+1),f=Array.from({length:31},(e,t)=>t+1),u=Array.from({length:24},(e,t)=>t+1),g={bedroom:"bedroom",livingRoom:"living_room",diningRoom:"dining_room",kitchen:"kitchen",bathroom:"bathroom",studyRoom:"study_room",balcony:"balcony",storageRoom:"storage_room"},p={north:"north",northEast:"northEast",east:"east",center:"center",southEast:"southEast",south:"south",southWest:"southWest",west:"west",northWest:"northWest"};function b(e){let{onResult:t}=e,l=(0,i.c3)("upload"),[b,y]=(0,s.useState)(null),[v,j]=(0,s.useState)(null),[w,N]=(0,s.useState)(!1),[M,S]=(0,s.useState)(""),[R,C]=(0,s.useState)(""),[D,k]=(0,s.useState)(""),[A,F]=(0,s.useState)(""),[T,I]=(0,s.useState)(""),[L,U]=(0,s.useState)(""),[z,O]=(0,s.useState)(""),[E,_]=(0,s.useState)(""),[B,W]=(0,s.useState)(""),[P,V]=(0,s.useState)(!1),[q,H]=(0,s.useState)(!1),[Q,G]=(0,s.useState)(null),J=(0,s.useRef)(null),K=(0,o.useRouter)(),{setPreview:X,setFile:Y}=(0,n.l)(),{data:Z}=(0,c.wV)(),$=Object.keys(g),ee=Object.keys(p);async function et(){var e;let t=g[L],l=p[z];if(!(null==Z?void 0:null===(e=Z.user)||void 0===e?void 0:e.userId)){K.replace("/auth/login");return}V(!0);try{let e="".concat(R,"-").concat(D.padStart(2,"0"),"-").concat(A.padStart(2,"0"),"T").concat(T.padStart(2,"0"),":00"),{status:r}=await (0,d.bE)("/api/users/".concat(Z.user.userId),{gender:M,birthDateTime:e});0===r?(m.oR.success("保存成功！"),K.push("/freereport?roomType=".concat(encodeURIComponent(t),"&direction=").concat(encodeURIComponent(l)))):m.oR.error("保存失败！")}catch(e){m.oR.error("保存失败："+e),console.error("Error saving user info:",e)}finally{V(!1)}}let el=e=>new Promise(t=>{let l=document.createElement("img");l.onload=()=>{let e=document.createElement("canvas"),r=e.getContext("2d"),s=Math.min(512/l.width,512/l.height);e.width=l.width*s,e.height=l.height*s,r.drawImage(l,0,0,e.width,e.height);let a=er(r.getImageData(0,0,e.width,e.height)),o=es(a);console.log("Room Detection Analysis:",{...a,finalDecision:o?"ROOM DETECTED":"NOT A ROOM",confidence:a.overallScore}),URL.revokeObjectURL(l.src),t(o)},l.onerror=()=>{console.error("Failed to load image for room detection"),URL.revokeObjectURL(l.src),t(!1)},l.src=URL.createObjectURL(e)}),er=e=>{let{data:t,width:l,height:r}=e;return{wallDetection:ea(e),floorDetection:eo(e),ceilingDetection:en(e),cornersDetection:ei(e),doorDetection:ed(e),windowDetection:ex(e),lightingAnalysis:ef(e),shadowAnalysis:eu(e),furnitureDetection:eg(e),textureAnalysis:ep(e),colorAnalysis:ey(e),perspectiveAnalysis:ev(e),depthAnalysis:ej(e),scaleAnalysis:ew(e),overallScore:0}},es=e=>{let t=0,l=0;e.wallDetection.detected&&(t+=25*e.wallDetection.confidence),l+=25,e.floorDetection.detected&&(t+=20*e.floorDetection.confidence),l+=20,e.cornersDetection.detected&&(t+=15*e.cornersDetection.confidence),l+=15,e.doorDetection.detected&&(t+=15*e.doorDetection.confidence),l+=15,e.windowDetection.detected&&(t+=10*e.windowDetection.confidence),l+=10,e.lightingAnalysis.isIndoorLighting&&(t+=10*e.lightingAnalysis.confidence),l+=10,e.shadowAnalysis.hasIndoorShadows&&(t+=8*e.shadowAnalysis.confidence),l+=8,e.furnitureDetection.detected&&(t+=12*e.furnitureDetection.confidence),l+=12,e.textureAnalysis.hasIndoorTextures&&(t+=8*e.textureAnalysis.confidence),l+=8,e.colorAnalysis.hasIndoorColors&&(t+=7*e.colorAnalysis.confidence),l+=7,e.perspectiveAnalysis.hasIndoorPerspective&&(t+=5*e.perspectiveAnalysis.confidence),l+=5,e.depthAnalysis.hasIndoorDepth&&(t+=5*e.depthAnalysis.confidence),e.overallScore=t/(l+=5)*100;let r=e.overallScore>37,s=e.wallDetection.detected||e.floorDetection.detected||e.cornersDetection.detected||e.lightingAnalysis.isIndoorLighting||e.furnitureDetection.detected;return r&&s},ea=e=>{let{data:t,width:l,height:r}=e,s=0,a=0;for(let e=10;e<l-10;e+=8){let o=0,n=null;for(let s=10;s<r-10;s+=8){let r=(s*l+e)*4,i=(t[r]+t[r+1]+t[r+2])/3;null!==n&&30>Math.abs(i-n)&&o++,n=i;let c=t[r];eN(c,t[r+1],t[r+2])&&a++}o>r/8*.6&&s++}let o=0;for(let e=.2*r;e<.8*r;e+=15){let r=0;for(let s=10;s<l-10;s+=10){let a=((e-5)*l+s)*4,o=((e+5)*l+s)*4;a>=0&&o<t.length&&Math.abs((t[a]+t[a+1]+t[a+2])/3-(t[o]+t[o+1]+t[o+2])/3)>25&&r++}r>l/10*.3&&o++}let n=s/(l/8)*.5+a/(l*r/64)*.3+o/10*.2;return{detected:n>.3,confidence:Math.min(n,1),verticalLines:s,wallTextures:a,horizontalBoundaries:o}},eo=e=>{let{data:t,width:l,height:r}=e,s=Math.floor(.6*r),a=0,o=0,n=0;for(let e=s;e<r-5;e+=6)for(let r=5;r<l-5;r+=8){let s=(e*l+r)*4,i=t[s],c=t[s+1],d=t[s+2];eM(i,c,d)&&a++;let m=(e*l+(r+8))*4;m<t.length&&25>Math.abs((i+c+d)/3-(t[m]+t[m+1]+t[m+2])/3)&&o++,n++}let i=a/n*.7+o/n*.3;return{detected:i>.25,confidence:Math.min(2*i,1),floorTextures:a,horizontalPatterns:o}},en=e=>{let{data:t,width:l,height:r}=e,s=Math.floor(.4*r),a=0,o=0,n=0;for(let e=5;e<s;e+=8)for(let s=5;s<l-5;s+=8){let i=(e*l+s)*4,c=t[i],d=t[i+1],m=t[i+2];eS(c,d,m)&&a++;let x=0;for(let a=-4;a<=4;a+=4)for(let o=-4;o<=4;o+=4){let n=s+a,i=e+o;if(n>=0&&n<l&&i>=0&&i<r){let e=(i*l+n)*4;20>Math.abs((t[e]+t[e+1]+t[e+2])/3-(c+d+m)/3)&&x++}}x>=6&&o++,n++}let i=a/n*.6+o/n*.4;return{detected:i>.2,confidence:Math.min(2.5*i,1),ceilingTextures:a,uniformAreas:o}},ei=e=>{let{data:t,width:l,height:r}=e,s=0;return[{x:0,y:0,w:.3*l,h:.3*r},{x:.7*l,y:0,w:.3*l,h:.3*r},{x:0,y:.7*r,w:.3*l,h:.3*r},{x:.7*l,y:.7*r,w:.3*l,h:.3*r}].forEach(e=>{let a=0;for(let s=0;s<20;s++){let s=e.x+Math.random()*e.w,o=e.y+Math.random()*e.h;s>=5&&s<l-5&&o>=5&&o<r-5&&(a+=ec(t,l,r,Math.floor(s),Math.floor(o)))}a/20>.3&&s++}),{detected:s>=2,confidence:s/4,cornersFound:s}},ec=(e,t,l,r,s)=>{let a=(s*t+r)*4,o=(e[a]+e[a+1]+e[a+2])/3,n=0,i=[];return[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]].forEach(a=>{let[c,d]=a,m=r+3*c,x=s+3*d;if(m>=0&&m<t&&x>=0&&x<l){let l=(x*t+m)*4,r=Math.abs(o-(e[l]+e[l+1]+e[l+2])/3);i.push(r),r>30&&n++}}),n>=4?n/8:0},ed=e=>{let{data:t,width:l,height:r}=e,s=0;for(let e=.1*r;e<.9*r;e+=12)for(let a=10;a<l-40;a+=12)em(t,l,r,a,e)>.5&&s++;return{detected:s>0,confidence:Math.min(s/3,1),doorShapes:s}},em=(e,t,l,r,s)=>{if(r+30>=t||s+60>=l)return 0;let a=0,o=0,n=0;for(let l=s;l<s+60;l+=6)for(let i=r;i<r+30;i+=6){let c=(l*t+i)*4,d=(e[c]+e[c+1]+e[c+2])/3;d<80&&a++,(i===r||i===r+30-6||l===s||l===s+60-6)&&d>100&&o++,n++}return a/n*.7+o/(.3*n)*.3},ex=e=>{let{data:t,width:l,height:r}=e,s=0;for(let e=.1*r;e<.7*r;e+=15)for(let a=10;a<l-50;a+=15)eh(t,l,r,a,e)>.4&&s++;return{detected:s>0,confidence:Math.min(s/2,1),windowShapes:s}},eh=(e,t,l,r,s)=>{if(r+50>=t||s+40>=l)return 0;let a=0,o=0;for(let l=s+5;l<s+40-5;l+=6)for(let s=r+5;s<r+50-5;s+=6){let r=(l*t+s)*4;(e[r]+e[r+1]+e[r+2])/3>150&&a++,o++}return a/o},ef=e=>{let{data:t}=e,l=0,r=0,s=0,a=0;for(let e=0;e<t.length;e+=12){let o=(t[e]+t[e+1]+t[e+2])/3;o>180?l++:o<70?r++:s++,a++}let o=l/a,n=r/a,i=s/a,c=o>.05&&o<.4&&n>.1&&n<.5&&i>.3;return{isIndoorLighting:c,confidence:c?.8:.2,brightRatio:o,darkRatio:n,mediumRatio:i}},eu=e=>{let{data:t,width:l,height:r}=e,s=0,a=0,o=0;for(let e=10;e<r-10;e+=10)for(let r=10;r<l-10;r+=10){let n=(e*l+r)*4,i=(t[n]+t[n+1]+t[n+2])/3;if(i<60){s++;let o=(e*l+(r+10))*4;o<t.length&&(t[o]+t[o+1]+t[o+2])/3>i+40&&a++}o++}let n=s/o,i=a/o,c=n>.05&&n<.4&&i>.02;return{hasIndoorShadows:c,confidence:c?.7:.3,shadowRatio:n,transitionRatio:i}},eg=e=>{let{data:t,width:l,height:r}=e,s=0,a=0,o=0;for(let e=.3*r;e<r-20;e+=15)for(let n=20;n<l-20;n+=15){let i=(e*l+n)*4,c=t[i];eR(c,t[i+1],t[i+2])&&a++,eI(t,l,r,n,e,25,20)&&s++,o++}let n=a/o*.6+s/o*.4;return{detected:n>.15,confidence:Math.min(3*n,1),furnitureColors:a,furnitureShapes:s}},ep=e=>{let{data:t,width:l,height:r}=e,s=0,a=0,o=0;for(let e=10;e<r-10;e+=12)for(let n=10;n<l-10;n+=12){let i=eb(t,l,r,n,e);"smooth"===i?s++:"patterned"===i&&a++,o++}let n=s/o,i=a/o,c=n>.2||i>.1;return{hasIndoorTextures:c,confidence:c?.6:.4,smoothRatio:n,patternedRatio:i}},eb=(e,t,l,r,s)=>{let a=0,o=0,n=[];for(let a=-3;a<=3;a+=3)for(let i=-3;i<=3;i+=3){let c=r+i,d=s+a;if(c>=0&&c<t&&d>=0&&d<l){let l=(d*t+c)*4,r=(e[l]+e[l+1]+e[l+2])/3;n.push(r),o++}}if(o>0){let e=n.reduce((e,t)=>e+t,0)/o;a=n.reduce((t,l)=>t+Math.pow(l-e,2),0)/o}return a<200?"smooth":a>800?"rough":"patterned"},ey=e=>{let{data:t}=e,l=0,r=0,s=0,a=0;for(let e=0;e<t.length;e+=16){let o=t[e],n=t[e+1],i=t[e+2];eC(o,n,i)?l++:eD(o,n,i)?r++:ek(o,n,i)&&s++,a++}let o=l/a,n=r/a,i=s/a,c=o>.3&&i<.3;return{hasIndoorColors:c,confidence:c?.7:.3,neutralRatio:o,warmRatio:n,vibrantRatio:i}},ev=e=>{let{data:t,width:l,height:r}=e,s=0;for(let e=.3*r;e<.7*r;e+=20){let r=0;for(let s=10;s<l-10;s+=10){let a=(e*l+s)*4,o=(e*l+(s+10))*4;o<t.length&&Math.abs((t[a]+t[a+1]+t[a+2])/3-(t[o]+t[o+1]+t[o+2])/3)>25&&r++}r>l/10*.3&&s++}let a=s>=2;return{hasIndoorPerspective:a,confidence:a?.6:.4,horizontalLines:s}},ej=e=>{let{data:t,width:l,height:r}=e,s=0;Math.abs(eA(t,l,r,0,.7*r,l,r)-eA(t,l,r,0,0,l,.3*r))>20&&s++;let a=0;for(let e=.2*r;e<.8*r;e+=25)for(let s=.2*l;s<.8*l;s+=25)eF(t,l,r,s,e)&&a++;a>2&&s++;let o=s>=1;return{hasIndoorDepth:o,confidence:o?.5:.3,depthCues:s}},ew=e=>{let{data:t,width:l,height:r}=e,s=0,a=0;for(let e=20;e<r-40;e+=30)for(let o=20;o<l-40;o+=30){let n=eT(t,l,r,o,e);n>10&&n<.3*l&&s++,a++}let o=s/a,n=o>.3;return{hasAppropriateScale:n,confidence:n?.5:.3,scaleRatio:o}},eN=(e,t,l)=>{let r=(e+t+l)/3,s=Math.max(e,t,l)-Math.min(e,t,l);return r>120&&r<240&&s<40},eM=(e,t,l)=>{let r=e>80&&e<180&&t>60&&t<140&&l>30&&l<100,s=30>Math.abs(e-t)&&30>Math.abs(t-l)&&(e+t+l)/3>100,a=Math.max(e,t,l)-Math.min(e,t,l)>20&&(e+t+l)/3>60;return r||s||a},eS=(e,t,l)=>{let r=Math.max(e,t,l)-Math.min(e,t,l);return(e+t+l)/3>180&&r<30},eR=(e,t,l)=>{let r=e>60&&e<160&&t>40&&t<120&&l>20&&l<80,s=Math.max(e,t,l)-Math.min(e,t,l)>15&&(e+t+l)/3>50,a=e>80&&e<140&&t>50&&t<100&&l>30&&l<70;return r||s||a},eC=(e,t,l)=>{let r=(e+t+l)/3;return 30>Math.max(Math.abs(e-r),Math.abs(t-r),Math.abs(l-r))&&r>60&&r<200},eD=(e,t,l)=>e>t&&e>l&&e>100,ek=(e,t,l)=>Math.max(e,t,l)-Math.min(e,t,l)>60,eA=(e,t,l,r,s,a,o)=>{let n=0,i=0;for(let c=s;c<o;c+=5)for(let s=r;s<a;s+=5)if(s>=0&&s<t&&c>=0&&c<l){let l=(c*t+s)*4;n+=(e[l]+e[l+1]+e[l+2])/3,i++}return i>0?n/i:0},eF=(e,t,l,r,s)=>{let a=0;for(let o=-8;o<=8;o+=4)for(let n=-8;n<=8;n+=4){let i=r+n,c=s+o;if(i>=0&&i<t&&c>=0&&c<l){let l=(c*t+i)*4,o=(s*t+r)*4;Math.abs((e[l]+e[l+1]+e[l+2])/3-(e[o]+e[o+1]+e[o+2])/3)>30&&a++}}return a>8},eT=(e,t,l,r,s)=>{let a=new Set,o=[[r,s]],n=(s*t+r)*4,i=(e[n]+e[n+1]+e[n+2])/3,c=0;for(;o.length>0&&c<100;){let[r,s]=o.pop(),n="".concat(r,",").concat(s);if(a.has(n)||r<0||r>=t||s<0||s>=l)continue;a.add(n);let d=(s*t+r)*4;25>Math.abs((e[d]+e[d+1]+e[d+2])/3-i)&&(c++,o.push([r+1,s],[r-1,s],[r,s+1],[r,s-1]))}return c},eI=(e,t,l,r,s,a,o)=>{if(r+a>=t||s+o>=l)return!1;let n=0,i=0;for(let l=0;l<a;l+=3){let a=(s*t+(r+l))*4,c=((s+o)*t+(r+l))*4;c<e.length&&(20>Math.abs((e[a]+e[a+1]+e[a+2])/3-(e[c]+e[c+1]+e[c+2])/3)&&n++,i++)}for(let l=0;l<o;l+=3){let o=((s+l)*t+r)*4,c=((s+l)*t+(r+a))*4;c<e.length&&(20>Math.abs((e[o]+e[o+1]+e[o+2])/3-(e[c]+e[c+1]+e[c+2])/3)&&n++,i++)}return i>0&&n/i>.6},eL=async e=>{let t=e.target.files[0];if(t&&("image/jpeg"===t.type||"image/png"===t.type)&&t.size<=0xa00000){H(!0),G(null);try{await el(t)?(y(t),j(URL.createObjectURL(t)),Y(t),X(URL.createObjectURL(t)),m.oR.success(l("roomDetected"))):(G(l("invalidRoomImage")),y(t),j(URL.createObjectURL(t)),Y(t),X(URL.createObjectURL(t)),m.oR.error(l("invalidRoomImage")))}catch(e){console.error("Room validation error:",e),y(t),j(URL.createObjectURL(t)),Y(t),X(URL.createObjectURL(t)),G(null)}H(!1)}else m.oR.error(l("invalidFileFormat"))};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-start w-full px-4 py-6 text-center mb-30 sm:px-6 md:px-8 lg:px-0",style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,r.jsx)("h1",{className:"mb-4 text-xl font-normal mt-10 mb-30 text-[#004f44] sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl leading-tight sm:leading-normal",children:l("title")}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full max-w-6xl gap-6 md:flex-row md:items-start lg:gap-8",children:[(0,r.jsxs)("div",{className:"w-full md:flex-1 md:max-w-5xl",children:[(0,r.jsxs)("div",{className:"h-48 sm:h-56 md:h-64 lg:h-80 rounded-lg bg-[#f7fffd] border-[#25826c] border-dashed border-2 box-border flex flex-col items-center justify-center p-4 sm:p-6 md:p-8",children:[q?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-2 border-[#318161] border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("p",{className:"text-sm text-[#004f44]",children:l("validatingImage")})]}):(0,r.jsx)("label",{className:"flex items-center justify-center w-full h-full cursor-pointer",htmlFor:"file-upload",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full gap-3 sm:gap-4 md:gap-6",children:[(0,r.jsx)(a.default,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 lg:w-16 lg:h-16",loading:"lazy",width:66,height:66,alt:"",src:"/images/report/materialsymbolsupload.svg"}),(0,r.jsx)("h3",{className:"text-sm font-normal text-center sm:text-base md:text-lg lg:text-xl xl:text-2xl text-[#004f44] px-2",children:l("uploadAction")}),(0,r.jsx)("div",{className:"text-xs text-center sm:text-sm md:text-base lg:text-lg text-[#666] px-2",children:l("fileFormat")}),(0,r.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white transition-all duration-200 bg-transparent border-none rounded-lg cursor-pointer sm:px-6 sm:py-3 md:text-base lg:text-lg bg-gradient-to-r from-[#318161] to-[#318177] hover:scale-105 active:scale-95",onClick:()=>{var e;return null===(e=J.current)||void 0===e?void 0:e.click()},children:l("browseButton")})]})}),(0,r.jsx)("input",{className:"hidden",type:"file",id:"file-upload",accept:"image/jpeg,image/png",ref:J,onChange:eL,disabled:q})]}),(0,r.jsx)("div",{className:"mt-3 text-xs text-left sm:text-sm md:text-base text-[#004f44] px-1",children:l("disclaimer")})]}),b&&(0,r.jsxs)("div",{className:"flex flex-col items-center w-full gap-4 mt-4 md:items-end md:w-auto md:mt-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg shadow-sm sm:gap-4 ".concat(Q?"bg-red-50 border-red-200":"bg-white border-gray-100"),children:[(0,r.jsx)(a.default,{className:"object-cover w-12 h-12 rounded sm:w-14 sm:h-14 md:w-16 md:h-16",loading:"lazy",width:64,height:64,alt:"",src:v}),(0,r.jsxs)("div",{className:"flex flex-col justify-center min-w-0",children:[(0,r.jsx)("div",{className:"text-sm font-medium truncate sm:text-base text-[#004f44] max-w-32 sm:max-w-40",children:b.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 sm:text-sm",children:[(b.size/1024/1024).toFixed(2)," MB"]}),Q&&(0,r.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,r.jsx)("svg",{className:"flex-shrink-0 w-3 h-3 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,r.jsx)("span",{className:"text-xs font-medium text-red-600 sm:text-sm",children:Q})]})]})]}),(0,r.jsx)("button",{onClick:()=>{y(null),j(null),Y(null),X(null),G(null),J.current&&(J.current.value="")},className:"flex items-center justify-center w-8 h-8 transition-colors rounded-full sm:w-10 sm:h-10 ".concat(Q?"bg-red-100 hover:bg-red-200":"bg-red-50 hover:bg-red-100"),children:(0,r.jsx)(a.default,{className:"w-4 h-4 sm:w-5 sm:h-5",loading:"lazy",width:20,height:20,alt:l("close"),src:"/images/linemdtrash.png"})})]})]}),b&&!Q&&(0,r.jsx)("div",{className:"flex justify-center w-full mt-8 sm:mt-10",children:(0,r.jsx)("button",{type:"button",className:"w-full max-w-xs px-6 py-3 text-base font-medium text-white transition-all duration-200 rounded-lg shadow-lg sm:w-auto sm:px-8 sm:py-4 sm:text-lg bg-gradient-to-r from-[#7BB8A9] to-[#318177] hover:scale-105 hover:shadow-xl active:scale-95",onClick:()=>N(!0),children:l("nextStep")})}),b&&Q&&(0,r.jsx)("div",{className:"flex justify-center w-full mt-8 sm:mt-10",children:(0,r.jsxs)("div",{className:"flex items-center max-w-md gap-3 px-4 py-3 text-sm text-red-700 border border-red-200 rounded-lg bg-red-50 sm:text-base",children:[(0,r.jsx)("svg",{className:"flex-shrink-0 w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:l("uploadDifferentImage")}),(0,r.jsx)("p",{className:"mt-1 text-xs text-red-600",children:l("roomImageRequired")})]})]})}),w&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-40 bg-opacity-30 backdrop-blur-sm",onClick:()=>N(!1)}),(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"relative w-full max-w-md max-h-[90vh] overflow-y-auto bg-white rounded-xl shadow-2xl",children:[(0,r.jsxs)("div",{className:"sticky top-0 z-10 flex items-center justify-between p-4 bg-white border-b rounded-t-xl sm:p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-center text-[#004f44] sm:text-xl",children:l("modalTitle")}),(0,r.jsx)("button",{className:"text-2xl text-gray-400 transition-colors hover:text-gray-600",onClick:()=>N(!1),"aria-label":l("close"),children:"\xd7"})]}),(0,r.jsxs)("div",{className:"p-4 space-y-4 sm:p-6 sm:space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-left text-[#004f44] sm:text-base",children:l("gender")}),(0,r.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-base",value:M,onChange:e=>S(e.target.value),children:[(0,r.jsx)("option",{value:"",children:l("genderSelect")}),(0,r.jsx)("option",{value:"male",children:l("male")}),(0,r.jsx)("option",{value:"female",children:l("female")})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-left text-[#004f44] sm:text-base",children:l("birthDateTime")}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-2 sm:gap-3",children:[(0,r.jsxs)("select",{className:"px-2 py-2 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-sm",value:R,onChange:e=>C(e.target.value),children:[(0,r.jsx)("option",{value:"",children:l("year")}),x.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("select",{className:"px-2 py-2 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-sm",value:D,onChange:e=>k(e.target.value),children:[(0,r.jsx)("option",{value:"",children:l("month")}),h.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("select",{className:"px-2 py-2 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-sm",value:A,onChange:e=>F(e.target.value),children:[(0,r.jsx)("option",{value:"",children:l("day")}),f.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("select",{className:"px-2 py-2 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-sm",value:T,onChange:e=>I(e.target.value),children:[(0,r.jsx)("option",{value:"",children:l("hour")}),u.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-left text-[#004f44] sm:text-base",children:l("roomType")}),(0,r.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-base",value:L,onChange:e=>U(e.target.value),children:[(0,r.jsx)("option",{value:"",children:l("roomTypeSelect")}),$.map(e=>(0,r.jsx)("option",{value:e,children:l("roomTypes.".concat(e))},e))]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-left text-[#004f44] sm:text-base",children:l("direction")}),(0,r.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-base",value:z,onChange:e=>O(e.target.value),children:[(0,r.jsx)("option",{value:"",children:l("directionSelect")}),ee.map(e=>(0,r.jsx)("option",{value:e,children:l("directions.".concat(e))},e))]})]})]}),(0,r.jsxs)("div",{className:"sticky bottom-0 z-10 p-4 space-y-3 bg-white border-t rounded-b-xl sm:p-6",children:[(0,r.jsx)("button",{className:"w-full py-3 text-base font-bold text-white transition-all duration-200 rounded-lg shadow-lg sm:text-lg bg-gradient-to-r from-[#7BB8A9] to-[#318177] hover:scale-105 hover:shadow-xl active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",onClick:et,disabled:P,children:P?l("calculating"):l("startAnalysis")}),(0,r.jsx)("button",{className:"w-full px-3 py-2 text-sm text-gray-500 transition-colors bg-transparent rounded hover:text-gray-700 hover:bg-gray-50",onClick:()=>{N(!1)},children:l("back")})]})]})})]}),B&&(0,r.jsx)("div",{className:"w-full max-w-2xl p-4 mt-6 text-sm text-gray-800 whitespace-pre-line bg-gray-100 rounded-lg sm:text-base",children:B}),P&&(0,r.jsx)("div",{className:"mt-6 text-sm text-blue-500 sm:text-base",children:l("processing")})]})}}}]);