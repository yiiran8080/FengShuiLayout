(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{2387:(e,t,a)=>{"use strict";async function s(e){let{url:t,method:a,headers:s={},body:i,isCached:r}=e;try{let e=await fetch(t,{method:a.toUpperCase(),headers:{"Content-Type":"application/json",...s},body:i?JSON.stringify(i):void 0,cache:r?"force-cache":"no-store"});return await e.json()}catch(e){throw console.log("ajax error",e),Error("ajax error ",e.message)}}async function i(e,t){return await s({url:e,method:"GET",...t})}async function r(e,t){return await s({url:e,method:"POST",body:t})}async function n(e,t){return await s({url:e,method:"PATCH",body:t})}a.d(t,{F6:()=>n,Jt:()=>i,bE:()=>r})},2437:(e,t,a)=>{"use strict";let s;a.r(t),a.d(t,{default:()=>eM});var i=a(3243),r=a(6249),n=a(5323),l=a(7416),o=a(4318),d=a(3601);function c(e){let{...t}=e;return(0,i.jsx)(l.bL,{"data-slot":"alert-dialog",...t})}function h(e){let{...t}=e;return(0,i.jsx)(l.l9,{"data-slot":"alert-dialog-trigger",...t})}function u(e){let{...t}=e;return(0,i.jsx)(l.ZL,{"data-slot":"alert-dialog-portal",...t})}function x(e){let{className:t,...a}=e;return(0,i.jsx)(l.hJ,{"data-slot":"alert-dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function p(e){let{className:t,...a}=e;return(0,i.jsxs)(u,{children:[(0,i.jsx)(x,{}),(0,i.jsx)(l.UC,{"data-slot":"alert-dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...a})]})}function g(e){let{className:t,...a}=e;return(0,i.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function m(e){let{className:t,...a}=e;return(0,i.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,o.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function f(e){let{className:t,...a}=e;return(0,i.jsx)(l.hE,{"data-slot":"alert-dialog-title",className:(0,o.cn)("text-lg font-semibold",t),...a})}function v(e){let{className:t,...a}=e;return(0,i.jsx)(l.VY,{"data-slot":"alert-dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...a})}function b(e){let{className:t,...a}=e;return(0,i.jsx)(l.rc,{className:(0,o.cn)((0,d.r)(),t,"text-white"),...a})}function y(e){let{className:t,...a}=e;return(0,i.jsx)(l.ZD,{className:(0,o.cn)((0,d.r)({variant:"outline"}),t),...a})}var w=a(4041),j=a(9126),N=a(2378),R=a.n(N),O=a(2751),I=a(4449),T=a(1238),E=a(3224),C=a(8204),A=a(6420),S=a(2326);function D(e){let{history:t,historyIndex:a,handleUndo:s,handleRedo:r,className:n}=e;return(0,i.jsxs)("div",{className:(0,o.cn)("flex items-center gap-2",n),children:[(0,i.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 ".concat(a<=0?"text-gray-300":"text-gray-600"),onClick:s,disabled:a<=0,children:(0,i.jsx)(A.A,{className:"w-4 h-4"})}),(0,i.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 ".concat(a>=t.length-1?"text-gray-300":"text-gray-600"),onClick:r,disabled:a>=t.length-1,children:(0,i.jsx)(S.A,{className:"w-4 h-4"})})]})}var z=a(217),U=a(5919),M=a(1400);let F=(0,n.forwardRef)((e,t)=>{let{items:a,onShowTab:l,showTab:d,history:u,historyIndex:x,setHistory:v,setHistoryIndex:w,handleUndo:N,handleRedo:A,onGenReport:S,locale:F}=e,k="zh-TW"===F?j.Gx:j.Qc,$=(0,z.c3)("design"),B=(0,U.A)(),[L,G]=(0,n.useState)({x:0,y:0}),[_,H]=(0,n.useState)(!1),[Y,P]=(0,n.useState)({x:0,y:0}),[W,X]=(0,n.useState)(null),[V,K]=(0,n.useState)({width:2e3,height:2e3}),[q,J]=(0,n.useState)(!1),[Q,Z]=(0,n.useState)({x:0,y:0}),[ee,et]=(0,n.useState)(null),[ea,es]=(0,n.useState)([]),[ei,er]=(0,n.useState)(!1),[en,el]=(0,n.useState)({x:0,y:0}),[eo,ed]=(0,n.useState)(null),[ec,eh]=(0,n.useState)(100),[eu,ex]=(0,n.useState)({originScale:100,isMoving:!1,pageX:0,pageY:0,pageX2:0,pageY2:0,initialDistance:0}),[ep,eg]=(0,n.useState)(0);(0,n.useImperativeHandle)(t,()=>({getLocalItems:()=>ea,setLocalItems:es,setActiveRoom:X,setIsRoomDragging:J,setDraggedRoom:et,setRoomDragStart:Z,setPosition:G,setCompassRotation:eg,getPosition:()=>L,getCompassRotation:()=>ep,getScale:()=>ec,setScale:eh}),[ea,L,ep,ec]);let em=(0,n.useRef)(null),{setNodeRef:ef}=(0,r.zM)({id:"canvas",data:{accepts:[j.w$.ROOM,j.w$.FURNITURE]}});(0,n.useEffect)(()=>{var e;s=null===(e=document.getElementById("canvas-drop-area"))||void 0===e?void 0:e.getBoundingClientRect()},[]);let ev=(e,t,a,s)=>Math.sqrt(Math.pow(a-e,2)+Math.pow(s-t,2)),eb=(0,n.useCallback)(e=>{var t,a;if(!e.target.closest('[data-room-element="true"]')&&"canvas"===e.target.id&&(0===e.button||e.touches)){if((null===(t=e.touches)||void 0===t?void 0:t.length)===2){let t=e.touches[0],a=e.touches[1],s=ev(t.pageX,t.pageY,a.pageX,a.pageY);ex(e=>({...e,isMoving:!0,pageX:t.pageX,pageY:t.pageY,pageX2:a.pageX,pageY2:a.pageY,initialDistance:s,originScale:ec}));return}X(null),H(!0),(null===(a=e.touches)||void 0===a?void 0:a.length)===1?P({x:e.touches[0].clientX-L.x,y:e.touches[0].clientY-L.y}):P({x:e.clientX-L.x,y:e.clientY-L.y})}},[L,ec]),ey=(e,t)=>{if(!e.position||!t.position)return!1;let a=20;return console.log("家具在里面",e.rotation),(-90===e.rotation||-270===e.rotation)&&(console.log("ss",e.size.width,e.size.height),a=Math.abs(e.size.width-e.size.height)/2+a),e.position.x+a>=t.position.x&&e.position.x<=t.position.x+t.size.width&&e.position.x-a+e.size.width<=t.position.x+t.size.width&&e.position.y+a>=t.position.y&&e.position.y<=t.position.y+t.size.height&&e.position.y-a+e.size.height<=t.position.y+t.size.height},ew=(0,n.useCallback)((e,t)=>{var a;if(e.stopPropagation(),J(!0),et(t),(null===(a=e.touches)||void 0===a?void 0:a.length)==1?Z({x:e.touches[0].clientX-t.position.x,y:e.touches[0].clientY-t.position.y}):Z({x:e.clientX-t.position.x,y:e.clientY-t.position.y}),t.type===j.w$.ROOM){let e=ea.map(e=>e.type===j.w$.FURNITURE&&ey(e,t)?{...e,parentId:t.id,offset:{x:e.position.x-t.position.x,y:e.position.y-t.position.y}}:{...e,parentId:null});es(ea.map(t=>e.find(e=>e.id===t.id)||t))}},[ea]),ej=(0,n.useCallback)((e,t,a)=>{var s;e.stopPropagation(),er(!0),ed(a),(null===(s=e.touches)||void 0===s?void 0:s.length)==1?el({x:e.touches[0].clientX,y:e.touches[0].clientY}):el({x:e.clientX,y:e.clientY})},[]);R().throttle(M.oR.info,3e3);let eN=e=>{var t,a,i,r,n;if(e.preventDefault(),(null===(t=e.touches)||void 0===t?void 0:t.length)===2){let t=e.touches[0],a=e.touches[1],s=ev(t.pageX,t.pageY,a.pageX,a.pageY);eu.initialDistance?s>eu.initialDistance?eI("in",1):eI("out",1):ex(e=>({...e,initialDistance:s,originScale:ec}))}else if(ei&&W&&eo){let t,s;(null===(a=e.touches)||void 0===a?void 0:a.length)==1?(t=e.touches[0].clientX-en.x,s=e.touches[0].clientY-en.y):(t=e.clientX-en.x,s=e.clientY-en.y);let r=W.size.width/W.size.height;es(ea.map(e=>{if(e.id===W.id){let a;let i={...e.size},n={...e.position};switch(eo){case"top-left":i.width=e.size.width-t,W.type===j.w$.ROOM?i.height=e.size.height-s:i.height=i.width/r,n.x=e.position.x+t,n.y=e.position.y+s;break;case"top-right":i.width=e.size.width+t,W.type===j.w$.ROOM?i.height=e.size.height-s:i.height=i.width/r,n.y=e.position.y+s;break;case"bottom-left":i.width=e.size.width-t,W.type===j.w$.ROOM?i.height=e.size.height+s:i.height=i.width/r,n.x=e.position.x+t;break;case"bottom-right":i.width=e.size.width+t,W.type===j.w$.ROOM?i.height=e.size.height+s:i.height=i.width/r}if(e.type===j.w$.ROOM?i.width>=100&&i.height>=100:e.data.type===j.x9.WINDOW?i.width>=8&&i.height>=8:i.width>=20&&i.height>=20)return{...e,size:i,position:n}}return e})),(null===(i=e.touches)||void 0===i?void 0:i.length)==1?el({x:e.touches[0].clientX,y:e.touches[0].clientY}):el({x:e.clientX,y:e.clientY})}else if(q&&ee){let t,a;(null===(r=e.touches)||void 0===r?void 0:r.length)==1?(t=e.touches[0].clientX-Q.x,a=e.touches[0].clientY-Q.y):(t=e.clientX-Q.x,a=e.clientY-Q.y),t=Math.max(0,t),a=Math.max(0,a);let s=[];if(ee.type===j.w$.ROOM){let e=ea.filter(e=>e.type===j.w$.FURNITURE&&e.parentId===ee.id).map(e=>e.id);s=ea.map(s=>{if(s.id===ee.id)return{...s,position:{x:t,y:a}};if(e.includes(s.id)){var i,r;return{...s,position:{x:t+(null===(i=s.offset)||void 0===i?void 0:i.x)||0,y:a+(null===(r=s.offset)||void 0===r?void 0:r.y)||0}}}return s})}else s=ea.map(e=>e.id===ee.id?{...e,position:{x:t,y:a}}:e);es(s)}else if(_){let t,a,i,r;(null===(n=e.touches)||void 0===n?void 0:n.length)===1?(t=e.touches[0].clientX-Y.x,a=e.touches[0].clientY-Y.y):(t=e.clientX-Y.x,a=e.clientY-Y.y),t>0&&(t=0),a>0&&(a=0),t<-1e3&&(t=-1e3),a<-1e3&&(a=-1e3),2e3+t<s.width/(ec/100)&&(i=(2e3-t)/(ec/100)),2e3+a<s.height/(ec/100)&&(r=(2e3-a)/(ec/100)),G({x:t,y:a}),K({width:i||V.width,height:r||V.height})}},eR=(0,n.useCallback)(e=>{var t,a;if((null===(t=e.touches)||void 0===t?void 0:t.length)<2&&ex(e=>({...e,isMoving:!1,initialDistance:0})),q||ei){let t,s,i;if((null===(a=e.changedTouches)||void 0===a?void 0:a.length)==1?(t=e.changedTouches[0].clientX-Q.x-L.x,s=e.changedTouches[0].clientY-Q.y-L.y):(t=e.clientX-Q.x-L.x,s=e.clientY-Q.y-L.y),ee&&!ea.some(e=>e.id===ee.id)){let e={...ee,position:{x:t/(ec/100),y:s/(ec/100)},data:{...ee.data,label:"".concat(ee.data.label)}};es(i=[...ea,e]),eO(e,i)}else i=ea;let r=u.slice(0,x+1);r.push(i),v(r),w(r.length-1)}H(!1),J(!1),et(null),er(!1),ed(null)},[q,ei,ea,u,x,Q,ee,L,eu]),eO=(e,t)=>{if(e.type===j.w$.FURNITURE){let a=t||ea,s=a.find(t=>t.type===j.w$.ROOM&&ey(e,t));if(s){let t=a.filter(t=>t.type===j.w$.FURNITURE&&t.data.type===e.data.type&&ey(t,s)).sort((e,t)=>e.position.x-t.position.x).map((t,a)=>{let i="".concat(s.data.label,"-").concat(k[e.data.type]).concat(a+1);return t.id===e.id&&(e.data.label=i,e.data.parentRoom=s),{...t,data:{...t.data,label:i,parentRoom:s}}});es(a.map(e=>t.find(t=>t.id===e.id)||e))}else{console.log("选中家具，当前未匹配到房间");let t=R().cloneDeep(a),s=t.filter(t=>t.id===e.id)[0];s&&(s.data.label="未分配-".concat(k[s.data.type]),s.data.parentRoom=null,e.data.label="未分配-".concat(k[s.data.type]),e.data.parentRoom=null,es(t))}}setTimeout(()=>{X(e)})};function eI(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("in"===e&&ec<120)t=ec+a;else if("out"===e&&ec>50)t=ec-a;else{if("reset"!==e)return;t=100}"out"===e&&K({width:(V.width-(L.x<0?L.x:0))*(1+(ec-t)/100),height:(V.height-(L.y<0?L.y:0))*(1+(ec-t)/100)}),eh(t)}(0,n.useEffect)(()=>{let e=em.current;if(e)return e.addEventListener("mousedown",eb),window.addEventListener("mousemove",eN),window.addEventListener("mouseup",eR),e.addEventListener("touchstart",eb),window.addEventListener("touchmove",eN,{passive:!1}),window.addEventListener("touchend",eR),()=>{e.removeEventListener("mousedown",eb),window.removeEventListener("mousemove",eN),window.removeEventListener("mouseup",eR),e.removeEventListener("touchstart",eb),window.removeEventListener("touchmove",eN),window.removeEventListener("touchend",eR)}},[eb,eN,eR]);let eT=(0,n.useCallback)(()=>{W&&es(ea.map(e=>{if(e.id===W.id){let t=((e.rotation||0)-45)%360;return{...e,rotation:t}}return e}))},[W,ea]),eE=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"absolute w-3 h-3 bg-white border border-red-500 cursor-nw-resize rounded-full",style:{top:-6,left:-6},onMouseDown:t=>ej(t,e,"top-left"),onTouchStart:t=>ej(t,e,"top-left")}),(0,i.jsx)("div",{className:"absolute w-3 h-3 bg-white border border-red-500 cursor-ne-resize rounded-full",style:{top:-6,right:-6},onMouseDown:t=>ej(t,e,"top-right"),onTouchStart:t=>ej(t,e,"top-right")}),(0,i.jsx)("div",{className:"absolute w-3 h-3 bg-white border border-red-500 cursor-sw-resize rounded-full",style:{bottom:-6,left:-6},onMouseDown:t=>ej(t,e,"bottom-left"),onTouchStart:t=>ej(t,e,"bottom-left")}),(0,i.jsx)("div",{className:"absolute w-3 h-3 bg-white border border-red-500 cursor-se-resize rounded-full",style:{bottom:-6,right:-6},onMouseDown:t=>ej(t,e,"bottom-right"),onTouchStart:t=>ej(t,e,"bottom-right")})]});return(0,i.jsxs)("div",{ref:e=>{em.current=e,ef(e)},className:"relative w-full min-h-[calc(100vh-64px)] overflow-hidden bg-background",children:[(0,i.jsxs)("div",{className:"fixed top-20 right-6 flex items-center gap-4 z-9",children:[!B&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(D,{history:u,historyIndex:x,handleUndo:N,handleRedo:A,className:" bg-white rounded-full shadow-lg  px-3 py-2"})}),(0,i.jsxs)("div",{className:"flex items-center gap-2 bg-white rounded-full shadow-lg px-3 py-2",children:[(0,i.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 text-gray-600",onClick:e=>eI("out"),disabled:ec<=50,children:(0,i.jsx)(O.A,{className:"w-4 h-4"})}),(0,i.jsxs)("span",{className:"text-sm font-medium text-gray-600 min-w-[48px] text-center",children:[ec,"%"]}),(0,i.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 text-gray-600",onClick:e=>eI("in"),disabled:ec>=120,children:(0,i.jsx)(I.A,{className:"w-4 h-4"})})]}),(0,i.jsxs)("div",{style:{transform:"rotate(".concat(ep,"deg)"),transition:"transform 0.3s ease-out"},onClick:()=>{eg(ep+45)},className:"flex flex-col items-center",children:[(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"N"}),(0,i.jsx)(C.default,{src:"/images/compass.png",alt:"方向",width:40,height:40,className:"cursor-pointer"})]})]}),(0,i.jsx)("div",{id:"canvas",className:"absolute cursor-move",style:{width:"".concat(V.width,"px"),height:"".concat(V.height,"px"),transform:"translate(".concat(L.x,"px, ").concat(L.y,"px)  scale(").concat(ec/100,")"),transformOrigin:"top left",backgroundImage:"radial-gradient(circle, #ddd 1px, transparent 1px)",backgroundSize:"10px 10px"},children:(0,i.jsx)("div",{className:"relative",children:ea.map(e=>e.type===j.w$.ROOM?(0,i.jsxs)("div",{"data-room-element":"true",className:"absolute ".concat((null==W?void 0:W.id)===e.id?"ring-2 ring-red-500":""," cursor-move z-100"),style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height},onClick:t=>{t.stopPropagation(),eO(e)},onMouseDown:t=>ew(t,e),onTouchStart:t=>ew(t,e),children:[W&&W.id===e.id&&(0,i.jsxs)("div",{style:{left:"50%",top:"-64px",transform:"translateX(-50%)"},className:"min-w-fit whitespace-nowrap  absolute z-1 h-[40px] rounded-4xl bg-white shadow-lg  items-center px-3 gap-2 md:flex hidden",children:[(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:[$("chosed"),"："]}),(0,i.jsxs)("div",{className:"flex flex-grow items-center gap-1",children:[(0,i.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:j.$q[W.data.type],borderRadius:"2px"}}),(0,i.jsx)("span",{className:"text-sm text-gray-600 font-bold",children:W.data.label})]}),(0,i.jsx)("button",{className:"flex-shrink-0 text-red-500",onClick:e=>{e.stopPropagation(),es(ea.filter(e=>e.id!==W.id)),X(null)},children:(0,i.jsx)(T.A,{className:"w-4 h-4 text-red-500"})})]}),(0,i.jsx)("div",{className:"w-full h-full",style:{border:e.type===j.w$.ROOM?"8px solid":"none",borderColor:e.type===j.w$.ROOM?j.$q[e.data.type]:"transparent",borderRadius:e.type===j.w$.ROOM?"8px":"0",backgroundColor:e.type===j.w$.ROOM?j.$q[e.data.type]+"80":"transparent"},children:(0,i.jsx)("div",{className:"absolute top-2 left-2 text-[14px] text-[#888888]",style:{zIndex:1},children:e.data.label})}),(null==W?void 0:W.id)===e.id&&eE(e)]},e.id):e.type===j.w$.FURNITURE?(0,i.jsxs)("div",{"data-room-element":"true",className:"absolute cursor-move z-200",style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height},onClick:t=>{t.stopPropagation(),eO(e)},onMouseDown:t=>{t.stopPropagation(),ew(t,e)},onTouchStart:t=>{t.stopPropagation(),ew(t,e)},children:[W&&W.id===e.id&&(0,i.jsxs)("div",{style:{left:"50%",top:"-64px",transform:"translateX(-50%)"},className:"min-w-fit whitespace-nowrap absolute z-1 h-[40px] rounded-4xl bg-white shadow-lg  items-center px-3 gap-2 md:flex hidden",children:[(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:[$("chosed"),"："]}),(0,i.jsxs)("div",{className:"flex flex-grow items-center gap-1",children:[W.data.parentRoom&&(0,i.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:j.$q[W.data.parentRoom.data.type],borderRadius:"2px"}}),(0,i.jsx)("span",{className:"text-sm text-gray-600 font-bold",children:W.data.label})]}),(0,i.jsx)("button",{className:"flex-shrink-0",onClick:e=>{e.stopPropagation(),eT()},children:(0,i.jsx)(E.A,{className:"w-4 h-4"})}),(0,i.jsx)("button",{className:"flex-shrink-0 text-red-500 hover:text-red-600 transition-colors",onClick:e=>{e.stopPropagation(),es(ea.filter(e=>e.id!==W.id)),X(null)},children:(0,i.jsx)(T.A,{className:"w-4 h-4 text-red-500"})})]}),(null==W?void 0:W.id)===e.id&&eE(e),(0,i.jsx)(C.default,{draggable:"false",className:(null==W?void 0:W.id)===e.id?"ring-2 ring-red-500":"",style:{transform:e.rotation?"rotate(".concat(e.rotation,"deg)"):"none",transformOrigin:"center"},src:e.activeIcon,alt:"Furniture",width:e.size.width,height:e.size.height})]},e.id):void 0)})}),W&&(0,i.jsxs)("div",{className:(0,o.cn)("min-w-fit whitespace-nowrap fixed  left-1/2 -translate-x-1/2 h-10 rounded-4xl bg-white shadow-lg flex items-center px-3 gap-2 md:hidden",d?"bottom-85":"bottom-22.5 "),children:[(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:[$("chosed"),"："]}),(0,i.jsxs)("div",{className:"flex flex-grow items-center gap-1",children:[(0,i.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:j.$q[W.data.parentRoom?W.data.parentRoom.data.type:W.data.type],borderRadius:"2px"}}),(0,i.jsx)("span",{className:"text-sm text-gray-600 font-bold",children:W.data.label})]}),W.type===j.w$.FURNITURE&&(0,i.jsxs)("button",{className:"flex-shrink-0",onClick:e=>{e.stopPropagation(),eT()},children:[" ",(0,i.jsx)(E.A,{className:"w-4 h-4"})]}),(0,i.jsx)("button",{className:"flex-shrink-0 text-red-500 hover:text-red-600 transition-colors",onClick:e=>{e.stopPropagation(),es(ea.filter(e=>e.id!==W.id)),X(null)},children:(0,i.jsx)(T.A,{className:"w-4 h-4 text-red-500"})})]}),(0,i.jsxs)("div",{className:"fixed z-50 bottom-6 left-0 px-2 gap-4 w-full bg-transparent flex items-center justify-between  md:hidden",children:[!d&&(0,i.jsx)("button",{onClick:l,className:"border-primary border-1 font-bold w-4/5 py-3 bg-white text-foreground rounded-[100px] text-sm",children:$("showTab")}),(0,i.jsxs)(c,{children:[(0,i.jsxs)(h,{className:(0,o.cn)("inline-flex font-bold py-3 bg-button-gradient text-white rounded-[100px] text-sm items-center justify-center gap-0",d?"w-full ":"w-4/5"),children:[$("cta"),(0,i.jsx)(C.default,{src:"/images/hero/star.png",alt:"arrow",width:15,height:16})]}),(0,i.jsxs)(p,{children:[(0,i.jsx)(g,{children:(0,i.jsx)(f,{children:$("alert")})}),(0,i.jsxs)(m,{children:[(0,i.jsx)(y,{children:$("cancel")}),(0,i.jsx)(b,{onClick:S,children:$("ok")})]})]})]})]})]})});var k=a(2420),$=a.n(k),B=a(2249),L=a(8052),G=a(9536),_=a(3379),H=a(6205);function Y(){var e,t;let{data:a}=(0,_.wV)(),[s,r]=(0,n.useState)(!1);return(null==a?void 0:null===(e=a.user)||void 0===e?void 0:e.name)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-[#6a84f8] rounded-full text-center cursor-pointer",onClick:()=>{r(!0)},children:(0,i.jsx)("span",{className:"text-white font-bold text-xl",children:null==a?void 0:null===(t=a.user)||void 0===t?void 0:t.name.slice(0,1).toUpperCase()})}),(0,i.jsx)(H.A,{isOpen:s,setIsOpen:r})]})}function P(e){let{onSaveProject:t,onGenReport:a,onUserOpen:s}=e,{isMobile:r}=(0,U.A)(),n=(0,z.c3)("design");return(0,i.jsx)("nav",{className:"bg-white h-16 border-b-gray-100 border-b-2 fixed top-0 left-0 right-0 z-10",children:(0,i.jsx)("div",{className:"mx-auto px-4 h-full",children:(0,i.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,i.jsx)($(),{href:"/",className:"text-2xl font-bold text-primary",children:"HarmoniQ"}),(0,i.jsxs)("div",{className:"flex items-center space-x-4 text-foreground  gap-3",children:[(0,i.jsx)(B.A,{className:"text-foreground"}),(0,i.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:t,children:[(0,i.jsx)(L.A,{className:"w-4 h-4"}),"保存 "]}),(0,i.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:()=>s(!0),children:[(0,i.jsx)(G.A,{className:"w-4 h-4"}),n("profile")," "]}),(0,i.jsxs)(c,{children:[(0,i.jsxs)(h,{className:"inline-flex px-4 py-1 bg-button-gradient text-white rounded-full hover:bg-primary/90 transition-colors items-center gap-2",children:[n("cta"),(0,i.jsx)("span",{className:"text-lg",children:"✨"})]}),(0,i.jsxs)(p,{children:[(0,i.jsx)(g,{children:(0,i.jsx)(f,{children:n("alert")})}),(0,i.jsxs)(m,{children:[(0,i.jsx)(y,{children:n("cancel")}),(0,i.jsx)(b,{onClick:a,children:n("ok")})]})]})]}),(0,i.jsx)(Y,{})]})]})})})}var W=a(643),X=a(7311);function V(e){let{onSaveProject:t,history:a,historyIndex:s,handleUndo:r,handleRedo:l,onUserOpen:o}=e,[d,c]=(0,n.useState)(!1),h=(0,z.c3)("design");return(0,i.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-50",children:[(0,i.jsx)("nav",{className:"bg-white h-16 border-b-gray-100 border-b-2 ",children:(0,i.jsx)("div",{className:"mx-auto px-4 h-full",children:(0,i.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4 text-foreground  gap-3",children:[(0,i.jsx)(D,{history:a,historyIndex:s,handleUndo:r,handleRedo:l}),(0,i.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:t,children:[(0,i.jsx)(L.A,{className:"w-4 h-4"})," "]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-4 text-foreground  gap-3",children:[(0,i.jsx)("span",{className:"flex items-center gap-1 cursor-pointer",children:(0,i.jsx)(W.A,{className:"w-4 h-4",onClick:()=>c(!0)})}),(0,i.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",children:[(0,i.jsx)(G.A,{className:"w-4 h-4",onClick:()=>o(!0)})," "]}),(0,i.jsx)(Y,{})]})]})})}),d&&(0,i.jsxs)("div",{className:"h-8 w-full bg-[#E5F4FF] px-6 py-3 flex justify-between items-center",children:[(0,i.jsxs)("span",{className:"text-[12px] text-foreground flex items-center gap-1",children:[(0,i.jsx)(W.A,{className:"w-4 h-4 text-[#888]"}),h("warning")]}),(0,i.jsx)(X.A,{className:"w-4 h-4 text-[#888]",onClick:()=>c(!1)})]})]})}function K(e){let{id:t,type:a,data:s,children:n,isOverCanvas:l}=e,{attributes:o,listeners:d,setNodeRef:c,transform:h,isDragging:u}=(0,r.PM)({id:t,data:{type:a,...s}}),x=h?{transform:"translate3d(".concat(h.x,"px, ").concat(h.y,"px, 0)"),opacity:u&&!l?.5:u&&l?0:1,position:"relative",zIndex:u?1e3:1,visibility:"visible"}:{};return(0,i.jsxs)("div",{className:"relative z-0 w-22.5",children:[(0,i.jsx)("div",{className:"absolute  -z-1 w-22.5 top-0 left-0",children:n}),(0,i.jsx)("div",{ref:c,...d,...o,className:"cursor-move",style:{...x},children:n})]})}a(5574);var q=a(8999);function J(e){let{className:t,children:a,...s}=e;return(0,i.jsxs)(q.bL,{"data-slot":"scroll-area",className:(0,o.cn)("relative",t),...s,children:[(0,i.jsx)(q.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:a}),(0,i.jsx)(Q,{}),(0,i.jsx)(q.OK,{})]})}function Q(e){let{className:t,orientation:a="vertical",...s}=e;return(0,i.jsx)(q.VM,{"data-slot":"scroll-area-scrollbar",orientation:a,className:(0,o.cn)("flex touch-none p-px transition-colors select-none visible","vertical"===a&&"h-full w-2.5 border-l border-l-transparent","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent",t),...s,children:(0,i.jsx)(q.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Z(e){let{sidebarRef:t,roomItems:a,furnitureItems:s,isOverCanvas:r,draggingItemSize:n}=e,l=(0,z.c3)("design");return(0,i.jsx)(J,{className:"h-[calc(100vh-64px)] w-1/6",children:(0,i.jsxs)("div",{ref:t,className:"md:block hidden  bg-white p-4 shadow border-r-gray-100 border-r-2",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:l("room")}),(0,i.jsx)("div",{className:"grid 2xl:grid-cols-3 xl:grid-cols-2 gap-2",children:a.map(e=>(0,i.jsx)(K,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,i.jsx)(C.default,{className:" bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:n,height:n,priority:!0})}),(0,i.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:e.data.label})]})},e.id))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:l("furniture")}),(0,i.jsx)("div",{className:"grid 2xl:grid-cols-3 xl:grid-cols-2 gap-2",children:s.map(e=>(0,i.jsx)(K,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,i.jsx)(C.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:n,height:n,priority:!0})}),(0,i.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:e.data.label})]})},e.id))})]})]})})}var ee=a(9282),et=a(2247);function ea(e){let{className:t,...a}=e;return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(ee.bL,{"data-slot":"tabs",className:(0,o.cn)("flex flex-col gap-2",t),...a}),(0,i.jsx)(et.A,{className:"w-4 h-4 absolute top-2.5 right-5",onClick:()=>a.setShowTab(!1)})]})}function es(e){let{className:t,...a}=e;return(0,i.jsx)(ee.B8,{"data-slot":"tabs-list",className:(0,o.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...a})}function ei(e){let{className:t,...a}=e;return(0,i.jsx)(ee.l9,{"data-slot":"tabs-trigger",className:(0,o.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function er(e){let{className:t,...a}=e;return(0,i.jsx)(ee.UC,{"data-slot":"tabs-content",className:(0,o.cn)("flex-1 outline-none",t),...a})}var en=a(3263);function el(e){let{showTab:t,setShowTab:a,roomItems:s,furnitureItems:r,isOverCanvas:l,draggingItemSize:d}=e,[c,h]=(0,n.useState)(""),u=(0,z.c3)("design");return(0,n.useEffect)(()=>{h("room")},[]),(0,i.jsx)("div",{style:{boxShadow:"0 -1px 5px 0px rgba(0, 0, 0, 0.2)"},className:(0,o.cn)("fixed bottom-0 left-0 z-10 w-full pb-20 pl-0 pr-2 bg-white md:hidden rounded-t-2xl transition-transform duration-300 ease-in-out",t?"translate-y-0":"translate-y-full"),children:(0,i.jsxs)(ea,{value:c,className:"w-full gap-4",setShowTab:a,onValueChange:e=>h(e),children:[(0,i.jsxs)(es,{className:"mx-auto bg-white gap-8",children:[(0,i.jsx)(ei,{defaultValue:!0,value:"room",className:"rounded-[3px] text-[12px] font-bold data-[state=active]:shadow-none data-[state=active]:border-b-4 data-[state=active]:border-b-primary",children:u("room")}),(0,i.jsx)(ei,{value:"furniture",className:"rounded-[3px] text-[12px] font-bold data-[state=active]:shadow-none data-[state=active]:border-b-4 data-[state=active]:border-b-primary",children:u("furniture")})]}),(0,i.jsx)(er,{value:"room",className:"w-full pb-3 overflow-hidden",children:(0,i.jsxs)(en.FN,{children:[(0,i.jsxs)(en.Wk,{children:[(0,i.jsx)(en.A7,{children:(0,i.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:s.slice(0,8).map(e=>(0,i.jsx)(K,{id:e.id,type:e.type,data:e.data,isOverCanvas:l,children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,i.jsx)(C.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d,priority:!0})}),(0,i.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,i.jsx)(en.A7,{children:(0,i.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:s.slice(8).map(e=>(0,i.jsx)(K,{id:e.id,type:e.type,data:e.data,isOverCanvas:l,children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,i.jsx)(C.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d,priority:!0})}),(0,i.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})})]}),(0,i.jsx)(en.Q8,{className:"left-0 "}),(0,i.jsx)(en.Oj,{className:"right-0"})]})}),(0,i.jsx)(er,{value:"furniture",className:"w-full pb-3 overflow-hidden",children:(0,i.jsxs)(en.FN,{children:[(0,i.jsxs)(en.Wk,{children:[(0,i.jsx)(en.A7,{children:(0,i.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:r.slice(0,8).map(e=>(0,i.jsx)(K,{id:e.id,type:e.type,data:e.data,isOverCanvas:l,children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,i.jsx)(C.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d})}),(0,i.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,i.jsx)(en.A7,{children:(0,i.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:r.slice(8,16).map(e=>(0,i.jsx)(K,{id:e.id,type:e.type,data:e.data,isOverCanvas:l,children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,i.jsx)(C.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d})}),(0,i.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,i.jsx)(en.A7,{children:(0,i.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:r.slice(16).map(e=>(0,i.jsx)(K,{id:e.id,type:e.type,data:e.data,isOverCanvas:l,children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,i.jsx)(C.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d})}),(0,i.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})})]}),(0,i.jsx)(en.Q8,{className:"left-0 "}),(0,i.jsx)(en.Oj,{className:"right-0"})]})})]})})}var eo=a(2387),ed=a(6900);function ec(e){let{...t}=e;return(0,i.jsx)(ed.bL,{"data-slot":"dialog",...t})}function eh(e){let{...t}=e;return(0,i.jsx)(ed.ZL,{"data-slot":"dialog-portal",...t})}function eu(e){let{className:t,...a}=e;return(0,i.jsx)(ed.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function ex(e){let{className:t,children:a,...s}=e;return(0,i.jsxs)(eh,{"data-slot":"dialog-portal",children:[(0,i.jsx)(eu,{}),(0,i.jsxs)(ed.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...s,children:[a,(0,i.jsxs)(ed.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,i.jsx)(X.A,{}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ep(e){let{className:t,...a}=e;return(0,i.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function eg(e){let{className:t,...a}=e;return(0,i.jsx)(ed.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",t),...a})}var em=a(3286),ef=a(4013),ev=a(3386),eb=a(1293);function ey(e){let{className:t,...a}=e;return(0,i.jsx)(ev.bL,{"data-slot":"radio-group",className:(0,o.cn)("grid gap-3",t),...a})}function ew(e){let{className:t,...a}=e;return(0,i.jsx)(ev.q7,{"data-slot":"radio-group-item",className:(0,o.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,i.jsx)(ev.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,i.jsx)(eb.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var ej=a(2945);function eN(e){let{className:t,...a}=e;return(0,i.jsx)(ej.b,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}var eR=a(4307);let eO=Array.from({length:100},(e,t)=>(2025-t).toString()),eI=Array.from({length:12},(e,t)=>(t+1).toString().padStart(2,"0")),eT=Array.from({length:31},(e,t)=>(t+1).toString().padStart(2,"0")),eE=Array.from({length:24},(e,t)=>t.toString().padStart(2,"0")),eC={years:eO,months:eI,days:eT,hours:eE};function eA(e){let{tHour:t,onChange:a}=e,[s,r]=(0,n.useState)({years:"1996",months:"04",days:"15",hours:"12"});(0,n.useEffect)(()=>{e.value&&r({years:e.value[0],months:e.value[1],days:e.value[2],hours:e.value[3]})},[e.value]);let l=(e,a)=>{switch(a){case"years":return e+"年";case"months":return e+"月";case"days":return e+"日";case"hours":return e+t}};return(0,i.jsx)(eR.A,{value:s,onChange:e=>{r(e),a&&a([e.years,e.months,e.days,e.hours])},children:Object.keys(eC).map(e=>(0,i.jsx)(eR.A.Column,{name:e,children:eC[e].map(t=>(0,i.jsx)(eR.A.Item,{value:t,children:l(t,e)},t))},e))})}function eS(e){let{open:t,onUserOpen:a,onSubmit:s,userInfo:r}=e,l=(0,z.c3)("design"),o=(0,U.A)(),[c,h]=(0,n.useState)("男"),[u,x]=(0,n.useState)("1996"),[p,g]=(0,n.useState)("03"),[m,f]=(0,n.useState)("12"),[v,b]=(0,n.useState)("22");(0,n.useEffect)(()=>{if(r&&(h(r.gender||"male"),r.birthDateTime)){let e=new Date(r.birthDateTime);x(e.getFullYear().toString()),g((e.getMonth()+1).toString().padStart(2,"0")),f(e.getDate().toString().padStart(2,"0")),b(e.getHours().toString().padStart(2,"0"))}},[r]);let y=()=>{s({gender:c,birthDateTime:new Date(parseInt(u),parseInt(p)-1,parseInt(m),parseInt(v))})},w=e=>{e&&(x(e[0]),g(e[1]),f(e[2]),b(e[3]))};return(0,i.jsx)(ec,{open:t,onOpenChange:a,children:(0,i.jsxs)(ex,{className:"sm:max-w-[432px]",children:[(0,i.jsxs)(ep,{children:[(0,i.jsxs)(eg,{className:"text-lg md:text-xl font-bold md:text-left text-center",children:[" ",l("profile")," "]}),(0,i.jsx)("div",{className:"py-4 text-sm md:text-base  text-left",children:l("tip")})]}),(0,i.jsx)(em.Separator,{className:"md:hidden"}),(0,i.jsxs)("div",{className:"grid gap-4 pb-4",children:[o?(0,i.jsx)(()=>(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)(eN,{className:"text-base",children:"性别"}),(0,i.jsxs)("div",{className:"flex bg-gray-200 p-1 rounded-[6px]  ",children:[(0,i.jsx)("button",{style:{boxShadow:"0 1px 5px 0px rgba(0, 0, 0, 0.3)"},className:"rounded-[6px] px-4 py-1 ".concat("male"===c?"bg-white":"transparent"),onClick:()=>h("male"),children:"男"}),(0,i.jsx)("button",{className:"rounded-[6px] px-4 py-1 ".concat("female"===c?"bg-white":"transparent"),onClick:()=>h("female"),children:"女"})]})]}),{}):(0,i.jsx)(()=>(0,i.jsxs)("div",{className:"space-y-2 pb-4",children:[(0,i.jsx)(eN,{className:"font-bold pb-2 text-base",children:"性别"}),(0,i.jsxs)(ey,{value:c,onValueChange:h,className:"flex space-x-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(ew,{value:"male",id:"male"}),(0,i.jsx)(eN,{htmlFor:"male",children:"男"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(ew,{value:"female",id:"female"}),(0,i.jsx)(eN,{htmlFor:"female",children:"女"})]})]})]}),{}),(0,i.jsx)(em.Separator,{className:"md:hidden"}),o?(0,i.jsx)(()=>(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between pb-4",children:[(0,i.jsx)(eN,{className:"text-base",children:"出生日期"}),(0,i.jsx)("span",{children:"".concat(u,"年").concat(p,"月").concat(m,"日").concat(v).concat(l("hour"))})]}),(0,i.jsx)(em.Separator,{}),(0,i.jsx)(eA,{tHour:l("hour"),onChange:w,value:[u,p,m,v]}),(0,i.jsx)(em.Separator,{})]}),{}):(0,i.jsx)(()=>(0,i.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(eN,{className:"font-bold pb-4 text-base",children:"年"}),(0,i.jsxs)(ef.l6,{value:u,onValueChange:x,children:[(0,i.jsx)(ef.bq,{className:"w-24",children:(0,i.jsx)(ef.yv,{placeholder:"年"})}),(0,i.jsx)(ef.gC,{children:eO.map(e=>(0,i.jsxs)(ef.eb,{value:e,children:[e,"年"]},e))})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(eN,{className:"font-bold pb-4 text-base",children:"月"}),(0,i.jsxs)(ef.l6,{value:p,onValueChange:g,children:[(0,i.jsx)(ef.bq,{className:"w-24",children:(0,i.jsx)(ef.yv,{placeholder:"月"})}),(0,i.jsx)(ef.gC,{children:eI.map(e=>(0,i.jsxs)(ef.eb,{value:e,children:[e,"月"]},e))})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(eN,{className:"font-bold pb-4 text-base",children:"日"}),(0,i.jsxs)(ef.l6,{value:m,onValueChange:f,children:[(0,i.jsx)(ef.bq,{className:"w-20",children:(0,i.jsx)(ef.yv,{placeholder:"日"})}),(0,i.jsx)(ef.gC,{children:eT.map(e=>(0,i.jsxs)(ef.eb,{value:e,children:[e,"日"]},e))})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(eN,{className:"font-bold pb-4 text-base",children:["小",l("hour")]}),(0,i.jsxs)(ef.l6,{value:v,onValueChange:b,children:[(0,i.jsx)(ef.bq,{className:"w-20",children:(0,i.jsx)(ef.yv,{placeholder:l("hour")})}),(0,i.jsx)(ef.gC,{children:eE.map(e=>(0,i.jsxs)(ef.eb,{value:e,children:[e,l("hour")]},e))})]})]})]}),{}),o?(0,i.jsxs)("div",{className:"flex justify-around",children:[(0,i.jsx)(d.$,{onClick:()=>{a(!1)},className:"px-10 border-1 border-[#ccc] text-foreground rounded-[100px] bg-white font-bold mt-10",children:"取消"}),(0,i.jsx)(d.$,{onClick:y,className:"px-10 bg-[#13ab87] font-bold mt-10 rounded-[100px]",children:"保存"})]}):(0,i.jsx)(d.$,{onClick:y,className:"w-full bg-[#13ab87] font-bold mt-10 rounded-[100px]",children:"保存"})]})]})})}var eD=a(304),ez=a.n(eD);let eU={[j.sR.LIVING_ROOM]:"#F0DF9C",[j.sR.DINING_ROOM]:"#F5D4BC",[j.sR.STORAGE_ROOM]:"#ADC0BC",[j.sR.STUDY_ROOM]:"#B0B8C9",[j.sR.BEDROOM]:"#F5B8B8",[j.sR.BATHROOM]:"#C1D7E2",[j.sR.KITCHEN]:"#EDE0C6",[j.sR.BALCONY]:"#D0DCAA",[j.sR.GARDEN]:"#AACDBC",[j.sR.GARAGE]:"#C7C7DD",[j.sR.CORRIDOR]:"#CDCDCD"};function eM(e){var t,a;let{params:s}=e,l=(0,n.use)(s).locale,o=(0,z.c3)("design"),d="zh-TW"===l?j.t7:j.Xs,h="zh-TW"===l?j.Gx:j.Qc,u=[{id:"door-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.DOOR,label:h[j.x9.DOOR],icon:"/images/fur-icon/door.png",activeIcon:"/images/fur-icon/door-gr.png",size:{width:40,height:40}}},{id:"window-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.WINDOW,label:h[j.x9.WINDOW],icon:"/images/fur-icon/window.png",activeIcon:"/images/fur-icon/window-gr.png",size:{width:8,height:56}}},{id:"table-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.TABLE,label:h[j.x9.TABLE],icon:"/images/fur-icon/table.png",activeIcon:"/images/fur-icon/table-gr.png",size:{width:44,height:120}}},{id:"chair-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.CHAIR,label:h[j.x9.CHAIR],icon:"/images/fur-icon/chair.png",activeIcon:"/images/fur-icon/chair-gr.png",size:{width:28,height:35}}},{id:"sofa-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.SOFA,label:h[j.x9.SOFA],icon:"/images/fur-icon/sofa.png",activeIcon:"/images/fur-icon/sofa-gr.png",size:{width:67,height:123}}},{id:"bed-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.BED,label:h[j.x9.BED],icon:"/images/fur-icon/bed.png",activeIcon:"/images/fur-icon/bed-gr.png",size:{width:89,height:128}}},{id:"lamp-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.LAMP,label:h[j.x9.LAMP],icon:"/images/fur-icon/lamp.png",activeIcon:"/images/fur-icon/lamp-gr.png",size:{width:70,height:128}}},{id:"tv-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.TV,label:h[j.x9.TV],icon:"/images/fur-icon/tv.png",activeIcon:"/images/fur-icon/tv-gr.png",size:{width:134,height:32}}},{id:"bookshelf-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.BOOKSHELF,label:h[j.x9.BOOKSHELF],icon:"/images/fur-icon/bookshelf.png",activeIcon:"/images/fur-icon/bookshelf-gr.png",size:{width:44,height:44}}},{id:"wardrobe-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.WARDROBE,label:h[j.x9.WARDROBE],icon:"/images/fur-icon/wardrobe.png",activeIcon:"/images/fur-icon/wardrobe-gr.png",size:{width:40,height:129}}},{id:"plant-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.PLANT,label:h[j.x9.PLANT],icon:"/images/fur-icon/plant.png",activeIcon:"/images/fur-icon/plant-gr.png",size:{width:36,height:36}}},{id:"fridge-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.FRIDGE,label:h[j.x9.FRIDGE],icon:"/images/fur-icon/fridge.png",activeIcon:"/images/fur-icon/fridge-gr.png",size:{width:40,height:43}}},{id:"stove-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.STOVE,label:h[j.x9.STOVE],icon:"/images/fur-icon/stove.png",activeIcon:"/images/fur-icon/stove-gr.png",size:{width:62,height:32}}},{id:"sink-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.SINK,label:h[j.x9.SINK],icon:"/images/fur-icon/sink.png",activeIcon:"/images/fur-icon/sink-gr.png",size:{width:60,height:40}}},{id:"washbasin-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.WASHBASIN,label:h[j.x9.WASHBASIN],icon:"/images/fur-icon/washbasin.png",activeIcon:"/images/fur-icon/washbasin-gr.png",size:{width:50,height:50}}},{id:"toilet-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.TOILET,label:h[j.x9.TOILET],icon:"/images/fur-icon/toilet.png",activeIcon:"/images/fur-icon/toilet-gr.png",size:{width:40,height:60}}},{id:"shower-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.SHOWER,label:h[j.x9.SHOWER],icon:"/images/fur-icon/shower.png",activeIcon:"/images/fur-icon/shower-gr.png",size:{width:80,height:80}}},{id:"bathtub-template",type:j.w$.FURNITURE,data:{cateType:j.w$.FURNITURE,type:j.x9.BATHTUB,label:h[j.x9.BATHTUB],icon:"/images/fur-icon/bathtub.png",activeIcon:"/images/fur-icon/bathtub-gr.png",size:{width:120,height:60}}}],x=(0,r.FR)((0,r.MS)(r.IG,{tolerance:50}),(0,r.MS)(r.cA,{activationConstraint:{distance:10}})),N=(0,w.useRouter)(),[R,O]=(0,n.useState)(null),[I,T]=(0,n.useState)(!1),[E,A]=(0,n.useState)(0),[S,D]=(0,n.useState)(!1),[k,$]=(0,n.useState)([[]]),[B,L]=(0,n.useState)(0),[G,H]=(0,n.useState)(!1),[Y,W]=(0,n.useState)({}),[X,K]=(0,n.useState)(!1),q=(0,n.useRef)(null),J=(0,n.useRef)(null),Q=(0,U.A)(),ee=Q?48:56,et=Q?{width:200,height:200}:{width:300,height:300},[ea,es]=(0,n.useState)(!1),[ei,er]=(0,n.useState)(""),en=[{id:"living-room",type:j.w$.ROOM,data:{cateType:j.w$.ROOM,type:j.sR.LIVING_ROOM,label:d[j.sR.LIVING_ROOM],icon:"/images/room-icon/living_room.png",size:et}},{id:"dining-room",type:j.w$.ROOM,data:{cateType:j.w$.ROOM,type:j.sR.DINING_ROOM,label:d[j.sR.DINING_ROOM],icon:"/images/room-icon/dining_room.png",size:et}},{id:"storage-room",type:j.w$.ROOM,data:{cateType:j.w$.ROOM,type:j.sR.STORAGE_ROOM,label:d[j.sR.STORAGE_ROOM],icon:"/images/room-icon/storage_room.png",size:et}},{id:"study-room",type:j.w$.ROOM,data:{cateType:j.w$.ROOM,type:j.sR.STUDY_ROOM,label:d[j.sR.STUDY_ROOM],icon:"/images/room-icon/study_room.png",size:et}},{id:"bedroom",type:j.w$.ROOM,data:{cateType:j.w$.ROOM,type:j.sR.BEDROOM,label:d[j.sR.BEDROOM],icon:"/images/room-icon/bedroom.png",size:et}},{id:"bathroom",type:j.w$.ROOM,data:{cateType:j.w$.ROOM,type:j.sR.BATHROOM,label:d[j.sR.BATHROOM],icon:"/images/room-icon/bathroom.png",size:et}},{id:"kitchen",type:j.w$.ROOM,data:{cateType:j.w$.ROOM,type:j.sR.KITCHEN,label:d[j.sR.KITCHEN],icon:"/images/room-icon/kitchen.png",size:et}},{id:"balcony",type:j.w$.ROOM,data:{cateType:j.w$.ROOM,type:j.sR.BALCONY,label:d[j.sR.BALCONY],icon:"/images/room-icon/balcony.png",size:et}},{id:"garden",type:j.w$.ROOM,data:{cateType:j.w$.ROOM,type:j.sR.GARDEN,label:d[j.sR.GARDEN],icon:"/images/room-icon/garden.png",size:et}},{id:"garage",type:j.w$.ROOM,data:{cateType:j.w$.ROOM,type:j.sR.GARAGE,label:d[j.sR.GARAGE],icon:"/images/room-icon/garage.png",size:et}},{id:"corridor",type:j.w$.ROOM,data:{cateType:j.w$.ROOM,type:j.sR.CORRIDOR,label:d[j.sR.CORRIDOR],icon:"/images/room-icon/corridor.png",size:et}}],{data:ed}=(0,_.wV)();(0,n.useEffect)(()=>{let e=()=>{J.current&&A(J.current.offsetWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,n.useEffect)(()=>{(async()=>{var e,t,a,s,i;let r=null==ed?void 0:null===(e=ed.user)||void 0===e?void 0:e.userId;if(r)try{K(!0);let{status:e,message:n,data:l}=await (0,eo.Jt)("/api/users/".concat(r)),{status:o,message:d,data:c}=await (0,eo.Jt)("/api/design/".concat(r));if(0!==e){M.oR.error("查询用户错误:"+n);return}if(0!==o){M.oR.error("查询布局错误:"+d);return}W(l),H(!0);let{localItems:h=[],scale:u=100,canvasPosition:x={x:0,y:0},compassRotation:p=0}=c,g=h.map(e=>({...e,type:e._type,data:{...e.data,type:e.data._type}}));null===(t=q.current)||void 0===t||t.setLocalItems(g),null===(a=q.current)||void 0===a||a.setPosition(x),null===(s=q.current)||void 0===s||s.setCompassRotation(p),null===(i=q.current)||void 0===i||i.setScale(u),K(!1)}catch(e){K(!1),M.oR.error("加载布局错误:"+e),console.error("Error loading design:",e)}})()},[null==ed?void 0:null===(t=ed.user)||void 0===t?void 0:t.userId]);let ec=(e,t)=>{let{over:a}=e,s=(null==a?void 0:a.id)==="canvas";if(T(s),s){let e=q.current.getLocalItems(),a="".concat(R.data.current.label).concat(e.filter(e=>e.data.type===R.data.current.type).length+1),s={id:"".concat(R.data.current.type,"-").concat(e.filter(e=>e.data.type===R.data.current.type).length+1),type:R.data.current.cateType,data:{...R.data.current,label:R.data.current.cateType===j.w$.ROOM?a:""},size:R.data.current.size,activeIcon:R.data.current.activeIcon};q.current.setIsRoomDragging(!0),q.current.setRoomDragStart(t),q.current.setDraggedRoom(s)}else q.current.setIsRoomDragging(!1)},eh=async()=>{var e;(null==ed?void 0:null===(e=ed.user)||void 0===e?void 0:e.userId)||(0,w.redirect)("/auth/login");try{K(!0);let{status:e}=await (0,eo.bE)("/api/design/".concat(ed.user.userId),{localItems:q.current.getLocalItems(),canvasPosition:q.current.getPosition(),compassRotation:q.current.getCompassRotation(),scale:q.current.getScale()});0==e&&M.oR.success("保存成功！")}catch(e){M.oR.error("保存失败："+e),console.error("Error saving design:",e)}finally{K(!1)}},eu=async()=>{var e;(null==ed?void 0:null===(e=ed.user)||void 0===e?void 0:e.userId)||(0,w.redirect)("/auth/login");let t=ed.user.userId,a=q.current.getLocalItems(),s=!1,i=!1;if(a.forEach(e=>{"door"===e.data.type&&(s=!0),"window"===e.data.type&&(i=!0)}),!s||!i){M.oR.error(o("warning"),{autoClose:!1,style:{width:400}});return}try{let{status:e,data:a}=await (0,eo.Jt)("/api/reportUserDoc/".concat(t,"/").concat("zh-CN"==l?"zh":"tw"));a?es(!0):(await eh(),N.push("/report?birthDateTime=".concat(new Date(Y.birthDateTime).toISOString())))}catch(e){}},ex=async()=>{var e;(null==ed?void 0:null===(e=ed.user)||void 0===e?void 0:e.userId)||(0,w.redirect)("/auth/login");let t=ed.user.userId;await eh();try{es(!1),K(!0);let{status:e}=await (0,eo.F6)("/api/reportUserDoc/".concat(t),{isDelete:1});K(!1),0==e&&N.push("/report?birthDateTime=".concat(new Date(Y.birthDateTime).toISOString()))}catch(e){}},ep=()=>{if(B>0){var e,t;null===(e=q.current)||void 0===e||e.setActiveRoom(null),L(e=>e-1),null===(t=q.current)||void 0===t||t.setLocalItems(k[B-1])}},eg=()=>{if(B<k.length-1){var e,t;null===(e=q.current)||void 0===e||e.setActiveRoom(null),L(e=>e+1),null===(t=q.current)||void 0===t||t.setLocalItems(k[B+1])}},em=async e=>{var t;(null==ed?void 0:null===(t=ed.user)||void 0===t?void 0:t.userId)||(0,w.redirect)("/auth/login"),K(!0),W(e);try{let{status:t}=await (0,eo.bE)("/api/users/".concat(ed.user.userId),{gender:e.gender,birthDateTime:e.birthDateTime.toISOString()});0==t&&(M.oR.success("保存成功！"),H(!1))}catch(e){M.oR.error("保存失败："+e),console.error("Error saving user info:",e)}finally{K(!1)}};return(0,i.jsx)(n.Suspense,{fallback:(0,i.jsx)("div",{children:"loading..."}),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ez(),{color:"#666",loading:X,cssOverride:{position:"fixed",left:"50%",top:"50%",zIndex:60},size:30,"aria-label":"loading...","data-testid":"loader"}),(0,i.jsx)(eS,{open:G,onUserOpen:H,onSubmit:em,userInfo:Y}),Q?(0,i.jsx)(V,{onSaveProject:eh,history:k,historyIndex:B,handleUndo:ep,handleRedo:eg,onUserOpen:H}):(0,i.jsx)(P,{onSaveProject:eh,onGenReport:eu,onUserOpen:H}),(0,i.jsx)("div",{className:"pt-16",children:(0,i.jsxs)(r.Mp,{sensors:x,onDragStart:e=>{let{active:t}=e;O(t),T(!1)},onDragOver:e=>{Q||ec(e,{x:E,y:ee})},onDragMove:e=>{Q&&e.delta.y<-120&&ec(e,{x:0,y:50})},children:[(0,i.jsx)("div",{className:"min-h-[calc(100vh-64px)] bg-gray-50",children:(0,i.jsx)("div",{className:"container p-0",style:{maxWidth:"100%"},children:(0,i.jsxs)("div",{className:"flex h-[calc(100vh-64px)]",children:[Q?(0,i.jsx)(el,{showTab:S,setShowTab:D,roomItems:en,furnitureItems:u,isOverCanvas:I,draggingItemSize:ee}):(0,i.jsx)(Z,{sidebarRef:J,roomItems:en,furnitureItems:u,isOverCanvas:I,draggingItemSize:ee}),(0,i.jsx)("div",{className:"flex-1 overflow-auto",id:"canvas-drop-area",children:(0,i.jsx)(F,{ref:q,locale:l,history:k,historyIndex:B,setHistory:$,setHistoryIndex:L,handleUndo:ep,handleRedo:eg,onGenReport:eu,showTab:S,onShowTab:()=>{D(!0)}})})]})})}),(0,i.jsx)(r.Hd,{children:(null==R?void 0:R.id)&&I&&(R.data.current.cateType===j.w$.ROOM?(0,i.jsx)("div",{className:"flex flex-col items-center justify-center bg-white/80 rounded-lg",style:{transform:Q?"translateY(78px)":"translateY(0)",width:et.width,height:et.height,border:"8px solid",borderColor:eU[null===(a=en.find(e=>e.id===R.id))||void 0===a?void 0:a.data.type],borderRadius:"8px"},children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)(C.default,{className:"bg-[#EFF7F4] rounded-lg",src:R.data.current.icon,alt:"Room",width:ee,height:ee}),(0,i.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:R.data.current.label+(q.current.getLocalItems().filter(e=>e.data.type===R.data.current.type).length+1)})]})}):(0,i.jsx)(C.default,{src:R.data.current.activeIcon,alt:"Furniture",width:R.data.current.size.width,height:R.data.current.size.height}))})]})}),(0,i.jsx)(c,{open:ea,onOpenChange:es,children:(0,i.jsxs)(p,{children:[(0,i.jsxs)(g,{children:[(0,i.jsx)(f,{children:o("hasReportAlert")}),(0,i.jsx)(v,{children:o("description")})]}),(0,i.jsxs)(m,{children:[(0,i.jsx)(y,{children:o("cancel")}),(0,i.jsx)(b,{onClick:()=>{es(!1),N.push("/report")},children:o("readReport")}),(0,i.jsx)(b,{onClick:ex,children:o("coverReport")})]})]})})]})})}},3263:(e,t,a)=>{"use strict";a.d(t,{A7:()=>p,FN:()=>u,Oj:()=>m,Q8:()=>g,Wk:()=>x});var s=a(3243),i=a(5323),r=a(9920),n=a(772),l=a(2893),o=a(4318),d=a(3601);let c=i.createContext(null);function h(){let e=i.useContext(c);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let u=i.forwardRef((e,t)=>{let{orientation:a="horizontal",opts:n,setApi:l,plugins:d,className:h,children:u,...x}=e,[p,g]=(0,r.A)({...n,axis:"horizontal"===a?"x":"y"},d),[m,f]=i.useState(!1),[v,b]=i.useState(!1),y=i.useCallback(e=>{e&&(f(e.canScrollPrev()),b(e.canScrollNext()))},[]),w=i.useCallback(()=>{null==g||g.scrollPrev()},[g]),j=i.useCallback(()=>{null==g||g.scrollNext()},[g]),N=i.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),w()):"ArrowRight"===e.key&&(e.preventDefault(),j())},[w,j]);return i.useEffect(()=>{g&&l&&l(g)},[g,l]),i.useEffect(()=>{if(g)return y(g),g.on("reInit",y),g.on("select",y),()=>{null==g||g.off("select",y)}},[g,y]),(0,s.jsx)(c.Provider,{value:{carouselRef:p,api:g,opts:n,orientation:a||((null==n?void 0:n.axis)==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:j,canScrollPrev:m,canScrollNext:v},children:(0,s.jsx)("div",{ref:t,onKeyDownCapture:N,className:(0,o.cn)("relative",h),role:"region","aria-roledescription":"carousel",...x,children:u})})});u.displayName="Carousel";let x=i.forwardRef((e,t)=>{let{className:a,...i}=e,{carouselRef:r,orientation:n}=h();return(0,s.jsx)("div",{ref:r,className:"overflow-hidden",children:(0,s.jsx)("div",{ref:t,className:(0,o.cn)("flex","horizontal"===n?"-ml-4":"-mt-4 flex-col",a),...i})})});x.displayName="CarouselContent";let p=i.forwardRef((e,t)=>{let{className:a,...i}=e,{orientation:r}=h();return(0,s.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,o.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",a),...i})});p.displayName="CarouselItem";let g=i.forwardRef((e,t)=>{let{className:a,variant:i="outline",size:r="icon",...l}=e,{orientation:c,scrollPrev:u,canScrollPrev:x}=h();return(0,s.jsxs)(d.$,{ref:t,variant:i,size:r,className:(0,o.cn)("absolute  h-8 w-8 rounded-full","horizontal"===c?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!x,onClick:u,...l,children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});g.displayName="CarouselPrevious";let m=i.forwardRef((e,t)=>{let{className:a,variant:i="outline",size:r="icon",...n}=e,{orientation:c,scrollNext:u,canScrollNext:x}=h();return(0,s.jsxs)(d.$,{ref:t,variant:i,size:r,className:(0,o.cn)("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!x,onClick:u,...n,children:[(0,s.jsx)(l.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Next slide"})]})});m.displayName="CarouselNext"},3601:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,r:()=>l});var s=a(3243);a(5323);var i=a(7843),r=a(3944),n=a(4318);let l=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:r,asChild:o=!1,...d}=e,c=o?i.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,n.cn)(l({variant:a,size:r,className:t})),...d})}},6034:(e,t,a)=>{Promise.resolve().then(a.bind(a,2437))},9126:(e,t,a)=>{"use strict";a.d(t,{$q:()=>c,Gx:()=>l,Qc:()=>n,Xs:()=>o,sR:()=>i,t7:()=>d,w$:()=>s,x9:()=>r});let s={ROOM:"room",FURNITURE:"furniture"},i={LIVING_ROOM:"living_room",DINING_ROOM:"dining_room",STORAGE_ROOM:"storage_room",STUDY_ROOM:"study_room",BEDROOM:"bedroom",BATHROOM:"bathroom",KITCHEN:"kitchen",BALCONY:"balcony",GARDEN:"garden",GARAGE:"garage",CORRIDOR:"corridor"},r={BED:"bed",SOFA:"sofa",TABLE:"table",CHAIR:"chair",CABINET:"cabinet",TV:"tv",LAMP:"lamp",DOOR:"door",WINDOW:"window",BOOKSHELF:"bookshelf",WARDROBE:"wardrobe",PLANT:"plant",FRIDGE:"fridge",STOVE:"stove",SINK:"sink",WASHBASIN:"washbasin",TOILET:"toilet",SHOWER:"shower",BATHTUB:"bathtub"},n={[r.DOOR]:"门",[r.WINDOW]:"窗",[r.TABLE]:"枱",[r.CHAIR]:"椅子",[r.SOFA]:"沙发",[r.BED]:"床",[r.LAMP]:"儿童床",[r.TV]:"电视",[r.BOOKSHELF]:"茶几",[r.WARDROBE]:"柜",[r.PLANT]:"植物",[r.FRIDGE]:"冰箱",[r.STOVE]:"炉具",[r.SINK]:"锌盘",[r.WASHBASIN]:"洗手盘",[r.TOILET]:"马桶",[r.SHOWER]:"淋浴",[r.BATHTUB]:"浸浴"},l={[r.DOOR]:"門",[r.WINDOW]:"窗",[r.TABLE]:"枱",[r.CHAIR]:"椅子",[r.SOFA]:"沙發",[r.BED]:"床",[r.LAMP]:"兒童床",[r.TV]:"電視",[r.BOOKSHELF]:"茶几",[r.WARDROBE]:"櫃",[r.PLANT]:"植物",[r.FRIDGE]:"冰箱",[r.STOVE]:"爐具",[r.SINK]:"锌盘",[r.WASHBASIN]:"洗手盤",[r.TOILET]:"馬桶",[r.SHOWER]:"淋浴",[r.BATHTUB]:"浸浴"},o={[i.LIVING_ROOM]:"客厅",[i.DINING_ROOM]:"饭厅",[i.STORAGE_ROOM]:"杂物房",[i.STUDY_ROOM]:"书房",[i.BEDROOM]:"睡房",[i.BATHROOM]:"浴室",[i.KITCHEN]:"厨房",[i.BALCONY]:"阳台",[i.GARDEN]:"花园",[i.GARAGE]:"车库",[i.CORRIDOR]:"走廊"},d={[i.LIVING_ROOM]:"客廳",[i.DINING_ROOM]:"飯廳",[i.STORAGE_ROOM]:"雜物房",[i.STUDY_ROOM]:"書房",[i.BEDROOM]:"睡房",[i.BATHROOM]:"浴室",[i.KITCHEN]:"廚房",[i.BALCONY]:"陽台",[i.GARDEN]:"花園",[i.GARAGE]:"車庫",[i.CORRIDOR]:"走廊"},c={[i.LIVING_ROOM]:"#F0DF9C",[i.DINING_ROOM]:"#F5D4BC",[i.STORAGE_ROOM]:"#ADC0BC",[i.STUDY_ROOM]:"#B0B8C9",[i.BEDROOM]:"#F5B8B8",[i.BATHROOM]:"#C1D7E2",[i.KITCHEN]:"#EDE0C6",[i.BALCONY]:"#D0DCAA",[i.GARDEN]:"#AACDBC",[i.GARAGE]:"#C7C7DD",[i.CORRIDOR]:"#CDCDCD"}}},e=>{var t=t=>e(e.s=t);e.O(0,[265,376,400,379,60,204,828,888,357,638,72,358],()=>t(6034)),_N_E=e.O()}]);