(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{17313:(e,t,i)=>{"use strict";i.d(t,{Xi:()=>d,av:()=>c,j7:()=>l,tU:()=>r});var o=i(95155);i(12115);var n=i(60704),a=i(66474),s=i(59434);function r(e){let{className:t,...i}=e;return(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(n.bL,{"data-slot":"tabs",className:(0,s.cn)("flex flex-col gap-2",t),...i}),i.setShowTab&&(0,o.jsx)(a.A,{className:"w-4 h-4 absolute top-2.5 right-5",onClick:()=>i.setShowTab(!1)})]})}function l(e){let{className:t,...i}=e;return(0,o.jsx)(n.B8,{"data-slot":"tabs-list",className:(0,s.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...i})}function d(e){let{className:t,...i}=e;return(0,o.jsx)(n.l9,{"data-slot":"tabs-trigger",className:(0,s.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function c(e){let{className:t,...i}=e;return(0,o.jsx)(n.UC,{"data-slot":"tabs-content",className:(0,s.cn)("flex-1 outline-none",t),...i})}},30285:(e,t,i)=>{"use strict";i.d(t,{$:()=>l,r:()=>r});var o=i(95155);i(12115);var n=i(99708),a=i(74466),s=i(59434);let r=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:i,size:a,asChild:l=!1,...d}=e,c=l?n.DX:"button";return(0,o.jsx)(c,{"data-slot":"button",className:(0,s.cn)(r({variant:i,size:a,className:t})),...d})}},55714:(e,t,i)=>{Promise.resolve().then(i.bind(i,74282))},66424:(e,t,i)=>{"use strict";i.d(t,{F:()=>s});var o=i(95155);i(12115);var n=i(47655),a=i(59434);function s(e){let{className:t,children:i,...s}=e;return(0,o.jsxs)(n.bL,{"data-slot":"scroll-area",className:(0,a.cn)("relative",t),...s,children:[(0,o.jsx)(n.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:i}),(0,o.jsx)(r,{}),(0,o.jsx)(n.OK,{})]})}function r(e){let{className:t,orientation:i="vertical",...s}=e;return(0,o.jsx)(n.VM,{"data-slot":"scroll-area-scrollbar",orientation:i,className:(0,a.cn)("flex touch-none p-px transition-colors select-none visible","vertical"===i&&"h-full w-2.5 border-l border-l-transparent","horizontal"===i&&"h-2.5 flex-col border-t border-t-transparent",t),...s,children:(0,o.jsx)(n.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},74282:(e,t,i)=>{"use strict";let o;i.r(t),i.d(t,{default:()=>eE});var n=i(95155),a=i(25472),s=i(12115),r=i(17649),l=i(59434),d=i(30285);function c(e){let{...t}=e;return(0,n.jsx)(r.bL,{"data-slot":"alert-dialog",...t})}function h(e){let{...t}=e;return(0,n.jsx)(r.l9,{"data-slot":"alert-dialog-trigger",...t})}function p(e){let{...t}=e;return(0,n.jsx)(r.ZL,{"data-slot":"alert-dialog-portal",...t})}function g(e){let{className:t,...i}=e;return(0,n.jsx)(r.hJ,{"data-slot":"alert-dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...i})}function b(e){let{className:t,...i}=e;return(0,n.jsxs)(p,{children:[(0,n.jsx)(g,{}),(0,n.jsx)(r.UC,{"data-slot":"alert-dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i})]})}function u(e){let{className:t,...i}=e;return(0,n.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",t),...i})}function f(e){let{className:t,...i}=e;return(0,n.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...i})}function w(e){let{className:t,...i}=e;return(0,n.jsx)(r.hE,{"data-slot":"alert-dialog-title",className:(0,l.cn)("text-lg font-semibold",t),...i})}function m(e){let{className:t,...i}=e;return(0,n.jsx)(r.VY,{"data-slot":"alert-dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",t),...i})}function y(e){let{className:t,...i}=e;return(0,n.jsx)(r.rc,{className:(0,l.cn)((0,d.r)(),t,"text-white"),...i})}function x(e){let{className:t,...i}=e;return(0,n.jsx)(r.ZD,{className:(0,l.cn)((0,d.r)({variant:"outline"}),t),...i})}var v=i(35695),R=i(48842),I=i(40054),U=i.n(I),N=i(87712),T=i(84616),z=i(62525),$=i(33135),j=i(66766),E=i(4021),F=i(97151);function O(e){let{history:t,historyIndex:i,handleUndo:o,handleRedo:a,className:s}=e;return(0,n.jsxs)("div",{className:(0,l.cn)("flex items-center gap-2",s),children:[(0,n.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 ".concat(i<=0?"text-gray-300":"text-gray-600"),onClick:o,disabled:i<=0,children:(0,n.jsx)(E.A,{className:"w-4 h-4"})}),(0,n.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 ".concat(i>=t.length-1?"text-gray-300":"text-gray-600"),onClick:a,disabled:i>=t.length-1,children:(0,n.jsx)(F.A,{className:"w-4 h-4"})})]})}var k=i(17652),M=i(88939),C=i(38543);let S=(0,s.forwardRef)((e,t)=>{let{items:i,onShowTab:r,showTab:d,history:p,historyIndex:g,setHistory:m,setHistoryIndex:v,handleUndo:I,handleRedo:E,onGenReport:F,locale:S}=e,A="zh-TW"===S?R.Gx:R.Qc,D=(0,k.c3)("design"),_=(0,M.A)(),[L,P]=(0,s.useState)({x:0,y:0}),[Y,B]=(0,s.useState)(!1),[X,W]=(0,s.useState)({x:0,y:0}),[G,H]=(0,s.useState)(null),[V,q]=(0,s.useState)({width:2e3,height:2e3}),[K,Q]=(0,s.useState)(!1),[J,Z]=(0,s.useState)({x:0,y:0}),[ee,et]=(0,s.useState)(null),[ei,eo]=(0,s.useState)([]),[en,ea]=(0,s.useState)(!1),[es,er]=(0,s.useState)({x:0,y:0}),[el,ed]=(0,s.useState)(null),[ec,eh]=(0,s.useState)(100),[ep,eg]=(0,s.useState)({originScale:100,isMoving:!1,pageX:0,pageY:0,pageX2:0,pageY2:0,initialDistance:0}),[eb,eu]=(0,s.useState)(0);(0,s.useImperativeHandle)(t,()=>({getLocalItems:()=>ei,setLocalItems:eo,setActiveRoom:H,setIsRoomDragging:Q,setDraggedRoom:et,setRoomDragStart:Z,setPosition:P,setCompassRotation:eu,getPosition:()=>L,getCompassRotation:()=>eb,getScale:()=>ec,setScale:eh}),[ei,L,eb,ec]);let ef=(0,s.useRef)(null),{setNodeRef:ew}=(0,a.zM)({id:"canvas",data:{accepts:[R.w$.ROOM,R.w$.FURNITURE]}});(0,s.useEffect)(()=>{var e;o=null===(e=document.getElementById("canvas-drop-area"))||void 0===e?void 0:e.getBoundingClientRect()},[]);let em=(e,t,i,o)=>Math.sqrt(Math.pow(i-e,2)+Math.pow(o-t,2)),ey=(0,s.useCallback)(e=>{var t,i;if(!e.target.closest('[data-room-element="true"]')&&"canvas"===e.target.id&&(0===e.button||e.touches)){if((null===(t=e.touches)||void 0===t?void 0:t.length)===2){let t=e.touches[0],i=e.touches[1],o=em(t.pageX,t.pageY,i.pageX,i.pageY);eg(e=>({...e,isMoving:!0,pageX:t.pageX,pageY:t.pageY,pageX2:i.pageX,pageY2:i.pageY,initialDistance:o,originScale:ec}));return}H(null),B(!0),(null===(i=e.touches)||void 0===i?void 0:i.length)===1?W({x:e.touches[0].clientX-L.x,y:e.touches[0].clientY-L.y}):W({x:e.clientX-L.x,y:e.clientY-L.y})}},[L,ec]),ex=(e,t)=>{if(!e.position||!t.position)return!1;let i=20;return console.log("家具在里面",e.rotation),(-90===e.rotation||-270===e.rotation)&&(console.log("ss",e.size.width,e.size.height),i=Math.abs(e.size.width-e.size.height)/2+i),e.position.x+i>=t.position.x&&e.position.x<=t.position.x+t.size.width&&e.position.x-i+e.size.width<=t.position.x+t.size.width&&e.position.y+i>=t.position.y&&e.position.y<=t.position.y+t.size.height&&e.position.y-i+e.size.height<=t.position.y+t.size.height},ev=(0,s.useCallback)((e,t)=>{var i;if(e.stopPropagation(),Q(!0),et(t),(null===(i=e.touches)||void 0===i?void 0:i.length)==1?Z({x:e.touches[0].clientX-t.position.x,y:e.touches[0].clientY-t.position.y}):Z({x:e.clientX-t.position.x,y:e.clientY-t.position.y}),t.type===R.w$.ROOM){let e=ei.map(e=>e.type===R.w$.FURNITURE&&ex(e,t)?{...e,parentId:t.id,offset:{x:e.position.x-t.position.x,y:e.position.y-t.position.y}}:{...e,parentId:null});eo(ei.map(t=>e.find(e=>e.id===t.id)||t))}},[ei]),eR=(0,s.useCallback)((e,t,i)=>{var o;e.stopPropagation(),ea(!0),ed(i),(null===(o=e.touches)||void 0===o?void 0:o.length)==1?er({x:e.touches[0].clientX,y:e.touches[0].clientY}):er({x:e.clientX,y:e.clientY})},[]);U().throttle(C.oR.info,3e3);let eI=e=>{var t,i,n,a,s;if(e.preventDefault(),(null===(t=e.touches)||void 0===t?void 0:t.length)===2){let t=e.touches[0],i=e.touches[1],o=em(t.pageX,t.pageY,i.pageX,i.pageY);ep.initialDistance?o>ep.initialDistance?eT("in",1):eT("out",1):eg(e=>({...e,initialDistance:o,originScale:ec}))}else if(en&&G&&el){let t,o;(null===(i=e.touches)||void 0===i?void 0:i.length)==1?(t=e.touches[0].clientX-es.x,o=e.touches[0].clientY-es.y):(t=e.clientX-es.x,o=e.clientY-es.y);let a=G.size.width/G.size.height;eo(ei.map(e=>{if(e.id===G.id){let i;let n={...e.size},s={...e.position};switch(el){case"top-left":n.width=e.size.width-t,G.type===R.w$.ROOM?n.height=e.size.height-o:n.height=n.width/a,s.x=e.position.x+t,s.y=e.position.y+o;break;case"top-right":n.width=e.size.width+t,G.type===R.w$.ROOM?n.height=e.size.height-o:n.height=n.width/a,s.y=e.position.y+o;break;case"bottom-left":n.width=e.size.width-t,G.type===R.w$.ROOM?n.height=e.size.height+o:n.height=n.width/a,s.x=e.position.x+t;break;case"bottom-right":n.width=e.size.width+t,G.type===R.w$.ROOM?n.height=e.size.height+o:n.height=n.width/a}if(e.type===R.w$.ROOM?n.width>=100&&n.height>=100:e.data.type===R.x9.WINDOW?n.width>=8&&n.height>=8:n.width>=20&&n.height>=20)return{...e,size:n,position:s}}return e})),(null===(n=e.touches)||void 0===n?void 0:n.length)==1?er({x:e.touches[0].clientX,y:e.touches[0].clientY}):er({x:e.clientX,y:e.clientY})}else if(K&&ee){let t,i;(null===(a=e.touches)||void 0===a?void 0:a.length)==1?(t=e.touches[0].clientX-J.x,i=e.touches[0].clientY-J.y):(t=e.clientX-J.x,i=e.clientY-J.y),t=Math.max(0,t),i=Math.max(0,i);let o=[];if(ee.type===R.w$.ROOM){let e=ei.filter(e=>e.type===R.w$.FURNITURE&&e.parentId===ee.id).map(e=>e.id);o=ei.map(o=>{if(o.id===ee.id)return{...o,position:{x:t,y:i}};if(e.includes(o.id)){var n,a;return{...o,position:{x:t+(null===(n=o.offset)||void 0===n?void 0:n.x)||0,y:i+(null===(a=o.offset)||void 0===a?void 0:a.y)||0}}}return o})}else o=ei.map(e=>e.id===ee.id?{...e,position:{x:t,y:i}}:e);eo(o)}else if(Y){let t,i,n,a;(null===(s=e.touches)||void 0===s?void 0:s.length)===1?(t=e.touches[0].clientX-X.x,i=e.touches[0].clientY-X.y):(t=e.clientX-X.x,i=e.clientY-X.y),t>0&&(t=0),i>0&&(i=0),t<-1e3&&(t=-1e3),i<-1e3&&(i=-1e3),2e3+t<o.width/(ec/100)&&(n=(2e3-t)/(ec/100)),2e3+i<o.height/(ec/100)&&(a=(2e3-i)/(ec/100)),P({x:t,y:i}),q({width:n||V.width,height:a||V.height})}},eU=(0,s.useCallback)(e=>{var t,i;if((null===(t=e.touches)||void 0===t?void 0:t.length)<2&&eg(e=>({...e,isMoving:!1,initialDistance:0})),K||en){let t,o,n;if((null===(i=e.changedTouches)||void 0===i?void 0:i.length)==1?(t=e.changedTouches[0].clientX-J.x-L.x,o=e.changedTouches[0].clientY-J.y-L.y):(t=e.clientX-J.x-L.x,o=e.clientY-J.y-L.y),ee&&!ei.some(e=>e.id===ee.id)){let e={...ee,position:{x:t/(ec/100),y:o/(ec/100)},data:{...ee.data,label:"".concat(ee.data.label)}};eo(n=[...ei,e]),eN(e,n)}else n=ei;let a=p.slice(0,g+1);a.push(n),m(a),v(a.length-1)}B(!1),Q(!1),et(null),ea(!1),ed(null)},[K,en,ei,p,g,J,ee,L,ep]),eN=(e,t)=>{if(e.type===R.w$.FURNITURE){let i=t||ei,o=i.find(t=>t.type===R.w$.ROOM&&ex(e,t));if(o){let t=i.filter(t=>t.type===R.w$.FURNITURE&&t.data.type===e.data.type&&ex(t,o)).sort((e,t)=>e.position.x-t.position.x).map((t,i)=>{let n="".concat(o.data.label,"-").concat(A[e.data.type]).concat(i+1);return t.id===e.id&&(e.data.label=n,e.data.parentRoom=o),{...t,data:{...t.data,label:n,parentRoom:o}}});eo(i.map(e=>t.find(t=>t.id===e.id)||e))}else{console.log("选中家具，当前未匹配到房间");let t=U().cloneDeep(i),o=t.filter(t=>t.id===e.id)[0];o&&(o.data.label="未分配-".concat(A[o.data.type]),o.data.parentRoom=null,e.data.label="未分配-".concat(A[o.data.type]),e.data.parentRoom=null,eo(t))}}setTimeout(()=>{H(e)})};function eT(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("in"===e&&ec<120)t=ec+i;else if("out"===e&&ec>50)t=ec-i;else{if("reset"!==e)return;t=100}"out"===e&&q({width:(V.width-(L.x<0?L.x:0))*(1+(ec-t)/100),height:(V.height-(L.y<0?L.y:0))*(1+(ec-t)/100)}),eh(t)}(0,s.useEffect)(()=>{let e=ef.current;if(e)return e.addEventListener("mousedown",ey),window.addEventListener("mousemove",eI),window.addEventListener("mouseup",eU),e.addEventListener("touchstart",ey),window.addEventListener("touchmove",eI,{passive:!1}),window.addEventListener("touchend",eU),()=>{e.removeEventListener("mousedown",ey),window.removeEventListener("mousemove",eI),window.removeEventListener("mouseup",eU),e.removeEventListener("touchstart",ey),window.removeEventListener("touchmove",eI),window.removeEventListener("touchend",eU)}},[ey,eI,eU]);let ez=(0,s.useCallback)(()=>{G&&eo(ei.map(e=>{if(e.id===G.id){let t=((e.rotation||0)-45)%360;return{...e,rotation:t}}return e}))},[G,ei]),e$=e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"absolute w-3 h-3 bg-white border border-red-500 cursor-nw-resize rounded-full",style:{top:-6,left:-6},onMouseDown:t=>eR(t,e,"top-left"),onTouchStart:t=>eR(t,e,"top-left")}),(0,n.jsx)("div",{className:"absolute w-3 h-3 bg-white border border-red-500 cursor-ne-resize rounded-full",style:{top:-6,right:-6},onMouseDown:t=>eR(t,e,"top-right"),onTouchStart:t=>eR(t,e,"top-right")}),(0,n.jsx)("div",{className:"absolute w-3 h-3 bg-white border border-red-500 cursor-sw-resize rounded-full",style:{bottom:-6,left:-6},onMouseDown:t=>eR(t,e,"bottom-left"),onTouchStart:t=>eR(t,e,"bottom-left")}),(0,n.jsx)("div",{className:"absolute w-3 h-3 bg-white border border-red-500 cursor-se-resize rounded-full",style:{bottom:-6,right:-6},onMouseDown:t=>eR(t,e,"bottom-right"),onTouchStart:t=>eR(t,e,"bottom-right")})]});return(0,n.jsxs)("div",{ref:e=>{ef.current=e,ew(e)},className:"relative w-full min-h-[calc(100vh-64px)] overflow-hidden bg-background",children:[(0,n.jsxs)("div",{className:"fixed top-20 right-6 flex items-center gap-4 z-9",children:[!_&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(O,{history:p,historyIndex:g,handleUndo:I,handleRedo:E,className:" bg-white rounded-full shadow-lg  px-3 py-2"})}),(0,n.jsxs)("div",{className:"flex items-center gap-2 bg-white rounded-full shadow-lg px-3 py-2",children:[(0,n.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 text-gray-600",onClick:e=>eT("out"),disabled:ec<=50,children:(0,n.jsx)(N.A,{className:"w-4 h-4"})}),(0,n.jsxs)("span",{className:"text-sm font-medium text-gray-600 min-w-[48px] text-center",children:[ec,"%"]}),(0,n.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 text-gray-600",onClick:e=>eT("in"),disabled:ec>=120,children:(0,n.jsx)(T.A,{className:"w-4 h-4"})})]}),(0,n.jsxs)("div",{style:{transform:"rotate(".concat(eb,"deg)"),transition:"transform 0.3s ease-out"},onClick:()=>{eu(eb+45)},className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"N"}),(0,n.jsx)(j.default,{src:"/images/compass.png",alt:"方向",width:40,height:40,className:"cursor-pointer"})]})]}),(0,n.jsx)("div",{id:"canvas",className:"absolute cursor-move",style:{width:"".concat(V.width,"px"),height:"".concat(V.height,"px"),transform:"translate(".concat(L.x,"px, ").concat(L.y,"px)  scale(").concat(ec/100,")"),transformOrigin:"top left",backgroundImage:"radial-gradient(circle, #ddd 1px, transparent 1px)",backgroundSize:"10px 10px"},children:(0,n.jsx)("div",{className:"relative",children:ei.map(e=>e.type===R.w$.ROOM?(0,n.jsxs)("div",{"data-room-element":"true",className:"absolute ".concat((null==G?void 0:G.id)===e.id?"ring-2 ring-red-500":""," cursor-move z-100"),style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height},onClick:t=>{t.stopPropagation(),eN(e)},onMouseDown:t=>ev(t,e),onTouchStart:t=>ev(t,e),children:[G&&G.id===e.id&&(0,n.jsxs)("div",{style:{left:"50%",top:"-64px",transform:"translateX(-50%)"},className:"min-w-fit whitespace-nowrap  absolute z-1 h-[40px] rounded-4xl bg-white shadow-lg  items-center px-3 gap-2 md:flex hidden",children:[(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:[D("chosed"),"："]}),(0,n.jsxs)("div",{className:"flex flex-grow items-center gap-1",children:[(0,n.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:R.$q[G.data.type],borderRadius:"2px"}}),(0,n.jsx)("span",{className:"text-sm text-gray-600 font-bold",children:G.data.label})]}),(0,n.jsx)("button",{className:"flex-shrink-0 text-red-500",onClick:e=>{e.stopPropagation(),eo(ei.filter(e=>e.id!==G.id)),H(null)},children:(0,n.jsx)(z.A,{className:"w-4 h-4 text-red-500"})})]}),(0,n.jsx)("div",{className:"w-full h-full",style:{border:e.type===R.w$.ROOM?"8px solid":"none",borderColor:e.type===R.w$.ROOM?R.$q[e.data.type]:"transparent",borderRadius:e.type===R.w$.ROOM?"8px":"0",backgroundColor:e.type===R.w$.ROOM?R.$q[e.data.type]+"80":"transparent"},children:(0,n.jsx)("div",{className:"absolute top-2 left-2 text-[14px] text-[#888888]",style:{zIndex:1},children:e.data.label})}),(null==G?void 0:G.id)===e.id&&e$(e)]},e.id):e.type===R.w$.FURNITURE?(0,n.jsxs)("div",{"data-room-element":"true",className:"absolute cursor-move z-200",style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height},onClick:t=>{t.stopPropagation(),eN(e)},onMouseDown:t=>{t.stopPropagation(),ev(t,e)},onTouchStart:t=>{t.stopPropagation(),ev(t,e)},children:[G&&G.id===e.id&&(0,n.jsxs)("div",{style:{left:"50%",top:"-64px",transform:"translateX(-50%)"},className:"min-w-fit whitespace-nowrap absolute z-1 h-[40px] rounded-4xl bg-white shadow-lg  items-center px-3 gap-2 md:flex hidden",children:[(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:[D("chosed"),"："]}),(0,n.jsxs)("div",{className:"flex flex-grow items-center gap-1",children:[G.data.parentRoom&&(0,n.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:R.$q[G.data.parentRoom.data.type],borderRadius:"2px"}}),(0,n.jsx)("span",{className:"text-sm text-gray-600 font-bold",children:G.data.label})]}),(0,n.jsx)("button",{className:"flex-shrink-0",onClick:e=>{e.stopPropagation(),ez()},children:(0,n.jsx)($.A,{className:"w-4 h-4"})}),(0,n.jsx)("button",{className:"flex-shrink-0 text-red-500 hover:text-red-600 transition-colors",onClick:e=>{e.stopPropagation(),eo(ei.filter(e=>e.id!==G.id)),H(null)},children:(0,n.jsx)(z.A,{className:"w-4 h-4 text-red-500"})})]}),(null==G?void 0:G.id)===e.id&&e$(e),(0,n.jsx)(j.default,{draggable:"false",className:(null==G?void 0:G.id)===e.id?"ring-2 ring-red-500":"",style:{transform:e.rotation?"rotate(".concat(e.rotation,"deg)"):"none",transformOrigin:"center"},src:e.activeIcon,alt:"Furniture",width:e.size.width,height:e.size.height})]},e.id):void 0)})}),G&&(0,n.jsxs)("div",{className:(0,l.cn)("min-w-fit whitespace-nowrap fixed  left-1/2 -translate-x-1/2 h-10 rounded-4xl bg-white shadow-lg flex items-center px-3 gap-2 md:hidden",d?"bottom-85":"bottom-22.5 "),children:[(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:[D("chosed"),"："]}),(0,n.jsxs)("div",{className:"flex flex-grow items-center gap-1",children:[(0,n.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:R.$q[G.data.parentRoom?G.data.parentRoom.data.type:G.data.type],borderRadius:"2px"}}),(0,n.jsx)("span",{className:"text-sm text-gray-600 font-bold",children:G.data.label})]}),G.type===R.w$.FURNITURE&&(0,n.jsxs)("button",{className:"flex-shrink-0",onClick:e=>{e.stopPropagation(),ez()},children:[" ",(0,n.jsx)($.A,{className:"w-4 h-4"})]}),(0,n.jsx)("button",{className:"flex-shrink-0 text-red-500 hover:text-red-600 transition-colors",onClick:e=>{e.stopPropagation(),eo(ei.filter(e=>e.id!==G.id)),H(null)},children:(0,n.jsx)(z.A,{className:"w-4 h-4 text-red-500"})})]}),(0,n.jsxs)("div",{className:"fixed z-50 bottom-6 left-0 px-2 gap-4 w-full bg-transparent flex items-center justify-between  md:hidden",children:[!d&&(0,n.jsx)("button",{onClick:r,className:"border-primary border-1 font-bold w-4/5 py-3 bg-white text-foreground rounded-[100px] text-sm",children:D("showTab")}),(0,n.jsxs)(c,{children:[(0,n.jsxs)(h,{className:(0,l.cn)("inline-flex font-bold py-3 bg-button-gradient text-white rounded-[100px] text-sm items-center justify-center gap-0",d?"w-full ":"w-4/5"),children:[D("cta"),(0,n.jsx)(j.default,{src:"/images/hero/star.png",alt:"arrow",width:15,height:16})]}),(0,n.jsxs)(b,{children:[(0,n.jsx)(u,{children:(0,n.jsx)(w,{children:D("alert")})}),(0,n.jsxs)(f,{children:[(0,n.jsx)(x,{children:D("cancel")}),(0,n.jsx)(y,{onClick:F,children:D("ok")})]})]})]})]})]})});var A=i(60388),D=i(59094),_=i(4229),L=i(17881),P=i(72877);function Y(e){let{onSaveProject:t,onGenReport:i,onUserOpen:o}=e,{isMobile:a}=(0,M.A)(),s=(0,k.c3)("design");return(0,n.jsx)("nav",{className:"bg-white h-16 border-b-gray-100 border-b-2 fixed top-0 left-0 right-0 z-10",children:(0,n.jsx)("div",{className:"mx-auto px-4 h-full",children:(0,n.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,n.jsx)(A.N_,{href:"/",className:"text-2xl font-bold text-primary",children:"HarmoniQ"}),(0,n.jsxs)("div",{className:"flex items-center space-x-4 text-foreground  gap-3",children:[(0,n.jsx)(D.A,{className:"text-foreground"}),(0,n.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:t,children:[(0,n.jsx)(_.A,{className:"w-4 h-4"}),"保存 "]}),(0,n.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:()=>o(!0),children:[(0,n.jsx)(L.A,{className:"w-4 h-4"}),s("profile")," "]}),(0,n.jsxs)(c,{children:[(0,n.jsxs)(h,{className:"inline-flex px-4 py-1 bg-button-gradient text-white rounded-full hover:bg-primary/90 transition-colors items-center gap-2",children:[s("cta"),(0,n.jsx)("span",{className:"text-lg",children:"✨"})]}),(0,n.jsxs)(b,{children:[(0,n.jsx)(u,{children:(0,n.jsx)(w,{children:s("alert")})}),(0,n.jsxs)(f,{children:[(0,n.jsx)(x,{children:s("cancel")}),(0,n.jsx)(y,{onClick:i,children:s("ok")})]})]})]}),(0,n.jsx)(P.A,{})]})]})})})}var B=i(94788),X=i(54416);function W(e){let{onSaveProject:t,history:i,historyIndex:o,handleUndo:a,handleRedo:r,onUserOpen:l}=e,[d,c]=(0,s.useState)(!1),h=(0,k.c3)("design");return(0,n.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-50",children:[(0,n.jsx)("nav",{className:"bg-white h-16 border-b-gray-100 border-b-2 ",children:(0,n.jsx)("div",{className:"mx-auto px-4 h-full",children:(0,n.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4 text-foreground  gap-3",children:[(0,n.jsx)(O,{history:i,historyIndex:o,handleUndo:a,handleRedo:r}),(0,n.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:t,children:[(0,n.jsx)(_.A,{className:"w-4 h-4"})," "]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4 text-foreground  gap-3",children:[(0,n.jsx)("span",{className:"flex items-center gap-1 cursor-pointer",children:(0,n.jsx)(B.A,{className:"w-4 h-4",onClick:()=>c(!0)})}),(0,n.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",children:[(0,n.jsx)(L.A,{className:"w-4 h-4",onClick:()=>l(!0)})," "]}),(0,n.jsx)(P.A,{})]})]})})}),d&&(0,n.jsxs)("div",{className:"h-8 w-full bg-[#E5F4FF] px-6 py-3 flex justify-between items-center",children:[(0,n.jsxs)("span",{className:"text-[12px] text-foreground flex items-center gap-1",children:[(0,n.jsx)(B.A,{className:"w-4 h-4 text-[#888]"}),h("warning")]}),(0,n.jsx)(X.A,{className:"w-4 h-4 text-[#888]",onClick:()=>c(!1)})]})]})}function G(e){let{id:t,type:i,data:o,children:s,isOverCanvas:r}=e,{attributes:l,listeners:d,setNodeRef:c,transform:h,isDragging:p}=(0,a.PM)({id:t,data:{type:i,...o}}),g=h?{transform:"translate3d(".concat(h.x,"px, ").concat(h.y,"px, 0)"),opacity:p&&!r?.5:p&&r?0:1,position:"relative",zIndex:p?1e3:1,visibility:"visible"}:{};return(0,n.jsxs)("div",{className:"relative z-0 w-22.5",children:[(0,n.jsx)("div",{className:"absolute  -z-1 w-22.5 top-0 left-0",children:s}),(0,n.jsx)("div",{ref:c,...d,...l,className:"cursor-move",style:{...g},children:s})]})}i(57644);var H=i(66424);function V(e){let{sidebarRef:t,roomItems:i,furnitureItems:o,isOverCanvas:a,draggingItemSize:s}=e,r=(0,k.c3)("design");return(0,n.jsx)(H.F,{className:"h-[calc(100vh-64px)] w-1/6",children:(0,n.jsxs)("div",{ref:t,className:"md:block hidden  bg-white p-4 shadow border-r-gray-100 border-r-2",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:r("room")}),(0,n.jsx)("div",{className:"grid 2xl:grid-cols-3 xl:grid-cols-2 gap-2",children:i.map(e=>(0,n.jsx)(G,{id:e.id,type:e.type,data:e.data,isOverCanvas:a,children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,n.jsx)(j.default,{className:" bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s,priority:!0})}),(0,n.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:e.data.label})]})},e.id))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:r("furniture")}),(0,n.jsx)("div",{className:"grid 2xl:grid-cols-3 xl:grid-cols-2 gap-2",children:o.map(e=>(0,n.jsx)(G,{id:e.id,type:e.type,data:e.data,isOverCanvas:a,children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,n.jsx)(j.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s,priority:!0})}),(0,n.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:e.data.label})]})},e.id))})]})]})})}var q=i(17313),K=i(91091);function Q(e){let{showTab:t,setShowTab:i,roomItems:o,furnitureItems:a,isOverCanvas:r,draggingItemSize:d}=e,[c,h]=(0,s.useState)(""),p=(0,k.c3)("design");return(0,s.useEffect)(()=>{h("room")},[]),(0,n.jsx)("div",{style:{boxShadow:"0 -1px 5px 0px rgba(0, 0, 0, 0.2)"},className:(0,l.cn)("fixed bottom-0 left-0 z-10 w-full pb-20 pl-0 pr-2 bg-white md:hidden rounded-t-2xl transition-transform duration-300 ease-in-out",t?"translate-y-0":"translate-y-full"),children:(0,n.jsxs)(q.tU,{value:c,className:"w-full gap-4",setShowTab:i,onValueChange:e=>h(e),children:[(0,n.jsxs)(q.j7,{className:"mx-auto bg-white gap-8",children:[(0,n.jsx)(q.Xi,{defaultValue:!0,value:"room",className:"rounded-[3px] text-[12px] font-bold data-[state=active]:shadow-none data-[state=active]:border-b-4 data-[state=active]:border-b-primary",children:p("room")}),(0,n.jsx)(q.Xi,{value:"furniture",className:"rounded-[3px] text-[12px] font-bold data-[state=active]:shadow-none data-[state=active]:border-b-4 data-[state=active]:border-b-primary",children:p("furniture")})]}),(0,n.jsx)(q.av,{value:"room",className:"w-full pb-3 overflow-hidden",children:(0,n.jsxs)(K.FN,{children:[(0,n.jsxs)(K.Wk,{children:[(0,n.jsx)(K.A7,{children:(0,n.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:o.slice(0,8).map(e=>(0,n.jsx)(G,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,n.jsx)(j.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d,priority:!0})}),(0,n.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,n.jsx)(K.A7,{children:(0,n.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:o.slice(8).map(e=>(0,n.jsx)(G,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,n.jsx)(j.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d,priority:!0})}),(0,n.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})})]}),(0,n.jsx)(K.Q8,{className:"left-0 "}),(0,n.jsx)(K.Oj,{className:"right-0"})]})}),(0,n.jsx)(q.av,{value:"furniture",className:"w-full pb-3 overflow-hidden",children:(0,n.jsxs)(K.FN,{children:[(0,n.jsxs)(K.Wk,{children:[(0,n.jsx)(K.A7,{children:(0,n.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:a.slice(0,8).map(e=>(0,n.jsx)(G,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,n.jsx)(j.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d})}),(0,n.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,n.jsx)(K.A7,{children:(0,n.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:a.slice(8,16).map(e=>(0,n.jsx)(G,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,n.jsx)(j.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d})}),(0,n.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,n.jsx)(K.A7,{children:(0,n.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:a.slice(16).map(e=>(0,n.jsx)(G,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,n.jsx)(j.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d})}),(0,n.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})})]}),(0,n.jsx)(K.Q8,{className:"left-0 "}),(0,n.jsx)(K.Oj,{className:"right-0"})]})})]})})}var J=i(91599);let Z=[{name:"north",range:[337.5,22.5],baseAngle:0},{name:"northEast",range:[22.5,67.5],baseAngle:45},{name:"east",range:[67.5,112.5],baseAngle:90},{name:"southEast",range:[112.5,157.5],baseAngle:135},{name:"south",range:[157.5,202.5],baseAngle:180},{name:"southWest",range:[202.5,247.5],baseAngle:225},{name:"west",range:[247.5,292.5],baseAngle:270},{name:"northWest",range:[292.5,337.5],baseAngle:315}];var ee=i(45493),et=i(15452);function ei(e){let{...t}=e;return(0,n.jsx)(et.bL,{"data-slot":"dialog",...t})}function eo(e){let{...t}=e;return(0,n.jsx)(et.ZL,{"data-slot":"dialog-portal",...t})}function en(e){let{className:t,...i}=e;return(0,n.jsx)(et.hJ,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...i})}function ea(e){let{className:t,children:i,...o}=e;return(0,n.jsxs)(eo,{"data-slot":"dialog-portal",children:[(0,n.jsx)(en,{}),(0,n.jsxs)(et.UC,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...o,children:[i,(0,n.jsxs)(et.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,n.jsx)(X.A,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function es(e){let{className:t,...i}=e;return(0,n.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",t),...i})}function er(e){let{className:t,...i}=e;return(0,n.jsx)(et.hE,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",t),...i})}var el=i(22346),ed=i(59409),ec=i(54059),eh=i(9428);function ep(e){let{className:t,...i}=e;return(0,n.jsx)(ec.bL,{"data-slot":"radio-group",className:(0,l.cn)("grid gap-3",t),...i})}function eg(e){let{className:t,...i}=e;return(0,n.jsx)(ec.q7,{"data-slot":"radio-group-item",className:(0,l.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...i,children:(0,n.jsx)(ec.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,n.jsx)(eh.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var eb=i(40968);function eu(e){let{className:t,...i}=e;return(0,n.jsx)(eb.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...i})}var ef=i(99817);let ew=Array.from({length:100},(e,t)=>(2025-t).toString()),em=Array.from({length:12},(e,t)=>(t+1).toString().padStart(2,"0")),ey=Array.from({length:31},(e,t)=>(t+1).toString().padStart(2,"0")),ex=Array.from({length:24},(e,t)=>t.toString().padStart(2,"0")),ev={years:ew,months:em,days:ey,hours:ex};function eR(e){let{tHour:t,onChange:i}=e,[o,a]=(0,s.useState)({years:"1996",months:"04",days:"15",hours:"12"});(0,s.useEffect)(()=>{e.value&&a({years:e.value[0],months:e.value[1],days:e.value[2],hours:e.value[3]})},[e.value]);let r=(e,i)=>{switch(i){case"years":return e+"年";case"months":return e+"月";case"days":return e+"日";case"hours":return e+t}};return(0,n.jsx)(ef.A,{value:o,onChange:e=>{a(e),i&&i([e.years,e.months,e.days,e.hours])},children:Object.keys(ev).map(e=>(0,n.jsx)(ef.A.Column,{name:e,children:ev[e].map(t=>(0,n.jsx)(ef.A.Item,{value:t,children:r(t,e)},t))},e))})}function eI(e){let{open:t,onUserOpen:i,onSubmit:o,userInfo:a}=e,r=(0,k.c3)("design"),l=(0,M.A)(),[c,h]=(0,s.useState)("男"),[p,g]=(0,s.useState)("1996"),[b,u]=(0,s.useState)("03"),[f,w]=(0,s.useState)("12"),[m,y]=(0,s.useState)("22");(0,s.useEffect)(()=>{if(a&&(h(a.gender||"male"),a.birthDateTime)){let e=new Date(a.birthDateTime);g(e.getFullYear().toString()),u((e.getMonth()+1).toString().padStart(2,"0")),w(e.getDate().toString().padStart(2,"0")),y(e.getHours().toString().padStart(2,"0"))}},[a]);let x=()=>{o({gender:c,birthDateTime:new Date(parseInt(p),parseInt(b)-1,parseInt(f),parseInt(m))})},v=e=>{e&&(g(e[0]),u(e[1]),w(e[2]),y(e[3]))};return(0,n.jsx)(ei,{open:t,onOpenChange:i,children:(0,n.jsxs)(ea,{className:"sm:max-w-[432px]",children:[(0,n.jsxs)(es,{children:[(0,n.jsxs)(er,{className:"text-lg md:text-xl font-bold md:text-left text-center",children:[" ",r("profile")," "]}),(0,n.jsx)("div",{className:"py-4 text-sm md:text-base  text-left",children:r("tip")})]}),(0,n.jsx)(el.Separator,{className:"md:hidden"}),(0,n.jsxs)("div",{className:"grid gap-4 pb-4",children:[l?(0,n.jsx)(()=>(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)(eu,{className:"text-base",children:"性别"}),(0,n.jsxs)("div",{className:"flex bg-gray-200 p-1 rounded-[6px]  ",children:[(0,n.jsx)("button",{style:{boxShadow:"0 1px 5px 0px rgba(0, 0, 0, 0.3)"},className:"rounded-[6px] px-4 py-1 ".concat("male"===c?"bg-white":"transparent"),onClick:()=>h("male"),children:"男"}),(0,n.jsx)("button",{className:"rounded-[6px] px-4 py-1 ".concat("female"===c?"bg-white":"transparent"),onClick:()=>h("female"),children:"女"})]})]}),{}):(0,n.jsx)(()=>(0,n.jsxs)("div",{className:"space-y-2 pb-4",children:[(0,n.jsx)(eu,{className:"font-bold pb-2 text-base",children:"性别"}),(0,n.jsxs)(ep,{value:c,onValueChange:h,className:"flex space-x-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(eg,{value:"male",id:"male"}),(0,n.jsx)(eu,{htmlFor:"male",children:"男"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(eg,{value:"female",id:"female"}),(0,n.jsx)(eu,{htmlFor:"female",children:"女"})]})]})]}),{}),(0,n.jsx)(el.Separator,{className:"md:hidden"}),l?(0,n.jsx)(()=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between pb-4",children:[(0,n.jsx)(eu,{className:"text-base",children:"出生日期"}),(0,n.jsx)("span",{children:"".concat(p,"年").concat(b,"月").concat(f,"日").concat(m).concat(r("hour"))})]}),(0,n.jsx)(el.Separator,{}),(0,n.jsx)(eR,{tHour:r("hour"),onChange:v,value:[p,b,f,m]}),(0,n.jsx)(el.Separator,{})]}),{}):(0,n.jsx)(()=>(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(eu,{className:"font-bold pb-4 text-base",children:"年"}),(0,n.jsxs)(ed.l6,{value:p,onValueChange:g,children:[(0,n.jsx)(ed.bq,{className:"w-24",children:(0,n.jsx)(ed.yv,{placeholder:"年"})}),(0,n.jsx)(ed.gC,{children:ew.map(e=>(0,n.jsxs)(ed.eb,{value:e,children:[e,"年"]},e))})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(eu,{className:"font-bold pb-4 text-base",children:"月"}),(0,n.jsxs)(ed.l6,{value:b,onValueChange:u,children:[(0,n.jsx)(ed.bq,{className:"w-24",children:(0,n.jsx)(ed.yv,{placeholder:"月"})}),(0,n.jsx)(ed.gC,{children:em.map(e=>(0,n.jsxs)(ed.eb,{value:e,children:[e,"月"]},e))})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(eu,{className:"font-bold pb-4 text-base",children:"日"}),(0,n.jsxs)(ed.l6,{value:f,onValueChange:w,children:[(0,n.jsx)(ed.bq,{className:"w-20",children:(0,n.jsx)(ed.yv,{placeholder:"日"})}),(0,n.jsx)(ed.gC,{children:ey.map(e=>(0,n.jsxs)(ed.eb,{value:e,children:[e,"日"]},e))})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)(eu,{className:"font-bold pb-4 text-base",children:["小",r("hour")]}),(0,n.jsxs)(ed.l6,{value:m,onValueChange:y,children:[(0,n.jsx)(ed.bq,{className:"w-20",children:(0,n.jsx)(ed.yv,{placeholder:r("hour")})}),(0,n.jsx)(ed.gC,{children:ex.map(e=>(0,n.jsxs)(ed.eb,{value:e,children:[e,r("hour")]},e))})]})]})]}),{}),l?(0,n.jsxs)("div",{className:"flex justify-around",children:[(0,n.jsx)(d.$,{onClick:()=>{i(!1)},className:"px-10 border-1 border-[#ccc] text-foreground rounded-[100px] bg-white font-bold mt-10",children:"取消"}),(0,n.jsx)(d.$,{onClick:x,className:"px-10 bg-[#13ab87] font-bold mt-10 rounded-[100px]",children:"保存"})]}):(0,n.jsx)(d.$,{onClick:x,className:"w-full bg-[#13ab87] font-bold mt-10 rounded-[100px]",children:"保存"})]})]})})}var eU=i(71463);let eN={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"bathroom",label:"浴室1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:284.47058823529414,y:329.37254901960785},rotation:0},{id:"dining_room-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:441,height:296},position:{x:144.84313725490188,y:632.8823529411765},rotation:0},{id:"living_room-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"living_room",label:"客廳1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:443,height:290},position:{x:588.1176470588235,y:634.4509803921569},rotation:0},{id:"bedroom-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"bedroom",label:"睡房1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:589.5882352941177,y:330.78431372549016},rotation:0},{id:"bedroom-2",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"bedroom",label:"睡房2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:421,height:375},position:{x:593.3529411764706,y:926.4705882352941},rotation:0},{id:"kitchen-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"kitchen",label:"廚房1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:270,height:363},position:{x:315.0392156862745,y:930.4509803921569},rotation:0},{id:"balcony-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"balcony",label:"陽台1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/balcony.png",size:{width:300,height:300}},size:{width:116,height:296},position:{x:1030.764705882353,y:635.8039215686274},rotation:0},{id:"toilet-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet-gr.png",data:{cateType:R.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:410.843137254902,y:351.5490196078431},rotation:0,parentId:null,offset:{x:134.843137254902,y:7.549019607843093}},{id:"shower-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower-gr.png",data:{cateType:R.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:483.2352941176471,y:528.4313725490196},rotation:0,parentId:null,offset:{x:211.23529411764707,y:207.43137254901956}},{id:"bathtub-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub-gr.png",data:{cateType:R.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:489.82352941176464,y:357.92156862745094},rotation:0,parentId:null,offset:{x:219.82352941176464,y:52.92156862745094}},{id:"sink-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink-gr.png",data:{cateType:R.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:291.92156862745094,y:481.11764705882354},rotation:-270,parentId:null,offset:{x:-5.078431372549062,y:153.11764705882354}},{id:"door-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:417.3137254901961,y:572.4117647058823},rotation:-90,parentId:null},{id:"window-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:310.72549019607845,y:362.7254901960784},rotation:-180,parentId:null},{id:"door-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:160.37254901960785,y:755.2156862745098},rotation:0,parentId:"dining_room-1",offset:{x:4.529411764705969,y:131.33333333333337}},{id:"window-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:240.58823529411762,y:622.4901960784314},rotation:-90,parentId:"dining_room-1",offset:{x:91.74509803921575,y:-20.392156862745082}},{id:"table-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",data:{cateType:R.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:290.37254901960785,y:657.5294117647059},rotation:-90,parentId:"dining_room-1",offset:{x:100.52941176470597,y:9.647058823529392}},{id:"fridge-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/fridge-gr.png",data:{cateType:R.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:339.2941176470588,y:991.6666666666667},rotation:0,parentId:null},{id:"door-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"廚房1-門1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:433.4509803921569,y:943.5686274509803},rotation:-270,parentId:null},{id:"wardrobe-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:307.921568627451,y:809.0588235294117},rotation:-90,parentId:"dining_room-1",offset:{x:166.07843137254912,y:203.17647058823525}},{id:"bed-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",data:{cateType:R.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:861.6862745098039,y:1134.078431372549},rotation:-180,parentId:null},{id:"window-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:702.5882352941177,y:1253.313725490196},rotation:-270,parentId:null},{id:"window-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:984.5490196078431,y:1094.1372549019607},rotation:0,parentId:null},{id:"bookshelf-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bookshelf-gr.png",data:{cateType:R.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:899.7058823529411,y:748.9607843137255},rotation:0,parentId:null},{id:"bed-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",data:{cateType:R.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:781.7254901960785,y:356.47058823529414},rotation:0,parentId:null},{id:"stove-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/stove-gr.png",data:{cateType:R.w$.FURNITURE,type:"stove",label:"廚房1-爐具1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:329.09803921568624,y:1121.6470588235295},rotation:-90,parentId:null},{id:"sink-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink-gr.png",data:{cateType:R.w$.FURNITURE,type:"sink",label:"廚房1-锌盘1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:420.6078431372549,y:1231.1568627450981},rotation:0,parentId:null},{id:"tv-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv-gr.png",data:{cateType:R.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:855.6078431372549,y:658.9411764705882},rotation:0,parentId:null},{id:"sofa-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa-gr.png",data:{cateType:R.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:891.5294117647059,y:800.4901960784314},rotation:-90,parentId:null},{id:"door-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"睡房2-門1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:754.2549019607843,y:944.8431372549019},rotation:-270,parentId:null},{id:"door-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:729.4117647058823,y:568.9607843137255},rotation:-90,parentId:null},{id:"wardrobe-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"睡房2-櫃1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:623.2745098039215,y:1063.6470588235295},rotation:0,parentId:null},{id:"wardrobe-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:614.3529411764706,y:452.01960784313724},rotation:0,parentId:null},{id:"window-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:928.0196078431372,y:455},rotation:0,parentId:null},{id:"window-6",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"廚房1-窗1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:337.0588235294117,y:1196.6666666666667},rotation:0,parentId:null},{id:"wardrobe-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"廚房1-櫃1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:520.9411764705883,y:1060.8431372549019},rotation:0,parentId:null},{id:"table-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",data:{cateType:R.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:706.5294117647059,y:1171.392156862745},rotation:-90,parentId:null},{id:"chair-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:267.3529411764706,y:747.0196078431372},rotation:-90,parentId:"dining_room-1",offset:{x:75.50980392156873,y:107.13725490196077}},{id:"chair-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子3",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:328.5098039215686,y:747.6078431372548},rotation:-90,parentId:"dining_room-1",offset:{x:139.66666666666674,y:106.72549019607834}},{id:"chair-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:265.43137254901956,y:662.1764705882354},rotation:-270,parentId:"dining_room-1",offset:{x:77.58823529411768,y:16.294117647058897}},{id:"chair-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子4",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:325.52941176470586,y:660.3529411764705},rotation:-270,parentId:"dining_room-1",offset:{x:136.68627450980398,y:15.47058823529403}},{id:"wardrobe-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"客廳1-櫃1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:653.9215686274509,y:809.0392156862745},rotation:-90,parentId:null},{id:"tv-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv-gr.png",data:{cateType:R.w$.FURNITURE,type:"tv",label:"睡房2-電視1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:850,y:962.2352941176471},rotation:0,parentId:null},{id:"plant-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant-gr.png",data:{cateType:R.w$.FURNITURE,type:"plant",label:"陽台1-植物2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1057.2549019607843,y:871.6078431372549},rotation:0,parentId:null},{id:"plant-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant-gr.png",data:{cateType:R.w$.FURNITURE,type:"plant",label:"陽台1-植物1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1055.2549019607843,y:650.9803921568628},rotation:0,parentId:null},{id:"door-6",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"陽台1-門1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:1049.0819672131147,y:769.6393442622951},rotation:0,parentId:null}]},eT={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"bathroom",label:"浴室1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:284.47058823529414,y:329.37254901960785},rotation:0},{id:"dining_room-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"dining_room",label:"饭厅1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:441,height:296},position:{x:144.84313725490188,y:632.8823529411765},rotation:0},{id:"living_room-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"living_room",label:"客厅1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:443,height:290},position:{x:588.1176470588235,y:634.4509803921569},rotation:0},{id:"bedroom-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"bedroom",label:"睡房1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:589.5882352941177,y:330.78431372549016},rotation:0},{id:"bedroom-2",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"bedroom",label:"睡房2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:421,height:375},position:{x:593.3529411764706,y:926.4705882352941},rotation:0},{id:"kitchen-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"kitchen",label:"厨房1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:270,height:363},position:{x:315.0392156862745,y:930.4509803921569},rotation:0},{id:"balcony-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"balcony",label:"阳台1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/balcony.png",size:{width:300,height:300}},size:{width:116,height:296},position:{x:1030.764705882353,y:635.8039215686274},rotation:0},{id:"toilet-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet-gr.png",data:{cateType:R.w$.FURNITURE,type:"toilet",label:"浴室1-马桶1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:410.843137254902,y:351.5490196078431},rotation:0,parentId:null,offset:{x:134.843137254902,y:7.549019607843093}},{id:"shower-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower-gr.png",data:{cateType:R.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:483.2352941176471,y:528.4313725490196},rotation:0,parentId:null,offset:{x:211.23529411764707,y:207.43137254901956}},{id:"bathtub-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub-gr.png",data:{cateType:R.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:489.82352941176464,y:357.92156862745094},rotation:0,parentId:null,offset:{x:219.82352941176464,y:52.92156862745094}},{id:"sink-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink-gr.png",data:{cateType:R.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:291.92156862745094,y:481.11764705882354},rotation:-270,parentId:null,offset:{x:-5.078431372549062,y:153.11764705882354}},{id:"door-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"浴室1-门1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:417.3137254901961,y:572.4117647058823},rotation:-90,parentId:null},{id:"window-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:310.72549019607845,y:362.7254901960784},rotation:-180,parentId:null},{id:"door-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"饭厅1-门1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:160.37254901960785,y:755.2156862745098},rotation:0,parentId:"dining_room-1",offset:{x:4.529411764705969,y:131.33333333333337}},{id:"window-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:240.58823529411762,y:622.4901960784314},rotation:-90,parentId:"dining_room-1",offset:{x:91.74509803921575,y:-20.392156862745082}},{id:"table-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",data:{cateType:R.w$.FURNITURE,type:"table",label:"饭厅1-枱1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:290.37254901960785,y:657.5294117647059},rotation:-90,parentId:"dining_room-1",offset:{x:100.52941176470597,y:9.647058823529392}},{id:"fridge-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/fridge-gr.png",data:{cateType:R.w$.FURNITURE,type:"fridge",label:"厨房1-冰箱1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:339.2941176470588,y:991.6666666666667},rotation:0,parentId:null},{id:"door-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"厨房1-门1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:433.4509803921569,y:943.5686274509803},rotation:-270,parentId:null},{id:"wardrobe-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"饭厅1-柜1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:307.921568627451,y:809.0588235294117},rotation:-90,parentId:"dining_room-1",offset:{x:166.07843137254912,y:203.17647058823525}},{id:"bed-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",data:{cateType:R.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:861.6862745098039,y:1134.078431372549},rotation:-180,parentId:null},{id:"window-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:702.5882352941177,y:1253.313725490196},rotation:-270,parentId:null},{id:"window-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:984.5490196078431,y:1094.1372549019607},rotation:0,parentId:null},{id:"bookshelf-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bookshelf-gr.png",data:{cateType:R.w$.FURNITURE,type:"bookshelf",label:"客厅1-茶几1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:899.7058823529411,y:748.9607843137255},rotation:0,parentId:null},{id:"bed-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",data:{cateType:R.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:781.7254901960785,y:356.47058823529414},rotation:0,parentId:null},{id:"stove-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/stove-gr.png",data:{cateType:R.w$.FURNITURE,type:"stove",label:"厨房1-炉具1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:329.09803921568624,y:1121.6470588235295},rotation:-90,parentId:null},{id:"sink-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink-gr.png",data:{cateType:R.w$.FURNITURE,type:"sink",label:"厨房1-锌盘1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:420.6078431372549,y:1231.1568627450981},rotation:0,parentId:null},{id:"tv-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv-gr.png",data:{cateType:R.w$.FURNITURE,type:"tv",label:"客厅1-电视1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:855.6078431372549,y:658.9411764705882},rotation:0,parentId:null},{id:"sofa-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa-gr.png",data:{cateType:R.w$.FURNITURE,type:"sofa",label:"客厅1-沙发1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:891.5294117647059,y:800.4901960784314},rotation:-90,parentId:null},{id:"door-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"睡房2-门1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:754.2549019607843,y:944.8431372549019},rotation:-270,parentId:null},{id:"door-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"睡房1-门1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:729.4117647058823,y:568.9607843137255},rotation:-90,parentId:null},{id:"wardrobe-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"睡房2-柜1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:623.2745098039215,y:1063.6470588235295},rotation:0,parentId:null},{id:"wardrobe-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"睡房1-柜1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:614.3529411764706,y:452.01960784313724},rotation:0,parentId:null},{id:"window-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:928.0196078431372,y:455},rotation:0,parentId:null},{id:"window-6",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"厨房1-窗1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:337.0588235294117,y:1196.6666666666667},rotation:0,parentId:null},{id:"wardrobe-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"厨房1-柜1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:520.9411764705883,y:1060.8431372549019},rotation:0,parentId:null},{id:"table-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",data:{cateType:R.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:706.5294117647059,y:1171.392156862745},rotation:-90,parentId:null},{id:"chair-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:267.3529411764706,y:747.0196078431372},rotation:-90,parentId:"dining_room-1",offset:{x:75.50980392156873,y:107.13725490196077}},{id:"chair-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子3",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:328.5098039215686,y:747.6078431372548},rotation:-90,parentId:"dining_room-1",offset:{x:139.66666666666674,y:106.72549019607834}},{id:"chair-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:265.43137254901956,y:662.1764705882354},rotation:-270,parentId:"dining_room-1",offset:{x:77.58823529411768,y:16.294117647058897}},{id:"chair-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子4",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:325.52941176470586,y:660.3529411764705},rotation:-270,parentId:"dining_room-1",offset:{x:136.68627450980398,y:15.47058823529403}},{id:"wardrobe-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"客廳1-櫃1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:653.9215686274509,y:809.0392156862745},rotation:-90,parentId:null},{id:"tv-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv-gr.png",data:{cateType:R.w$.FURNITURE,type:"tv",label:"睡房2-電視1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:850,y:962.2352941176471},rotation:0,parentId:null},{id:"plant-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant-gr.png",data:{cateType:R.w$.FURNITURE,type:"plant",label:"陽台1-植物2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1057.2549019607843,y:871.6078431372549},rotation:0,parentId:null},{id:"plant-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant-gr.png",data:{cateType:R.w$.FURNITURE,type:"plant",label:"陽台1-植物1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1055.2549019607843,y:650.9803921568628},rotation:0,parentId:null},{id:"door-6",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"陽台1-門1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:1049.0819672131147,y:769.6393442622951},rotation:0,parentId:null}]},ez={canvasPosition:{x:0,y:-48},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:R.w$.ROOM,direction:"north",data:{cateType:R.w$.ROOM,type:"bathroom",label:"浴室1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bathroom.png",parentRoom:null,size:{width:300,height:300}},size:{width:300,height:300},position:{x:522.4705882352941,y:339.37254901960785},rotation:0,parentId:null},{id:"dining_room-1",type:R.w$.ROOM,direction:"west",data:{cateType:R.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/dining_room.png",parentRoom:null,size:{width:300,height:300}},size:{width:475,height:362},position:{x:135.84313725490188,y:648.8823529411765},rotation:0,parentId:null},{id:"living_room-1",type:R.w$.ROOM,direction:"center",data:{cateType:R.w$.ROOM,type:"living_room",label:"客廳1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/living_room.png",parentRoom:null,size:{width:300,height:300}},size:{width:573,height:370},position:{x:616.1176470588235,y:647.4509803921569},rotation:0,parentId:null},{id:"bedroom-1",type:R.w$.ROOM,direction:"northEast",data:{cateType:R.w$.ROOM,type:"bedroom",label:"睡房1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",parentRoom:null,size:{width:300,height:300}},size:{width:367,height:304},position:{x:828.5882352941177,y:336.78431372549016},rotation:0,parentId:null},{id:"bedroom-2",type:R.w$.ROOM,direction:"south",data:{cateType:R.w$.ROOM,type:"bedroom",label:"睡房2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",parentRoom:null,size:{width:300,height:300}},size:{width:421,height:375},position:{x:710.3529411764706,y:1024.4705882352941},rotation:0,parentId:null},{id:"kitchen-1",type:R.w$.ROOM,direction:"southWest",data:{cateType:R.w$.ROOM,type:"kitchen",label:"廚房1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/kitchen.png",parentRoom:null,size:{width:300,height:300}},size:{width:275,height:377},position:{x:427.0392156862745,y:1027.450980392157},rotation:0,parentId:null},{id:"balcony-1",type:R.w$.ROOM,direction:"east",data:{cateType:R.w$.ROOM,type:"balcony",label:"陽台1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/balcony.png",parentRoom:null,size:{width:300,height:300}},size:{width:133,height:367},position:{x:1197.764705882353,y:649.8039215686274},rotation:0,parentId:null},{id:"bedroom-3",type:R.w$.ROOM,direction:"northWest",data:{cateType:R.w$.ROOM,type:"bedroom",label:"睡房3",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",parentRoom:null,size:{width:300,height:300}},size:{width:300,height:300},position:{x:223.3770491803279,y:340.016393442623},rotation:0,parentId:null},{id:"toilet-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet-gr.png",data:{cateType:R.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet.png",parentRoom:null,size:{width:40,height:60}},size:{width:40,height:60},position:{x:648.843137254902,y:361.5490196078431},rotation:0,parentId:null,offset:{x:126.37254901960785,y:22.176470588235247}},{id:"shower-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower-gr.png",data:{cateType:R.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/shower.png",parentRoom:null,size:{width:80,height:80}},size:{width:80,height:80},position:{x:721.2352941176471,y:538.4313725490196},rotation:0,parentId:null,offset:{x:198.76470588235293,y:199.0588235294117}},{id:"bathtub-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub-gr.png",data:{cateType:R.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/bathtub.png",parentRoom:null,size:{width:120,height:60}},size:{width:70,height:35},position:{x:727.8235294117646,y:367.92156862745094},rotation:0,parentId:null,offset:{x:205.3529411764705,y:28.549019607843093}},{id:"sink-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink-gr.png",data:{cateType:R.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/sink.png",parentRoom:null,size:{width:60,height:40}},size:{width:60,height:40},position:{x:529.9215686274509,y:491.11764705882354},rotation:-270,parentId:null,offset:{x:7.450980392156794,y:151.7450980392157}},{id:"door-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:644.313725490196,y:586.4117647058823},rotation:-90,parentId:null,offset:{x:132.84313725490193,y:243.03921568627447}},{id:"door-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:148.37254901960785,y:814.2156862745098},rotation:0,parentId:null,offset:{x:12.52941176470597,y:165.33333333333337}},{id:"window-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"飯廳1-窗1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:227.58823529411762,y:643.4901960784314},rotation:-90,parentId:null,offset:{x:91.74509803921575,y:-5.392156862745082}},{id:"table-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",data:{cateType:R.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/table.png",parentRoom:null,size:{width:44,height:120}},size:{width:44,height:120},position:{x:318.37254901960785,y:690.5294117647059},rotation:-90,parentId:null,offset:{x:271.52941176470597,y:145.6470588235294}},{id:"fridge-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/fridge-gr.png",data:{cateType:R.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/fridge.png",parentRoom:null,size:{width:40,height:43}},size:{width:40,height:43},position:{x:451.2941176470588,y:1088.6666666666667},rotation:0,parentId:null,offset:{x:24.25490196078431,y:61.215686274509835}},{id:"door-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"廚房1-門1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:545.4509803921569,y:1040.5686274509803},rotation:-270,parentId:null,offset:{x:118.41176470588243,y:13.117647058823422}},{id:"wardrobe-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:210.921568627451,y:909.0588235294117},rotation:-90,parentId:null,offset:{x:75.07843137254912,y:260.17647058823525}},{id:"bed-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",data:{cateType:R.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/bed.png",parentRoom:null,size:{width:89,height:128}},size:{width:89,height:128},position:{x:978.6862745098039,y:1232.078431372549},rotation:-180,parentId:null,offset:{x:268.33333333333326,y:207.6078431372548}},{id:"window-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:819.5882352941177,y:1351.313725490196},rotation:-270,parentId:null,offset:{x:109.23529411764707,y:326.8431372549019}},{id:"window-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:1101.549019607843,y:1192.1372549019607},rotation:0,parentId:null,offset:{x:391.1960784313725,y:167.66666666666652}},{id:"bookshelf-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bookshelf-gr.png",data:{cateType:R.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/bookshelf.png",parentRoom:null,size:{width:44,height:44}},size:{width:44,height:44},position:{x:1047.705882352941,y:790.9607843137255},rotation:0,parentId:null,offset:{x:431.58823529411745,y:143.50980392156862}},{id:"bed-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",data:{cateType:R.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/bed.png",parentRoom:null,size:{width:89,height:128}},size:{width:89,height:128},position:{x:1020.7254901960785,y:362.47058823529414},rotation:0,parentId:null,offset:{x:192.13725490196077,y:25.68627450980398}},{id:"stove-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/stove-gr.png",data:{cateType:R.w$.FURNITURE,type:"stove",label:"廚房1-爐具1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/stove.png",parentRoom:null,size:{width:62,height:32}},size:{width:62,height:32},position:{x:441.09803921568624,y:1218.6470588235295},rotation:-90,parentId:null,offset:{x:14.058823529411768,y:191.1960784313726}},{id:"sink-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink-gr.png",data:{cateType:R.w$.FURNITURE,type:"sink",label:"廚房1-锌盘1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/sink.png",parentRoom:null,size:{width:60,height:40}},size:{width:60,height:40},position:{x:532.6078431372549,y:1328.1568627450981},rotation:0,parentId:null,offset:{x:105.56862745098044,y:300.7058823529412}},{id:"tv-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv-gr.png",data:{cateType:R.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/tv.png",parentRoom:null,size:{width:134,height:32}},size:{width:134,height:32},position:{x:1001.6078431372549,y:670.9411764705882},rotation:0,parentId:null,offset:{x:385.4901960784314,y:23.490196078431268}},{id:"sofa-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa-gr.png",data:{cateType:R.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/sofa.png",parentRoom:null,size:{width:67,height:123}},size:{width:67,height:123},position:{x:1042.5294117647059,y:893.4901960784314},rotation:-90,parentId:null,offset:{x:426.4117647058823,y:246.03921568627447}},{id:"door-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"睡房2-門1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:871.2549019607843,y:1042.8431372549019},rotation:-270,parentId:null,offset:{x:160.9019607843137,y:18.37254901960773}},{id:"door-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:945.4117647058823,y:585.9607843137255},rotation:-90,parentId:null,offset:{x:116.82352941176464,y:249.17647058823536}},{id:"wardrobe-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"睡房2-櫃1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:740.2745098039215,y:1161.6470588235295},rotation:0,parentId:null,offset:{x:29.921568627450938,y:137.17647058823536}},{id:"wardrobe-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:853.3529411764706,y:458.01960784313724},rotation:0,parentId:null,offset:{x:24.764705882352928,y:121.23529411764707}},{id:"window-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:1167.0196078431372,y:461},rotation:0,parentId:null,offset:{x:338.43137254901956,y:124.21568627450984}},{id:"window-6",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:483,y:1337},rotation:-90,parentId:null,offset:{x:163.15686274509812,y:56.117647058823536}},{id:"wardrobe-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"廚房1-櫃1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:632.9411764705883,y:1157.8431372549019},rotation:0,parentId:null,offset:{x:205.90196078431381,y:130.39215686274497}},{id:"table-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",data:{cateType:R.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/table.png",parentRoom:null,size:{width:44,height:120}},size:{width:44,height:120},position:{x:823.5294117647059,y:1269.392156862745},rotation:-90,parentId:null,offset:{x:113.17647058823525,y:244.92156862745082}},{id:"chair-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:297.3529411764706,y:790.0196078431372},rotation:-90,parentId:null,offset:{x:161.50980392156873,y:141.13725490196077}},{id:"chair-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子3",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:349.5098039215686,y:789.6078431372548},rotation:-90,parentId:null,offset:{x:213.66666666666674,y:140.72549019607834}},{id:"chair-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:298.43137254901956,y:687.1764705882354},rotation:-270,parentId:null,offset:{x:162.58823529411768,y:38.2941176470589}},{id:"chair-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子4",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:348.52941176470586,y:685.3529411764705},rotation:-270,parentId:null,offset:{x:212.68627450980398,y:36.47058823529403}},{id:"wardrobe-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"客廳1-櫃1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:691.9215686274509,y:907.0392156862745},rotation:-90,parentId:null,offset:{x:75.8039215686274,y:259.58823529411757}},{id:"tv-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv-gr.png",data:{cateType:R.w$.FURNITURE,type:"tv",label:"睡房2-電視1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/tv.png",parentRoom:null,size:{width:134,height:32}},size:{width:134,height:32},position:{x:967,y:1060.235294117647},rotation:0,parentId:null,offset:{x:256.6470588235294,y:35.76470588235293}},{id:"plant-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant-gr.png",data:{cateType:R.w$.FURNITURE,type:"plant",label:"陽台1-植物1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant.png",parentRoom:null,size:{width:36,height:36}},size:{width:36,height:36},position:{x:1218.2549019607843,y:960.6078431372549},rotation:0,parentId:"balcony-1",offset:{x:26.49019607843138,y:235.80392156862752}},{id:"plant-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant-gr.png",data:{cateType:R.w$.FURNITURE,type:"plant",label:"陽台1-植物2",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/plant.png",parentRoom:null,size:{width:36,height:36}},size:{width:36,height:36},position:{x:1218.2549019607843,y:667.9803921568628},rotation:0,parentId:"balcony-1",offset:{x:24.49019607843138,y:15.176470588235361}},{id:"door-6",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"陽台1-門1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:1216.0819672131147,y:783.6393442622951},rotation:0,parentId:"balcony-1",offset:{x:18.317261330761767,y:133.83542269366774}},{id:"bed-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",data:{cateType:R.w$.FURNITURE,type:"bed",label:"睡房3-床1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/bed.png",parentRoom:null,size:{width:89,height:128}},size:{width:89,height:128},position:{x:401.3606557377049,y:360.0655737704918},rotation:0,parentId:null},{id:"wardrobe-6",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"睡房3-櫃1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:239.95081967213116,y:375.09836065573774},rotation:0,parentId:null},{id:"door-7",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"未分配-門",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:441.655737704918,y:582.1475409836065},rotation:-90,parentId:null},{id:"table-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",data:{cateType:R.w$.FURNITURE,type:"table",label:"睡房3-枱1",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/table.png",parentRoom:null,size:{width:44,height:120}},size:{width:44,height:120},position:{x:280.3606557377049,y:535.1475409836065},rotation:-90,parentId:null},{id:"chair-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"未分配-椅子",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:283.95081967213116,y:531.311475409836},rotation:-270,parentId:null},{id:"wardrobe-7",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"未分配-櫃",icon:"https://d3cbeloe0vn1bb/cloudfront.net/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:810.6065573770493,y:618.4918032786885},rotation:-90,parentId:null}]},e$={...ez,localItems:ez.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("陽台","阳台").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},ej={[R.sR.LIVING_ROOM]:"#F0DF9C",[R.sR.DINING_ROOM]:"#F5D4BC",[R.sR.STORAGE_ROOM]:"#ADC0BC",[R.sR.STUDY_ROOM]:"#B0B8C9",[R.sR.BEDROOM]:"#F5B8B8",[R.sR.BATHROOM]:"#C1D7E2",[R.sR.KITCHEN]:"#EDE0C6",[R.sR.BALCONY]:"#D0DCAA",[R.sR.GARDEN]:"#AACDBC",[R.sR.GARAGE]:"#C7C7DD",[R.sR.CORRIDOR]:"#CDCDCD"};function eE(e){var t,i;let{params:o}=e,r=(0,s.use)(o).locale,l=(0,k.c3)("design"),d=(0,k.c3)("toast"),h="zh-TW"===r?R.t7:R.Xs,p="zh-TW"===r?R.Gx:R.Qc,g="zh-TW"===r?eN:eT,I="zh-TW"===r?ez:e$,U=[{id:"door-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.DOOR,label:p[R.x9.DOOR],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",size:{width:40,height:40}}},{id:"window-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.WINDOW,label:p[R.x9.WINDOW],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",size:{width:8,height:56}}},{id:"table-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.TABLE,label:p[R.x9.TABLE],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",size:{width:44,height:120}}},{id:"chair-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.CHAIR,label:p[R.x9.CHAIR],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",size:{width:28,height:35}}},{id:"sofa-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.SOFA,label:p[R.x9.SOFA],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa-gr.png",size:{width:67,height:123}}},{id:"bed-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.BED,label:p[R.x9.BED],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",size:{width:89,height:128}}},{id:"lamp-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.LAMP,label:p[R.x9.LAMP],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/lamp.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/lamp-gr.png",size:{width:70,height:128}}},{id:"tv-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.TV,label:p[R.x9.TV],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv-gr.png",size:{width:134,height:32}}},{id:"bookshelf-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.BOOKSHELF,label:p[R.x9.BOOKSHELF],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bookshelf.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bookshelf-gr.png",size:{width:44,height:44}}},{id:"wardrobe-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.WARDROBE,label:p[R.x9.WARDROBE],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",size:{width:40,height:129}}},{id:"plant-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.PLANT,label:p[R.x9.PLANT],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant-gr.png",size:{width:36,height:36}}},{id:"fridge-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.FRIDGE,label:p[R.x9.FRIDGE],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/fridge.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/fridge-gr.png",size:{width:40,height:43}}},{id:"stove-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.STOVE,label:p[R.x9.STOVE],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/stove.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/stove-gr.png",size:{width:62,height:32}}},{id:"sink-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.SINK,label:p[R.x9.SINK],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink-gr.png",size:{width:60,height:40}}},{id:"washbasin-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.WASHBASIN,label:p[R.x9.WASHBASIN],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/washbasin.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/washbasin-gr.png",size:{width:50,height:50}}},{id:"toilet-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.TOILET,label:p[R.x9.TOILET],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet-gr.png",size:{width:40,height:60}}},{id:"shower-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.SHOWER,label:p[R.x9.SHOWER],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower-gr.png",size:{width:80,height:80}}},{id:"bathtub-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.BATHTUB,label:p[R.x9.BATHTUB],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub-gr.png",size:{width:120,height:60}}}],N=(0,a.FR)((0,a.MS)(a.IG,{tolerance:50}),(0,a.MS)(a.cA,{activationConstraint:{distance:10}})),T=(0,v.useRouter)(),[z,$]=(0,s.useState)(null),[E,F]=(0,s.useState)(!1),[O,A]=(0,s.useState)(0),[D,_]=(0,s.useState)(!1),[L,P]=(0,s.useState)([[]]),[B,X]=(0,s.useState)(0),[G,H]=(0,s.useState)(!1),[q,K]=(0,s.useState)({}),[et,ei]=(0,s.useState)(!1),eo=(0,s.useRef)(null),en=(0,s.useRef)(null),ea=(0,M.A)(),es=ea?48:56,er=ea?{width:200,height:200}:{width:300,height:300},[el,ed]=(0,s.useState)(!1),[ec,eh]=(0,s.useState)(!1),ep=[{id:"living-room",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.LIVING_ROOM,label:h[R.sR.LIVING_ROOM],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/living_room.png",size:er}},{id:"dining-room",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.DINING_ROOM,label:h[R.sR.DINING_ROOM],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/dining_room.png",size:er}},{id:"storage-room",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.STORAGE_ROOM,label:h[R.sR.STORAGE_ROOM],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/storage_room.png",size:er}},{id:"study-room",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.STUDY_ROOM,label:h[R.sR.STUDY_ROOM],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/study_room.png",size:er}},{id:"bedroom",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.BEDROOM,label:h[R.sR.BEDROOM],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",size:er}},{id:"bathroom",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.BATHROOM,label:h[R.sR.BATHROOM],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bathroom.png",size:er}},{id:"kitchen",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.KITCHEN,label:h[R.sR.KITCHEN],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/kitchen.png",size:er}},{id:"balcony",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.BALCONY,label:h[R.sR.BALCONY],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/balcony.png",size:er}},{id:"garden",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.GARDEN,label:h[R.sR.GARDEN],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/garden.png",size:er}},{id:"garage",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.GARAGE,label:h[R.sR.GARAGE],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/garage.png",size:er}},{id:"corridor",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.CORRIDOR,label:h[R.sR.CORRIDOR],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/corridor.png",size:er}}],{data:eg}=(0,ee.wV)();(0,s.useEffect)(()=>{let e=()=>{en.current&&A(en.current.offsetWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,s.useEffect)(()=>{(async()=>{var e,t,i,o,n;let a=null==eg?void 0:null===(e=eg.user)||void 0===e?void 0:e.userId;if(a)try{ei(!0);let{status:e,message:s,data:r}=await (0,J.Jt)("/api/users/".concat(a)),{status:l,message:d,data:c}=await (0,J.Jt)("/api/design/".concat(a));if(0!==e){C.oR.error("查询用户错误:"+s);return}if(0!==l){C.oR.error("查询布局错误:"+d);return}K(r),H(!0);let{localItems:h=[],scale:p=100,canvasPosition:g={x:0,y:0},compassRotation:b=0}=c,u=h.map(e=>({...e,type:e._type,data:{...e.data,type:e.data._type}}));null===(t=eo.current)||void 0===t||t.setLocalItems(u),null===(i=eo.current)||void 0===i||i.setPosition(g),null===(o=eo.current)||void 0===o||o.setCompassRotation(b),null===(n=eo.current)||void 0===n||n.setScale(p),ei(!1)}catch(e){ei(!1),C.oR.error("加载布局错误:"+e),console.error("Error loading design:",e)}})()},[null==eg?void 0:null===(t=eg.user)||void 0===t?void 0:t.userId]);let eb=(e,t)=>{let{over:i}=e,o=(null==i?void 0:i.id)==="canvas";if(F(o),o){let e=eo.current.getLocalItems(),i="".concat(z.data.current.label).concat(e.filter(e=>e.data.type===z.data.current.type).length+1),o={id:"".concat(z.data.current.type,"-").concat(e.filter(e=>e.data.type===z.data.current.type).length+1),type:z.data.current.cateType,data:{...z.data.current,label:z.data.current.cateType===R.w$.ROOM?i:""},size:z.data.current.size,activeIcon:z.data.current.activeIcon};eo.current.setIsRoomDragging(!0),eo.current.setRoomDragStart(t),eo.current.setDraggedRoom(o)}else eo.current.setIsRoomDragging(!1)},eu=async()=>{var e;(null==eg?void 0:null===(e=eg.user)||void 0===e?void 0:e.userId)||(0,v.redirect)("/auth/login");try{ei(!0);let e=function(e){var t;let i,o,n,a,s,r,l,d=e.localItems.filter(e=>"room"===e.type),c=e.localItems.filter(e=>"furniture"===e.type),h=(e,t,i,o,n)=>{if(e===t)return"center";let a=e.position.x+e.size.width/2,s=e.position.y+e.size.height/2,r=180/Math.PI*Math.atan2(a-i,-(s-o));for(let t of(r<0&&(r+=360),console.log("newDirections",r,e,a,s,i,o),n))if(337.5!==t.range[0]){if(r>=t.range[0]&&r<t.range[1])return t.name}else if(r>=t.range[0]||r<t.range[1])return t.name},{centerRoom:p,centerX:g,centerY:b}=(i=0,o=0,n=d[0].position.x+d[0].size.width/2,a=d[0].position.y+d[0].size.height/2,s=d[0].position.x+d[0].size.width/2,r=d[0].position.y+d[0].size.height/2,d.forEach(e=>{e.position.x+e.size.width/2<n&&(n=e.position.x+e.size.width/2),e.position.y+e.size.height/2<a&&(a=e.position.y+e.size.height/2),e.position.x+e.size.width/2>s&&(s=e.position.x+e.size.width/2),e.position.y+e.size.height/2>r&&(r=e.position.y+e.size.height/2)}),i=(n+s)/2,o=(a+r)/2,{centerRoom:d.find(e=>e.position.x<=i&&e.position.x+e.size.width>=i&&e.position.y<=o&&e.position.y+e.size.height>=o),centerX:i,centerY:o}),u=(t=e.compassRotation||0,console.log("northIndex",l=Z.findIndex(e=>e.baseAngle===t%360)),Z.slice(l).concat(Z.slice(0,l)).map((e,t)=>({...e,name:Z[t].name}))),f=d.map(e=>{let t=h(e,p,g,b,u);return{...e,direction:t}});return{...e,localItems:[...f,...c]}}({localItems:eo.current.getLocalItems(),canvasPosition:eo.current.getPosition(),compassRotation:eo.current.getCompassRotation(),scale:eo.current.getScale()}),{status:t}=await (0,J.bE)("/api/design/".concat(eg.user.userId),e);0==t&&C.oR.success("保存成功！")}catch(e){C.oR.error("保存失败："+e),console.error("Error saving design:",e)}finally{ei(!1)}},ef=async()=>{var e;(null==eg?void 0:null===(e=eg.user)||void 0===e?void 0:e.userId)||(0,v.redirect)("/auth/login");let t=eg.user.userId,i=eo.current.getLocalItems(),o=!1,n=!1;if(i.forEach(e=>{"door"===e.data.type&&(o=!0),"window"===e.data.type&&(n=!0)}),!o||!n){C.oR.error(l("warning"),{autoClose:!1,style:{width:400}});return}try{let{status:e,data:i}=await (0,J.Jt)("/api/reportUserDoc/".concat(t,"/").concat("zh-CN"==r?"zh":"tw"));i?ed(!0):(await eu(),T.push("/report"))}catch(e){}},ew=async()=>{var e;(null==eg?void 0:null===(e=eg.user)||void 0===e?void 0:e.userId)||(0,v.redirect)("/auth/login");let t=eg.user.userId;await eu();try{ed(!1),ei(!0);let{status:e}=await (0,J.bE)("/api/users/".concat(eg.user.userId),{isLock:!0,genStatus:"none"}),{status:i}=await (0,J.F6)("/api/reportUserDoc/".concat(t),{isDelete:1});ei(!1),0==e&&0==i&&T.push("/report")}catch(e){}},em=()=>{if(B>0){var e,t;null===(e=eo.current)||void 0===e||e.setActiveRoom(null),X(e=>e-1),null===(t=eo.current)||void 0===t||t.setLocalItems(L[B-1])}},ey=()=>{if(B<L.length-1){var e,t;null===(e=eo.current)||void 0===e||e.setActiveRoom(null),X(e=>e+1),null===(t=eo.current)||void 0===t||t.setLocalItems(L[B+1])}},ex=async e=>{var t;(null==eg?void 0:null===(t=eg.user)||void 0===t?void 0:t.userId)||(0,v.redirect)("/auth/login"),ei(!0),K(e);try{let{status:t}=await (0,J.bE)("/api/users/".concat(eg.user.userId),{gender:e.gender,birthDateTime:e.birthDateTime.toISOString()});0==t&&(C.oR.success("保存成功！"),H(!1))}catch(e){C.oR.error("保存失败："+e),console.error("Error saving user info:",e)}finally{ei(!1)}},ev=e=>{eh(!0)},eR=function(){var e,t,i,o,n,a,s,r;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";"2"===l?(null===(e=eo.current)||void 0===e||e.setLocalItems(I.localItems),null===(t=eo.current)||void 0===t||t.setPosition(I.canvasPosition),null===(i=eo.current)||void 0===i||i.setCompassRotation(I.compassRotation),null===(o=eo.current)||void 0===o||o.setScale(I.scale)):(null===(n=eo.current)||void 0===n||n.setLocalItems(g.localItems),null===(a=eo.current)||void 0===a||a.setPosition(g.canvasPosition),null===(s=eo.current)||void 0===s||s.setCompassRotation(g.compassRotation),null===(r=eo.current)||void 0===r||r.setScale(g.scale)),eh(!1)};return(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{children:"loading..."}),children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eU.m5,{fullscreen:!0,spinning:et,tip:d("loading2"),className:"bg-[#fff9]"}),(0,n.jsx)(eI,{open:G,onUserOpen:H,onSubmit:ex,userInfo:q}),ea?(0,n.jsx)(W,{onSaveProject:eu,history:L,historyIndex:B,handleUndo:em,handleRedo:ey,onUserOpen:H}):(0,n.jsx)(Y,{onSaveProject:eu,onGenReport:ef,onUserOpen:H}),(0,n.jsx)("div",{className:"pt-16",children:(0,n.jsxs)(a.Mp,{sensors:N,onDragStart:e=>{let{active:t}=e;$(t),F(!1)},onDragOver:e=>{ea||eb(e,{x:O,y:es})},onDragMove:e=>{ea&&e.delta.y<-120&&eb(e,{x:0,y:50})},children:[(0,n.jsx)("div",{className:"min-h-[calc(100vh-64px)] bg-gray-50",children:(0,n.jsx)("div",{className:"container p-0",style:{maxWidth:"100%"},children:(0,n.jsxs)("div",{className:"flex h-[calc(100vh-64px)]",children:[ea?(0,n.jsx)(Q,{showTab:D,setShowTab:_,roomItems:ep,furnitureItems:U,isOverCanvas:E,draggingItemSize:es}):(0,n.jsx)(V,{sidebarRef:en,roomItems:ep,furnitureItems:U,isOverCanvas:E,draggingItemSize:es}),(0,n.jsxs)("div",{className:"relative flex-1 overflow-auto",id:"canvas-drop-area",children:[(0,n.jsxs)("div",{className:"absolute px-2 py-1 text-sm border-gray-300 border-dashed top-2 left-2 z-9 border-1 rounded-xl bg-secondary",children:[(0,n.jsx)("div",{className:"text-center text-gray-600",children:l("module")}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{onClick:()=>{ev("1")},className:"px-2 m-2 text-white cursor-pointer bg-primary rounded-xl",children:l("module1")}),(0,n.jsx)("div",{onClick:()=>{ev("2")},className:"px-2 m-2 text-white cursor-pointer bg-primary rounded-xl",children:l("module2")})]})]}),(0,n.jsx)(S,{ref:eo,locale:r,history:L,historyIndex:B,setHistory:P,setHistoryIndex:X,handleUndo:em,handleRedo:ey,onGenReport:ef,showTab:D,onShowTab:()=>{_(!0)}})]})]})})}),(0,n.jsx)(a.Hd,{children:(null==z?void 0:z.id)&&E&&(z.data.current.cateType===R.w$.ROOM?(0,n.jsx)("div",{className:"flex flex-col items-center justify-center rounded-lg bg-white/80",style:{transform:ea?"translateY(78px)":"translateY(0)",width:er.width,height:er.height,border:"8px solid",borderColor:ej[null===(i=ep.find(e=>e.id===z.id))||void 0===i?void 0:i.data.type],borderRadius:"8px"},children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)(j.default,{className:"bg-[#EFF7F4] rounded-lg",src:z.data.current.icon,alt:"Room",width:es,height:es}),(0,n.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:z.data.current.label+(eo.current.getLocalItems().filter(e=>e.data.type===z.data.current.type).length+1)})]})}):(0,n.jsx)(j.default,{src:z.data.current.activeIcon,alt:"Furniture",width:z.data.current.size.width,height:z.data.current.size.height}))})]})}),(0,n.jsx)(c,{open:el,onOpenChange:ed,children:(0,n.jsxs)(b,{children:[(0,n.jsxs)(u,{children:[(0,n.jsx)(w,{children:l("hasReportAlert")}),(0,n.jsx)(m,{children:l("description")})]}),(0,n.jsxs)(f,{children:[(0,n.jsx)(x,{children:l("cancel")}),(0,n.jsx)(y,{onClick:()=>{ed(!1),T.push("/report")},children:l("readReport")}),(0,n.jsx)(y,{onClick:ew,children:l("coverReport")})]})]})}),(0,n.jsx)(c,{open:ec,onOpenChange:eh,children:(0,n.jsxs)(b,{children:[(0,n.jsx)(u,{children:(0,n.jsx)(w,{children:l("useModuleAlert")})}),(0,n.jsxs)(f,{children:[(0,n.jsx)(x,{children:l("cancel")}),(0,n.jsxs)(y,{onClick:()=>eR("1"),children:[l("ok"),l("module1")]}),(0,n.jsxs)(y,{onClick:()=>eR("2"),children:[l("ok"),l("module2")]})]})]})})]})})}},91091:(e,t,i)=>{"use strict";i.d(t,{A7:()=>b,FN:()=>p,Oj:()=>f,Q8:()=>u,Wk:()=>g});var o=i(95155),n=i(12115),a=i(85005),s=i(35169),r=i(92138),l=i(59434),d=i(30285);let c=n.createContext(null);function h(){let e=n.useContext(c);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let p=n.forwardRef((e,t)=>{let{orientation:i="horizontal",opts:s,setApi:r,plugins:d,className:h,children:p,...g}=e,[b,u]=(0,a.A)({...s,axis:"horizontal"===i?"x":"y"},d),[f,w]=n.useState(!1),[m,y]=n.useState(!1),x=n.useCallback(e=>{e&&(w(e.canScrollPrev()),y(e.canScrollNext()))},[]),v=n.useCallback(()=>{null==u||u.scrollPrev()},[u]),R=n.useCallback(()=>{null==u||u.scrollNext()},[u]),I=n.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),v()):"ArrowRight"===e.key&&(e.preventDefault(),R())},[v,R]);return n.useEffect(()=>{u&&r&&r(u)},[u,r]),n.useEffect(()=>{if(u)return x(u),u.on("reInit",x),u.on("select",x),()=>{null==u||u.off("select",x)}},[u,x]),(0,o.jsx)(c.Provider,{value:{carouselRef:b,api:u,opts:s,orientation:i||((null==s?void 0:s.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:R,canScrollPrev:f,canScrollNext:m},children:(0,o.jsx)("div",{ref:t,onKeyDownCapture:I,className:(0,l.cn)("relative",h),role:"region","aria-roledescription":"carousel",...g,children:p})})});p.displayName="Carousel";let g=n.forwardRef((e,t)=>{let{className:i,...n}=e,{carouselRef:a,orientation:s}=h();return(0,o.jsx)("div",{ref:a,className:"overflow-hidden",children:(0,o.jsx)("div",{ref:t,className:(0,l.cn)("flex","horizontal"===s?"-ml-4":"-mt-4 flex-col",i),...n})})});g.displayName="CarouselContent";let b=n.forwardRef((e,t)=>{let{className:i,...n}=e,{orientation:a}=h();return(0,o.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,l.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===a?"pl-4":"pt-4",i),...n})});b.displayName="CarouselItem";let u=n.forwardRef((e,t)=>{let{className:i,variant:n="outline",size:a="icon",...r}=e,{orientation:c,scrollPrev:p,canScrollPrev:g}=h();return(0,o.jsxs)(d.$,{ref:t,variant:n,size:a,className:(0,l.cn)("absolute  h-8 w-8 rounded-full","horizontal"===c?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",i),disabled:!g,onClick:p,...r,children:[(0,o.jsx)(s.A,{className:"h-4 w-4"}),(0,o.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});u.displayName="CarouselPrevious";let f=n.forwardRef((e,t)=>{let{className:i,variant:n="outline",size:a="icon",...s}=e,{orientation:c,scrollNext:p,canScrollNext:g}=h();return(0,o.jsxs)(d.$,{ref:t,variant:n,size:a,className:(0,l.cn)("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",i),disabled:!g,onClick:p,...s,children:[(0,o.jsx)(r.A,{className:"h-4 w-4"}),(0,o.jsx)("span",{className:"sr-only",children:"Next slide"})]})});f.displayName="CarouselNext"}},e=>{var t=t=>e(e.s=t);e.O(0,[935,453,543,493,990,463,63,960,150,111,699,441,684,358],()=>t(55714)),_N_E=e.O()}]);