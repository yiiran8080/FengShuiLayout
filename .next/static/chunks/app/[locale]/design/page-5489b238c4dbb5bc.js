(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{17313:(e,t,i)=>{"use strict";i.d(t,{Xi:()=>l,av:()=>c,j7:()=>d,tU:()=>s});var o=i(95155);i(12115);var a=i(60704),n=i(66474),r=i(59434);function s(e){let{className:t,...i}=e;return(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(a.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",t),...i}),i.setShowTab&&(0,o.jsx)(n.A,{className:"w-4 h-4 absolute top-2.5 right-5",onClick:()=>i.setShowTab(!1)})]})}function d(e){let{className:t,...i}=e;return(0,o.jsx)(a.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...i})}function l(e){let{className:t,...i}=e;return(0,o.jsx)(a.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function c(e){let{className:t,...i}=e;return(0,o.jsx)(a.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",t),...i})}},30285:(e,t,i)=>{"use strict";i.d(t,{$:()=>d,r:()=>s});var o=i(95155);i(12115);var a=i(99708),n=i(74466),r=i(59434);let s=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:i,size:n,asChild:d=!1,...l}=e,c=d?a.DX:"button";return(0,o.jsx)(c,{"data-slot":"button",className:(0,r.cn)(s({variant:i,size:n,className:t})),...l})}},55714:(e,t,i)=>{Promise.resolve().then(i.bind(i,80005))},66424:(e,t,i)=>{"use strict";i.d(t,{F:()=>r});var o=i(95155);i(12115);var a=i(47655),n=i(59434);function r(e){let{className:t,children:i,...r}=e;return(0,o.jsxs)(a.bL,{"data-slot":"scroll-area",className:(0,n.cn)("relative",t),...r,children:[(0,o.jsx)(a.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:i}),(0,o.jsx)(s,{}),(0,o.jsx)(a.OK,{})]})}function s(e){let{className:t,orientation:i="vertical",...r}=e;return(0,o.jsx)(a.VM,{"data-slot":"scroll-area-scrollbar",orientation:i,className:(0,n.cn)("flex touch-none p-px transition-colors select-none visible","vertical"===i&&"h-full w-2.5 border-l border-l-transparent","horizontal"===i&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:(0,o.jsx)(a.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},80005:(e,t,i)=>{"use strict";let o;i.r(t),i.d(t,{default:()=>eq});var a=i(95155),n=i(25472),r=i(90010),s=i(35695),d=i(12115),l=i(48842),c=i(40054),p=i.n(c),h=i(33135),g=i(62525),w=i(84616),u=i(4021),m=i(97151);i(24357);var y=i(87712),x=i(66766),b=i(59434);function f(e){let{history:t,historyIndex:i,handleUndo:o,handleRedo:n,className:r}=e;return(0,a.jsxs)("div",{className:(0,b.cn)("flex items-center gap-2",r),children:[(0,a.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 ".concat(i<=0?"text-gray-300":"text-gray-600"),onClick:o,disabled:i<=0,children:(0,a.jsx)(u.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 ".concat(i>=t.length-1?"text-gray-300":"text-gray-600"),onClick:n,disabled:i>=t.length-1,children:(0,a.jsx)(m.A,{className:"w-4 h-4"})})]})}var R=i(17652),I=i(88939),U=i(38543),T=i(45964),v=i.n(T);let N=(0,d.forwardRef)((e,t)=>{let{items:i,onShowTab:s,showTab:c,history:u,historyIndex:m,setHistory:T,setHistoryIndex:N,handleUndo:z,handleRedo:E,onGenReport:$,locale:F,onDemoAction:j=()=>{}}=e,O="zh-TW"===F?l.Gx:l.Qc,k=(0,R.c3)("design"),M=(0,I.A)(),[S,C]=(0,d.useState)({x:0,y:0}),[A,_]=(0,d.useState)(!1),[L,D]=(0,d.useState)({x:0,y:0}),[P,W]=(0,d.useState)(null),[Y,X]=(0,d.useState)(()=>window.innerWidth<768?{width:3*window.innerWidth,height:3*window.innerHeight}:{width:2e3,height:2e3}),[B,H]=(0,d.useState)(!1),[G,V]=(0,d.useState)({x:0,y:0}),[q,K]=(0,d.useState)(null),[Z,J]=(0,d.useState)([]),[Q,ee]=(0,d.useState)(!1),[et,ei]=(0,d.useState)({x:0,y:0}),[eo,ea]=(0,d.useState)(null),[en,er]=(0,d.useState)(M?35:60),[es,ed]=(0,d.useState)({originScale:100,isMoving:!1,pageX:0,pageY:0,pageX2:0,pageY2:0,initialDistance:0}),[el,ec]=(0,d.useState)(0),[ep,eh]=(0,d.useState)([]),[eg,ew]=(0,d.useState)(!1),[eu,em]=(0,d.useState)(null),ey=(0,d.useRef)(),ex=(0,d.useRef)(),[eb,ef]=(0,d.useState)({mode:"none",startTime:0,startPosition:{x:0,y:0},currentPosition:{x:0,y:0},item:null}),[eR,eI]=(0,d.useState)({showDragHint:!0,showZoomHint:!0,showRotateHint:!0}),eU=(e,t)=>{if(M){if(ex.current&&(clearTimeout(ex.current),ex.current=null),(null==eu?void 0:eu.id)===t.id){eC(e,t);return}ey.current=setTimeout(()=>{eh(e=>e.includes(t.id)?e.filter(e=>e!==t.id):[...e,t.id]),U.oR.info(k("multiSelectToast"),{autoClose:600})},500),e.preventDefault(),e.stopPropagation()}},eT=(e,t)=>{if(!M||"none"===eb.mode)return;let i=e.touches[0],o=i.clientX-eb.startPosition.x,a=i.clientY-eb.startPosition.y,n=Math.sqrt(o*o+a*a);ef(e=>({...e,currentPosition:{x:i.clientX,y:i.clientY}})),"preparing"===eb.mode&&n>10&&(ef(e=>({...e,mode:"dragging"})),eC(e,t))},ev=(e,t)=>{M&&(ey.current&&(clearTimeout(ey.current),ey.current=null),ex.current=setTimeout(()=>{(null==eu?void 0:eu.id)!==t.id&&(em(t),eD(t),U.oR.info(k("itemSelected"),{autoClose:500})),ex.current=null},50))};(0,d.useImperativeHandle)(t,()=>({getLocalItems:()=>Z,setLocalItems:J,setActiveRoom:W,getActiveRoom:()=>P,getSelectedItems:()=>ep,setIsRoomDragging:H,setDraggedRoom:K,setRoomDragStart:V,setPosition:C,setCompassRotation:ec,getPosition:()=>S,getCompassRotation:()=>el,getScale:()=>en,setScale:er,getMobileSelectedItem:()=>eu,setMobileSelectedItem:em}),[Z,S,el,en,P,ep,eu]);let eN=(0,d.useRef)(null),{setNodeRef:ez}=(0,n.zM)({id:"canvas",data:{accepts:[l.w$.ROOM,l.w$.FURNITURE]}});(0,d.useEffect)(()=>{var e;o=null===(e=document.getElementById("canvas-drop-area"))||void 0===e?void 0:e.getBoundingClientRect()},[]);let eE=(e,t,i,o)=>Math.sqrt(Math.pow(i-e,2)+Math.pow(o-t,2)),e$=e=>{let t=M?32:24,i=M?-16:-12,o=M?3:2,n=e.type===l.w$.FURNITURE&&e.rotation?e.rotation:0,r={width:t,height:t,zIndex:10,border:"".concat(o,"px solid #ef4444"),boxShadow:M?"0 2px 8px rgba(0,0,0,0.2)":"0 1px 3px rgba(0,0,0,0.12)",...0!==n&&{transform:"rotate(".concat(n,"deg)"),transformOrigin:"center"}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute bg-white rounded-full cursor-nw-resize",style:{top:i,left:i,...r},onMouseDown:t=>eA(t,e,"top-left"),onTouchStart:t=>eA(t,e,"top-left"),children:M&&(0,a.jsx)("div",{className:"absolute bg-gray-100 rounded-full opacity-50 inset-1"})}),(0,a.jsx)("div",{className:"absolute bg-white rounded-full cursor-ne-resize",style:{top:i,right:i,...r},onMouseDown:t=>eA(t,e,"top-right"),onTouchStart:t=>eA(t,e,"top-right"),children:M&&(0,a.jsx)("div",{className:"absolute bg-gray-100 rounded-full opacity-50 inset-1"})}),(0,a.jsx)("div",{className:"absolute bg-white rounded-full cursor-sw-resize",style:{bottom:i,left:i,...r},onMouseDown:t=>eA(t,e,"bottom-left"),onTouchStart:t=>eA(t,e,"bottom-left"),children:M&&(0,a.jsx)("div",{className:"absolute bg-gray-100 rounded-full opacity-50 inset-1"})}),(0,a.jsx)("div",{className:"absolute bg-white rounded-full cursor-se-resize",style:{bottom:i,right:i,...r},onMouseDown:t=>eA(t,e,"bottom-right"),onTouchStart:t=>eA(t,e,"bottom-right"),children:M&&(0,a.jsx)("div",{className:"absolute bg-gray-100 rounded-full opacity-50 inset-1"})}),M&&(0,a.jsxs)("div",{className:"absolute bg-white border-2 border-blue-500 rounded-full shadow-lg",style:{top:"50%",left:"50%",transform:0!==n?"translate(-50%, -50%) rotate(".concat(n,"deg)"):"translate(-50%, -50%)",width:24,height:24,zIndex:15,cursor:"move",transformOrigin:"center"},onTouchStart:t=>eC(t,e),children:[(0,a.jsx)("div",{className:"absolute bg-blue-100 rounded-full inset-1 opacity-60"}),(0,a.jsx)("div",{className:"absolute bg-blue-300 rounded-full inset-2"})]})]})},[eF,ej]=(0,d.useState)(!1),[eO,ek]=(0,d.useState)(0),eM=(0,d.useCallback)(e=>{var t,i;if(!e.target.closest('[data-room-element="true"]')&&"canvas"===e.target.id&&(0===e.button||e.touches)){if(M&&em(null),(null===(t=e.touches)||void 0===t?void 0:t.length)===2){let t=e.touches[0],i=e.touches[1],o=eE(t.pageX,t.pageY,i.pageX,i.pageY);ej(!0),ek(o),ed(e=>({...e,isMoving:!0,pageX:t.pageX,pageY:t.pageY,pageX2:i.pageX,pageY2:i.pageY,initialDistance:o,originScale:en}));return}W(null),_(!0),(null===(i=e.touches)||void 0===i?void 0:i.length)===1?D({x:e.touches[0].clientX-S.x,y:e.touches[0].clientY-S.y}):D({x:e.clientX-S.x,y:e.clientY-S.y})}},[S,en,M]),eS=(e,t)=>{if(!e.position||!t.position)return!1;let i=20;return(-90===e.rotation||-270===e.rotation)&&(i=Math.abs(e.size.width-e.size.height)/2+i),e.position.x+i>=t.position.x&&e.position.x<=t.position.x+t.size.width&&e.position.x-i+e.size.width<=t.position.x+t.size.width&&e.position.y+i>=t.position.y&&e.position.y<=t.position.y+t.size.height&&e.position.y-i+e.size.height<=t.position.y+t.size.height},eC=(0,d.useCallback)((e,t)=>{var i,o;if(e.stopPropagation(),ep.length>0&&ep.includes(t.id)){H(!0),K(t),(null===(o=e.touches)||void 0===o?void 0:o.length)==1?V({x:e.touches[0].clientX,y:e.touches[0].clientY}):V({x:e.clientX,y:e.clientY});return}if((!M||(null==eu?void 0:eu.id)===t.id||0!==ep.length)&&(H(!0),K(t),(null===(i=e.touches)||void 0===i?void 0:i.length)==1?V({x:e.touches[0].clientX-t.position.x,y:e.touches[0].clientY-t.position.y}):V({x:e.clientX-t.position.x,y:e.clientY-t.position.y}),t.type===l.w$.ROOM)){let e=Z.map(e=>e.type===l.w$.FURNITURE&&eS(e,t)&&(null===e.parentId||e.parentId===t.id)?{...e,parentId:t.id,offset:{x:e.position.x-t.position.x,y:e.position.y-t.position.y}}:e);J(Z.map(t=>e.find(e=>e.id===t.id)||t))}},[Z,M,eu,ep]),eA=(0,d.useCallback)((e,t,i)=>{var o;e.stopPropagation(),ee(!0),ea(i),(null===(o=e.touches)||void 0===o?void 0:o.length)==1?ei({x:e.touches[0].clientX,y:e.touches[0].clientY}):ei({x:e.clientX,y:e.clientY})},[]);p().throttle(U.oR.info,3e3);let e_=e=>{var t,i,a,n,r;if(e.preventDefault(),(null===(t=e.touches)||void 0===t?void 0:t.length)===2&&eF){let t=e.touches[0],i=e.touches[1],o=eE(t.pageX,t.pageY,i.pageX,i.pageY);if(eO>0){let e=o/eO;e>1.02?(eP("in",2),ek(o)):e<.98&&(eP("out",2),ek(o))}return}if(Q&&P&&eo){let t,o;(null===(i=e.touches)||void 0===i?void 0:i.length)==1?(t=e.touches[0].clientX-et.x,o=e.touches[0].clientY-et.y):(t=e.clientX-et.x,o=e.clientY-et.y);let n=P.size.width/P.size.height;J(Z.map(e=>{if(e.id===P.id){let i;let a={...e.size},r={...e.position};switch(eo){case"top-left":a.width=e.size.width-t,P.type===l.w$.ROOM?a.height=e.size.height-o:a.height=a.width/n,r.x=e.position.x+t,r.y=e.position.y+o;break;case"top-right":a.width=e.size.width+t,P.type===l.w$.ROOM?a.height=e.size.height-o:a.height=a.width/n,r.y=e.position.y+o;break;case"bottom-left":a.width=e.size.width-t,P.type===l.w$.ROOM?a.height=e.size.height+o:a.height=a.width/n,r.x=e.position.x+t;break;case"bottom-right":a.width=e.size.width+t,P.type===l.w$.ROOM?a.height=e.size.height+o:a.height=a.width/n}if(e.type===l.w$.ROOM?a.width>=100&&a.height>=100:e.data.type===l.x9.WINDOW?a.width>=8&&a.height>=8:a.width>=20&&a.height>=20)return{...e,size:a,position:r}}return e})),(null===(a=e.touches)||void 0===a?void 0:a.length)==1?ei({x:e.touches[0].clientX,y:e.touches[0].clientY}):ei({x:e.clientX,y:e.clientY})}else if(B&&q){let t,i;(null===(n=e.touches)||void 0===n?void 0:n.length)==1?(t=e.touches[0].clientX,i=e.touches[0].clientY):(t=e.clientX,i=e.clientY);let o=t-G.x,a=i-G.y;if(ep.length>0&&ep.includes(q.id)){J(Z.map(e=>ep.includes(e.id)?{...e,position:{x:Math.max(0,e.position.x+o/(en/100)),y:Math.max(0,e.position.y+a/(en/100))}}:e)),V({x:t,y:i});return}t-=G.x,i-=G.y,t=Math.max(0,t),i=Math.max(0,i);let r=[];if(q.type===l.w$.ROOM){let e=Z.filter(e=>e.type===l.w$.FURNITURE&&e.parentId===q.id).map(e=>e.id);r=Z.map(o=>{if(o.id===q.id)return{...o,position:{x:t,y:i}};if(e.includes(o.id)){var a,n;return{...o,position:{x:t+(null===(a=o.offset)||void 0===a?void 0:a.x)||0,y:i+(null===(n=o.offset)||void 0===n?void 0:n.y)||0}}}return o})}else r=Z.map(e=>e.id===q.id?{...e,position:{x:t,y:i}}:e);J(r)}else if(A){let t,i,a,n;(null===(r=e.touches)||void 0===r?void 0:r.length)===1?(t=e.touches[0].clientX-L.x,i=e.touches[0].clientY-L.y):(t=e.clientX-L.x,i=e.clientY-L.y),t>0&&(t=0),i>0&&(i=0),t<-1e3&&(t=-1e3),i<-1e3&&(i=-1e3),2e3+t<o.width/(en/100)&&(a=(2e3-t)/(en/100)),2e3+i<o.height/(en/100)&&(n=(2e3-i)/(en/100)),C({x:t,y:i}),X({width:a||Y.width,height:n||Y.height}),j("pan",{x:t,y:i})}},eL=(0,d.useCallback)(e=>{var t,i;if((null===(t=e.touches)||void 0===t?void 0:t.length)<2&&(ej(!1),ek(0),ed(e=>({...e,isMoving:!1,initialDistance:0}))),B||Q){let t,o,a;if((null===(i=e.changedTouches)||void 0===i?void 0:i.length)==1?(t=e.changedTouches[0].clientX-G.x-S.x,o=e.changedTouches[0].clientY-G.y-S.y):(t=e.clientX-G.x-S.x,o=e.clientY-G.y-S.y),q&&!Z.some(e=>e.id===q.id)){let e={...q,position:{x:t/(en/100),y:o/(en/100)},data:{...q.data,label:"".concat(q.data.label)}};J(a=[...Z,e]),eD(e,a)}else a=Z;let n=u.slice(0,m+1);n.push(a),T(n),N(n.length-1)}_(!1),H(!1),K(null),ee(!1),ea(null)},[B,Q,Z,u,m,G,q,S,es]),eD=(e,t)=>{if(e.type===l.w$.FURNITURE){let i=t||Z,o=i.find(t=>t.type===l.w$.ROOM&&eS(e,t));if(o){let t=i.filter(t=>t.type===l.w$.FURNITURE&&t.data.type===e.data.type&&eS(t,o)).sort((e,t)=>e.position.x-t.position.x).map((t,i)=>{let a="".concat(o.data.label,"-").concat(O[e.data.type]).concat(i+1);return t.id===e.id&&(e.data.label=a,e.data.parentRoom=o),{...t,data:{...t.data,label:a,parentRoom:o}}});J(i.map(e=>t.find(t=>t.id===e.id)||e))}else{let t=p().cloneDeep(i),o=t.filter(t=>t.id===e.id)[0];o&&(o.data.label="未分配-".concat(O[o.data.type]),o.data.parentRoom=null,e.data.label="未分配-".concat(O[o.data.type]),e.data.parentRoom=null,J(t))}}setTimeout(()=>{W(e)})};function eP(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,o=M?10:i;if("in"===e&&en<120)t=en+o;else if("out"===e&&en>20)t=en-o;else{if("reset"!==e)return;t=M?35:60}"out"===e&&X({width:(Y.width-(S.x<0?S.x:0))*(1+(en-t)/100),height:(Y.height-(S.y<0?S.y:0))*(1+(en-t)/100)}),er(t),j("zoom",{type:e,scale:t})}(0,d.useEffect)(()=>{let e=eN.current;if(e)return e.addEventListener("mousedown",eM),window.addEventListener("mousemove",e_),window.addEventListener("mouseup",eL),e.addEventListener("touchstart",eM),window.addEventListener("touchmove",e_,{passive:!1}),window.addEventListener("touchend",eL),()=>{e.removeEventListener("mousedown",eM),window.removeEventListener("mousemove",e_),window.removeEventListener("mouseup",eL),e.removeEventListener("touchstart",eM),window.removeEventListener("touchmove",e_),window.removeEventListener("touchend",eL)}},[eM,e_,eL]),(0,d.useEffect)(()=>{if(!M)return;let e=()=>{X({width:3*window.innerWidth,height:3*window.innerHeight})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[M]);let eW=(0,d.useCallback)(()=>{if(!P)return;let e=null;J(Z.map(t=>{if(t.id===P.id){let i=((t.rotation||0)-45)%360,o={...t,rotation:i};return e=o,o}return t})),j("rotate",e)},[P,Z,j]),eY=()=>{let e=el+45;ec(e),j("compass-clicked",{rotation:e})},eX=[k("north"),k("northeast"),k("east"),k("southeast"),k("south"),k("southwest"),k("west"),k("northwest")];function eB(e){return eX[Math.round((e%360+360)%360/45)%8]}let eH=(e,t)=>{M||(e.stopPropagation(),eh(e=>e.includes(t.id)?e.filter(e=>e!==t.id):[...e,t.id]))},eG=()=>{if(0===ep.length)return;let e=[];J(Z.map(t=>{if(ep.includes(t.id)){let i=((t.rotation||0)-45)%360,o={...t,rotation:i};return e.push(o),o}return t})),j("rotate",e)},eV=()=>{if(0===ep.length)return;let e=Z.filter(e=>ep.includes(e.id));J(Z.filter(e=>!ep.includes(e.id))),eh([]),P&&ep.includes(P.id)&&W(null),j("delete",e)};(0,d.useCallback)((e,t)=>{0!==ep.length&&J(Z.map(i=>ep.includes(i.id)?{...i,position:{x:Math.max(0,i.position.x+e),y:Math.max(0,i.position.y+t)}}:i))},[ep,Z]);let eq=(0,d.useRef)(v()(e_,16)).current;(0,d.useEffect)(()=>(window.addEventListener("touchmove",eq,{passive:!1}),()=>{window.removeEventListener("touchmove",eq)}),[eq]);let[eK,eZ]=(0,d.useState)(null);return(null==eK?void 0:eK.active)&&(eK.startX,eK.currentX,eK.startY,eK.currentY,eK.currentX,eK.startX,eK.currentY,eK.startY),(0,a.jsxs)("div",{ref:e=>{eN.current=e,ez(e)},className:"relative w-full min-h-[calc(100vh-64px)] overflow-hidden bg-background",onDoubleClick:e=>{"canvas"===e.target.id&&eh([])},onTouchStart:e=>{M&&"canvas"===e.target.id&&(em(null),eh([]),W(null))},children:[(0,a.jsxs)("div",{className:"fixed flex items-center gap-2 z-9\n                    ".concat(M?"top-16 left-2 right-2 justify-between flex-wrap":"top-20 right-6 gap-4"),children:[!M&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(f,{history:u,historyIndex:m,handleUndo:z,handleRedo:E,className:" bg-white rounded-full shadow-lg  px-3 py-2"})}),M&&(0,a.jsxs)("div",{className:"flex items-center justify-end w-full gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 px-3 py-2 border border-gray-200 rounded-full shadow-lg bg-white/90 backdrop-blur-sm",children:[(0,a.jsx)("button",{className:"p-2 text-gray-600 rounded-full hover:bg-gray-100 active:bg-gray-200",onClick:e=>eP("out"),disabled:en<=20,children:(0,a.jsx)(y.A,{className:"w-4 h-4"})}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 min-w-[40px] text-center",children:[en,"%"]}),(0,a.jsx)("button",{className:"p-2 text-gray-600 rounded-full hover:bg-gray-100 active:bg-gray-200",onClick:e=>eP("in"),disabled:en>=120,children:(0,a.jsx)(w.A,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"flex flex-col items-center compass-btn",children:(0,a.jsxs)("div",{style:{width:52,height:52,borderRadius:"50%",background:"rgba(255,255,255,0.9)",backdropFilter:"blur(8px)",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",border:"2px solid rgba(200,200,200,0.3)",userSelect:"none",zIndex:20},onClick:eY,title:k("compassTooltip"),children:[(0,a.jsx)(x.default,{src:"/images/compass.png",alt:"方向",width:60,height:60,style:{pointerEvents:"none",transition:"transform 0.4s cubic-bezier(.4,2,.6,1)",transform:"rotate(".concat(el,"deg)"),filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.2)) brightness(1.1)"}}),(0,a.jsx)("span",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",fontSize:9,fontWeight:700,color:"#fff",textShadow:"0 1px 3px rgba(0,0,0,0.8)",WebkitTextStroke:"0.3px #222"},children:eB(el)})]})}),(0,a.jsx)("button",{className:"px-3 py-2 text-white transition-all bg-red-500 rounded-full shadow-lg hover:bg-red-600 active:scale-95 clear-canvas-btn",onClick:()=>{J([]),W(null),eh([])},title:k("clearTooltip"),children:k("clear")})]}),!M&&(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{className:"p-2 text-gray-600 rounded-full hover:bg-gray-100 active:bg-gray-200",onClick:e=>eP("out"),disabled:en<=20,children:(0,a.jsx)(y.A,{className:"w-4 h-4"})}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[en,"%"]}),(0,a.jsx)("button",{className:"p-2 text-gray-600 rounded-full hover:bg-gray-100 active:bg-gray-200",onClick:e=>eP("in"),disabled:en>=120,children:(0,a.jsx)(w.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"px-3 py-2 text-sm font-medium text-gray-700 transition-colors border border-gray-200 rounded-full shadow-sm bg-white/90 backdrop-blur-sm hover:bg-gray-50",onClick:()=>{C({x:0,y:0}),er(60)},title:k("resetView"),children:k("resetView")})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center compass-btn",children:[(0,a.jsxs)("div",{style:{width:72,height:72,borderRadius:"50%",background:"rgba(255,255,255,0.55)",backdropFilter:"blur(6px)",boxShadow:"0 8px 32px 0 rgba(31,38,135,0.18)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",border:"1.5px solid rgba(180,180,180,0.25)",userSelect:"none",zIndex:20,transition:"box-shadow 0.3s, transform 0.3s"},onClick:eY,title:k("compassTooltip"),children:[(0,a.jsx)(x.default,{src:"/images/compass.png",alt:"方向",width:60,height:60,style:{pointerEvents:"none",transition:"transform 0.4s cubic-bezier(.4,2,.6,1)",transform:"rotate(".concat(el,"deg)"),filter:"drop-shadow(0 2px 12px rgba(0,0,0,0.18)) brightness(1.15)",opacity:.95}}),(0,a.jsx)("span",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",fontSize:13,fontWeight:700,color:"#fff",borderRadius:6,padding:"2px 10px",pointerEvents:"none",letterSpacing:2,background:"none",textShadow:"0 px 8px rgba(0,0,0,0.45)",WebkitTextStroke:"0.5px #222"},children:eB(el)})]}),(0,a.jsx)("button",{className:"px-2 py-1 mt-1 text-xs rounded shadow bg-white/80 hover:bg-gray-200",style:{minWidth:44,minHeight:32,fontWeight:500,color:"#222"},onClick:e=>{e.stopPropagation(),ec(0)},children:k("resetNorth")})]}),(0,a.jsx)("button",{className:"px-3 py-2 text-white transition bg-red-500 rounded-full shadow-lg hover:bg-red-600 clear-canvas-btn",onClick:()=>{J([]),W(null),eh([])},title:k("clearTooltip"),children:k("clearCanvas")})]}),M&&ep.length>0&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 px-3 py-2 mx-auto mt-0 bg-white rounded-full shadow-lg w-fit",children:[(0,a.jsx)("button",{onClick:eG,children:(0,a.jsx)(h.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:eV,children:(0,a.jsx)(g.A,{className:"w-4 h-4"})}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[ep.length," ",k("selected")]})]}),!M&&ep.length>0&&(0,a.jsxs)("div",{className:"fixed z-50 flex items-center gap-3 px-4 py-2 bg-white border border-gray-200 rounded-full shadow-lg top-28 right-130",children:[(0,a.jsx)("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-100",onClick:eG,title:k("rotate"),children:(0,a.jsx)(h.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{className:"p-1 text-red-500 rounded hover:bg-gray-100",onClick:eV,title:k("delete"),children:(0,a.jsx)(g.A,{className:"w-5 h-5"})}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[ep.length," ",k("selected")]})]})]}),(0,a.jsx)("div",{id:"canvas",className:"absolute cursor-move",style:{width:"".concat(Y.width,"px"),height:"".concat(Y.height,"px"),transform:"translate(".concat(S.x,"px, ").concat(S.y,"px)  scale(").concat(en/100,")"),transformOrigin:"top left",backgroundImage:"radial-gradient(circle, #ddd 1px, transparent 1px)",backgroundSize:M?"20px 20px":"10px 10px",touchAction:"none"},children:(0,a.jsx)("div",{className:"relative",children:Z.map(e=>{let t=ep.includes(e.id),i=M&&(null==eu?void 0:eu.id)===e.id;return e.type===l.w$.ROOM?(0,a.jsxs)("div",{"data-room-element":"true",className:"absolute ".concat((null==P?void 0:P.id)===e.id?"ring-2 ring-red-500":""," ").concat(t?"ring-2 ring-blue-500 shadow-lg":""," ").concat(i?"ring-2 ring-green-500 shadow-lg":""," ").concat(A?"shadow-2xl":""," cursor-move z-100"),style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height,minWidth:M?60:e.size.width,minHeight:M?60:e.size.height},onClick:t=>{t.stopPropagation(),M||eD(e)},onMouseDown:t=>{M||eC(t,e)},onTouchStart:t=>{M?eU(t,e):eC(t,e)},onTouchMove:t=>{M&&eT(t,e)},onTouchEnd:t=>{M&&ev(t,e)},onDoubleClick:t=>eH(t,e),children:[i&&(0,a.jsx)("div",{className:"absolute inset-0 border-2 border-green-500 rounded pointer-events-none bg-green-100/20",children:(0,a.jsx)("div",{className:"absolute px-2 py-1 text-xs font-bold text-white bg-green-500 rounded top-1 left-1",children:k("tapToDrag")})}),P&&P.id===e.id&&(0,a.jsxs)("div",{style:{left:"50%",top:M?"-50px":"-64px",transform:"translateX(-50%)"},className:"min-w-fit whitespace-nowrap absolute z-1 rounded-lg bg-white shadow-lg items-center px-3 gap-2 md:flex hidden ".concat(M?"h-8 text-xs":"h-10"),children:[(0,a.jsxs)("span",{className:"text-gray-600",children:[k("chosed"),"："]}),(0,a.jsxs)("div",{className:"flex items-center flex-grow gap-1",children:[(0,a.jsx)("div",{style:{width:M?"10px":"12px",height:M?"10px":"12px",backgroundColor:l.$q[P.data.type],borderRadius:"2px"}}),(0,a.jsx)("span",{className:"font-bold text-gray-600",children:P.data.label})]}),(0,a.jsx)("button",{className:"flex-shrink-0 text-red-500",onClick:e=>{e.stopPropagation(),J(Z.filter(e=>e.id!==P.id)),W(null),j("delete",P)},children:(0,a.jsx)(g.A,{className:"text-red-500 ".concat(M?"w-3 h-3":"w-4 h-4")})})]}),(0,a.jsx)("div",{className:"w-full h-full",style:{border:e.type===l.w$.ROOM?"8px solid":"none",borderColor:e.type===l.w$.ROOM?l.$q[e.data.type]:"transparent",borderRadius:e.type===l.w$.ROOM?"8px":"0",backgroundColor:e.type===l.w$.ROOM?l.$q[e.data.type]+"80":"transparent"},children:(0,a.jsx)("div",{className:"absolute top-2 left-2 text-[#888888] ".concat(M?"text-xs":"text-sm"),style:{zIndex:1},children:e.data.label})}),(null==P?void 0:P.id)===e.id&&e$(e)]},e.id):e.type===l.w$.FURNITURE?(0,a.jsxs)("div",{"data-room-element":"true",className:"absolute cursor-move z-200 ".concat(t?"ring-2 ring-blue-500":""," ").concat(i?"ring-2 ring-green-500 shadow-lg":""),style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height,minWidth:M?40:e.size.width,minHeight:M?40:e.size.height},onClick:t=>{t.stopPropagation(),M||eD(e)},onMouseDown:t=>{t.stopPropagation(),M||eC(t,e)},onTouchStart:t=>{t.stopPropagation(),M?eU(t,e):eC(t,e)},onTouchEnd:t=>{M&&ev(t,e)},onDoubleClick:t=>eH(t,e),children:[i&&(0,a.jsx)("div",{className:"absolute inset-0 border-2 border-green-500 rounded pointer-events-none bg-green-100/20",children:(0,a.jsx)("div",{className:"absolute px-2 py-1 text-xs font-bold text-white bg-green-500 rounded top-1 left-1",children:k("tapToDrag")})}),P&&P.id===e.id&&(0,a.jsxs)("div",{style:{left:"50%",top:M?"-50px":"-64px",transform:"translateX(-50%)"},className:"min-w-fit whitespace-nowrap absolute z-1 rounded-lg bg-white shadow-lg items-center px-3 gap-2 md:flex hidden ".concat(M?"h-8 text-xs":"h-10"),children:[(0,a.jsxs)("span",{className:"text-gray-600",children:[k("chosed"),"："]}),(0,a.jsxs)("div",{className:"flex items-center flex-grow gap-1",children:[P.data.parentRoom&&(0,a.jsx)("div",{style:{width:"10px",height:"10px",backgroundColor:l.$q[P.data.parentRoom.data.type],borderRadius:"2px"}}),(0,a.jsx)("span",{className:"font-bold text-gray-600",children:P.data.label})]}),(0,a.jsx)("button",{className:"flex-shrink-0",onClick:e=>{e.stopPropagation(),eW()},children:(0,a.jsx)(h.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"flex-shrink-0 text-red-500 transition-colors hover:text-red-600",onClick:e=>{e.stopPropagation(),J(Z.filter(e=>e.id!==P.id)),W(null),j("delete",P)},children:(0,a.jsx)(g.A,{className:"w-4 h-4 text-red-500"})})]}),(null==P?void 0:P.id)===e.id&&e$(e),(0,a.jsx)(x.default,{draggable:"false",className:(null==P?void 0:P.id)===e.id?"ring-2 ring-red-500":"",style:{transform:e.rotation?"rotate(".concat(e.rotation,"deg)"):"none",transformOrigin:"center"},src:e.activeIcon,alt:"Furniture",width:e.size.width,height:e.size.height})]},e.id):void 0})})}),P&&(0,a.jsxs)("div",{className:(0,b.cn)("min-w-fit whitespace-nowrap fixed  left-1/2 -translate-x-1/2 h-10 rounded-4xl bg-white shadow-lg flex items-center px-3 gap-2 md:hidden",c?"bottom-85":"bottom-30 "),children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[k("chosed"),"："]}),(0,a.jsxs)("div",{className:"flex items-center flex-grow gap-1",children:[(0,a.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:l.$q[P.data.parentRoom?P.data.parentRoom.data.type:P.data.type],borderRadius:"2px"}}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-600",children:P.data.label})]}),P.type===l.w$.FURNITURE&&(0,a.jsx)("button",{className:"flex-shrink-0",onClick:e=>{e.stopPropagation(),eW()},children:(0,a.jsx)(h.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"flex-shrink-0 text-red-500",onClick:e=>{e.stopPropagation(),J(Z.filter(e=>e.id!==P.id)),W(null),j("delete",P)},children:(0,a.jsx)(g.A,{className:"w-4 h-4 text-red-500"})})]}),(0,a.jsxs)("div",{className:"fixed left-0 z-50 flex items-center justify-between w-full gap-4 px-2 bg-transparent bottom-6 md:hidden",children:[!c&&(0,a.jsx)("button",{onClick:s,className:"border-primary border-1 font-bold w-4/5 py-3 bg-white text-foreground rounded-[100px] text-sm",children:k("showTab")}),(0,a.jsxs)(r.Lt,{children:[(0,a.jsxs)(r.tv,{className:(0,b.cn)("inline-flex font-bold py-3 bg-button-gradient text-white rounded-[100px] text-sm items-center justify-center gap-0",c?"w-full ":"w-4/5"),children:[k("cta"),(0,a.jsx)(x.default,{src:"/images/hero/star.png",alt:"arrow",width:15,height:16})]}),(0,a.jsxs)(r.EO,{children:[(0,a.jsx)(r.wd,{children:(0,a.jsx)(r.r7,{children:k("alert")})}),(0,a.jsxs)(r.ck,{children:[(0,a.jsx)(r.Zr,{children:k("cancel")}),(0,a.jsx)(r.Rx,{onClick:$,children:k("ok")})]})]})]})]}),M&&(0,a.jsx)("button",{className:"fixed z-50 px-4 py-3 border border-gray-200 rounded-full shadow-lg bg-white/90 backdrop-blur-sm bottom-20 right-4",onClick:()=>{C({x:0,y:0}),er(40)},children:(0,a.jsx)("span",{className:"text-sm font-medium",children:k("resetView")})}),(0,a.jsx)("div",{id:"context-menu",className:"fixed z-50 hidden bg-white border border-gray-200 rounded-lg shadow-lg",style:{width:200},children:(0,a.jsxs)("div",{className:"flex flex-col p-2",children:[(0,a.jsxs)("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 rounded-lg hover:bg-gray-100",onClick:()=>{eW(),hideContextMenu()},children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2"}),k("rotate")]}),(0,a.jsxs)("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 rounded-lg hover:bg-gray-100",onClick:()=>{handleDelete(),hideContextMenu()},children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),k("delete")]})]})})]})});N.displayName="Canvas";var z=i(60388),E=i(59094),$=i(4229),F=i(17881),j=i(72877);function O(e){let{onSaveProject:t,onGenReport:i,onUserOpen:o}=e,{isMobile:n}=(0,I.A)(),s=(0,R.c3)("design");return(0,a.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-10 h-16 bg-white border-b-2 border-b-gray-100",children:(0,a.jsx)("div",{className:"h-full px-4 mx-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,a.jsx)(z.N_,{href:"/",className:"text-2xl font-bold text-primary",children:"HarmoniQ"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 space-x-4 text-foreground",children:[(0,a.jsx)(E.A,{className:"text-foreground"}),(0,a.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:t,children:[(0,a.jsx)($.A,{className:"w-4 h-4"}),"保存"," "]}),(0,a.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:()=>o(!0),children:[(0,a.jsx)(F.A,{className:"w-4 h-4"}),s("profile")," "]}),(0,a.jsxs)(r.Lt,{children:[(0,a.jsxs)(r.tv,{className:"inline-flex items-center gap-2 px-4 py-1 text-white transition-colors rounded-full bg-button-gradient hover:bg-primary/90",children:[s("cta"),(0,a.jsx)("span",{className:"text-lg",children:"✨"})]}),(0,a.jsxs)(r.EO,{children:[(0,a.jsx)(r.wd,{children:(0,a.jsx)(r.r7,{children:s("alert")})}),(0,a.jsxs)(r.ck,{children:[(0,a.jsx)(r.Zr,{children:s("cancel")}),(0,a.jsx)(r.Rx,{onClick:i,children:s("ok")})]})]})]}),(0,a.jsx)(j.A,{})]})]})})})}var k=i(94788),M=i(54416);function S(e){let{onSaveProject:t,history:i,historyIndex:o,handleUndo:n,handleRedo:r,onUserOpen:s}=e,[l,c]=(0,d.useState)(!1),p=(0,R.c3)("design");return(0,a.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-50",children:[(0,a.jsx)("nav",{className:"h-16 bg-white border-b-2 border-b-gray-100 ",children:(0,a.jsx)("div",{className:"h-full px-4 mx-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 space-x-4 text-foreground",children:[(0,a.jsx)(f,{history:i,historyIndex:o,handleUndo:n,handleRedo:r}),(0,a.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:t,children:[(0,a.jsx)($.A,{className:"w-4 h-4"})," "]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 space-x-4 text-foreground",children:[(0,a.jsx)("span",{className:"flex items-center gap-1 cursor-pointer",children:(0,a.jsx)(k.A,{className:"w-4 h-4",onClick:()=>c(!0)})}),(0,a.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",children:[(0,a.jsx)(F.A,{className:"w-4 h-4",onClick:()=>s(!0)})," "]}),(0,a.jsx)(j.A,{})]})]})})}),l&&(0,a.jsxs)("div",{className:"h-8 w-full bg-[#E5F4FF] px-6 py-3 flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-[12px] text-foreground flex items-center gap-1",children:[(0,a.jsx)(k.A,{className:"w-4 h-4 text-[#888]"}),p("warning")]}),(0,a.jsx)(M.A,{className:"w-4 h-4 text-[#888]",onClick:()=>c(!1)})]})]})}function C(e){let{id:t,type:i,data:o,children:r,isOverCanvas:s}=e,{attributes:d,listeners:l,setNodeRef:c,transform:p,isDragging:h}=(0,n.PM)({id:t,data:{type:i,...o}}),g=p?{transform:"translate3d(".concat(p.x,"px, ").concat(p.y,"px, 0)"),opacity:h&&!s?.5:h&&s?0:1,position:"relative",zIndex:h?1e3:1,visibility:"visible"}:{};return(0,a.jsxs)("div",{className:"relative z-0 w-22.5",children:[(0,a.jsx)("div",{className:"absolute  -z-1 w-22.5 top-0 left-0",children:r}),(0,a.jsx)("div",{ref:c,...l,...d,className:"cursor-move",style:{...g},children:r})]})}i(86154);var A=i(66424);function _(e){let{sidebarRef:t,roomItems:i,furnitureItems:o,isOverCanvas:n,draggingItemSize:r}=e,s=(0,R.c3)("design");return(0,a.jsx)(A.F,{className:"h-[calc(100vh-64px)] w-1/6",children:(0,a.jsxs)("div",{ref:t,className:"hidden p-4 bg-white border-r-2 shadow md:block border-r-gray-100",children:[(0,a.jsxs)("div",{className:"mb-8","data-demo-area":"sidebar-rooms",children:[(0,a.jsx)("h3",{className:"mb-4 text-2xl font-semibold",children:s("room")}),(0,a.jsx)("div",{className:"grid gap-2 2xl:grid-cols-3 xl:grid-cols-2 sidebar-rooms",children:i.map(e=>(0,a.jsx)(C,{id:e.id,type:e.type,data:e.data,isOverCanvas:n,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:r,height:r,priority:!0})}),(0,a.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:e.data.label})]})},e.id))})]}),(0,a.jsxs)("div",{"data-demo-area":"sidebar-furniture",children:[(0,a.jsx)("h3",{className:"mb-4 text-2xl font-semibold",children:s("furniture")}),(0,a.jsx)("div",{className:"grid gap-2 2xl:grid-cols-3 xl:grid-cols-2 sidebar-furniture",children:o.map(e=>(0,a.jsx)(C,{id:e.id,type:e.type,data:e.data,isOverCanvas:n,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:r,height:r,priority:!0})}),(0,a.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:e.data.label})]})},e.id))})]})]})})}var L=i(17313),D=i(91091);function P(e){let{showTab:t,setShowTab:i,roomItems:o,furnitureItems:n,isOverCanvas:r,draggingItemSize:s}=e,[l,c]=(0,d.useState)(""),p=(0,R.c3)("design");return(0,d.useEffect)(()=>{c("room")},[]),(0,a.jsx)("div",{style:{boxShadow:"0 -1px 5px 0px rgba(0, 0, 0, 0.2)"},className:(0,b.cn)("fixed bottom-0 left-0 z-10 w-full pb-20 pl-0 pr-2 bg-white md:hidden rounded-t-2xl transition-transform duration-300 ease-in-out",t?"translate-y-0":"translate-y-full"),children:(0,a.jsxs)(L.tU,{value:l,className:"w-full gap-4",setShowTab:i,onValueChange:e=>c(e),children:[(0,a.jsxs)(L.j7,{className:"gap-8 mx-auto bg-white ",children:[(0,a.jsx)(L.Xi,{defaultValue:!0,value:"room",className:"rounded-[3px] text-[12px] font-bold data-[state=active]:shadow-none data-[state=active]:border-b-4 data-[state=active]:border-b-primary",children:p("room")}),(0,a.jsx)(L.Xi,{value:"furniture",className:"rounded-[3px] text-[12px] font-bold data-[state=active]:shadow-none data-[state=active]:border-b-4 data-[state=active]:border-b-primary",children:p("furniture")})]}),(0,a.jsx)(L.av,{value:"room",className:"w-full pb-3 overflow-hidden sidebar-rooms sidebar-furniture",children:(0,a.jsxs)(D.FN,{children:[(0,a.jsxs)(D.Wk,{children:[(0,a.jsx)(D.A7,{children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6 ",children:o.slice(0,8).map(e=>(0,a.jsx)(C,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s,priority:!0})}),(0,a.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,a.jsx)(D.A7,{children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6 ",children:o.slice(8).map(e=>(0,a.jsx)(C,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s,priority:!0})}),(0,a.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})})]}),(0,a.jsx)(D.Q8,{className:"left-0 "}),(0,a.jsx)(D.Oj,{className:"right-0"})]})}),(0,a.jsx)(L.av,{value:"furniture",className:"w-full pb-3 overflow-hidden ",children:(0,a.jsxs)(D.FN,{children:[(0,a.jsxs)(D.Wk,{children:[(0,a.jsx)(D.A7,{children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6 ",children:n.slice(0,8).map(e=>(0,a.jsx)(C,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s})}),(0,a.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,a.jsx)(D.A7,{children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6 ",children:n.slice(8,16).map(e=>(0,a.jsx)(C,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s})}),(0,a.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,a.jsx)(D.A7,{children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:n.slice(16).map(e=>(0,a.jsx)(C,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s})}),(0,a.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})})]}),(0,a.jsx)(D.Q8,{className:"left-0 "}),(0,a.jsx)(D.Oj,{className:"right-0"})]})})]})})}var W=i(91599);let Y=[{name:"north",range:[337.5,22.5],baseAngle:0},{name:"northEast",range:[22.5,67.5],baseAngle:45},{name:"east",range:[67.5,112.5],baseAngle:90},{name:"southEast",range:[112.5,157.5],baseAngle:135},{name:"south",range:[157.5,202.5],baseAngle:180},{name:"southWest",range:[202.5,247.5],baseAngle:225},{name:"west",range:[247.5,292.5],baseAngle:270},{name:"northWest",range:[292.5,337.5],baseAngle:315}];var X=i(45493),B=i(15452);function H(e){let{...t}=e;return(0,a.jsx)(B.bL,{"data-slot":"dialog",...t})}function G(e){let{...t}=e;return(0,a.jsx)(B.ZL,{"data-slot":"dialog-portal",...t})}function V(e){let{className:t,...i}=e;return(0,a.jsx)(B.hJ,{"data-slot":"dialog-overlay",className:(0,b.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...i})}function q(e){let{className:t,children:i,...o}=e;return(0,a.jsxs)(G,{"data-slot":"dialog-portal",children:[(0,a.jsx)(V,{}),(0,a.jsxs)(B.UC,{"data-slot":"dialog-content",className:(0,b.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...o,children:[i,(0,a.jsxs)(B.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(M.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function K(e){let{className:t,...i}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,b.cn)("flex flex-col gap-2 text-center sm:text-left",t),...i})}function Z(e){let{className:t,...i}=e;return(0,a.jsx)(B.hE,{"data-slot":"dialog-title",className:(0,b.cn)("text-lg leading-none font-semibold",t),...i})}var J=i(22346),Q=i(59409),ee=i(30285),et=i(54059),ei=i(9428);function eo(e){let{className:t,...i}=e;return(0,a.jsx)(et.bL,{"data-slot":"radio-group",className:(0,b.cn)("grid gap-3",t),...i})}function ea(e){let{className:t,...i}=e;return(0,a.jsx)(et.q7,{"data-slot":"radio-group-item",className:(0,b.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...i,children:(0,a.jsx)(et.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,a.jsx)(ei.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var en=i(40968);function er(e){let{className:t,...i}=e;return(0,a.jsx)(en.b,{"data-slot":"label",className:(0,b.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...i})}var es=i(99817);let ed=Array.from({length:100},(e,t)=>(2025-t).toString()),el=Array.from({length:12},(e,t)=>(t+1).toString().padStart(2,"0")),ec=Array.from({length:31},(e,t)=>(t+1).toString().padStart(2,"0")),ep=Array.from({length:24},(e,t)=>t.toString().padStart(2,"0")),eh={years:ed,months:el,days:ec,hours:ep};function eg(e){let{tHour:t,onChange:i}=e,[o,n]=(0,d.useState)({years:"1996",months:"04",days:"15",hours:"12"});(0,d.useEffect)(()=>{e.value&&n({years:e.value[0],months:e.value[1],days:e.value[2],hours:e.value[3]})},[e.value]);let r=(e,i)=>{switch(i){case"years":return e+"年";case"months":return e+"月";case"days":return e+"日";case"hours":return e+t}};return(0,a.jsx)(es.A,{value:o,onChange:e=>{n(e),i&&i([e.years,e.months,e.days,e.hours])},children:Object.keys(eh).map(e=>(0,a.jsx)(es.A.Column,{name:e,children:eh[e].map(t=>(0,a.jsx)(es.A.Item,{value:t,children:r(t,e)},t))},e))})}function ew(e){let{open:t,onUserOpen:i,onSubmit:o,userInfo:n}=e,r=(0,R.c3)("design"),s=(0,I.A)(),[l,c]=(0,d.useState)("男"),[p,h]=(0,d.useState)("1996"),[g,w]=(0,d.useState)("03"),[u,m]=(0,d.useState)("12"),[y,x]=(0,d.useState)("22");(0,d.useEffect)(()=>{if(n&&(c(n.gender||"male"),n.birthDateTime)){let e=new Date(n.birthDateTime);h(e.getFullYear().toString()),w((e.getMonth()+1).toString().padStart(2,"0")),m(e.getDate().toString().padStart(2,"0")),x(e.getHours().toString().padStart(2,"0"))}},[n]);let b=()=>{o({gender:l,birthDateTime:new Date(parseInt(p),parseInt(g)-1,parseInt(u),parseInt(y))})},f=e=>{e&&(h(e[0]),w(e[1]),m(e[2]),x(e[3]))};return(0,a.jsx)(H,{open:t,onOpenChange:i,children:(0,a.jsxs)(q,{className:"sm:max-w-[432px]",style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,a.jsxs)(K,{children:[(0,a.jsxs)(Z,{className:"text-lg md:text-xl font-bold md:text-left text-center",children:[" ",r("profile")," "]}),(0,a.jsx)("div",{className:"py-4 text-sm md:text-base  text-left",children:r("tip")})]}),(0,a.jsx)(J.Separator,{className:"md:hidden"}),(0,a.jsxs)("div",{className:"grid gap-4 pb-4",children:[s?(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(er,{className:"text-base",children:"性别"}),(0,a.jsxs)("div",{className:"flex bg-gray-200 p-1 rounded-[6px]  ",children:[(0,a.jsx)("button",{style:{boxShadow:"0 1px 5px 0px rgba(0, 0, 0, 0.3)"},className:"rounded-[6px] px-4 py-1 ".concat("male"===l?"bg-white":"transparent"),onClick:()=>c("male"),children:"男"}),(0,a.jsx)("button",{className:"rounded-[6px] px-4 py-1 ".concat("female"===l?"bg-white":"transparent"),onClick:()=>c("female"),children:"女"})]})]}),{}):(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"space-y-2 pb-4",children:[(0,a.jsx)(er,{className:"font-bold pb-2 text-base",children:"性别"}),(0,a.jsxs)(eo,{value:l,onValueChange:c,className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ea,{value:"male",id:"male"}),(0,a.jsx)(er,{htmlFor:"male",children:"男"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ea,{value:"female",id:"female"}),(0,a.jsx)(er,{htmlFor:"female",children:"女"})]})]})]}),{}),(0,a.jsx)(J.Separator,{className:"md:hidden"}),s?(0,a.jsx)(()=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between pb-4",children:[(0,a.jsx)(er,{className:"text-base",children:"出生日期"}),(0,a.jsx)("span",{children:"".concat(p,"年").concat(g,"月").concat(u,"日").concat(y).concat(r("hour"))})]}),(0,a.jsx)(J.Separator,{}),(0,a.jsx)(eg,{tHour:r("hour"),onChange:f,value:[p,g,u,y]}),(0,a.jsx)(J.Separator,{})]}),{}):(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(er,{className:"font-bold pb-4 text-base",children:"年"}),(0,a.jsxs)(Q.l6,{value:p,onValueChange:h,children:[(0,a.jsx)(Q.bq,{className:"w-24",children:(0,a.jsx)(Q.yv,{placeholder:"年"})}),(0,a.jsx)(Q.gC,{children:ed.map(e=>(0,a.jsxs)(Q.eb,{value:e,children:[e,"年"]},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(er,{className:"font-bold pb-4 text-base",children:"月"}),(0,a.jsxs)(Q.l6,{value:g,onValueChange:w,children:[(0,a.jsx)(Q.bq,{className:"w-24",children:(0,a.jsx)(Q.yv,{placeholder:"月"})}),(0,a.jsx)(Q.gC,{children:el.map(e=>(0,a.jsxs)(Q.eb,{value:e,children:[e,"月"]},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(er,{className:"font-bold pb-4 text-base",children:"日"}),(0,a.jsxs)(Q.l6,{value:u,onValueChange:m,children:[(0,a.jsx)(Q.bq,{className:"w-20",children:(0,a.jsx)(Q.yv,{placeholder:"日"})}),(0,a.jsx)(Q.gC,{children:ec.map(e=>(0,a.jsxs)(Q.eb,{value:e,children:[e,"日"]},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(er,{className:"font-bold pb-4 text-base",children:["小",r("hour")]}),(0,a.jsxs)(Q.l6,{value:y,onValueChange:x,children:[(0,a.jsx)(Q.bq,{className:"w-20",children:(0,a.jsx)(Q.yv,{placeholder:r("hour")})}),(0,a.jsx)(Q.gC,{children:ep.map(e=>(0,a.jsxs)(Q.eb,{value:e,children:[e,r("hour")]},e))})]})]})]}),{}),s?(0,a.jsxs)("div",{className:"flex justify-around",children:[(0,a.jsx)(ee.$,{onClick:()=>{i(!1)},className:"px-10 border-1 border-[#ccc] text-foreground rounded-[100px] bg-white font-bold mt-10",children:"取消"}),(0,a.jsx)(ee.$,{onClick:b,className:"px-10 bg-[#13ab87] font-bold mt-10 rounded-[100px]",children:"保存"})]}):(0,a.jsx)(ee.$,{onClick:b,className:"w-full bg-[#13ab87] font-bold mt-10 rounded-[100px]",children:"保存"})]})]})})}function eu(e){let{open:t,onClose:i,onStartTutorial:o}=e,n=(0,R.c3)("demo.welcomeDialog"),r=(0,I.A)();return((0,d.useEffect)(()=>{let e=e=>{"Escape"===e.key&&i()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,i]),t)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:i}),(0,a.jsxs)("div",{className:"relative bg-white rounded-lg shadow-2xl border ".concat(r?"mx-4 w-[calc(100vw-2rem)] max-w-[90vw]":"mx-4 w-full max-w-md"," max-h-[90vh] overflow-y-auto"),children:[(0,a.jsxs)("div",{className:"p-6 space-y-4 text-center",children:[(0,a.jsx)("h2",{className:"".concat(r?"text-lg":"text-2xl"," font-bold text-gray-800 break-words leading-tight"),children:n("title")}),(0,a.jsx)("p",{className:"".concat(r?"text-sm":"text-base"," text-gray-600 leading-relaxed break-words"),children:n("description")}),(0,a.jsx)("div",{className:"".concat(r?"text-sm":"text-lg"," font-medium text-gray-800 break-words leading-tight"),children:n("question")})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3 p-6 pt-0",children:[(0,a.jsx)("button",{onClick:()=>{o(),i()},className:"".concat(r?"w-full max-w-[280px] py-3 text-sm":"w-64 py-3 text-base"," bg-[#13ab87] hover:bg-[#0f9674] text-white font-semibold rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-[#13ab87] focus:ring-offset-2"),children:n("yes")}),(0,a.jsx)("button",{onClick:()=>{i()},className:"".concat(r?"w-full max-w-[280px] py-3 text-sm":"w-64 py-3 text-base"," bg-gray-100 text-gray-700 hover:bg-gray-200 font-semibold rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2"),children:n("no")})]}),(0,a.jsx)("button",{onClick:i,className:"absolute text-gray-400 transition-colors duration-200 rounded top-4 right-4 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):null}var em=i(71463),ey=i(11518),ex=i.n(ey),eb=i(70463),ef=i(46813),eR=i(75352),eI=i(40133),eU=i(91981),eT=i(66474),ev=i(47863),eN=i(74311),ez=i(35169),eE=i(92138);let e$={INTRO:0,DRAG_ROOM:1,DRAG_FURNITURE:2,SELECT_ITEM:3,ROTATE_ITEM:4,DELETE_ITEM:5,MULTI_SELECT:6,COMPASS_DIRECTION:7,CLEAR_CANVAS:8,CHOOSE_MODEL:9,COMPLETE:10},eF={"sidebar-rooms":".sidebar-rooms","sidebar-furniture":".sidebar-furniture","canvas-items":".canvas-items","canvas-controls":".canvas-controls","compass-btn":".compass-btn","clear-button":".clear-canvas-btn","generate-button":".generate-btn"};function ej(e){let{isActive:t,onClose:i,canvasRef:o,isMobile:n=!1,onStep:r=()=>{},demoActions:s=new Set,onShowTabControl:l=()=>{}}=e,c=(0,R.c3)("demo"),[p,h]=(0,d.useState)(e$.INTRO),[w,u]=(0,d.useState)(null),[m,y]=(0,d.useState)(!1),[x,b]=(0,d.useState)(new Set),[f,I]=(0,d.useState)(null),[U,T]=(0,d.useState)(null),[v,N]=(0,d.useState)(!1),[z,E]=(0,d.useState)("bottom"),[$,F]=(0,d.useState)(!1);(0,d.useRef)(null);let j={[e$.INTRO]:{title:c("welcome.title"),description:c("welcome.description"),highlight:null,action:"next",icon:(0,a.jsx)(eb.A,{className:"w-6 h-6 text-blue-500"})},[e$.DRAG_ROOM]:{title:c("dragRoom.title"),description:c("dragRoom.description"),highlight:"sidebar-rooms",action:"wait",targetArea:"canvas",icon:(0,a.jsx)(ef.A,{className:"w-6 h-6 text-green-500"})},[e$.DRAG_FURNITURE]:{title:c("dragFurniture.title"),description:c("dragFurniture.description"),highlight:"sidebar-furniture",action:"wait",targetArea:"canvas",icon:(0,a.jsx)(ef.A,{className:"w-6 h-6 text-purple-500"})},[e$.SELECT_ITEM]:{title:c("selectItem.title"),description:c("selectItem.description"),highlight:"canvas-items",action:"wait",targetArea:"canvas-item",icon:(0,a.jsx)(eR.A,{className:"w-6 h-6 text-blue-500"})},[e$.ROTATE_ITEM]:{title:c("rotateItem.title"),description:c("rotateItem.description"),highlight:"canvas-controls",action:"wait",targetArea:"rotate-button",icon:(0,a.jsx)(eI.A,{className:"w-6 h-6 text-orange-500"})},[e$.DELETE_ITEM]:{title:c("deleteItem.title"),description:c("deleteItem.description"),highlight:"canvas-controls",action:"wait",targetArea:"delete-button",icon:(0,a.jsx)(g.A,{className:"w-6 h-6 text-red-500"})},[e$.MULTI_SELECT]:{title:c("multiSelect.title"),description:c(n?"multiSelect.mobileDescription":"multiSelect.desktopDescription"),highlight:"canvas-items",action:"wait",targetArea:"canvas-items",icon:(0,a.jsx)(eR.A,{className:"w-6 h-6 text-indigo-500"})},[e$.COMPASS_DIRECTION]:{title:c("compassDirection.title"),description:c("compassDirection.description"),highlight:"compass-btn",action:"wait",targetArea:"compass",icon:(0,a.jsx)(eR.A,{className:"w-6 h-6 text-cyan-500"})},[e$.CLEAR_CANVAS]:{title:c("clearCanvas.title"),description:c("clearCanvas.description"),highlight:"clear-button",action:"wait",targetArea:"clear-button",icon:(0,a.jsx)(g.A,{className:"w-6 h-6 text-red-500"})},[e$.CHOOSE_MODEL]:{title:c("chooseModel.title"),description:c("chooseModel.description"),highlight:"generate-button",action:"wait",targetArea:"generate-button",icon:(0,a.jsx)(eR.A,{className:"w-6 h-6 text-green-500"})},[e$.COMPLETE]:{title:c("complete.title"),description:c("complete.description"),highlight:null,action:"finish",icon:(0,a.jsx)(eb.A,{className:"w-6 h-6 text-green-500"})}};(0,d.useEffect)(()=>{if(!t||!(null==o?void 0:o.current))return;let e=setInterval(()=>{let e=o.current.getLocalItems(),t=e.filter(e=>"room"===e.type),i=e.filter(e=>"furniture"===e.type),a=o.current.getActiveRoom(),n=o.current.getSelectedItems();switch(p){case e$.DRAG_ROOM:t.length>0&&!x.has("room-added")&&(b(e=>new Set([...e,"room-added"])),setTimeout(()=>O(),1500));break;case e$.DRAG_FURNITURE:i.length>0&&!x.has("furniture-added")&&(b(e=>new Set([...e,"furniture-added"])),setTimeout(()=>O(),1500));break;case e$.SELECT_ITEM:(a||n.length>0)&&!x.has("item-selected")&&(b(e=>new Set([...e,"item-selected"])),setTimeout(()=>O(),1500));break;case e$.ROTATE_ITEM:s.has("item-rotated")&&!x.has("item-rotated")&&(b(e=>new Set([...e,"item-rotated"])),setTimeout(()=>O(),1e3));break;case e$.DELETE_ITEM:s.has("item-deleted")&&!x.has("item-deleted")&&(b(e=>new Set([...e,"item-deleted"])),setTimeout(()=>O(),1e3));break;case e$.MULTI_SELECT:n.length>1&&!x.has("multi-selected")&&(b(e=>new Set([...e,"multi-selected"])),setTimeout(()=>O(),1500));break;case e$.COMPASS_DIRECTION:s.has("compass-clicked")&&!x.has("compass-clicked")&&(b(e=>new Set([...e,"compass-clicked"])),setTimeout(()=>O(),1500));break;case e$.CLEAR_CANVAS:0===e.length&&x.has("room-added")&&!x.has("canvas-cleared")&&(b(e=>new Set([...e,"canvas-cleared"])),setTimeout(()=>O(),1500));break;case e$.CHOOSE_MODEL:s.has("model-shown")&&!x.has("model-shown")&&(b(e=>new Set([...e,"model-shown"])),setTimeout(()=>O(),2e3))}},500);return()=>clearInterval(e)},[p,t,x,s]),(0,d.useEffect)(()=>{let e=j[p];if((null==e?void 0:e.action)==="auto"&&t){let e=setTimeout(()=>{O()},3e3);return I(e),()=>clearTimeout(e)}},[p,t]);let O=()=>{if(p<e$.COMPLETE){let e=p+1;h(e),y(!1),r(e),l(e)}else i(),l(e$.COMPLETE)};(0,d.useEffect)(()=>{t&&l(p)},[t,p,l]);let k=()=>{switch(w){case"sidebar-rooms":case"sidebar-furniture":return"12px";case"canvas-items":return"20px";case"canvas-controls":return"8px";default:return"16px"}};if((0,d.useEffect)(()=>{let e=j[p];e&&(u(e.highlight),y("wait"===e.action),n&&(p===e$.DRAG_ROOM||p===e$.DRAG_FURNITURE?E("top"):E("bottom")))},[p,n]),(0,d.useLayoutEffect)(()=>{if(!w){T(null);return}let e=eF[w];if(!e){T(null);return}let t=()=>{let i=document.querySelector(e);if(i){i.offsetHeight;let e=i.getBoundingClientRect(),t=window.getComputedStyle(i).borderRadius||"8px";T({top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height,borderRadius:t})}else setTimeout(t,200)};requestAnimationFrame(()=>{setTimeout(t,n?300:100)})},[w,n]),(0,d.useEffect)(()=>{if(w&&(p===e$.DRAG_ROOM||p===e$.DRAG_FURNITURE)){let e=eF[w];e&&(window.highlightTimeout&&clearTimeout(window.highlightTimeout),window.highlightTimeout=setTimeout(()=>{let t=document.querySelector(e);if(t){n&&(t.offsetHeight,t.getBoundingClientRect()),t.offsetHeight;let e=t.getBoundingClientRect();T({top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height,borderRadius:k()})}},n?500:200))}return()=>{window.highlightTimeout&&clearTimeout(window.highlightTimeout)}},[p,w,n]),(0,d.useEffect)(()=>{let e=()=>{w&&(window.resizeTimeout&&clearTimeout(window.resizeTimeout),window.highlightTimeout&&clearTimeout(window.highlightTimeout),window.resizeTimeout=setTimeout(()=>{let e=eF[w],t=document.querySelector(e);if(t){t.offsetHeight;let e=t.getBoundingClientRect();T({top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height,borderRadius:k()})}},n?300:150))};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),window.resizeTimeout&&clearTimeout(window.resizeTimeout),window.highlightTimeout&&clearTimeout(window.highlightTimeout)}},[w,n]),(0,d.useEffect)(()=>()=>{f&&clearTimeout(f)},[f]),!t)return null;let S=j[p],C=Object.keys(e$).length,A=n?{position:"fixed",left:0,right:0,[z]:0,width:"100vw",maxHeight:v?"60px":"40vh",borderRadius:"bottom"===z?"16px 16px 0 0":"0 0 16px 16px",zIndex:60}:{position:"fixed",bottom:"20px",right:"20px",width:$?"60px":"400px",maxWidth:"400px",height:$?"60px":"auto",maxHeight:$?"60px":"50vh",borderRadius:"16px",zIndex:52,transition:"all 0.3s ease-in-out"};return(()=>{if(!U)return;let e=n?10:8;U.left,U.top,U.width,U.height})(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:(()=>{if(!U)return{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:n?"rgba(0, 0, 0, 0.85)":"rgba(0, 0, 0, 0.75)",zIndex:50,pointerEvents:"none"};let e=n?10:8,t=Math.max(0,U.left-e),i=Math.max(0,U.top-e),o=U.width+2*e,a=U.height+2*e;k();let r="polygon(\n            0% 0%, \n            0% 100%, \n            ".concat(t,"px 100%, \n            ").concat(t,"px ").concat(i,"px, \n            ").concat(t+o,"px ").concat(i,"px, \n            ").concat(t+o,"px ").concat(i+a,"px, \n            ").concat(t,"px ").concat(i+a,"px, \n            ").concat(t,"px 100%, \n            100% 100%, \n            100% 0%\n        )");return{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:n?"rgba(0, 0, 0, 0.85)":"rgba(0, 0, 0, 0.75)",clipPath:r,WebkitClipPath:r,zIndex:50,pointerEvents:"none",transition:"clip-path 0.3s ease-out, -webkit-clip-path 0.3s ease-out"}})(),className:"jsx-b5061cd08295d8fa transition-all duration-300"}),w&&(0,a.jsx)("div",{style:{...U?{position:"absolute",top:"".concat(U.top,"px"),left:"".concat(U.left,"px"),width:"".concat(U.width,"px"),height:"".concat(U.height,"px")}:{},border:"".concat(n?"4px":"3px"," solid #60a5fa"),borderRadius:k(),boxShadow:"\n                            0 0 0 4px rgba(96, 165, 250, 0.4),\n                            0 0 20px rgba(96, 165, 250, 0.8),\n                            0 0 40px rgba(96, 165, 250, 0.6)\n                        ",background:"transparent",transform:"scale(1)",transition:"all 0.2s ease-out"},className:"jsx-b5061cd08295d8fa "+"fixed pointer-events-none z-51 ".concat(n?"animate-pulse":"")}),n&&w&&U&&(0,a.jsx)("div",{style:{left:U.left+U.width/2,top:"bottom"===z?U.top+U.height+15:U.top-25,transform:"translateX(-50%)"},className:"jsx-b5061cd08295d8fa fixed pointer-events-none z-51",children:(0,a.jsx)("div",{style:{filter:"drop-shadow(0 0 8px rgba(96, 165, 250, 0.8))"},className:"jsx-b5061cd08295d8fa "+"w-0 h-0 border-l-[15px] border-r-[15px] border-l-transparent border-r-transparent ".concat("bottom"===z?"border-b-[15px] border-b-blue-400":"border-t-[15px] border-t-blue-400")})}),(0,a.jsx)("div",{style:{...A,borderRadius:n?A.borderRadius:"16px",fontFamily:'"Noto Serif TC", serif'},className:"jsx-b5061cd08295d8fa bg-white border border-gray-200 shadow-2xl",children:!n&&$||n&&v?(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center justify-between h-full px-4",children:[(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center gap-3",children:[(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa flex items-center justify-center w-8 h-8 text-xs font-bold text-white rounded-full bg-gradient-to-br from-blue-500 to-indigo-600",children:p+1}),!n&&!$&&(0,a.jsx)("span",{className:"jsx-b5061cd08295d8fa font-medium text-gray-800",children:S.title})]}),(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{n?N(!1):F(!1)},title:n?"展開":"Expand tutorial",className:"jsx-b5061cd08295d8fa p-2 text-gray-600 transition-colors rounded-full hover:bg-gray-100",children:(0,a.jsx)(eU.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:i,title:"關閉教學",className:"jsx-b5061cd08295d8fa p-2 text-red-600 transition-colors rounded-full hover:bg-red-50",children:(0,a.jsx)(M.A,{className:"w-4 h-4"})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa "+"flex items-center justify-between border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 ".concat(n?"p-3":"p-4"," rounded-t-2xl"),children:[(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center gap-3",children:[(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa "+"flex items-center justify-center text-sm font-bold text-white rounded-full shadow-lg bg-gradient-to-br from-blue-500 to-indigo-600 ".concat("w-8 h-8"),children:p+1}),(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa",children:[(0,a.jsx)("h2",{className:"jsx-b5061cd08295d8fa "+"font-bold text-gray-800 ".concat("text-lg"),children:S.title}),(0,a.jsxs)("p",{className:"jsx-b5061cd08295d8fa text-xs text-gray-500",children:[c("step")," ",p+1," ",c("of")," ",C]})]})]}),(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center gap-2",children:[S.icon,n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>N(!0),className:"jsx-b5061cd08295d8fa p-2 text-gray-600 transition-colors rounded-full hover:bg-gray-100",children:(0,a.jsx)(eT.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>E("bottom"===z?"top":"bottom"),title:"切換位置",className:"jsx-b5061cd08295d8fa p-2 text-gray-600 transition-colors rounded-full hover:bg-gray-100",children:"bottom"===z?(0,a.jsx)(ev.A,{className:"w-4 h-4"}):(0,a.jsx)(eT.A,{className:"w-4 h-4"})})]}),!n&&(0,a.jsx)("button",{onClick:()=>F(!0),title:"Minimize tutorial",className:"jsx-b5061cd08295d8fa p-2 text-gray-600 transition-colors rounded-full hover:bg-gray-100",children:(0,a.jsx)(eN.A,{className:"w-4 h-4"})}),(0,a.jsx)(ee.$,{variant:"ghost",size:"sm",onClick:i,className:"w-8 h-8 p-0 transition-colors hover:bg-red-50 hover:text-red-600",children:(0,a.jsx)(M.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa "+"overflow-auto ".concat(n?"p-3 max-h-48":"p-4 max-h-60"),children:[(0,a.jsx)("p",{className:"jsx-b5061cd08295d8fa "+"leading-relaxed text-gray-700 ".concat(n?"text-sm mb-3":"text-sm mb-4"),children:S.description}),p===e$.SELECT_ITEM&&(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa "+"flex items-center gap-3 p-3 mb-3 border border-blue-200 rounded-lg bg-blue-50 ".concat("text-sm"),children:[(0,a.jsx)(eR.A,{className:"flex-shrink-0 w-5 h-5 text-blue-600"}),(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa",children:(0,a.jsx)("p",{className:"jsx-b5061cd08295d8fa font-medium text-blue-800",children:c(n?"tapToSelect":"clickToSelect")})})]}),p===e$.MULTI_SELECT&&(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa "+"p-3 mb-3 border border-purple-200 rounded-lg bg-purple-50 ".concat("text-sm"),children:(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-start gap-3",children:[(0,a.jsx)(eR.A,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa text-purple-800",children:n?(0,a.jsx)("p",{className:"jsx-b5061cd08295d8fa font-medium",children:c("longPressToSelect")}):(0,a.jsx)("p",{className:"jsx-b5061cd08295d8fa font-medium",children:c("doubleClickToSelect")})})]})}),(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa "+((n?"mb-3":"mb-4")||""),children:[(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center justify-between mb-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"jsx-b5061cd08295d8fa",children:c("progress")}),(0,a.jsxs)("span",{className:"jsx-b5061cd08295d8fa",children:[Math.round((p+1)/C*100),"%"]})]}),(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa flex items-center gap-1",children:Array.from({length:C},(e,t)=>(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa "+"h-2 flex-1 rounded-full transition-all duration-300 ".concat(t<=p?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gray-200")},t))})]}),m&&(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa "+"flex items-center justify-center gap-3 px-3 py-3 border border-yellow-200 rounded-lg bg-yellow-50 ".concat("text-sm"),children:[(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa w-4 h-4 border-2 border-yellow-500 rounded-full border-t-transparent animate-spin"}),(0,a.jsx)("span",{className:"jsx-b5061cd08295d8fa font-medium text-yellow-800",children:c("waitingForAction")})]})]}),(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa "+"flex items-center justify-between border-t border-gray-100 bg-gray-50 rounded-b-2xl ".concat(n?"p-3":"p-4"),children:[(0,a.jsxs)(ee.$,{variant:"outline",onClick:()=>{if(p>e$.INTRO){let e=p-1;h(e),y(!1),r(e),l(e)}},disabled:p===e$.INTRO,className:"flex items-center gap-2 hover:bg-gray-100 transition-colors ".concat("text-sm px-3 py-2"),children:[(0,a.jsx)(ez.A,{className:"w-4 h-4"}),n?c("previous").slice(0,3):c("previous")]}),n&&(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa text-xs text-gray-400",children:"← 滑動切換 →"}),!n&&(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{className:"jsx-b5061cd08295d8fa w-2 h-2 bg-blue-500 rounded-full"}),p+1," / ",C]}),(0,a.jsx)(ee.$,{onClick:O,disabled:!1,className:"flex items-center gap-2 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 transition-all ".concat("text-sm px-3 py-2"),children:p===e$.COMPLETE?c("finish"):(0,a.jsxs)(a.Fragment,{children:[c("wait"===S.action?"skip":"next"),(0,a.jsx)(eE.A,{className:"w-4 h-4"})]})})]})]})}),(0,a.jsx)(ex(),{id:"b5061cd08295d8fa",children:"@-webkit-keyframes strongTutorialGlow{0%,100%{-webkit-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);border-color:#60a5fa}50%{-webkit-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);border-color:#3b82f6}}@-moz-keyframes strongTutorialGlow{0%,100%{-moz-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);border-color:#60a5fa}50%{-moz-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);border-color:#3b82f6}}@-o-keyframes strongTutorialGlow{0%,100%{box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);border-color:#60a5fa}50%{box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);border-color:#3b82f6}}@keyframes strongTutorialGlow{0%,100%{-webkit-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);-moz-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);border-color:#60a5fa}50%{-webkit-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);-moz-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);border-color:#3b82f6}}@-webkit-keyframes strongPulse{0%,100%{-webkit-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);border-color:#60a5fa;opacity:1}50%{-webkit-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);border-color:#3b82f6;opacity:.9}}@-moz-keyframes strongPulse{0%,100%{-moz-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);border-color:#60a5fa;opacity:1}50%{-moz-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);border-color:#3b82f6;opacity:.9}}@-o-keyframes strongPulse{0%,100%{box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);border-color:#60a5fa;opacity:1}50%{box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);border-color:#3b82f6;opacity:.9}}@keyframes strongPulse{0%,100%{-webkit-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);-moz-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);border-color:#60a5fa;opacity:1}50%{-webkit-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);-moz-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);border-color:#3b82f6;opacity:.9}}"})]})}let eO={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:284.47058823529414,y:329.37254901960785},rotation:0},{id:"dining_room-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:441,height:296},position:{x:144.84313725490188,y:632.8823529411765},rotation:0},{id:"living_room-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"living_room",label:"客廳1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:443,height:290},position:{x:588.1176470588235,y:634.4509803921569},rotation:0},{id:"bedroom-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:589.5882352941177,y:330.78431372549016},rotation:0},{id:"bedroom-2",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:421,height:375},position:{x:593.3529411764706,y:926.4705882352941},rotation:0},{id:"kitchen-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"kitchen",label:"廚房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:270,height:363},position:{x:315.0392156862745,y:930.4509803921569},rotation:0},{id:"balcony-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"balcony",label:"陽台1",icon:"/images/room-icon/balcony.png",size:{width:300,height:300}},size:{width:116,height:296},position:{x:1030.764705882353,y:635.8039215686274},rotation:0},{id:"toilet-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:l.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:410.843137254902,y:351.5490196078431},rotation:0,parentId:null,offset:{x:134.843137254902,y:7.549019607843093}},{id:"shower-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:l.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:483.2352941176471,y:528.4313725490196},rotation:0,parentId:null,offset:{x:211.23529411764707,y:207.43137254901956}},{id:"bathtub-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:l.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:489.82352941176464,y:357.92156862745094},rotation:0,parentId:null,offset:{x:219.82352941176464,y:52.92156862745094}},{id:"sink-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:291.92156862745094,y:481.11764705882354},rotation:-270,parentId:null,offset:{x:-5.078431372549062,y:153.11764705882354}},{id:"door-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:417.3137254901961,y:572.4117647058823},rotation:-90,parentId:null},{id:"window-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:310.72549019607845,y:362.7254901960784},rotation:-180,parentId:null},{id:"door-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:160.37254901960785,y:755.2156862745098},rotation:0,parentId:"dining_room-1",offset:{x:4.529411764705969,y:131.33333333333337}},{id:"window-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:240.58823529411762,y:622.4901960784314},rotation:-90,parentId:"dining_room-1",offset:{x:91.74509803921575,y:-20.392156862745082}},{id:"table-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:290.37254901960785,y:657.5294117647059},rotation:-90,parentId:"dining_room-1",offset:{x:100.52941176470597,y:9.647058823529392}},{id:"fridge-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:l.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:339.2941176470588,y:991.6666666666667},rotation:0,parentId:null},{id:"door-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"廚房1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:433.4509803921569,y:943.5686274509803},rotation:-270,parentId:null},{id:"wardrobe-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:307.921568627451,y:809.0588235294117},rotation:-90,parentId:"dining_room-1",offset:{x:166.07843137254912,y:203.17647058823525}},{id:"bed-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:861.6862745098039,y:1134.078431372549},rotation:-180,parentId:null},{id:"window-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:702.5882352941177,y:1253.313725490196},rotation:-270,parentId:null},{id:"window-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:984.5490196078431,y:1094.1372549019607},rotation:0,parentId:null},{id:"bookshelf-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:l.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:899.7058823529411,y:748.9607843137255},rotation:0,parentId:null},{id:"bed-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:781.7254901960785,y:356.47058823529414},rotation:0,parentId:null},{id:"stove-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:l.w$.FURNITURE,type:"stove",label:"廚房1-爐具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:329.09803921568624,y:1121.6470588235295},rotation:-90,parentId:null},{id:"sink-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"廚房1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:420.6078431372549,y:1231.1568627450981},rotation:0,parentId:null},{id:"tv-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:l.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:855.6078431372549,y:658.9411764705882},rotation:0,parentId:null},{id:"sofa-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:l.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:891.5294117647059,y:800.4901960784314},rotation:-90,parentId:null},{id:"door-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"睡房2-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:754.2549019607843,y:944.8431372549019},rotation:-270,parentId:null},{id:"door-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:729.4117647058823,y:568.9607843137255},rotation:-90,parentId:null},{id:"wardrobe-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房2-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:623.2745098039215,y:1063.6470588235295},rotation:0,parentId:null},{id:"wardrobe-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:614.3529411764706,y:452.01960784313724},rotation:0,parentId:null},{id:"window-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:928.0196078431372,y:455},rotation:0,parentId:null},{id:"window-6",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"廚房1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:337.0588235294117,y:1196.6666666666667},rotation:0,parentId:null},{id:"wardrobe-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"廚房1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:520.9411764705883,y:1060.8431372549019},rotation:0,parentId:null},{id:"table-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:706.5294117647059,y:1171.392156862745},rotation:-90,parentId:null},{id:"chair-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:267.3529411764706,y:747.0196078431372},rotation:-90,parentId:"dining_room-1",offset:{x:75.50980392156873,y:107.13725490196077}},{id:"chair-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子3",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:328.5098039215686,y:747.6078431372548},rotation:-90,parentId:"dining_room-1",offset:{x:139.66666666666674,y:106.72549019607834}},{id:"chair-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:265.43137254901956,y:662.1764705882354},rotation:-270,parentId:"dining_room-1",offset:{x:77.58823529411768,y:16.294117647058897}},{id:"chair-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子4",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:325.52941176470586,y:660.3529411764705},rotation:-270,parentId:"dining_room-1",offset:{x:136.68627450980398,y:15.47058823529403}},{id:"wardrobe-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"客廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:653.9215686274509,y:809.0392156862745},rotation:-90,parentId:null},{id:"tv-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:l.w$.FURNITURE,type:"tv",label:"睡房2-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:850,y:962.2352941176471},rotation:0,parentId:null},{id:"plant-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:l.w$.FURNITURE,type:"plant",label:"陽台1-植物2",icon:"/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1057.2549019607843,y:871.6078431372549},rotation:0,parentId:null},{id:"plant-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:l.w$.FURNITURE,type:"plant",label:"陽台1-植物1",icon:"/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1055.2549019607843,y:650.9803921568628},rotation:0,parentId:null},{id:"door-6",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"陽台1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:1049.0819672131147,y:769.6393442622951},rotation:0,parentId:null}]},ek={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:284.47058823529414,y:329.37254901960785},rotation:0},{id:"dining_room-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"dining_room",label:"饭厅1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:441,height:296},position:{x:144.84313725490188,y:632.8823529411765},rotation:0},{id:"living_room-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"living_room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:443,height:290},position:{x:588.1176470588235,y:634.4509803921569},rotation:0},{id:"bedroom-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:589.5882352941177,y:330.78431372549016},rotation:0},{id:"bedroom-2",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:421,height:375},position:{x:593.3529411764706,y:926.4705882352941},rotation:0},{id:"kitchen-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"kitchen",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:270,height:363},position:{x:315.0392156862745,y:930.4509803921569},rotation:0},{id:"balcony-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"balcony",label:"阳台1",icon:"/images/room-icon/balcony.png",size:{width:300,height:300}},size:{width:116,height:296},position:{x:1030.764705882353,y:635.8039215686274},rotation:0},{id:"toilet-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:l.w$.FURNITURE,type:"toilet",label:"浴室1-马桶1",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:410.843137254902,y:351.5490196078431},rotation:0,parentId:null,offset:{x:134.843137254902,y:7.549019607843093}},{id:"shower-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:l.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:483.2352941176471,y:528.4313725490196},rotation:0,parentId:null,offset:{x:211.23529411764707,y:207.43137254901956}},{id:"bathtub-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:l.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:489.82352941176464,y:357.92156862745094},rotation:0,parentId:null,offset:{x:219.82352941176464,y:52.92156862745094}},{id:"sink-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:291.92156862745094,y:481.11764705882354},rotation:-270,parentId:null,offset:{x:-5.078431372549062,y:153.11764705882354}},{id:"door-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"浴室1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:417.3137254901961,y:572.4117647058823},rotation:-90,parentId:null},{id:"window-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:310.72549019607845,y:362.7254901960784},rotation:-180,parentId:null},{id:"door-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"饭厅1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:160.37254901960785,y:755.2156862745098},rotation:0,parentId:"dining_room-1",offset:{x:4.529411764705969,y:131.33333333333337}},{id:"window-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:240.58823529411762,y:622.4901960784314},rotation:-90,parentId:"dining_room-1",offset:{x:91.74509803921575,y:-20.392156862745082}},{id:"table-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"饭厅1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:290.37254901960785,y:657.5294117647059},rotation:-90,parentId:"dining_room-1",offset:{x:100.52941176470597,y:9.647058823529392}},{id:"fridge-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:l.w$.FURNITURE,type:"fridge",label:"厨房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:339.2941176470588,y:991.6666666666667},rotation:0,parentId:null},{id:"door-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"厨房1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:433.4509803921569,y:943.5686274509803},rotation:-270,parentId:null},{id:"wardrobe-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"饭厅1-柜1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:307.921568627451,y:809.0588235294117},rotation:-90,parentId:"dining_room-1",offset:{x:166.07843137254912,y:203.17647058823525}},{id:"bed-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:861.6862745098039,y:1134.078431372549},rotation:-180,parentId:null},{id:"window-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:702.5882352941177,y:1253.313725490196},rotation:-270,parentId:null},{id:"window-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:984.5490196078431,y:1094.1372549019607},rotation:0,parentId:null},{id:"bookshelf-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:l.w$.FURNITURE,type:"bookshelf",label:"客厅1-茶几1",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:899.7058823529411,y:748.9607843137255},rotation:0,parentId:null},{id:"bed-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:781.7254901960785,y:356.47058823529414},rotation:0,parentId:null},{id:"stove-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:l.w$.FURNITURE,type:"stove",label:"厨房1-炉具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:329.09803921568624,y:1121.6470588235295},rotation:-90,parentId:null},{id:"sink-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"厨房1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:420.6078431372549,y:1231.1568627450981},rotation:0,parentId:null},{id:"tv-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:l.w$.FURNITURE,type:"tv",label:"客厅1-电视1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:855.6078431372549,y:658.9411764705882},rotation:0,parentId:null},{id:"sofa-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:l.w$.FURNITURE,type:"sofa",label:"客厅1-沙发1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:891.5294117647059,y:800.4901960784314},rotation:-90,parentId:null},{id:"door-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"睡房2-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:754.2549019607843,y:944.8431372549019},rotation:-270,parentId:null},{id:"door-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"睡房1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:729.4117647058823,y:568.9607843137255},rotation:-90,parentId:null},{id:"wardrobe-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房2-柜1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:623.2745098039215,y:1063.6470588235295},rotation:0,parentId:null},{id:"wardrobe-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房1-柜1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:614.3529411764706,y:452.01960784313724},rotation:0,parentId:null},{id:"window-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:928.0196078431372,y:455},rotation:0,parentId:null},{id:"window-6",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"厨房1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:337.0588235294117,y:1196.6666666666667},rotation:0,parentId:null},{id:"wardrobe-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"厨房1-柜1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:520.9411764705883,y:1060.8431372549019},rotation:0,parentId:null},{id:"table-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:706.5294117647059,y:1171.392156862745},rotation:-90,parentId:null},{id:"chair-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:267.3529411764706,y:747.0196078431372},rotation:-90,parentId:"dining_room-1",offset:{x:75.50980392156873,y:107.13725490196077}},{id:"chair-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子3",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:328.5098039215686,y:747.6078431372548},rotation:-90,parentId:"dining_room-1",offset:{x:139.66666666666674,y:106.72549019607834}},{id:"chair-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:265.43137254901956,y:662.1764705882354},rotation:-270,parentId:"dining_room-1",offset:{x:77.58823529411768,y:16.294117647058897}},{id:"chair-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子4",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:325.52941176470586,y:660.3529411764705},rotation:-270,parentId:"dining_room-1",offset:{x:136.68627450980398,y:15.47058823529403}},{id:"wardrobe-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"客廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:653.9215686274509,y:809.0392156862745},rotation:-90,parentId:null},{id:"tv-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:l.w$.FURNITURE,type:"tv",label:"睡房2-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:850,y:962.2352941176471},rotation:0,parentId:null},{id:"plant-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:l.w$.FURNITURE,type:"plant",label:"陽台1-植物2",icon:"/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1057.2549019607843,y:871.6078431372549},rotation:0,parentId:null},{id:"plant-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:l.w$.FURNITURE,type:"plant",label:"陽台1-植物1",icon:"/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1055.2549019607843,y:650.9803921568628},rotation:0,parentId:null},{id:"door-6",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"陽台1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:1049.0819672131147,y:769.6393442622951},rotation:0,parentId:null}]},eM={canvasPosition:{x:0,y:-48},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:l.w$.ROOM,direction:"north",data:{cateType:l.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",parentRoom:null,size:{width:300,height:300}},size:{width:300,height:300},position:{x:522.4705882352941,y:339.37254901960785},rotation:0,parentId:null},{id:"dining_room-1",type:l.w$.ROOM,direction:"west",data:{cateType:l.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"/images/room-icon/dining_room.png",parentRoom:null,size:{width:300,height:300}},size:{width:475,height:362},position:{x:135.84313725490188,y:648.8823529411765},rotation:0,parentId:null},{id:"living_room-1",type:l.w$.ROOM,direction:"center",data:{cateType:l.w$.ROOM,type:"living_room",label:"客廳1",icon:"/images/room-icon/living_room.png",parentRoom:null,size:{width:300,height:300}},size:{width:573,height:370},position:{x:616.1176470588235,y:647.4509803921569},rotation:0,parentId:null},{id:"bedroom-1",type:l.w$.ROOM,direction:"northEast",data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",parentRoom:null,size:{width:300,height:300}},size:{width:367,height:304},position:{x:828.5882352941177,y:336.78431372549016},rotation:0,parentId:null},{id:"bedroom-2",type:l.w$.ROOM,direction:"south",data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房2",icon:"/images/room-icon/bedroom.png",parentRoom:null,size:{width:300,height:300}},size:{width:421,height:375},position:{x:710.3529411764706,y:1024.4705882352941},rotation:0,parentId:null},{id:"kitchen-1",type:l.w$.ROOM,direction:"southWest",data:{cateType:l.w$.ROOM,type:"kitchen",label:"廚房1",icon:"/images/room-icon/kitchen.png",parentRoom:null,size:{width:300,height:300}},size:{width:275,height:377},position:{x:427.0392156862745,y:1027.450980392157},rotation:0,parentId:null},{id:"balcony-1",type:l.w$.ROOM,direction:"east",data:{cateType:l.w$.ROOM,type:"balcony",label:"陽台1",icon:"/images/room-icon/balcony.png",parentRoom:null,size:{width:300,height:300}},size:{width:133,height:367},position:{x:1197.764705882353,y:649.8039215686274},rotation:0,parentId:null},{id:"bedroom-3",type:l.w$.ROOM,direction:"northWest",data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房3",icon:"/images/room-icon/bedroom.png",parentRoom:null,size:{width:300,height:300}},size:{width:300,height:300},position:{x:223.3770491803279,y:340.016393442623},rotation:0,parentId:null},{id:"toilet-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:l.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"/images/fur-icon/toilet.png",parentRoom:null,size:{width:40,height:60}},size:{width:40,height:60},position:{x:648.843137254902,y:361.5490196078431},rotation:0,parentId:null,offset:{x:126.37254901960785,y:22.176470588235247}},{id:"shower-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:l.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",parentRoom:null,size:{width:80,height:80}},size:{width:80,height:80},position:{x:721.2352941176471,y:538.4313725490196},rotation:0,parentId:null,offset:{x:198.76470588235293,y:199.0588235294117}},{id:"bathtub-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:l.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"/images/fur-icon/bathtub.png",parentRoom:null,size:{width:120,height:60}},size:{width:70,height:35},position:{x:727.8235294117646,y:367.92156862745094},rotation:0,parentId:null,offset:{x:205.3529411764705,y:28.549019607843093}},{id:"sink-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"/images/fur-icon/sink.png",parentRoom:null,size:{width:60,height:40}},size:{width:60,height:40},position:{x:529.9215686274509,y:491.11764705882354},rotation:-270,parentId:null,offset:{x:7.450980392156794,y:151.7450980392157}},{id:"door-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:644.313725490196,y:586.4117647058823},rotation:-90,parentId:null,offset:{x:132.84313725490193,y:243.03921568627447}},{id:"door-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:148.37254901960785,y:814.2156862745098},rotation:0,parentId:null,offset:{x:12.52941176470597,y:165.33333333333337}},{id:"window-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"飯廳1-窗1",icon:"/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:227.58823529411762,y:643.4901960784314},rotation:-90,parentId:null,offset:{x:91.74509803921575,y:-5.392156862745082}},{id:"table-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"/images/fur-icon/table.png",parentRoom:null,size:{width:44,height:120}},size:{width:44,height:120},position:{x:318.37254901960785,y:690.5294117647059},rotation:-90,parentId:null,offset:{x:271.52941176470597,y:145.6470588235294}},{id:"fridge-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:l.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"/images/fur-icon/fridge.png",parentRoom:null,size:{width:40,height:43}},size:{width:40,height:43},position:{x:451.2941176470588,y:1088.6666666666667},rotation:0,parentId:null,offset:{x:24.25490196078431,y:61.215686274509835}},{id:"door-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"廚房1-門1",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:545.4509803921569,y:1040.5686274509803},rotation:-270,parentId:null,offset:{x:118.41176470588243,y:13.117647058823422}},{id:"wardrobe-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:210.921568627451,y:909.0588235294117},rotation:-90,parentId:null,offset:{x:75.07843137254912,y:260.17647058823525}},{id:"bed-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"/images/fur-icon/bed.png",parentRoom:null,size:{width:89,height:128}},size:{width:89,height:128},position:{x:978.6862745098039,y:1232.078431372549},rotation:-180,parentId:null,offset:{x:268.33333333333326,y:207.6078431372548}},{id:"window-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:819.5882352941177,y:1351.313725490196},rotation:-270,parentId:null,offset:{x:109.23529411764707,y:326.8431372549019}},{id:"window-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:1101.549019607843,y:1192.1372549019607},rotation:0,parentId:null,offset:{x:391.1960784313725,y:167.66666666666652}},{id:"bookshelf-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:l.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"/images/fur-icon/bookshelf.png",parentRoom:null,size:{width:44,height:44}},size:{width:44,height:44},position:{x:1047.705882352941,y:790.9607843137255},rotation:0,parentId:null,offset:{x:431.58823529411745,y:143.50980392156862}},{id:"bed-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"/images/fur-icon/bed.png",parentRoom:null,size:{width:89,height:128}},size:{width:89,height:128},position:{x:1020.7254901960785,y:362.47058823529414},rotation:0,parentId:null,offset:{x:192.13725490196077,y:25.68627450980398}},{id:"stove-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:l.w$.FURNITURE,type:"stove",label:"廚房1-爐具1",icon:"/images/fur-icon/stove.png",parentRoom:null,size:{width:62,height:32}},size:{width:62,height:32},position:{x:441.09803921568624,y:1218.6470588235295},rotation:-90,parentId:null,offset:{x:14.058823529411768,y:191.1960784313726}},{id:"sink-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"廚房1-锌盘1",icon:"/images/fur-icon/sink.png",parentRoom:null,size:{width:60,height:40}},size:{width:60,height:40},position:{x:532.6078431372549,y:1328.1568627450981},rotation:0,parentId:null,offset:{x:105.56862745098044,y:300.7058823529412}},{id:"tv-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:l.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"/images/fur-icon/tv.png",parentRoom:null,size:{width:134,height:32}},size:{width:134,height:32},position:{x:1001.6078431372549,y:670.9411764705882},rotation:0,parentId:null,offset:{x:385.4901960784314,y:23.490196078431268}},{id:"sofa-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:l.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"/images/fur-icon/sofa.png",parentRoom:null,size:{width:67,height:123}},size:{width:67,height:123},position:{x:1042.5294117647059,y:893.4901960784314},rotation:-90,parentId:null,offset:{x:426.4117647058823,y:246.03921568627447}},{id:"door-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"睡房2-門1",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:871.2549019607843,y:1042.8431372549019},rotation:-270,parentId:null,offset:{x:160.9019607843137,y:18.37254901960773}},{id:"door-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:945.4117647058823,y:585.9607843137255},rotation:-90,parentId:null,offset:{x:116.82352941176464,y:249.17647058823536}},{id:"wardrobe-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房2-櫃1",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:740.2745098039215,y:1161.6470588235295},rotation:0,parentId:null,offset:{x:29.921568627450938,y:137.17647058823536}},{id:"wardrobe-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:853.3529411764706,y:458.01960784313724},rotation:0,parentId:null,offset:{x:24.764705882352928,y:121.23529411764707}},{id:"window-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:1167.0196078431372,y:461},rotation:0,parentId:null,offset:{x:338.43137254901956,y:124.21568627450984}},{id:"window-6",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:483,y:1337},rotation:-90,parentId:null,offset:{x:163.15686274509812,y:56.117647058823536}},{id:"wardrobe-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"廚房1-櫃1",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:632.9411764705883,y:1157.8431372549019},rotation:0,parentId:null,offset:{x:205.90196078431381,y:130.39215686274497}},{id:"table-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"/images/fur-icon/table.png",parentRoom:null,size:{width:44,height:120}},size:{width:44,height:120},position:{x:823.5294117647059,y:1269.392156862745},rotation:-90,parentId:null,offset:{x:113.17647058823525,y:244.92156862745082}},{id:"chair-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:297.3529411764706,y:790.0196078431372},rotation:-90,parentId:null,offset:{x:161.50980392156873,y:141.13725490196077}},{id:"chair-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子3",icon:"/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:349.5098039215686,y:789.6078431372548},rotation:-90,parentId:null,offset:{x:213.66666666666674,y:140.72549019607834}},{id:"chair-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:298.43137254901956,y:687.1764705882354},rotation:-270,parentId:null,offset:{x:162.58823529411768,y:38.2941176470589}},{id:"chair-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子4",icon:"/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:348.52941176470586,y:685.3529411764705},rotation:-270,parentId:null,offset:{x:212.68627450980398,y:36.47058823529403}},{id:"wardrobe-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"客廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:691.9215686274509,y:907.0392156862745},rotation:-90,parentId:null,offset:{x:75.8039215686274,y:259.58823529411757}},{id:"tv-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:l.w$.FURNITURE,type:"tv",label:"睡房2-電視1",icon:"/images/fur-icon/tv.png",parentRoom:null,size:{width:134,height:32}},size:{width:134,height:32},position:{x:967,y:1060.235294117647},rotation:0,parentId:null,offset:{x:256.6470588235294,y:35.76470588235293}},{id:"plant-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:l.w$.FURNITURE,type:"plant",label:"陽台1-植物1",icon:"/images/fur-icon/plant.png",parentRoom:null,size:{width:36,height:36}},size:{width:36,height:36},position:{x:1218.2549019607843,y:960.6078431372549},rotation:0,parentId:"balcony-1",offset:{x:26.49019607843138,y:235.80392156862752}},{id:"plant-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:l.w$.FURNITURE,type:"plant",label:"陽台1-植物2",icon:"/images/fur-icon/plant.png",parentRoom:null,size:{width:36,height:36}},size:{width:36,height:36},position:{x:1218.2549019607843,y:667.9803921568628},rotation:0,parentId:"balcony-1",offset:{x:24.49019607843138,y:15.176470588235361}},{id:"door-6",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"陽台1-門1",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:1216.0819672131147,y:783.6393442622951},rotation:0,parentId:"balcony-1",offset:{x:18.317261330761767,y:133.83542269366774}},{id:"bed-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"睡房3-床1",icon:"/images/fur-icon/bed.png",parentRoom:null,size:{width:89,height:128}},size:{width:89,height:128},position:{x:401.3606557377049,y:360.0655737704918},rotation:0,parentId:null},{id:"wardrobe-6",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房3-櫃1",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:239.95081967213116,y:375.09836065573774},rotation:0,parentId:null},{id:"door-7",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"未分配-門",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:441.655737704918,y:582.1475409836065},rotation:-90,parentId:null},{id:"table-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"睡房3-枱1",icon:"/images/fur-icon/table.png",parentRoom:null,size:{width:44,height:120}},size:{width:44,height:120},position:{x:280.3606557377049,y:535.1475409836065},rotation:-90,parentId:null},{id:"chair-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"未分配-椅子",icon:"/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:283.95081967213116,y:531.311475409836},rotation:-270,parentId:null},{id:"wardrobe-7",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"未分配-櫃",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:810.6065573770493,y:618.4918032786885},rotation:-90,parentId:null}]},eS={...eM,localItems:eM.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("陽台","阳台").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},eC={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:l.w$.ROOM,direction:"northWest",data:{cateType:l.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:546.4705882352941,y:303.37254901960785},rotation:0,parentId:null},{id:"dining_room-1",type:l.w$.ROOM,direction:"southWest",data:{cateType:l.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:313,height:292},position:{x:535.8431372549019,y:613.8823529411765},rotation:0,parentId:null},{id:"living_room-1",type:l.w$.ROOM,direction:"south",data:{cateType:l.w$.ROOM,type:"living_room",label:"客廳1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:303,height:288},position:{x:867.1176470588235,y:620.4509803921569},rotation:0,parentId:null},{id:"bedroom-1",type:l.w$.ROOM,direction:"north",data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:853.5882352941177,y:300.78431372549016},rotation:0,parentId:null},{id:"balcony-1",type:l.w$.ROOM,direction:"southEast",data:{cateType:l.w$.ROOM,type:"balcony",label:"陽台1",icon:"/images/room-icon/balcony.png",size:{width:300,height:300}},size:{width:113,height:288},position:{x:1197.764705882353,y:624.8039215686274},rotation:0,parentId:null},{id:"toilet-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:l.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:662.843137254902,y:345.5490196078431},rotation:0,parentId:"bathroom-1",offset:{x:116.37254901960785,y:42.17647058823525}},{id:"shower-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:l.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:733.2352941176471,y:501.43137254901956},rotation:0,parentId:"bathroom-1",offset:{x:186.76470588235293,y:198.0588235294117}},{id:"bathtub-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:l.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:735.8235294117646,y:333.92156862745094},rotation:0,parentId:"bathroom-1",offset:{x:189.3529411764705,y:30.549019607843093}},{id:"sink-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:567.9215686274509,y:461.11764705882354},rotation:-270,parentId:"bathroom-1",offset:{x:21.450980392156794,y:157.7450980392157}},{id:"door-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:672.313725490196,y:542.4117647058823},rotation:-90,parentId:"bathroom-1",offset:{x:125.84313725490188,y:239.03921568627447}},{id:"window-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:587.7254901960785,y:338.7254901960784},rotation:-180,parentId:"bathroom-1",offset:{x:41.25490196078431,y:35.35294117647055}},{id:"door-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:564.3725490196078,y:790.2156862745098},rotation:0,parentId:null,offset:{x:28.52941176470597,y:176.33333333333337}},{id:"window-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:588.5882352941176,y:847.4901960784314},rotation:-90,parentId:null,offset:{x:52.74509803921575,y:233.60784313725492}},{id:"table-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:736.3725490196078,y:644.5294117647059},rotation:-90,parentId:null,offset:{x:200.52941176470597,y:30.64705882352939}},{id:"fridge-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:l.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:569.2941176470588,y:734.6666666666667},rotation:0,parentId:null,offset:{x:33.45098039215691,y:120.78431372549028}},{id:"wardrobe-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:718.921568627451,y:786.0588235294117},rotation:-90,parentId:null,offset:{x:183.07843137254912,y:172.17647058823525}},{id:"bookshelf-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:l.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:960.7058823529411,y:731.9607843137255},rotation:0,parentId:null,offset:{x:93.58823529411757,y:111.50980392156862}},{id:"bed-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:1045.7254901960785,y:326.47058823529414},rotation:0,parentId:null,offset:{x:192.13725490196077,y:25.68627450980398}},{id:"stove-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:l.w$.FURNITURE,type:"stove",label:"飯廳1-爐具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:552.0980392156862,y:670.6470588235295},rotation:-90,parentId:null,offset:{x:16.254901960784366,y:56.76470588235304}},{id:"sink-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"飯廳1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:612.6078431372549,y:644.1568627450981},rotation:0,parentId:null,offset:{x:76.76470588235304,y:30.27450980392166}},{id:"tv-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:l.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:939.6078431372549,y:658.9411764705882},rotation:0,parentId:null,offset:{x:72.49019607843138,y:38.49019607843127}},{id:"sofa-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:l.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:952.5294117647059,y:791.4901960784314},rotation:-90,parentId:null,offset:{x:85.41176470588232,y:171.03921568627447}},{id:"door-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:993.4117647058823,y:538.9607843137255},rotation:-90,parentId:null,offset:{x:139.82352941176464,y:238.17647058823536}},{id:"wardrobe-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:892.3529411764706,y:347.01960784313724},rotation:0,parentId:null,offset:{x:38.76470588235293,y:46.23529411764707}},{id:"window-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:1192.0196078431372,y:425},rotation:0,parentId:null,offset:{x:338.43137254901956,y:124.21568627450984}},{id:"chair-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:741.3529411764706,y:746.0196078431372},rotation:-90,parentId:null,offset:{x:205.50980392156873,y:132.13725490196077}},{id:"chair-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:745.4313725490196,y:644.1764705882354},rotation:-270,parentId:null,offset:{x:209.58823529411768,y:30.294117647058897}},{id:"plant-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:l.w$.FURNITURE,type:"plant",label:"陽台1-植物1",icon:"/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1224.2549019607843,y:860.6078431372549},rotation:0,parentId:null,offset:{x:26.49019607843138,y:235.80392156862752}},{id:"plant-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:l.w$.FURNITURE,type:"plant",label:"陽台1-植物2",icon:"/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1230.2549019607843,y:655.9803921568628},rotation:0,parentId:null,offset:{x:32.49019607843138,y:31.17647058823536}},{id:"door-6",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"陽台1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:1224.0819672131147,y:750.6393442622951},rotation:0,parentId:null,offset:{x:26.317261330761767,y:125.83542269366774}}]},eA={...eC,localItems:eC.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("陽台","阳台").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},e_={canvasPosition:{x:0,y:-65},compassRotation:0,scale:61,localItems:[{id:"living_room-1",type:l.w$.ROOM,direction:"west",data:{cateType:l.w$.ROOM,type:"living_room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300},parentRoom:null},size:{width:222,height:301},position:{x:329.1639344262295,y:514.8852459016393},rotation:0,parentId:null},{id:"dining_room-1",type:l.w$.ROOM,direction:"southWest",data:{cateType:l.w$.ROOM,type:"dining_room",label:"饭厅1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300},parentRoom:null},size:{width:211,height:280},position:{x:333.72131147540983,y:820.7540983606558},rotation:0,parentId:null},{id:"kitchen-1",type:l.w$.ROOM,direction:"west",data:{cateType:l.w$.ROOM,type:"kitchen",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300},parentRoom:null},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},rotation:0,parentId:null},{id:"balcony-1",type:l.w$.ROOM,direction:"northWest",data:{cateType:l.w$.ROOM,type:"balcony",label:"阳台1",icon:"/images/room-icon/balcony.png",size:{width:300,height:300},parentRoom:null},size:{width:213,height:100},position:{x:332.9180327868853,y:409.8196721311475},rotation:0,parentId:null},{id:"corridor-1",type:l.w$.ROOM,direction:"center",data:{cateType:l.w$.ROOM,type:"corridor",label:"走廊1",icon:"/images/room-icon/corridor.png",size:{width:300,height:300},parentRoom:null},size:{width:573,height:109},position:{x:562.0983606557377,y:685.344262295082},rotation:0,parentId:null},{id:"bedroom-1",type:l.w$.ROOM,direction:"east",data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300},parentRoom:null},size:{width:373,height:378},position:{x:1130.8524590163934,y:413.96721311475414},rotation:0,parentId:null},{id:"bedroom-2",type:l.w$.ROOM,direction:"north",data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300},parentRoom:null},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},rotation:0,parentId:null},{id:"bedroom-3",type:l.w$.ROOM,direction:"northEast",data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房3",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300},parentRoom:null},size:{width:281,height:299},position:{x:842.7540983606558,y:383.37704918032796},rotation:0,parentId:null},{id:"bathroom-1",type:l.w$.ROOM,direction:"south",data:{cateType:l.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300},parentRoom:null},size:{width:215,height:288},position:{x:561.5245901639345,y:803.9344262295082},rotation:0,parentId:null},{id:"bathroom-2",type:l.w$.ROOM,direction:"southEast",data:{cateType:l.w$.ROOM,type:"bathroom",label:"浴室2",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300},parentRoom:null},size:{width:300,height:300},position:{x:996.7377049180327,y:797.3934426229508},rotation:0,parentId:null},{id:"window-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:null},size:{width:8,height:56},position:{x:208.13114754098362,y:618.983606557377},rotation:-90,parentId:null,offset:{x:97.93442622950815,y:75.14754098360652}},{id:"sink-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"未分配-锌盘",icon:"/images/fur-icon/sink.png",size:{width:60,height:40},parentRoom:null},size:{width:60,height:40},position:{x:184.13114754098362,y:668.1803278688524},rotation:0,parentId:null},{id:"stove-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:l.w$.FURNITURE,type:"stove",label:"厨房1-炉具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32},parentRoom:{id:"kitchen-1",type:"room",data:{type:"kitchen",cateType:"room",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},parentId:null}},size:{width:62,height:32},position:{x:124.72131147540983,y:745.6229508196723},rotation:-90,parentId:null},{id:"fridge-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:l.w$.FURNITURE,type:"fridge",label:"厨房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43},parentRoom:{id:"kitchen-1",type:"room",data:{type:"kitchen",cateType:"room",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},parentId:null}},size:{width:40,height:43},position:{x:136.63934426229508,y:821.5245901639344},rotation:0,parentId:null},{id:"table-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"饭厅1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120},parentRoom:{id:"dining_room-1",type:"room",data:{type:"dining_room",cateType:"room",label:"饭厅1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:211,height:280},position:{x:333.72131147540983,y:820.7540983606558},parentId:null}},size:{width:29,height:79.0909090909091},position:{x:463.95081967213116,y:983.2459016393443},rotation:-90,parentId:null},{id:"door-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"厨房1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:{id:"kitchen-1",type:"room",data:{type:"kitchen",cateType:"room",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},parentId:null}},size:{width:40,height:40},position:{x:258.13114754098365,y:748.4590163934427},rotation:-180,parentId:null},{id:"door-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:417.54098360655735,y:531.72131147541},rotation:-270,parentId:null},{id:"tv-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:l.w$.FURNITURE,type:"tv",label:"客厅1-电视1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32},parentRoom:{id:"living_room-1",type:"room",data:{type:"living_room",cateType:"room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:222,height:301},position:{x:329.1639344262295,y:514.8852459016393},parentId:null}},size:{width:134,height:32},position:{x:447.11475409836066,y:616.3934426229509},rotation:-90,parentId:null},{id:"sofa-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:l.w$.FURNITURE,type:"sofa",label:"客厅1-沙发1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123},parentRoom:{id:"living_room-1",type:"room",data:{type:"living_room",cateType:"room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:222,height:301},position:{x:329.1639344262295,y:514.8852459016393},parentId:null}},size:{width:67,height:123},position:{x:357.3606557377049,y:579.688524590164},rotation:0,parentId:null},{id:"window-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:8,height:56},position:{x:685.344262295082,y:378.37704918032784},rotation:-90,parentId:null},{id:"window-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:8,height:56},position:{x:949.1147540983607,y:380.7704918032787},rotation:-90,parentId:null},{id:"door-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:624.7540983606557,y:619.0819672131147},rotation:-90,parentId:null},{id:"door-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:923.7049180327868,y:626.4918032786886},rotation:-90,parentId:null},{id:"door-6",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:639.9344262295083,y:821.8688524590164},rotation:-270,parentId:null},{id:"door-7",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:1183.2131147540983,y:813.032786885246},rotation:-270,parentId:null},{id:"door-8",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"睡房1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:{id:"bedroom-1",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:373,height:378},position:{x:1130.8524590163934,y:413.96721311475414},parentId:null}},size:{width:40,height:40},position:{x:1157.016393442623,y:720.311475409836},rotation:0,parentId:null},{id:"window-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"走廊1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:{id:"corridor-1",type:"room",data:{type:"corridor",cateType:"room",label:"走廊1",icon:"/images/room-icon/corridor.png",size:{width:300,height:300}},size:{width:573,height:109},position:{x:562.0983606557377,y:685.344262295082},parentId:null}},size:{width:8,height:56},position:{x:1282.6065573770493,y:412.45901639344265},rotation:-90,parentId:"corridor-1",offset:{x:532.5081967213116,y:-1.8852459016393368}},{id:"bed-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"未分配-床",icon:"/images/fur-icon/bed.png",size:{width:89,height:128},parentRoom:null},size:{width:89,height:128},position:{x:1363.4918032786886,y:460.6065573770493},rotation:-270,parentId:null},{id:"lamp-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/lamp-gr.png",data:{cateType:l.w$.FURNITURE,type:"lamp",label:"睡房2-儿童床1",icon:"/images/fur-icon/lamp.png",size:{width:70,height:128},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:70,height:128},position:{x:742.1475409836065,y:421.14754098360663},rotation:0,parentId:null},{id:"lamp-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/lamp-gr.png",data:{cateType:l.w$.FURNITURE,type:"lamp",label:"睡房3-儿童床1",icon:"/images/fur-icon/lamp.png",size:{width:70,height:128},parentRoom:{id:"bedroom-3",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房3",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:281,height:299},position:{x:842.7540983606558,y:383.37704918032796},parentId:null}},size:{width:70,height:128},position:{x:1026.655737704918,y:420.29508196721304},rotation:0,parentId:null},{id:"washbasin-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/washbasin-gr.png",data:{cateType:l.w$.FURNITURE,type:"washbasin",label:"未分配-洗手盘",icon:"/images/fur-icon/washbasin.png",size:{width:50,height:50},parentRoom:null},size:{width:50,height:50},position:{x:694.1967213114755,y:1032.5737704918033},rotation:0,parentId:null},{id:"shower-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:l.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80},parentRoom:{id:"bathroom-1",type:"room",data:{type:"bathroom",cateType:"room",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:215,height:288},position:{x:561.5245901639345,y:803.9344262295082},parentId:null}},size:{width:80,height:80},position:{x:583.4754098360656,y:993.4426229508197},rotation:-90,parentId:null},{id:"toilet-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:l.w$.FURNITURE,type:"toilet",label:"未分配-马桶",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60},parentRoom:null},size:{width:40,height:60},position:{x:698.8360655737705,y:906.4262295081967},rotation:-270,parentId:null},{id:"toilet-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:l.w$.FURNITURE,type:"toilet",label:"未分配-马桶",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60},parentRoom:null},size:{width:40,height:60},position:{x:1162.6393442622953,y:1011.1803278688526},rotation:-180,parentId:null},{id:"washbasin-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/washbasin-gr.png",data:{cateType:l.w$.FURNITURE,type:"washbasin",label:"未分配-洗手盘",icon:"/images/fur-icon/washbasin.png",size:{width:50,height:50},parentRoom:null},size:{width:50,height:50},position:{x:1229.5901639344263,y:929},rotation:-90,parentId:null},{id:"bathtub-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:l.w$.FURNITURE,type:"bathtub",label:"浴室2-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60},parentRoom:{id:"bathroom-2",type:"room",data:{type:"bathroom",cateType:"room",label:"浴室2",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:996.7377049180327,y:797.3934426229508},parentId:null}},size:{width:48,height:24},position:{x:1022.9180327868853,y:963.8032786885246},rotation:0,parentId:null},{id:"wardrobe-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"未分配-柜",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:null},size:{width:40,height:129},position:{x:487.672131147541,y:845.1803278688524},rotation:0,parentId:null},{id:"wardrobe-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房2-柜1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:40,height:129},position:{x:580.5737704918033,y:449.1803278688524},rotation:0,parentId:null},{id:"wardrobe-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"未分配-柜",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:null},size:{width:40,height:129},position:{x:868.6065573770492,y:459.9180327868853},rotation:0,parentId:null},{id:"wardrobe-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"未分配-柜",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:null},size:{width:40,height:129},position:{x:1370.2131147540983,y:680.7540983606557},rotation:-90,parentId:null},{id:"bookshelf-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:l.w$.FURNITURE,type:"bookshelf",label:"未分配-茶几",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44},parentRoom:null},size:{width:44,height:44},position:{x:437.27868852459017,y:615.2786885245903},rotation:0,parentId:null},{id:"bookshelf-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:l.w$.FURNITURE,type:"bookshelf",label:"未分配-茶几",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44},parentRoom:null},size:{width:44,height:44},position:{x:1436.1311475409836,y:639.016393442623},rotation:0,parentId:null}]},eL={...e_,localItems:e_.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("陽台","阳台").replace("走廊","走廊").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},eD={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:284.47058823529414,y:329.37254901960785},rotation:0},{id:"dining_room-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:441,height:296},position:{x:144.84313725490188,y:632.8823529411765},rotation:0},{id:"living_room-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"living_room",label:"客廳1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:443,height:290},position:{x:588.1176470588235,y:634.4509803921569},rotation:0},{id:"bedroom-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:589.5882352941177,y:330.78431372549016},rotation:0},{id:"bedroom-2",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:421,height:375},position:{x:593.3529411764706,y:926.4705882352941},rotation:0},{id:"kitchen-1",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:"kitchen",label:"廚房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:270,height:363},position:{x:315.0392156862745,y:930.4509803921569},rotation:0},{id:"toilet-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:l.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:410.843137254902,y:351.5490196078431},rotation:0,parentId:null,offset:{x:134.843137254902,y:7.549019607843093}},{id:"shower-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:l.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:483.2352941176471,y:528.4313725490196},rotation:0,parentId:null,offset:{x:211.23529411764707,y:207.43137254901956}},{id:"bathtub-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:l.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:489.82352941176464,y:357.92156862745094},rotation:0,parentId:null,offset:{x:219.82352941176464,y:52.92156862745094}},{id:"sink-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:291.92156862745094,y:481.11764705882354},rotation:-270,parentId:null,offset:{x:-5.078431372549062,y:153.11764705882354}},{id:"door-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:417.3137254901961,y:572.4117647058823},rotation:-90,parentId:null},{id:"window-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:310.72549019607845,y:362.7254901960784},rotation:-180,parentId:null},{id:"door-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:160.37254901960785,y:755.2156862745098},rotation:0,parentId:"dining_room-1",offset:{x:4.529411764705969,y:131.33333333333337}},{id:"window-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:240.58823529411762,y:622.4901960784314},rotation:-90,parentId:"dining_room-1",offset:{x:91.74509803921575,y:-20.392156862745082}},{id:"table-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:290.37254901960785,y:657.5294117647059},rotation:-90,parentId:"dining_room-1",offset:{x:100.52941176470597,y:9.647058823529392}},{id:"fridge-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:l.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:339.2941176470588,y:991.6666666666667},rotation:0,parentId:null},{id:"door-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"廚房1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:433.4509803921569,y:943.5686274509803},rotation:-270,parentId:null},{id:"wardrobe-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:307.921568627451,y:809.0588235294117},rotation:-90,parentId:"dining_room-1",offset:{x:166.07843137254912,y:203.17647058823525}},{id:"bed-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:861.6862745098039,y:1134.078431372549},rotation:-180,parentId:null},{id:"window-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:702.5882352941177,y:1253.313725490196},rotation:-270,parentId:null},{id:"window-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:984.5490196078431,y:1094.1372549019607},rotation:0,parentId:null},{id:"bookshelf-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:l.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:899.7058823529411,y:748.9607843137255},rotation:0,parentId:null},{id:"bed-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:781.7254901960785,y:356.47058823529414},rotation:0,parentId:null},{id:"stove-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:l.w$.FURNITURE,type:"stove",label:"廚房1-爐具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:329.09803921568624,y:1121.6470588235295},rotation:-90,parentId:null},{id:"sink-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"廚房1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:420.6078431372549,y:1231.1568627450981},rotation:0,parentId:null},{id:"tv-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:l.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:855.6078431372549,y:658.9411764705882},rotation:0,parentId:null},{id:"sofa-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:l.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:891.5294117647059,y:800.4901960784314},rotation:-90,parentId:null},{id:"door-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"睡房2-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:754.2549019607843,y:944.8431372549019},rotation:-270,parentId:null},{id:"door-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:729.4117647058823,y:568.9607843137255},rotation:-90,parentId:null},{id:"wardrobe-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房2-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:623.2745098039215,y:1063.6470588235295},rotation:0,parentId:null},{id:"wardrobe-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:614.3529411764706,y:452.01960784313724},rotation:0,parentId:null},{id:"window-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:928.0196078431372,y:455},rotation:0,parentId:null},{id:"window-6",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"廚房1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:337.0588235294117,y:1196.6666666666667},rotation:0,parentId:null},{id:"wardrobe-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"廚房1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:520.9411764705883,y:1060.8431372549019},rotation:0,parentId:null},{id:"table-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:706.5294117647059,y:1171.392156862745},rotation:-90,parentId:null},{id:"chair-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:267.3529411764706,y:747.0196078431372},rotation:-90,parentId:"dining_room-1",offset:{x:75.50980392156873,y:107.13725490196077}},{id:"chair-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子3",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:328.5098039215686,y:747.6078431372548},rotation:-90,parentId:"dining_room-1",offset:{x:139.66666666666674,y:106.72549019607834}},{id:"chair-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:265.43137254901956,y:662.1764705882354},rotation:-270,parentId:"dining_room-1",offset:{x:77.58823529411768,y:16.294117647058897}},{id:"chair-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子4",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:325.52941176470586,y:660.3529411764705},rotation:-270,parentId:"dining_room-1",offset:{x:136.68627450980398,y:15.47058823529403}},{id:"wardrobe-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"客廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:653.9215686274509,y:809.0392156862745},rotation:-90,parentId:null},{id:"tv-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:l.w$.FURNITURE,type:"tv",label:"睡房2-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:850,y:962.2352941176471},rotation:0,parentId:null}]},eP={...eD,localItems:eD.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("陽台","阳台").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},eW={canvasPosition:{x:0,y:-65},compassRotation:0,scale:61,localItems:[{id:"living_room-1",type:l.w$.ROOM,direction:"west",data:{cateType:l.w$.ROOM,type:"living_room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300},parentRoom:null},size:{width:222,height:301},position:{x:329.1639344262295,y:514.8852459016393},rotation:0,parentId:null},{id:"dining_room-1",type:l.w$.ROOM,direction:"southWest",data:{cateType:l.w$.ROOM,type:"dining_room",label:"饭厅1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300},parentRoom:null},size:{width:211,height:280},position:{x:333.72131147540983,y:820.7540983606558},rotation:0,parentId:null},{id:"kitchen-1",type:l.w$.ROOM,direction:"west",data:{cateType:l.w$.ROOM,type:"kitchen",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300},parentRoom:null},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},rotation:0,parentId:null},{id:"corridor-1",type:l.w$.ROOM,direction:"center",data:{cateType:l.w$.ROOM,type:"corridor",label:"走廊1",icon:"/images/room-icon/corridor.png",size:{width:300,height:300},parentRoom:null},size:{width:573,height:109},position:{x:562.0983606557377,y:685.344262295082},rotation:0,parentId:null},{id:"bedroom-1",type:l.w$.ROOM,direction:"east",data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300},parentRoom:null},size:{width:373,height:378},position:{x:1130.8524590163934,y:413.96721311475414},rotation:0,parentId:null},{id:"bedroom-2",type:l.w$.ROOM,direction:"north",data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300},parentRoom:null},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},rotation:0,parentId:null},{id:"bedroom-3",type:l.w$.ROOM,direction:"northEast",data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房3",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300},parentRoom:null},size:{width:281,height:299},position:{x:842.7540983606558,y:383.37704918032796},rotation:0,parentId:null},{id:"bathroom-1",type:l.w$.ROOM,direction:"south",data:{cateType:l.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300},parentRoom:null},size:{width:215,height:288},position:{x:561.5245901639345,y:803.9344262295082},rotation:0,parentId:null},{id:"bathroom-2",type:l.w$.ROOM,direction:"southEast",data:{cateType:l.w$.ROOM,type:"bathroom",label:"浴室2",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300},parentRoom:null},size:{width:300,height:300},position:{x:996.7377049180327,y:797.3934426229508},rotation:0,parentId:null},{id:"window-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:null},size:{width:8,height:56},position:{x:208.13114754098362,y:618.983606557377},rotation:-90,parentId:null,offset:{x:97.93442622950815,y:75.14754098360652}},{id:"sink-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"未分配-锌盘",icon:"/images/fur-icon/sink.png",size:{width:60,height:40},parentRoom:null},size:{width:60,height:40},position:{x:184.13114754098362,y:668.1803278688524},rotation:0,parentId:null},{id:"stove-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:l.w$.FURNITURE,type:"stove",label:"厨房1-炉具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32},parentRoom:{id:"kitchen-1",type:"room",data:{type:"kitchen",cateType:"room",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},parentId:null}},size:{width:62,height:32},position:{x:124.72131147540983,y:745.6229508196723},rotation:-90,parentId:null},{id:"fridge-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:l.w$.FURNITURE,type:"fridge",label:"厨房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43},parentRoom:{id:"kitchen-1",type:"room",data:{type:"kitchen",cateType:"room",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},parentId:null}},size:{width:40,height:43},position:{x:136.63934426229508,y:821.5245901639344},rotation:0,parentId:null},{id:"table-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"饭厅1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120},parentRoom:{id:"dining_room-1",type:"room",data:{type:"dining_room",cateType:"room",label:"饭厅1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:211,height:280},position:{x:333.72131147540983,y:820.7540983606558},parentId:null}},size:{width:29,height:79.0909090909091},position:{x:463.95081967213116,y:983.2459016393443},rotation:-90,parentId:null},{id:"door-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"厨房1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:{id:"kitchen-1",type:"room",data:{type:"kitchen",cateType:"room",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},parentId:null}},size:{width:40,height:40},position:{x:258.13114754098365,y:748.4590163934427},rotation:-180,parentId:null},{id:"door-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:417.54098360655735,y:531.72131147541},rotation:-270,parentId:null},{id:"tv-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:l.w$.FURNITURE,type:"tv",label:"客厅1-电视1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32},parentRoom:{id:"living_room-1",type:"room",data:{type:"living_room",cateType:"room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:222,height:301},position:{x:329.1639344262295,y:514.8852459016393},parentId:null}},size:{width:134,height:32},position:{x:447.11475409836066,y:616.3934426229509},rotation:-90,parentId:null},{id:"sofa-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:l.w$.FURNITURE,type:"sofa",label:"客厅1-沙发1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123},parentRoom:{id:"living_room-1",type:"room",data:{type:"living_room",cateType:"room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:222,height:301},position:{x:329.1639344262295,y:514.8852459016393},parentId:null}},size:{width:67,height:123},position:{x:357.3606557377049,y:579.688524590164},rotation:0,parentId:null},{id:"window-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:8,height:56},position:{x:685.344262295082,y:378.37704918032784},rotation:-90,parentId:null},{id:"window-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:8,height:56},position:{x:949.1147540983607,y:380.7704918032787},rotation:-90,parentId:null},{id:"door-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:624.7540983606557,y:619.0819672131147},rotation:-90,parentId:null},{id:"door-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:923.7049180327868,y:626.4918032786886},rotation:-90,parentId:null},{id:"door-6",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:639.9344262295083,y:821.8688524590164},rotation:-270,parentId:null},{id:"door-7",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:1183.2131147540983,y:813.032786885246},rotation:-270,parentId:null},{id:"door-8",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"睡房1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:{id:"bedroom-1",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:373,height:378},position:{x:1130.8524590163934,y:413.96721311475414},parentId:null}},size:{width:40,height:40},position:{x:1157.016393442623,y:720.311475409836},rotation:0,parentId:null},{id:"window-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"走廊1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:{id:"corridor-1",type:"room",data:{type:"corridor",cateType:"room",label:"走廊1",icon:"/images/room-icon/corridor.png",size:{width:300,height:300}},size:{width:573,height:109},position:{x:562.0983606557377,y:685.344262295082},parentId:null}},size:{width:8,height:56},position:{x:1282.6065573770493,y:412.45901639344265},rotation:-90,parentId:"corridor-1",offset:{x:532.5081967213116,y:-1.8852459016393368}},{id:"bed-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"未分配-床",icon:"/images/fur-icon/bed.png",size:{width:89,height:128},parentRoom:null},size:{width:89,height:128},position:{x:1363.4918032786886,y:460.6065573770493},rotation:-270,parentId:null},{id:"lamp-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/lamp-gr.png",data:{cateType:l.w$.FURNITURE,type:"lamp",label:"睡房2-儿童床1",icon:"/images/fur-icon/lamp.png",size:{width:70,height:128},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:70,height:128},position:{x:742.1475409836065,y:421.14754098360663},rotation:0,parentId:null},{id:"lamp-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/lamp-gr.png",data:{cateType:l.w$.FURNITURE,type:"lamp",label:"睡房3-儿童床1",icon:"/images/fur-icon/lamp.png",size:{width:70,height:128},parentRoom:{id:"bedroom-3",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房3",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:281,height:299},position:{x:842.7540983606558,y:383.37704918032796},parentId:null}},size:{width:70,height:128},position:{x:1026.655737704918,y:420.29508196721304},rotation:0,parentId:null},{id:"washbasin-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/washbasin-gr.png",data:{cateType:l.w$.FURNITURE,type:"washbasin",label:"未分配-洗手盘",icon:"/images/fur-icon/washbasin.png",size:{width:50,height:50},parentRoom:null},size:{width:50,height:50},position:{x:694.1967213114755,y:1032.5737704918033},rotation:0,parentId:null},{id:"shower-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:l.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80},parentRoom:{id:"bathroom-1",type:"room",data:{type:"bathroom",cateType:"room",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:215,height:288},position:{x:561.5245901639345,y:803.9344262295082},parentId:null}},size:{width:80,height:80},position:{x:583.4754098360656,y:993.4426229508197},rotation:-90,parentId:null},{id:"toilet-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:l.w$.FURNITURE,type:"toilet",label:"未分配-马桶",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60},parentRoom:null},size:{width:40,height:60},position:{x:698.8360655737705,y:906.4262295081967},rotation:-270,parentId:null},{id:"toilet-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:l.w$.FURNITURE,type:"toilet",label:"未分配-马桶",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60},parentRoom:null},size:{width:40,height:60},position:{x:1162.6393442622953,y:1011.1803278688526},rotation:-180,parentId:null},{id:"washbasin-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/washbasin-gr.png",data:{cateType:l.w$.FURNITURE,type:"washbasin",label:"未分配-洗手盘",icon:"/images/fur-icon/washbasin.png",size:{width:50,height:50},parentRoom:null},size:{width:50,height:50},position:{x:1229.5901639344263,y:929},rotation:-90,parentId:null},{id:"bathtub-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:l.w$.FURNITURE,type:"bathtub",label:"浴室2-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60},parentRoom:{id:"bathroom-2",type:"room",data:{type:"bathroom",cateType:"room",label:"浴室2",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:996.7377049180327,y:797.3934426229508},parentId:null}},size:{width:48,height:24},position:{x:1022.9180327868853,y:963.8032786885246},rotation:0,parentId:null},{id:"wardrobe-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"未分配-柜",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:null},size:{width:40,height:129},position:{x:487.672131147541,y:845.1803278688524},rotation:0,parentId:null},{id:"wardrobe-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房2-柜1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:40,height:129},position:{x:580.5737704918033,y:449.1803278688524},rotation:0,parentId:null},{id:"wardrobe-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"未分配-柜",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:null},size:{width:40,height:129},position:{x:868.6065573770492,y:459.9180327868853},rotation:0,parentId:null},{id:"wardrobe-4",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"未分配-柜",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:null},size:{width:40,height:129},position:{x:1370.2131147540983,y:680.7540983606557},rotation:-90,parentId:null},{id:"bookshelf-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:l.w$.FURNITURE,type:"bookshelf",label:"未分配-茶几",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44},parentRoom:null},size:{width:44,height:44},position:{x:437.27868852459017,y:615.2786885245903},rotation:0,parentId:null},{id:"bookshelf-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:l.w$.FURNITURE,type:"bookshelf",label:"未分配-茶几",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44},parentRoom:null},size:{width:44,height:44},position:{x:1436.1311475409836,y:639.016393442623},rotation:0,parentId:null}]},eY={...e_,localItems:e_.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("走廊","走廊").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},eX={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:l.w$.ROOM,direction:"northWest",data:{cateType:l.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:546.4705882352941,y:303.37254901960785},rotation:0,parentId:null},{id:"dining_room-1",type:l.w$.ROOM,direction:"southWest",data:{cateType:l.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:313,height:292},position:{x:535.8431372549019,y:613.8823529411765},rotation:0,parentId:null},{id:"living_room-1",type:l.w$.ROOM,direction:"south",data:{cateType:l.w$.ROOM,type:"living_room",label:"客廳1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:303,height:288},position:{x:867.1176470588235,y:620.4509803921569},rotation:0,parentId:null},{id:"bedroom-1",type:l.w$.ROOM,direction:"north",data:{cateType:l.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:853.5882352941177,y:300.78431372549016},rotation:0,parentId:null},{id:"toilet-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:l.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:662.843137254902,y:345.5490196078431},rotation:0,parentId:"bathroom-1",offset:{x:116.37254901960785,y:42.17647058823525}},{id:"shower-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:l.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:733.2352941176471,y:501.43137254901956},rotation:0,parentId:"bathroom-1",offset:{x:186.76470588235293,y:198.0588235294117}},{id:"bathtub-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:l.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:735.8235294117646,y:333.92156862745094},rotation:0,parentId:"bathroom-1",offset:{x:189.3529411764705,y:30.549019607843093}},{id:"sink-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:567.9215686274509,y:461.11764705882354},rotation:-270,parentId:"bathroom-1",offset:{x:21.450980392156794,y:157.7450980392157}},{id:"door-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:672.313725490196,y:542.4117647058823},rotation:-90,parentId:"bathroom-1",offset:{x:125.84313725490188,y:239.03921568627447}},{id:"window-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:587.7254901960785,y:338.7254901960784},rotation:-180,parentId:"bathroom-1",offset:{x:41.25490196078431,y:35.35294117647055}},{id:"door-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:564.3725490196078,y:790.2156862745098},rotation:0,parentId:null,offset:{x:28.52941176470597,y:176.33333333333337}},{id:"window-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:588.5882352941176,y:847.4901960784314},rotation:-90,parentId:null,offset:{x:52.74509803921575,y:233.60784313725492}},{id:"table-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:l.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:736.3725490196078,y:644.5294117647059},rotation:-90,parentId:null,offset:{x:200.52941176470597,y:30.64705882352939}},{id:"fridge-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:l.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:569.2941176470588,y:734.6666666666667},rotation:0,parentId:null,offset:{x:33.45098039215691,y:120.78431372549028}},{id:"wardrobe-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:718.921568627451,y:786.0588235294117},rotation:-90,parentId:null,offset:{x:183.07843137254912,y:172.17647058823525}},{id:"bookshelf-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:l.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:960.7058823529411,y:731.9607843137255},rotation:0,parentId:null,offset:{x:93.58823529411757,y:111.50980392156862}},{id:"bed-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:l.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:1045.7254901960785,y:326.47058823529414},rotation:0,parentId:null,offset:{x:192.13725490196077,y:25.68627450980398}},{id:"stove-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:l.w$.FURNITURE,type:"stove",label:"飯廳1-爐具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:552.0980392156862,y:670.6470588235295},rotation:-90,parentId:null,offset:{x:16.254901960784366,y:56.76470588235304}},{id:"sink-2",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:l.w$.FURNITURE,type:"sink",label:"飯廳1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:612.6078431372549,y:644.1568627450981},rotation:0,parentId:null,offset:{x:76.76470588235304,y:30.27450980392166}},{id:"tv-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:l.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:939.6078431372549,y:658.9411764705882},rotation:0,parentId:null,offset:{x:72.49019607843138,y:38.49019607843127}},{id:"sofa-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:l.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:952.5294117647059,y:791.4901960784314},rotation:-90,parentId:null,offset:{x:85.41176470588232,y:171.03921568627447}},{id:"door-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:l.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:993.4117647058823,y:538.9607843137255},rotation:-90,parentId:null,offset:{x:139.82352941176464,y:238.17647058823536}},{id:"wardrobe-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:l.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:892.3529411764706,y:347.01960784313724},rotation:0,parentId:null,offset:{x:38.76470588235293,y:46.23529411764707}},{id:"window-5",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:l.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:1192.0196078431372,y:425},rotation:0,parentId:null,offset:{x:338.43137254901956,y:124.21568627450984}},{id:"chair-1",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:741.3529411764706,y:746.0196078431372},rotation:-90,parentId:null,offset:{x:205.50980392156873,y:132.13725490196077}},{id:"chair-3",type:l.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:l.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:745.4313725490196,y:644.1764705882354},rotation:-270,parentId:null,offset:{x:209.58823529411768,y:30.294117647058897}}]},eB={...eX,localItems:eX.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("陽台","阳台").replace("走廊","走廊").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},eH={[l.sR.LIVING_ROOM]:"#F0DF9C",[l.sR.DINING_ROOM]:"#F5D4BC",[l.sR.STORAGE_ROOM]:"#ADC0BC",[l.sR.STUDY_ROOM]:"#B0B8C9",[l.sR.BEDROOM]:"#F5B8B8",[l.sR.BATHROOM]:"#C1D7E2",[l.sR.KITCHEN]:"#EDE0C6",[l.sR.BALCONY]:"#D0DCAA",[l.sR.GARDEN]:"#AACDBC",[l.sR.GARAGE]:"#C7C7DD",[l.sR.CORRIDOR]:"#CDCDCD"};function eG(e){var t,i;let{children:o,locale:n}=e,{data:r,status:l}=(0,X.wV)(),c=(0,s.useRouter)(),[p,h]=(0,d.useState)(!1),[g,w]=(0,d.useState)(!0),u=(0,R.c3)("design");return((0,d.useEffect)(()=>{(async()=>{var e;if("loading"!==l){if(!(null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.userId)){c.push("/".concat(n,"/auth/login?callbackUrl=/").concat(n,"/design"));return}try{let{status:e,data:t}=await (0,W.Jt)("/api/users/".concat(r.user.userId));if(console.log("\uD83D\uDD0D FULL USER INFO:",{userId:r.user.userId,isLock:null==t?void 0:t.isLock,genStatus:null==t?void 0:t.genStatus,createdAt:null==t?void 0:t.createdAt,updatedAt:null==t?void 0:t.updatedAt}),0===e){if(t.isLock){c.push("/".concat(n,"/price?redirect=design"));return}h(!0)}else{c.push("/".concat(n,"/auth/login"));return}}catch(e){console.error("Access check error:",e),c.push("/".concat(n,"/price"));return}finally{w(!1)}}})()},[r,l,c,n]),(0,d.useEffect)(()=>{var e;let t=null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.userId;if(!t||p)return;console.log("\uD83D\uDD0D Design page: Starting webhook polling...");let i=setInterval(async()=>{try{let{status:e,data:o}=await (0,W.Jt)("/api/users/".concat(t));console.log("\uD83D\uDD0D Polling check - User lock status:",null==o?void 0:o.isLock),0!==e||o.isLock||(console.log("\uD83C\uDF89 Design page: Webhook unlock detected!"),h(!0),w(!1),clearInterval(i))}catch(e){console.error("Design polling error:",e)}},2e3);return()=>{console.log("\uD83D\uDED1 Design page: Stopping webhook polling"),clearInterval(i)}},[null==r?void 0:null===(t=r.user)||void 0===t?void 0:t.userId,p]),(0,d.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("payment"),i=e.get("session_id");"success"===t&&i&&!p&&(console.log("\uD83D\uDCB3 Design page: Payment success URL detected"),w(!0),(async()=>{var e;let t=null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.userId;if(t)try{await new Promise(e=>setTimeout(e,1e3));let{status:e,data:i}=await (0,W.Jt)("/api/users/".concat(t));console.log("\uD83D\uDCB3 URL recheck - User lock status:",null==i?void 0:i.isLock),0!==e||i.isLock||h(!0)}catch(e){console.error("Payment recheck error:",e)}finally{w(!1),window.history.replaceState({},document.title,window.location.pathname)}})())},[null==r?void 0:null===(i=r.user)||void 0===i?void 0:i.userId,p]),g)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-32 h-32 mx-auto border-b-2 border-green-500 rounded-full animate-spin"}),(0,a.jsx)("p",{className:"mt-4 text-lg",children:u("verifyingAccess")})]})}):p?o:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-lg",children:u("redirecting")})})})}function eV(e){let{open:t,onClose:i,onSelectModule:o}=e,[n,r]=(0,d.useState)(1),[s,l]=(0,d.useState)(null),[c,p]=(0,d.useState)(null),[h,g]=(0,d.useState)(null),w=(0,I.A)(),u=(0,R.c3)("design"),m=()=>{r(1),l(null),p(null),g(null)},y=()=>{m(),i()},x=e=>{l(e),3===e?r(2):r(3)},b=e=>{p(e),2===e?r(3):(o("2"),y())},f=e=>{g(e),3===s&&2===c?"yes"===e?o("4"):o("7"):1===s?"yes"===e?o("3"):o("7"):2===s&&("yes"===e?o("1"):o("5")),y()};return t?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-opacity-50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg sm:max-w-[432px] w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"flex items-center justify-center pt-6 pb-4",children:(0,a.jsx)("div",{className:"flex space-x-2",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"w-3 h-3 rounded-full transition-colors ".concat(e<=n?"bg-[#13ab87]":"bg-gray-300")},e))})}),(0,a.jsxs)("div",{className:"px-6 pb-4",children:[(0,a.jsx)("div",{className:"mb-4 text-lg font-bold text-center md:text-xl md:text-left",children:u("wizardTitle")}),(0,a.jsx)("div",{className:"py-4 text-sm text-left text-gray-600 md:text-base",children:u("wizardSubtitle")})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 md:hidden"}),(0,a.jsx)("div",{className:"p-6 pt-4",children:(0,a.jsxs)("div",{className:"grid gap-4 pb-4",children:[1===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4 text-lg font-bold text-center",children:u("wizardStep1Title")}),(0,a.jsx)("div",{className:"grid gap-3",children:[{count:1,label:u("oneRoom")},{count:2,label:u("twoRooms")},{count:3,label:u("threeRooms")}].map(e=>{let{count:t,label:i}=e;return(0,a.jsx)("button",{className:"w-full py-4 bg-[#13ab87] hover:bg-[#0f9674] text-white font-bold rounded-[100px] text-base transition-colors",onClick:()=>x(t),children:i},t)})})]}),2===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4 text-lg font-bold text-center",children:u("wizardStep2Title")}),(0,a.jsx)("div",{className:"grid gap-3",children:[{count:1,label:u("oneBathroom")},{count:2,label:u("twoBathrooms")}].map(e=>{let{count:t,label:i}=e;return(0,a.jsx)("button",{className:"w-full py-4 bg-[#13ab87] hover:bg-[#0f9674] text-white font-bold rounded-[100px] text-base transition-colors",onClick:()=>b(t),children:i},t)})})]}),3===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4 text-lg font-bold text-center",children:u("wizardStep3Title")}),(0,a.jsx)("div",{className:"grid gap-3",children:[{value:"yes",label:u("hasBalcony")},{value:"no",label:u("noBalcony")}].map(e=>{let{value:t,label:i}=e;return(0,a.jsx)("button",{className:"w-full py-4 bg-[#13ab87] hover:bg-[#0f9674] text-white font-bold rounded-[100px] text-base transition-colors",onClick:()=>f(t),children:i},t)})})]}),w?(0,a.jsx)("div",{className:"flex justify-around",children:(0,a.jsx)("button",{onClick:y,className:"px-10 text-foreground rounded-[100px] bg-white font-bold mt-10 hover:bg-gray-50 transition-colors",children:u("cancel")})}):(0,a.jsx)("button",{onClick:y,className:"w-full text-foreground rounded-[100px] bg-white font-bold mt-10 hover:bg-gray-50 transition-colors",children:u("cancel")})]})})]})}):null}function eq(e){var t,i;let{params:o}=e,c=(0,d.use)(o).locale,p=(0,R.c3)("design"),h=(0,R.c3)("toast"),g="zh-TW"===c?l.t7:l.Xs,w="zh-TW"===c?l.Gx:l.Qc,u="zh-TW"===c?eO:ek,m="zh-TW"===c?eM:eS,y="zh-TW"===c?eC:eA,b="zh-TW"===c?e_:eL,f="zh-TW"===c?eD:eP,T="zh-TW"===c?eW:eY,v="zh-TW"===c?eX:eB,z=[{id:"door-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.DOOR,label:w[l.x9.DOOR],icon:"/images/fur-icon/door.png",activeIcon:"/images/fur-icon/door-gr.png",size:{width:40,height:40}}},{id:"window-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.WINDOW,label:w[l.x9.WINDOW],icon:"/images/fur-icon/window.png",activeIcon:"/images/fur-icon/window-gr.png",size:{width:8,height:56}}},{id:"table-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.TABLE,label:w[l.x9.TABLE],icon:"/images/fur-icon/table.png",activeIcon:"/images/fur-icon/table-gr.png",size:{width:44,height:120}}},{id:"chair-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.CHAIR,label:w[l.x9.CHAIR],icon:"/images/fur-icon/chair.png",activeIcon:"/images/fur-icon/chair-gr.png",size:{width:28,height:35}}},{id:"sofa-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.SOFA,label:w[l.x9.SOFA],icon:"/images/fur-icon/sofa.png",activeIcon:"/images/fur-icon/sofa-gr.png",size:{width:67,height:123}}},{id:"bed-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.BED,label:w[l.x9.BED],icon:"/images/fur-icon/bed.png",activeIcon:"/images/fur-icon/bed-gr.png",size:{width:89,height:128}}},{id:"lamp-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.LAMP,label:w[l.x9.LAMP],icon:"/images/fur-icon/lamp.png",activeIcon:"/images/fur-icon/lamp-gr.png",size:{width:70,height:128}}},{id:"tv-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.TV,label:w[l.x9.TV],icon:"/images/fur-icon/tv.png",activeIcon:"/images/fur-icon/tv-gr.png",size:{width:134,height:32}}},{id:"bookshelf-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.BOOKSHELF,label:w[l.x9.BOOKSHELF],icon:"/images/fur-icon/bookshelf.png",activeIcon:"/images/fur-icon/bookshelf-gr.png",size:{width:44,height:44}}},{id:"wardrobe-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.WARDROBE,label:w[l.x9.WARDROBE],icon:"/images/fur-icon/wardrobe.png",activeIcon:"/images/fur-icon/wardrobe-gr.png",size:{width:40,height:129}}},{id:"plant-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.PLANT,label:w[l.x9.PLANT],icon:"/images/fur-icon/plant.png",activeIcon:"/images/fur-icon/plant-gr.png",size:{width:36,height:36}}},{id:"fridge-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.FRIDGE,label:w[l.x9.FRIDGE],icon:"/images/fur-icon/fridge.png",activeIcon:"/images/fur-icon/fridge-gr.png",size:{width:40,height:43}}},{id:"stove-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.STOVE,label:w[l.x9.STOVE],icon:"/images/fur-icon/stove.png",activeIcon:"/images/fur-icon/stove-gr.png",size:{width:62,height:32}}},{id:"sink-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.SINK,label:w[l.x9.SINK],icon:"/images/fur-icon/sink.png",activeIcon:"/images/fur-icon/sink-gr.png",size:{width:60,height:40}}},{id:"washbasin-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.WASHBASIN,label:w[l.x9.WASHBASIN],icon:"/images/fur-icon/washbasin.png",activeIcon:"/images/fur-icon/washbasin-gr.png",size:{width:50,height:50}}},{id:"toilet-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.TOILET,label:w[l.x9.TOILET],icon:"/images/fur-icon/toilet.png",activeIcon:"/images/fur-icon/toilet-gr.png",size:{width:40,height:60}}},{id:"shower-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.SHOWER,label:w[l.x9.SHOWER],icon:"/images/fur-icon/shower.png",activeIcon:"/images/fur-icon/shower-gr.png",size:{width:80,height:80}}},{id:"bathtub-template",type:l.w$.FURNITURE,data:{cateType:l.w$.FURNITURE,type:l.x9.BATHTUB,label:w[l.x9.BATHTUB],icon:"/images/fur-icon/bathtub.png",activeIcon:"/images/fur-icon/bathtub-gr.png",size:{width:120,height:60}}}],E=(0,n.FR)((0,n.MS)(n.IG,{tolerance:50}),(0,n.MS)(n.cA,{activationConstraint:{distance:10}})),$=(0,s.useRouter)(),[F,j]=(0,d.useState)(null),[k,M]=(0,d.useState)(!1),[C,A]=(0,d.useState)(0),[L,D]=(0,d.useState)(!1),[B,H]=(0,d.useState)([[]]),[G,V]=(0,d.useState)(0),[q,K]=(0,d.useState)(!1),[Z,J]=(0,d.useState)(!1),[Q,ee]=(0,d.useState)({}),[et,ei]=(0,d.useState)(!1),eo=(0,d.useRef)(null),ea=(0,d.useRef)(null),en=(0,I.A)(),er=en?48:56,es=en?{width:200,height:200}:{width:300,height:300},[ed,el]=(0,d.useState)(!1),[ec,ep]=(0,d.useState)(!1),[eh,eg]=(0,d.useState)(!1),[ey,ex]=(0,d.useState)(!1),eb=[{id:"living-room",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:l.sR.LIVING_ROOM,label:g[l.sR.LIVING_ROOM],icon:"/images/room-icon/living_room.png",size:es}},{id:"dining-room",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:l.sR.DINING_ROOM,label:g[l.sR.DINING_ROOM],icon:"/images/room-icon/dining_room.png",size:es}},{id:"storage-room",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:l.sR.STORAGE_ROOM,label:g[l.sR.STORAGE_ROOM],icon:"/images/room-icon/storage_room.png",size:es}},{id:"study-room",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:l.sR.STUDY_ROOM,label:g[l.sR.STUDY_ROOM],icon:"/images/room-icon/study_room.png",size:es}},{id:"bedroom",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:l.sR.BEDROOM,label:g[l.sR.BEDROOM],icon:"/images/room-icon/bedroom.png",size:es}},{id:"bathroom",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:l.sR.BATHROOM,label:g[l.sR.BATHROOM],icon:"/images/room-icon/bathroom.png",size:es}},{id:"kitchen",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:l.sR.KITCHEN,label:g[l.sR.KITCHEN],icon:"/images/room-icon/kitchen.png",size:es}},{id:"balcony",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:l.sR.BALCONY,label:g[l.sR.BALCONY],icon:"/images/room-icon/balcony.png",size:es}},{id:"garden",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:l.sR.GARDEN,label:g[l.sR.GARDEN],icon:"/images/room-icon/garden.png",size:es}},{id:"garage",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:l.sR.GARAGE,label:g[l.sR.GARAGE],icon:"/images/room-icon/garage.png",size:es}},{id:"corridor",type:l.w$.ROOM,data:{cateType:l.w$.ROOM,type:l.sR.CORRIDOR,label:g[l.sR.CORRIDOR],icon:"/images/room-icon/corridor.png",size:es}}],{data:ef}=(0,X.wV)();(0,d.useEffect)(()=>{let e=()=>{ea.current&&A(ea.current.offsetWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,d.useEffect)(()=>{(async()=>{var e,t,i,o,a;let n=null==ef?void 0:null===(e=ef.user)||void 0===e?void 0:e.userId;if(n)try{ei(!0);let{status:e,message:r,data:s}=await (0,W.Jt)("/api/users/".concat(n)),{status:d,message:l,data:c}=await (0,W.Jt)("/api/design/".concat(n));if(0!==e){U.oR.error("查询用户错误:"+r);return}if(0!==d){U.oR.error("查询布局错误:"+l);return}ee(s),K(!0);let{localItems:p=[],scale:h=100,canvasPosition:g={x:0,y:0},compassRotation:w=0}=c,u=p.map(e=>({...e,type:e._type,data:{...e.data,type:e.data._type}}));null===(t=eo.current)||void 0===t||t.setLocalItems(u),null===(i=eo.current)||void 0===i||i.setPosition(g),null===(o=eo.current)||void 0===o||o.setCompassRotation(w),null===(a=eo.current)||void 0===a||a.setScale(h),ei(!1)}catch(e){ei(!1),U.oR.error("加载布局错误:"+e),console.error("Error loading design:",e)}})()},[null==ef?void 0:null===(t=ef.user)||void 0===t?void 0:t.userId]),(0,d.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("payment"),i=e.get("session_id");"success"===t&&i&&(U.oR.success("Payment successful! Welcome to the design tool!"),window.history.replaceState({},document.title,window.location.pathname))},[]);let eR=(e,t)=>{let{over:i}=e,o=(null==i?void 0:i.id)==="canvas";if(M(o),o){let e=eo.current.getLocalItems(),i="".concat(F.data.current.label).concat(e.filter(e=>e.data.type===F.data.current.type).length+1),o={id:"".concat(F.data.current.type,"-").concat(e.filter(e=>e.data.type===F.data.current.type).length+1),type:F.data.current.cateType,data:{...F.data.current,label:F.data.current.cateType===l.w$.ROOM?i:""},size:F.data.current.size,activeIcon:F.data.current.activeIcon};eo.current.setIsRoomDragging(!0),eo.current.setRoomDragStart(t),eo.current.setDraggedRoom(o)}else eo.current.setIsRoomDragging(!1)},eI=async()=>{var e;(null==ef?void 0:null===(e=ef.user)||void 0===e?void 0:e.userId)||(0,s.redirect)("/auth/login");try{ei(!0);let e=function(e){var t;let i,o,a,n,r,s,d,l=e.localItems.filter(e=>"room"===e.type),c=e.localItems.filter(e=>"furniture"===e.type),p=(e,t,i,o,a)=>{if(e===t)return"center";let n=e.position.x+e.size.width/2,r=e.position.y+e.size.height/2,s=180/Math.PI*Math.atan2(n-i,-(r-o));for(let t of(s<0&&(s+=360),console.log("newDirections",s,e,n,r,i,o),a))if(337.5!==t.range[0]){if(s>=t.range[0]&&s<t.range[1])return t.name}else if(s>=t.range[0]||s<t.range[1])return t.name},{centerRoom:h,centerX:g,centerY:w}=(i=0,o=0,a=l[0].position.x+l[0].size.width/2,n=l[0].position.y+l[0].size.height/2,r=l[0].position.x+l[0].size.width/2,s=l[0].position.y+l[0].size.height/2,l.forEach(e=>{e.position.x+e.size.width/2<a&&(a=e.position.x+e.size.width/2),e.position.y+e.size.height/2<n&&(n=e.position.y+e.size.height/2),e.position.x+e.size.width/2>r&&(r=e.position.x+e.size.width/2),e.position.y+e.size.height/2>s&&(s=e.position.y+e.size.height/2)}),i=(a+r)/2,o=(n+s)/2,{centerRoom:l.find(e=>e.position.x<=i&&e.position.x+e.size.width>=i&&e.position.y<=o&&e.position.y+e.size.height>=o),centerX:i,centerY:o}),u=(t=e.compassRotation||0,console.log("northIndex",d=Y.findIndex(e=>e.baseAngle===t%360)),Y.slice(d).concat(Y.slice(0,d)).map((e,t)=>({...e,name:Y[t].name}))),m=l.map(e=>{let t=p(e,h,g,w,u);return{...e,direction:t}});return{...e,localItems:[...m,...c]}}({localItems:eo.current.getLocalItems(),canvasPosition:eo.current.getPosition(),compassRotation:eo.current.getCompassRotation(),scale:eo.current.getScale()}),{status:t}=await (0,W.bE)("/api/design/".concat(ef.user.userId),e);0==t&&U.oR.success(h("saveSuccess"))}catch(e){U.oR.error(h("saveFailed")+e),console.error("Error saving design:",e)}finally{ei(!1)}},eU=async()=>{var e;(null==ef?void 0:null===(e=ef.user)||void 0===e?void 0:e.userId)||(0,s.redirect)("/auth/login"),ef.user.userId;let t=eo.current.getLocalItems(),i=!1,o=!1;if(t.forEach(e=>{"door"===e.data.type&&(i=!0),"window"===e.data.type&&(o=!0)}),!i||!o){U.oR.error(p("warning"),{autoClose:!1,style:{width:400}});return}await eI(),$.push("/report")},eT=()=>{if(G>0){var e,t;null===(e=eo.current)||void 0===e||e.setActiveRoom(null),V(e=>e-1),null===(t=eo.current)||void 0===t||t.setLocalItems(B[G-1])}},ev=()=>{if(G<B.length-1){var e,t;null===(e=eo.current)||void 0===e||e.setActiveRoom(null),V(e=>e+1),null===(t=eo.current)||void 0===t||t.setLocalItems(B[G+1])}},eN=async e=>{var t;(null==ef?void 0:null===(t=ef.user)||void 0===t?void 0:t.userId)||(0,s.redirect)("/auth/login"),ei(!0),ee(e);try{let{status:t}=await (0,W.bE)("/api/users/".concat(ef.user.userId),{gender:e.gender,birthDateTime:e.birthDateTime.toISOString()});0==t&&(U.oR.success(h("saveSuccess")),K(!1),J(!0))}catch(e){U.oR.error(h("saveFailed")+e),console.error("Error saving user info:",e)}finally{ei(!1)}},ez=function(){var e,t,i,o,a,n,r,s,d,l,c,p,h,g,w,x,R,I,U,N,z,E,$,F,j,O,k,M;let S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";"2"===S?(null===(e=eo.current)||void 0===e||e.setLocalItems(m.localItems),null===(t=eo.current)||void 0===t||t.setPosition(m.canvasPosition),null===(i=eo.current)||void 0===i||i.setCompassRotation(m.compassRotation),null===(o=eo.current)||void 0===o||o.setScale(m.scale)):"3"===S?(null===(a=eo.current)||void 0===a||a.setLocalItems(y.localItems),null===(n=eo.current)||void 0===n||n.setPosition(y.canvasPosition),null===(r=eo.current)||void 0===r||r.setCompassRotation(y.compassRotation),null===(s=eo.current)||void 0===s||s.setScale(y.scale)):"4"===S?(null===(d=eo.current)||void 0===d||d.setLocalItems(b.localItems),null===(l=eo.current)||void 0===l||l.setPosition(b.canvasPosition),null===(c=eo.current)||void 0===c||c.setCompassRotation(b.compassRotation),null===(p=eo.current)||void 0===p||p.setScale(b.scale)):"5"===S?(null===(h=eo.current)||void 0===h||h.setLocalItems(f.localItems),null===(g=eo.current)||void 0===g||g.setPosition(f.canvasPosition),null===(w=eo.current)||void 0===w||w.setCompassRotation(f.compassRotation),null===(x=eo.current)||void 0===x||x.setScale(f.scale)):"6"===S?(null===(R=eo.current)||void 0===R||R.setLocalItems(T.localItems),null===(I=eo.current)||void 0===I||I.setPosition(T.canvasPosition),null===(U=eo.current)||void 0===U||U.setCompassRotation(T.compassRotation),null===(N=eo.current)||void 0===N||N.setScale(T.scale)):"7"===S?(null===(z=eo.current)||void 0===z||z.setLocalItems(v.localItems),null===(E=eo.current)||void 0===E||E.setPosition(v.canvasPosition),null===($=eo.current)||void 0===$||$.setCompassRotation(v.compassRotation),null===(F=eo.current)||void 0===F||F.setScale(v.scale)):(null===(j=eo.current)||void 0===j||j.setLocalItems(u.localItems),null===(O=eo.current)||void 0===O||O.setPosition(u.canvasPosition),null===(k=eo.current)||void 0===k||k.setCompassRotation(u.compassRotation),null===(M=eo.current)||void 0===M||M.setScale(u.scale)),ep(!1)},eE=(0,d.useRef)(new Set),e$=()=>{eo.current&&(eo.current.setLocalItems([]),eo.current.setPosition({x:0,y:0}),eo.current.setScale(en?30:60),eo.current.setCompassRotation(0)),eE.current.clear(),ex(!0),en&&D(!1)},eF=(e,t)=>{if(ey)switch(e){case"rotate":eE.current.add("item-rotated");break;case"delete":eE.current.add("item-deleted");break;case"compass-clicked":eE.current.add("compass-clicked");break;case"model-shown":eE.current.add("model-shown")}};return(0,a.jsx)(eG,{locale:c,children:(0,a.jsx)(d.Suspense,{fallback:(0,a.jsx)("div",{children:"loading..."}),children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(em.m5,{fullscreen:!0,spinning:et,tip:h("loading2"),className:"bg-[#fff9]"}),(0,a.jsx)(ew,{open:q,onUserOpen:K,onSubmit:eN,userInfo:Q}),(0,a.jsx)(eu,{open:Z,onClose:()=>{J(!1)},onStartTutorial:()=>{e$()}}),en?(0,a.jsx)(S,{onSaveProject:eI,history:B,historyIndex:G,handleUndo:eT,handleRedo:ev,onUserOpen:K}):(0,a.jsx)(O,{onSaveProject:eI,onGenReport:eU,onUserOpen:K}),(0,a.jsx)("div",{className:"pt-16",children:(0,a.jsxs)(n.Mp,{sensors:E,onDragStart:e=>{let{active:t}=e;j(t),M(!1)},onDragOver:e=>{en||eR(e,{x:C,y:er})},onDragMove:e=>{en&&e.delta.y<-120&&eR(e,{x:0,y:50})},children:[(0,a.jsx)("div",{className:"min-h-[calc(100vh-64px)] bg-gray-50",children:(0,a.jsx)("div",{className:"container p-0",style:{maxWidth:"100%"},children:(0,a.jsxs)("div",{className:"flex h-[calc(100vh-64px)]",children:[en?(0,a.jsx)(P,{showTab:L,setShowTab:D,roomItems:eb,furnitureItems:z,isOverCanvas:k,draggingItemSize:er}):(0,a.jsx)(_,{sidebarRef:ea,roomItems:eb,furnitureItems:z,isOverCanvas:k,draggingItemSize:er}),(0,a.jsxs)("div",{className:"relative flex-1 overflow-auto canvas-items canvas-controls",id:"canvas-drop-area",children:[(0,a.jsxs)("div",{className:"absolute px-3 py-2 text-sm border-gray-300 border-dashed shadow-sm top-2 left-2 z-9 border-1 rounded-xl bg-secondary",children:[(0,a.jsx)("div",{className:"mb-2 font-medium text-center text-gray-600 ",children:p("module")}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("button",{onClick:()=>{eg(!0),ey&&eF("model-shown")},className:"px-3 py-1.5 text-white cursor-pointer bg-primary rounded-lg hover:bg-primary/90 transition-colors text-xs generate-btn",children:p("smartSelection")}),(0,a.jsx)("button",{onClick:e$,className:"px-3 py-1.5 text-white cursor-pointer bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors text-xs",children:p("demo.startTutorial")})]})]}),(0,a.jsx)(N,{ref:eo,locale:c,history:B,historyIndex:G,setHistory:H,setHistoryIndex:V,handleUndo:eT,handleRedo:ev,onGenReport:eU,showTab:L,onShowTab:()=>{D(!0)},onDemoAction:eF})]})]})})}),(0,a.jsx)(n.Hd,{children:(null==F?void 0:F.id)&&k&&(F.data.current.cateType===l.w$.ROOM?(0,a.jsx)("div",{className:"flex flex-col items-center justify-center rounded-lg bg-white/80",style:{transform:en?"translateY(78px)":"translateY(0)",width:es.width,height:es.height,border:"8px solid",borderColor:eH[null===(i=eb.find(e=>e.id===F.id))||void 0===i?void 0:i.data.type],borderRadius:"8px"},children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:F.data.current.icon,alt:"Room",width:er,height:er}),(0,a.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:F.data.current.label+(eo.current.getLocalItems().filter(e=>e.data.type===F.data.current.type).length+1)})]})}):(0,a.jsx)(x.default,{src:F.data.current.activeIcon,alt:"Furniture",width:F.data.current.size.width,height:F.data.current.size.height}))})]})}),(0,a.jsx)(r.Lt,{open:ec,onOpenChange:ep,children:(0,a.jsxs)(r.EO,{style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,a.jsx)(r.wd,{children:(0,a.jsx)(r.r7,{children:p("useModuleAlert")})}),(0,a.jsxs)(r.ck,{children:[(0,a.jsx)(r.Zr,{children:p("cancel")}),(0,a.jsxs)(r.Rx,{onClick:()=>ez("1"),children:[p("ok"),p("module1")]}),(0,a.jsxs)(r.Rx,{onClick:()=>ez("2"),children:[p("ok"),p("module2")]}),(0,a.jsxs)(r.Rx,{onClick:()=>ez("3"),children:[p("ok"),p("module3")]}),(0,a.jsxs)(r.Rx,{onClick:()=>ez("4"),children:[p("ok"),p("module4")]}),(0,a.jsxs)(r.Rx,{onClick:()=>ez("5"),children:[p("ok"),p("module5")]}),(0,a.jsxs)(r.Rx,{onClick:()=>ez("6"),children:[p("ok"),p("module6")]}),(0,a.jsxs)(r.Rx,{onClick:()=>ez("7"),children:[p("ok"),p("module7")]})]})]})}),(0,a.jsx)(eV,{open:eh,onClose:()=>eg(!1),onSelectModule:e=>{ez(e),eg(!1)}}),(0,a.jsx)(ej,{isActive:ey,onClose:()=>{ex(!1),en&&D(!1)},onStep:e=>{console.log("Demo step:",e)},onShowTabControl:e=>{en&&(1===e||2===e?D(!0):(10===e||0===e)&&D(!1))},canvasRef:eo,isMobile:en,demoActions:eE.current}),(0,a.jsx)(U.ToastContainer,{})]})})})}},90010:(e,t,i)=>{"use strict";i.d(t,{$v:()=>u,EO:()=>p,Lt:()=>s,Rx:()=>m,Zr:()=>y,ck:()=>g,r7:()=>w,tv:()=>d,wd:()=>h});var o=i(95155);i(12115);var a=i(17649),n=i(59434),r=i(30285);function s(e){let{...t}=e;return(0,o.jsx)(a.bL,{"data-slot":"alert-dialog",...t})}function d(e){let{...t}=e;return(0,o.jsx)(a.l9,{"data-slot":"alert-dialog-trigger",...t})}function l(e){let{...t}=e;return(0,o.jsx)(a.ZL,{"data-slot":"alert-dialog-portal",...t})}function c(e){let{className:t,...i}=e;return(0,o.jsx)(a.hJ,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...i})}function p(e){let{className:t,...i}=e;return(0,o.jsxs)(l,{children:[(0,o.jsx)(c,{}),(0,o.jsx)(a.UC,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i})]})}function h(e){let{className:t,...i}=e;return(0,o.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",t),...i})}function g(e){let{className:t,...i}=e;return(0,o.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...i})}function w(e){let{className:t,...i}=e;return(0,o.jsx)(a.hE,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",t),...i})}function u(e){let{className:t,...i}=e;return(0,o.jsx)(a.VY,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...i})}function m(e){let{className:t,...i}=e;return(0,o.jsx)(a.rc,{className:(0,n.cn)((0,r.r)(),t,"text-white"),...i})}function y(e){let{className:t,...i}=e;return(0,o.jsx)(a.ZD,{className:(0,n.cn)((0,r.r)({variant:"outline"}),t),...i})}},91091:(e,t,i)=>{"use strict";i.d(t,{A7:()=>w,FN:()=>h,Oj:()=>m,Q8:()=>u,Wk:()=>g});var o=i(95155),a=i(12115),n=i(85005),r=i(35169),s=i(92138),d=i(59434),l=i(30285);let c=a.createContext(null);function p(){let e=a.useContext(c);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let h=a.forwardRef((e,t)=>{let{orientation:i="horizontal",opts:r,setApi:s,plugins:l,className:p,children:h,...g}=e,[w,u]=(0,n.A)({...r,axis:"horizontal"===i?"x":"y"},l),[m,y]=a.useState(!1),[x,b]=a.useState(!1),f=a.useCallback(e=>{e&&(y(e.canScrollPrev()),b(e.canScrollNext()))},[]),R=a.useCallback(()=>{null==u||u.scrollPrev()},[u]),I=a.useCallback(()=>{null==u||u.scrollNext()},[u]),U=a.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),R()):"ArrowRight"===e.key&&(e.preventDefault(),I())},[R,I]);return a.useEffect(()=>{u&&s&&s(u)},[u,s]),a.useEffect(()=>{if(u)return f(u),u.on("reInit",f),u.on("select",f),()=>{null==u||u.off("select",f)}},[u,f]),(0,o.jsx)(c.Provider,{value:{carouselRef:w,api:u,opts:r,orientation:i||((null==r?void 0:r.axis)==="y"?"vertical":"horizontal"),scrollPrev:R,scrollNext:I,canScrollPrev:m,canScrollNext:x},children:(0,o.jsx)("div",{ref:t,onKeyDownCapture:U,className:(0,d.cn)("relative",p),role:"region","aria-roledescription":"carousel",...g,children:h})})});h.displayName="Carousel";let g=a.forwardRef((e,t)=>{let{className:i,...a}=e,{carouselRef:n,orientation:r}=p();return(0,o.jsx)("div",{ref:n,className:"overflow-hidden",children:(0,o.jsx)("div",{ref:t,className:(0,d.cn)("flex","horizontal"===r?"-ml-4":"-mt-4 flex-col",i),...a})})});g.displayName="CarouselContent";let w=a.forwardRef((e,t)=>{let{className:i,...a}=e,{orientation:n}=p();return(0,o.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,d.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===n?"pl-4":"pt-4",i),...a})});w.displayName="CarouselItem";let u=a.forwardRef((e,t)=>{let{className:i,variant:a="outline",size:n="icon",...s}=e,{orientation:c,scrollPrev:h,canScrollPrev:g}=p();return(0,o.jsxs)(l.$,{ref:t,variant:a,size:n,className:(0,d.cn)("absolute  h-8 w-8 rounded-full","horizontal"===c?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",i),disabled:!g,onClick:h,...s,children:[(0,o.jsx)(r.A,{className:"h-4 w-4"}),(0,o.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});u.displayName="CarouselPrevious";let m=a.forwardRef((e,t)=>{let{className:i,variant:a="outline",size:n="icon",...r}=e,{orientation:c,scrollNext:h,canScrollNext:g}=p();return(0,o.jsxs)(l.$,{ref:t,variant:a,size:n,className:(0,d.cn)("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",i),disabled:!g,onClick:h,...r,children:[(0,o.jsx)(s.A,{className:"h-4 w-4"}),(0,o.jsx)("span",{className:"sr-only",children:"Next slide"})]})});m.displayName="CarouselNext"}},e=>{var t=t=>e(e.s=t);e.O(0,[4935,6453,5849,5493,534,3063,1463,5005,9734,7285,3669,6699,8441,1684,7358],()=>t(55714)),_N_E=e.O()}]);