(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{17313:(e,t,i)=>{"use strict";i.d(t,{Xi:()=>d,av:()=>c,j7:()=>l,tU:()=>s});var o=i(95155);i(12115);var a=i(60704),n=i(66474),r=i(59434);function s(e){let{className:t,...i}=e;return(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(a.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",t),...i}),i.setShowTab&&(0,o.jsx)(n.A,{className:"w-4 h-4 absolute top-2.5 right-5",onClick:()=>i.setShowTab(!1)})]})}function l(e){let{className:t,...i}=e;return(0,o.jsx)(a.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...i})}function d(e){let{className:t,...i}=e;return(0,o.jsx)(a.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function c(e){let{className:t,...i}=e;return(0,o.jsx)(a.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",t),...i})}},55714:(e,t,i)=>{Promise.resolve().then(i.bind(i,85198))},58105:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let o=[{name:"north",range:[337.5,22.5],baseAngle:0},{name:"northEast",range:[22.5,67.5],baseAngle:45},{name:"east",range:[67.5,112.5],baseAngle:90},{name:"southEast",range:[112.5,157.5],baseAngle:135},{name:"south",range:[157.5,202.5],baseAngle:180},{name:"southWest",range:[202.5,247.5],baseAngle:225},{name:"west",range:[247.5,292.5],baseAngle:270},{name:"northWest",range:[292.5,337.5],baseAngle:315}];function a(e){let t,i,a,n,r,s,l=e.localItems.filter(e=>"room"===e.type),d=e.localItems.filter(e=>"furniture"===e.type),c=(e,t,i,o,a)=>{if(e===t)return"center";let n=e.position.x+e.size.width/2,r=180/Math.PI*Math.atan2(n-i,-(e.position.y+e.size.height/2-o));for(let e of(r<0&&(r+=360),a))if(337.5!==e.range[0]){if(r>=e.range[0]&&r<e.range[1])return e.name}else if(r>=e.range[0]||r<e.range[1])return e.name},{centerRoom:h,centerX:p,centerY:g}=(t=0,i=0,a=l[0].position.x+l[0].size.width/2,n=l[0].position.y+l[0].size.height/2,r=l[0].position.x+l[0].size.width/2,s=l[0].position.y+l[0].size.height/2,l.forEach(e=>{e.position.x+e.size.width/2<a&&(a=e.position.x+e.size.width/2),e.position.y+e.size.height/2<n&&(n=e.position.y+e.size.height/2),e.position.x+e.size.width/2>r&&(r=e.position.x+e.size.width/2),e.position.y+e.size.height/2>s&&(s=e.position.y+e.size.height/2)}),t=(a+r)/2,i=(n+s)/2,{centerRoom:l.find(e=>e.position.x<=t&&e.position.x+e.size.width>=t&&e.position.y<=i&&e.position.y+e.size.height>=i),centerX:t,centerY:i}),w=e.compassRotation||0,m=o.findIndex(e=>e.baseAngle===w%360),u=o.slice(m).concat(o.slice(0,m)).map((e,t)=>({...e,name:o[t].name})),y=l.map(e=>{let t=c(e,h,p,g,u);return{...e,direction:t}});return{...e,localItems:[...y,...d]}}},85198:(e,t,i)=>{"use strict";let o;i.r(t),i.d(t,{default:()=>eC});var a=i(95155),n=i(25472),r=i(90010),s=i(35695),l=i(12115),d=i(48842),c=i(40054),h=i.n(c),p=i(33135),g=i(62525),w=i(84616),m=i(4021),u=i(97151);i(24357);var y=i(87712),x=i(66766),b=i(59434);function f(e){let{history:t,historyIndex:i,handleUndo:o,handleRedo:n,className:r}=e;return(0,a.jsxs)("div",{className:(0,b.cn)("flex items-center gap-2",r),children:[(0,a.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 ".concat(i<=0?"text-gray-300":"text-gray-600"),onClick:o,disabled:i<=0,children:(0,a.jsx)(m.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 ".concat(i>=t.length-1?"text-gray-300":"text-gray-600"),onClick:n,disabled:i>=t.length-1,children:(0,a.jsx)(u.A,{className:"w-4 h-4"})})]})}var R=i(17652),I=i(88939),U=i(38543),T=i(45964),v=i.n(T);let N=(0,l.forwardRef)((e,t)=>{let{items:i,onShowTab:s,showTab:c,history:m,historyIndex:u,setHistory:T,setHistoryIndex:N,handleUndo:z,handleRedo:E,onGenReport:$,locale:j,onDemoAction:F=()=>{}}=e,O="zh-TW"===j?d.Gx:d.Qc,k=(0,R.c3)("design"),M=(0,I.A)(),C=(0,l.useRef)(null),[S,A]=(0,l.useState)({x:0,y:0}),[_,D]=(0,l.useState)(!1),[L,P]=(0,l.useState)({x:0,y:0}),[Y,H]=(0,l.useState)(null),[W,B]=(0,l.useState)(()=>window.innerWidth<768?{width:3*window.innerWidth,height:3*window.innerHeight}:{width:2e3,height:2e3}),[X,G]=(0,l.useState)(!1),[J,V]=(0,l.useState)({x:0,y:0}),[q,K]=(0,l.useState)(null),[Z,Q]=(0,l.useState)([]),[ee,et]=(0,l.useState)(!1),[ei,eo]=(0,l.useState)({x:0,y:0}),[ea,en]=(0,l.useState)(null),[er,es]=(0,l.useState)(M?35:60),[el,ed]=(0,l.useState)({originScale:100,isMoving:!1,pageX:0,pageY:0,pageX2:0,pageY2:0,initialDistance:0}),[ec,eh]=(0,l.useState)(0),[ep,eg]=(0,l.useState)([]),[ew,em]=(0,l.useState)(!1),[eu,ey]=(0,l.useState)(null),ex=(0,l.useRef)(),eb=(0,l.useRef)(),[ef,eR]=(0,l.useState)({mode:"none",startTime:0,startPosition:{x:0,y:0},currentPosition:{x:0,y:0},item:null}),[eI,eU]=(0,l.useState)({showDragHint:!0,showZoomHint:!0,showRotateHint:!0});(0,l.useEffect)(()=>{let e=document.getElementById("canvas");e&&(window.getComputedStyle(e),e.style.setProperty("transform","translate(".concat(S.x,"px, ").concat(S.y,"px) scale(").concat(er/100,")"),"important"),setTimeout(()=>{window.getComputedStyle(e)},100))},[S,er]),(0,l.useEffect)(()=>{},[er]);let eT=(e,t)=>{if(M){if(eb.current&&(clearTimeout(eb.current),eb.current=null),(null==eu?void 0:eu.id)===t.id){eA(e,t);return}ex.current=setTimeout(()=>{eg(e=>e.includes(t.id)?e.filter(e=>e!==t.id):[...e,t.id]),U.oR.info(k("multiSelectToast"),{autoClose:600})},500),e.preventDefault(),e.stopPropagation()}},ev=(e,t)=>{if(!M||"none"===ef.mode)return;let i=e.touches[0],o=i.clientX-ef.startPosition.x,a=i.clientY-ef.startPosition.y,n=Math.sqrt(o*o+a*a);eR(e=>({...e,currentPosition:{x:i.clientX,y:i.clientY}})),"preparing"===ef.mode&&n>10&&(eR(e=>({...e,mode:"dragging"})),eA(e,t))},eN=(e,t)=>{M&&(ex.current&&(clearTimeout(ex.current),ex.current=null),eb.current=setTimeout(()=>{(null==eu?void 0:eu.id)!==t.id&&(ey(t),eP(t),U.oR.info(k("itemSelected"),{autoClose:500})),eb.current=null},50))};(0,l.useImperativeHandle)(t,()=>({getLocalItems:()=>Z,setLocalItems:Q,setActiveRoom:H,getActiveRoom:()=>Y,getSelectedItems:()=>ep,setIsRoomDragging:G,setDraggedRoom:K,setRoomDragStart:V,setPosition:A,setCompassRotation:eh,getPosition:()=>S,getCompassRotation:()=>ec,getScale:()=>er,setScale:es,getMobileSelectedItem:()=>eu,setMobileSelectedItem:ey}),[Z,S,ec,er,Y,ep,eu]);let ez=(0,l.useRef)(null),{setNodeRef:eE}=(0,n.zM)({id:"canvas",data:{accepts:[d.w$.ROOM,d.w$.FURNITURE]}});(0,l.useEffect)(()=>{var e;o=null===(e=document.getElementById("canvas-drop-area"))||void 0===e?void 0:e.getBoundingClientRect()},[]);let e$=(e,t,i,o)=>Math.sqrt(Math.pow(i-e,2)+Math.pow(o-t,2)),ej=e=>{let t=M?32:24,i=M?-16:-12,o=M?3:2,n=e.type===d.w$.FURNITURE&&e.rotation?e.rotation:0,r={width:t,height:t,zIndex:10,border:"".concat(o,"px solid #ef4444"),boxShadow:M?"0 2px 8px rgba(0,0,0,0.2)":"0 1px 3px rgba(0,0,0,0.12)",...0!==n&&{transform:"rotate(".concat(n,"deg)"),transformOrigin:"center"}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute bg-white rounded-full cursor-nw-resize",style:{top:i,left:i,...r},onMouseDown:t=>e_(t,e,"top-left"),onTouchStart:t=>e_(t,e,"top-left"),children:M&&(0,a.jsx)("div",{className:"absolute bg-gray-100 rounded-full opacity-50 inset-1"})}),(0,a.jsx)("div",{className:"absolute bg-white rounded-full cursor-ne-resize",style:{top:i,right:i,...r},onMouseDown:t=>e_(t,e,"top-right"),onTouchStart:t=>e_(t,e,"top-right"),children:M&&(0,a.jsx)("div",{className:"absolute bg-gray-100 rounded-full opacity-50 inset-1"})}),(0,a.jsx)("div",{className:"absolute bg-white rounded-full cursor-sw-resize",style:{bottom:i,left:i,...r},onMouseDown:t=>e_(t,e,"bottom-left"),onTouchStart:t=>e_(t,e,"bottom-left"),children:M&&(0,a.jsx)("div",{className:"absolute bg-gray-100 rounded-full opacity-50 inset-1"})}),(0,a.jsx)("div",{className:"absolute bg-white rounded-full cursor-se-resize",style:{bottom:i,right:i,...r},onMouseDown:t=>e_(t,e,"bottom-right"),onTouchStart:t=>e_(t,e,"bottom-right"),children:M&&(0,a.jsx)("div",{className:"absolute bg-gray-100 rounded-full opacity-50 inset-1"})}),M&&(0,a.jsxs)("div",{className:"absolute bg-white border-2 border-blue-500 rounded-full shadow-lg",style:{top:"50%",left:"50%",transform:0!==n?"translate(-50%, -50%) rotate(".concat(n,"deg)"):"translate(-50%, -50%)",width:24,height:24,zIndex:15,cursor:"move",transformOrigin:"center"},onTouchStart:t=>eA(t,e),children:[(0,a.jsx)("div",{className:"absolute bg-blue-100 rounded-full inset-1 opacity-60"}),(0,a.jsx)("div",{className:"absolute bg-blue-300 rounded-full inset-2"})]})]})},[eF,eO]=(0,l.useState)(!1),[ek,eM]=(0,l.useState)(0),eC=(0,l.useCallback)(e=>{var t,i;if("canvas"===e.target.id||e.target.closest("#canvas")||(e.target,ez.current),!(e.target.closest('[data-room-element="true"]')||e.target.closest(".compass-btn")||e.target.closest("button"))&&(0===e.button||e.touches)){if(M&&ey(null),(null===(t=e.touches)||void 0===t?void 0:t.length)===2){let t=e.touches[0],i=e.touches[1],o=e$(t.pageX,t.pageY,i.pageX,i.pageY);eO(!0),eM(o),ed(e=>({...e,isMoving:!0,pageX:t.pageX,pageY:t.pageY,pageX2:i.pageX,pageY2:i.pageY,initialDistance:o,originScale:er}));return}H(null),D(!0),(null===(i=e.touches)||void 0===i?void 0:i.length)===1?P({x:e.touches[0].clientX-S.x,y:e.touches[0].clientY-S.y}):P({x:e.clientX-S.x,y:e.clientY-S.y})}},[S,er,M]),eS=(e,t)=>{if(!e.position||!t.position)return!1;let i=20;return(-90===e.rotation||-270===e.rotation)&&(i=Math.abs(e.size.width-e.size.height)/2+i),e.position.x+i>=t.position.x&&e.position.x<=t.position.x+t.size.width&&e.position.x-i+e.size.width<=t.position.x+t.size.width&&e.position.y+i>=t.position.y&&e.position.y<=t.position.y+t.size.height&&e.position.y-i+e.size.height<=t.position.y+t.size.height},eA=(0,l.useCallback)((e,t)=>{var i,o;if(e.stopPropagation(),ep.length>0&&ep.includes(t.id)){G(!0),K(t),(null===(o=e.touches)||void 0===o?void 0:o.length)==1?V({x:e.touches[0].clientX,y:e.touches[0].clientY}):V({x:e.clientX,y:e.clientY});return}if((!M||(null==eu?void 0:eu.id)===t.id||0!==ep.length)&&(G(!0),K(t),(null===(i=e.touches)||void 0===i?void 0:i.length)==1?V({x:e.touches[0].clientX-t.position.x,y:e.touches[0].clientY-t.position.y}):V({x:e.clientX-t.position.x,y:e.clientY-t.position.y}),t.type===d.w$.ROOM)){let e=Z.map(e=>e.type===d.w$.FURNITURE&&eS(e,t)&&(null===e.parentId||e.parentId===t.id)?{...e,parentId:t.id,offset:{x:e.position.x-t.position.x,y:e.position.y-t.position.y}}:e);Q(Z.map(t=>e.find(e=>e.id===t.id)||t))}},[Z,M,eu,ep]),e_=(0,l.useCallback)((e,t,i)=>{var o;e.stopPropagation(),et(!0),en(i),(null===(o=e.touches)||void 0===o?void 0:o.length)==1?eo({x:e.touches[0].clientX,y:e.touches[0].clientY}):eo({x:e.clientX,y:e.clientY})},[]);h().throttle(U.oR.info,3e3);let eD=e=>{var t,i,a,n,r;if(e.preventDefault(),ez.current&&(o=ez.current.getBoundingClientRect()),(null===(t=e.touches)||void 0===t?void 0:t.length)===2&&eF){let t=e.touches[0],i=e.touches[1],o=e$(t.pageX,t.pageY,i.pageX,i.pageY);if(ek>0){let e=o/ek;e>1.02?(eY("in",2),eM(o)):e<.98&&(eY("out",2),eM(o))}return}if(ee&&Y&&ea){let t,o;(null===(i=e.touches)||void 0===i?void 0:i.length)==1?(t=e.touches[0].clientX-ei.x,o=e.touches[0].clientY-ei.y):(t=e.clientX-ei.x,o=e.clientY-ei.y);let n=Y.size.width/Y.size.height;Q(Z.map(e=>{if(e.id===Y.id){let i;let a={...e.size},r={...e.position};switch(ea){case"top-left":a.width=e.size.width-t,Y.type===d.w$.ROOM?a.height=e.size.height-o:a.height=a.width/n,r.x=e.position.x+t,r.y=e.position.y+o;break;case"top-right":a.width=e.size.width+t,Y.type===d.w$.ROOM?a.height=e.size.height-o:a.height=a.width/n,r.y=e.position.y+o;break;case"bottom-left":a.width=e.size.width-t,Y.type===d.w$.ROOM?a.height=e.size.height+o:a.height=a.width/n,r.x=e.position.x+t;break;case"bottom-right":a.width=e.size.width+t,Y.type===d.w$.ROOM?a.height=e.size.height+o:a.height=a.width/n}if(e.type===d.w$.ROOM?a.width>=100&&a.height>=100:e.data.type===d.x9.WINDOW?a.width>=8&&a.height>=8:a.width>=20&&a.height>=20)return{...e,size:a,position:r}}return e})),(null===(a=e.touches)||void 0===a?void 0:a.length)==1?eo({x:e.touches[0].clientX,y:e.touches[0].clientY}):eo({x:e.clientX,y:e.clientY})}else if(X&&q){let t,i;(null===(n=e.touches)||void 0===n?void 0:n.length)==1?(t=e.touches[0].clientX,i=e.touches[0].clientY):(t=e.clientX,i=e.clientY);let o=t-J.x,a=i-J.y;if(ep.length>0&&ep.includes(q.id)){Q(Z.map(e=>ep.includes(e.id)?{...e,position:{x:Math.max(0,e.position.x+o/(er/100)),y:Math.max(0,e.position.y+a/(er/100))}}:e)),V({x:t,y:i});return}t-=J.x,i-=J.y,t=Math.max(0,t),i=Math.max(0,i);let r=[];if(q.type===d.w$.ROOM){let e=Z.filter(e=>e.type===d.w$.FURNITURE&&e.parentId===q.id).map(e=>e.id);r=Z.map(o=>{if(o.id===q.id)return{...o,position:{x:t,y:i}};if(e.includes(o.id)){var a,n;return{...o,position:{x:t+(null===(a=o.offset)||void 0===a?void 0:a.x)||0,y:i+(null===(n=o.offset)||void 0===n?void 0:n.y)||0}}}return o})}else r=Z.map(e=>e.id===q.id?{...e,position:{x:t,y:i}}:e);Q(r)}else if(_){let t,i,a,n;(null===(r=e.touches)||void 0===r?void 0:r.length)===1?(t=e.touches[0].clientX-L.x,i=e.touches[0].clientY-L.y):(t=e.clientX-L.x,i=e.clientY-L.y),t>0&&(t=0),i>0&&(i=0),t<-1e3&&(t=-1e3),i<-1e3&&(i=-1e3),2e3+t<o.width/(er/100)&&(a=(2e3-t)/(er/100)),2e3+i<o.height/(er/100)&&(n=(2e3-i)/(er/100)),A(e=>({x:t,y:i})),B({width:a||W.width,height:n||W.height}),F("pan",{x:t,y:i})}},eL=(0,l.useCallback)(e=>{var t,i;if((null===(t=e.touches)||void 0===t?void 0:t.length)<2&&(eO(!1),eM(0),ed(e=>({...e,isMoving:!1,initialDistance:0}))),X||ee){let t,o,a;if((null===(i=e.changedTouches)||void 0===i?void 0:i.length)==1?(t=e.changedTouches[0].clientX-J.x-S.x,o=e.changedTouches[0].clientY-J.y-S.y):(t=e.clientX-J.x-S.x,o=e.clientY-J.y-S.y),q&&!Z.some(e=>e.id===q.id)){let e={...q,position:{x:t/(er/100),y:o/(er/100)},data:{...q.data,label:"".concat(q.data.label)}};Q(a=[...Z,e]),eP(e,a)}else a=Z;let n=m.slice(0,u+1);n.push(a),T(n),N(n.length-1)}D(!1),G(!1),K(null),et(!1),en(null)},[X,ee,Z,m,u,J,q,S,el]),eP=(e,t)=>{if(e.type===d.w$.FURNITURE){let i=t||Z,o=i.find(t=>t.type===d.w$.ROOM&&eS(e,t));if(o){let t=i.filter(t=>t.type===d.w$.FURNITURE&&t.data.type===e.data.type&&eS(t,o)).sort((e,t)=>e.position.x-t.position.x).map((t,i)=>{let a="".concat(o.data.label,"-").concat(O[e.data.type]).concat(i+1);return t.id===e.id&&(e.data.label=a,e.data.parentRoom=o),{...t,data:{...t.data,label:a,parentRoom:o}}});Q(i.map(e=>t.find(t=>t.id===e.id)||e))}else{let t=h().cloneDeep(i),o=t.filter(t=>t.id===e.id)[0];o&&(o.data.label="未分配-".concat(O[o.data.type]),o.data.parentRoom=null,e.data.label="未分配-".concat(O[o.data.type]),e.data.parentRoom=null,Q(t))}}setTimeout(()=>{H(e)})};(0,l.useEffect)(()=>{let e=ez.current;if(e)return e.addEventListener("mousedown",eC),window.addEventListener("mousemove",eD),window.addEventListener("mouseup",eL),e.addEventListener("touchstart",eC),window.addEventListener("touchmove",eD,{passive:!1}),window.addEventListener("touchend",eL),()=>{e.removeEventListener("mousedown",eC),window.removeEventListener("mousemove",eD),window.removeEventListener("mouseup",eL),e.removeEventListener("touchstart",eC),window.removeEventListener("touchmove",eD),window.removeEventListener("touchend",eL)}},[eC,eD,eL]),(0,l.useEffect)(()=>{if(!M)return;let e=()=>{B({width:3*window.innerWidth,height:3*window.innerHeight})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[M]);let eY=(0,l.useCallback)(function(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,o=M?10:i;if("in"===e&&er<120)t=Math.min(er+o,120);else if("out"===e&&er>20)t=Math.max(er-o,20);else{if("reset"!==e)return;t=M?35:60}"out"===e&&B({width:(W.width-(S.x<0?S.x:0))*(1+(er-t)/100),height:(W.height-(S.y<0?S.y:0))*(1+(er-t)/100)}),es(t),F("zoom",{type:e,scale:t})},[er,M,W,S.x,S.y,F]),eH=(0,l.useCallback)(()=>{if(!Y)return;let e=null;Q(Z.map(t=>{if(t.id===Y.id){let i=((t.rotation||0)-45)%360,o={...t,rotation:i};return e=o,o}return t})),F("rotate",e)},[Y,Z,F]),eW=()=>{let e=ec+45;eh(e),F("compass-clicked",{rotation:e})},eB=[k("north"),k("northeast"),k("east"),k("southeast"),k("south"),k("southwest"),k("west"),k("northwest")];function eX(e){return eB[Math.round((e%360+360)%360/45)%8]}let eG=(e,t)=>{M||(e.stopPropagation(),eg(e=>e.includes(t.id)?e.filter(e=>e!==t.id):[...e,t.id]))},eJ=()=>{if(0===ep.length)return;let e=[];Q(Z.map(t=>{if(ep.includes(t.id)){let i=((t.rotation||0)-45)%360,o={...t,rotation:i};return e.push(o),o}return t})),F("rotate",e)},eV=()=>{if(0===ep.length)return;let e=Z.filter(e=>ep.includes(e.id));Q(Z.filter(e=>!ep.includes(e.id))),eg([]),Y&&ep.includes(Y.id)&&H(null),F("delete",e)};(0,l.useCallback)((e,t)=>{0!==ep.length&&Q(Z.map(i=>ep.includes(i.id)?{...i,position:{x:Math.max(0,i.position.x+e),y:Math.max(0,i.position.y+t)}}:i))},[ep,Z]);let eq=(0,l.useRef)(v()(eD,16)).current;(0,l.useEffect)(()=>(window.addEventListener("touchmove",eq,{passive:!1}),()=>{window.removeEventListener("touchmove",eq)}),[eq]);let[eK,eZ]=(0,l.useState)(null);return(null==eK?void 0:eK.active)&&(eK.startX,eK.currentX,eK.startY,eK.currentY,eK.currentX,eK.startX,eK.currentY,eK.startY),(0,l.useEffect)(()=>{let e=ez.current;if(!e)return;let t=e=>{(e.ctrlKey||e.metaKey)&&(e.preventDefault(),e.deltaY<0?eY("in",5):eY("out",5))};return e.addEventListener("wheel",t,{passive:!1}),()=>{e.removeEventListener("wheel",t)}},[eY]),(0,a.jsxs)("div",{ref:e=>{ez.current=e,eE(e)},className:"relative w-full min-h-[calc(100vh-64px)] overflow-hidden bg-background",onDoubleClick:e=>{"canvas"===e.target.id&&eg([])},onTouchStart:e=>{M&&"canvas"===e.target.id&&(ey(null),eg([]),H(null))},children:[(0,a.jsxs)("div",{className:"fixed flex items-center gap-2 z-9\n                    ".concat(M?"top-16 left-2 right-2 justify-between flex-wrap":"top-20 right-6 gap-4"),children:[!M&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(f,{history:m,historyIndex:u,handleUndo:z,handleRedo:E,className:" bg-white rounded-full shadow-lg  px-3 py-2"})}),M&&(0,a.jsxs)("div",{className:"flex items-center justify-end w-full gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 px-3 py-2 border border-gray-200 rounded-full shadow-lg bg-white/90 backdrop-blur-sm",children:[(0,a.jsx)("button",{className:"p-2 text-gray-600 rounded-full hover:bg-gray-100 active:bg-gray-200",onClick:e=>{e.preventDefault(),e.stopPropagation(),eY("out")},disabled:er<=20,children:(0,a.jsx)(y.A,{className:"w-4 h-4"})}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 min-w-[40px] text-center",children:[er,"%"]}),(0,a.jsx)("button",{className:"p-2 text-gray-600 rounded-full hover:bg-gray-100 active:bg-gray-200",onClick:e=>{e.preventDefault(),e.stopPropagation(),eY("in")},disabled:er>=120,children:(0,a.jsx)(w.A,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"flex flex-col items-center compass-btn",children:(0,a.jsxs)("div",{style:{width:52,height:52,borderRadius:"50%",background:"rgba(255,255,255,0.9)",backdropFilter:"blur(8px)",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",border:"2px solid rgba(200,200,200,0.3)",userSelect:"none",zIndex:20},onClick:eW,title:k("compassTooltip"),children:[(0,a.jsx)(x.default,{src:"/images/compass.png",alt:"方向",width:60,height:60,style:{pointerEvents:"none",transition:"transform 0.4s cubic-bezier(.4,2,.6,1)",transform:"rotate(".concat(ec,"deg)"),filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.2)) brightness(1.1)"}}),(0,a.jsx)("span",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",fontSize:9,fontWeight:700,color:"#fff",textShadow:"0 1px 3px rgba(0,0,0,0.8)",WebkitTextStroke:"0.3px #222"},children:eX(ec)})]})}),(0,a.jsx)("button",{className:"px-3 py-2 text-white transition-all bg-red-500 rounded-full shadow-lg hover:bg-red-600 active:scale-95 clear-canvas-btn",onClick:()=>{Q([]),H(null),eg([])},title:k("clearTooltip"),children:k("clear")})]}),!M&&(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{className:"p-2 text-gray-600 rounded-full hover:bg-gray-100 active:bg-gray-200",onClick:e=>{e.preventDefault(),e.stopPropagation(),eY("out")},disabled:er<=20,children:(0,a.jsx)(y.A,{className:"w-4 h-4"})}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[er,"%"]}),(0,a.jsx)("button",{className:"p-2 text-gray-600 rounded-full hover:bg-gray-100 active:bg-gray-200",onClick:e=>{e.preventDefault(),e.stopPropagation(),eY("in")},disabled:er>=120,children:(0,a.jsx)(w.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"px-3 py-2 text-sm font-medium text-gray-700 transition-colors border border-gray-200 rounded-full shadow-sm bg-white/90 backdrop-blur-sm hover:bg-gray-50",onClick:()=>{A({x:0,y:0}),es(60)},title:k("resetView"),children:k("resetView")})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center compass-btn",children:[(0,a.jsxs)("div",{style:{width:72,height:72,borderRadius:"50%",background:"rgba(255,255,255,0.55)",backdropFilter:"blur(6px)",boxShadow:"0 8px 32px 0 rgba(31,38,135,0.18)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",border:"1.5px solid rgba(180,180,180,0.25)",userSelect:"none",zIndex:20,transition:"box-shadow 0.3s, transform 0.3s"},onClick:eW,title:k("compassTooltip"),children:[(0,a.jsx)(x.default,{src:"/images/compass.png",alt:"方向",width:60,height:60,style:{pointerEvents:"none",transition:"transform 0.4s cubic-bezier(.4,2,.6,1)",transform:"rotate(".concat(ec,"deg)"),filter:"drop-shadow(0 2px 12px rgba(0,0,0,0.18)) brightness(1.15)",opacity:.95}}),(0,a.jsx)("span",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",fontSize:13,fontWeight:700,color:"#fff",borderRadius:6,padding:"2px 10px",pointerEvents:"none",letterSpacing:2,background:"none",textShadow:"0 px 8px rgba(0,0,0,0.45)",WebkitTextStroke:"0.5px #222"},children:eX(ec)})]}),(0,a.jsx)("button",{className:"px-2 py-1 mt-1 text-xs rounded shadow bg-white/80 hover:bg-gray-200",style:{minWidth:44,minHeight:32,fontWeight:500,color:"#222"},onClick:e=>{e.stopPropagation(),eh(0)},children:k("resetNorth")})]}),(0,a.jsx)("button",{className:"px-3 py-2 text-white transition bg-red-500 rounded-full shadow-lg hover:bg-red-600 clear-canvas-btn",onClick:()=>{Q([]),H(null),eg([])},title:k("clearTooltip"),children:k("clearCanvas")})]}),M&&ep.length>0&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 px-3 py-2 mx-auto mt-0 bg-white rounded-full shadow-lg w-fit",children:[(0,a.jsx)("button",{onClick:eJ,children:(0,a.jsx)(p.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:eV,children:(0,a.jsx)(g.A,{className:"w-4 h-4"})}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[ep.length," ",k("selected")]})]}),!M&&ep.length>0&&(0,a.jsxs)("div",{className:"fixed z-50 flex items-center gap-3 px-4 py-2 bg-white border border-gray-200 rounded-full shadow-lg top-28 right-130",children:[(0,a.jsx)("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-100",onClick:eJ,title:k("rotate"),children:(0,a.jsx)(p.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{className:"p-1 text-red-500 rounded hover:bg-gray-100",onClick:eV,title:k("delete"),children:(0,a.jsx)(g.A,{className:"w-5 h-5"})}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[ep.length," ",k("selected")]})]})]}),(0,a.jsx)("div",{ref:C,id:"canvas",className:"absolute cursor-move canvas-transform",style:{width:"".concat(W.width,"px"),height:"".concat(W.height,"px"),transform:"translate(".concat(S.x,"px, ").concat(S.y,"px) scale(").concat(er/100,")"),transformOrigin:"top left",backgroundImage:"radial-gradient(circle, #ddd 1px, transparent 1px)",backgroundSize:M?"20px 20px":"10px 10px",touchAction:"none",willChange:"transform"},onMouseDown:e=>{},children:(0,a.jsx)("div",{className:"relative",children:Z.map(e=>{let t=ep.includes(e.id),i=M&&(null==eu?void 0:eu.id)===e.id;return e.type===d.w$.ROOM?(0,a.jsxs)("div",{"data-room-element":"true",className:"absolute ".concat((null==Y?void 0:Y.id)===e.id?"ring-2 ring-red-500":""," ").concat(t?"ring-2 ring-blue-500 shadow-lg":""," ").concat(i?"ring-2 ring-green-500 shadow-lg":""," ").concat(_?"shadow-2xl":""," cursor-move z-100"),style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height,minWidth:M?60:e.size.width,minHeight:M?60:e.size.height},onClick:t=>{t.stopPropagation(),M||eP(e)},onMouseDown:t=>{M||eA(t,e)},onTouchStart:t=>{M?eT(t,e):eA(t,e)},onTouchMove:t=>{M&&ev(t,e)},onTouchEnd:t=>{M&&eN(t,e)},onDoubleClick:t=>eG(t,e),children:[i&&(0,a.jsx)("div",{className:"absolute inset-0 border-2 border-green-500 rounded pointer-events-none bg-green-100/20",children:(0,a.jsx)("div",{className:"absolute px-2 py-1 text-xs font-bold text-white bg-green-500 rounded top-1 left-1",children:k("tapToDrag")})}),Y&&Y.id===e.id&&(0,a.jsxs)("div",{style:{left:"50%",top:M?"-50px":"-64px",transform:"translateX(-50%)"},className:"min-w-fit whitespace-nowrap absolute z-1 rounded-lg bg-white shadow-lg items-center px-3 gap-2 md:flex hidden ".concat(M?"h-8 text-xs":"h-10"),children:[(0,a.jsxs)("span",{className:"text-gray-600",children:[k("chosed"),"："]}),(0,a.jsxs)("div",{className:"flex items-center flex-grow gap-1",children:[(0,a.jsx)("div",{style:{width:M?"10px":"12px",height:M?"10px":"12px",backgroundColor:d.$q[Y.data.type],borderRadius:"2px"}}),(0,a.jsx)("span",{className:"font-bold text-gray-600",children:Y.data.label})]}),(0,a.jsx)("button",{className:"flex-shrink-0 text-red-500",onClick:e=>{e.stopPropagation(),Q(Z.filter(e=>e.id!==Y.id)),H(null),F("delete",Y)},children:(0,a.jsx)(g.A,{className:"text-red-500 ".concat(M?"w-3 h-3":"w-4 h-4")})})]}),(0,a.jsx)("div",{className:"w-full h-full",style:{border:e.type===d.w$.ROOM?"8px solid":"none",borderColor:e.type===d.w$.ROOM?d.$q[e.data.type]:"transparent",borderRadius:e.type===d.w$.ROOM?"8px":"0",backgroundColor:e.type===d.w$.ROOM?d.$q[e.data.type]+"80":"transparent"},children:(0,a.jsx)("div",{className:"absolute top-2 left-2 text-[#888888] ".concat(M?"text-xs":"text-sm"),style:{zIndex:1},children:e.data.label})}),(null==Y?void 0:Y.id)===e.id&&ej(e)]},e.id):e.type===d.w$.FURNITURE?(0,a.jsxs)("div",{"data-room-element":"true",className:"absolute cursor-move z-200 ".concat(t?"ring-2 ring-blue-500":""," ").concat(i?"ring-2 ring-green-500 shadow-lg":""),style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height,minWidth:M?40:e.size.width,minHeight:M?40:e.size.height},onClick:t=>{t.stopPropagation(),M||eP(e)},onMouseDown:t=>{t.stopPropagation(),M||eA(t,e)},onTouchStart:t=>{t.stopPropagation(),M?eT(t,e):eA(t,e)},onTouchEnd:t=>{M&&eN(t,e)},onDoubleClick:t=>eG(t,e),children:[i&&(0,a.jsx)("div",{className:"absolute inset-0 border-2 border-green-500 rounded pointer-events-none bg-green-100/20",children:(0,a.jsx)("div",{className:"absolute px-2 py-1 text-xs font-bold text-white bg-green-500 rounded top-1 left-1",children:k("tapToDrag")})}),Y&&Y.id===e.id&&(0,a.jsxs)("div",{style:{left:"50%",top:M?"-50px":"-64px",transform:"translateX(-50%)"},className:"min-w-fit whitespace-nowrap absolute z-1 rounded-lg bg-white shadow-lg items-center px-3 gap-2 md:flex hidden ".concat(M?"h-8 text-xs":"h-10"),children:[(0,a.jsxs)("span",{className:"text-gray-600",children:[k("chosed"),"："]}),(0,a.jsxs)("div",{className:"flex items-center flex-grow gap-1",children:[Y.data.parentRoom&&(0,a.jsx)("div",{style:{width:"10px",height:"10px",backgroundColor:d.$q[Y.data.parentRoom.data.type],borderRadius:"2px"}}),(0,a.jsx)("span",{className:"font-bold text-gray-600",children:Y.data.label})]}),(0,a.jsx)("button",{className:"flex-shrink-0",onClick:e=>{e.stopPropagation(),eH()},children:(0,a.jsx)(p.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"flex-shrink-0 text-red-500 transition-colors hover:text-red-600",onClick:e=>{e.stopPropagation(),Q(Z.filter(e=>e.id!==Y.id)),H(null),F("delete",Y)},children:(0,a.jsx)(g.A,{className:"w-4 h-4 text-red-500"})})]}),(null==Y?void 0:Y.id)===e.id&&ej(e),(0,a.jsx)(x.default,{draggable:"false",className:(null==Y?void 0:Y.id)===e.id?"ring-2 ring-red-500":"",style:{transform:e.rotation?"rotate(".concat(e.rotation,"deg)"):"none",transformOrigin:"center"},src:e.activeIcon,alt:"Furniture",width:e.size.width,height:e.size.height})]},e.id):void 0})})}),Y&&(0,a.jsxs)("div",{className:(0,b.cn)("min-w-fit whitespace-nowrap fixed  left-1/2 -translate-x-1/2 h-10 rounded-4xl bg-white shadow-lg flex items-center px-3 gap-2 md:hidden",c?"bottom-85":"bottom-30 "),children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[k("chosed"),"："]}),(0,a.jsxs)("div",{className:"flex items-center flex-grow gap-1",children:[(0,a.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:d.$q[Y.data.parentRoom?Y.data.parentRoom.data.type:Y.data.type],borderRadius:"2px"}}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-600",children:Y.data.label})]}),Y.type===d.w$.FURNITURE&&(0,a.jsx)("button",{className:"flex-shrink-0",onClick:e=>{e.stopPropagation(),eH()},children:(0,a.jsx)(p.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"flex-shrink-0 text-red-500",onClick:e=>{e.stopPropagation(),Q(Z.filter(e=>e.id!==Y.id)),H(null),F("delete",Y)},children:(0,a.jsx)(g.A,{className:"w-4 h-4 text-red-500"})})]}),(0,a.jsxs)("div",{className:"fixed left-0 z-50 flex items-center justify-between w-full gap-4 px-2 bg-transparent bottom-6 md:hidden",children:[!c&&(0,a.jsx)("button",{onClick:s,className:"border-primary border-1 font-bold w-4/5 py-3 bg-white text-foreground rounded-[100px] text-sm",children:k("showTab")}),(0,a.jsxs)(r.Lt,{children:[(0,a.jsxs)(r.tv,{className:(0,b.cn)("inline-flex font-bold py-3 bg-button-gradient text-white rounded-[100px] text-sm items-center justify-center gap-0",c?"w-full ":"w-4/5"),children:[k("cta"),(0,a.jsx)(x.default,{src:"/images/hero/star.png",alt:"arrow",width:15,height:16})]}),(0,a.jsxs)(r.EO,{children:[(0,a.jsx)(r.wd,{children:(0,a.jsx)(r.r7,{children:k("alert")})}),(0,a.jsxs)(r.ck,{children:[(0,a.jsx)(r.Zr,{children:k("cancel")}),(0,a.jsx)(r.Rx,{onClick:$,children:k("ok")})]})]})]})]}),M&&(0,a.jsx)("button",{className:"fixed z-50 px-4 py-3 border border-gray-200 rounded-full shadow-lg bg-white/90 backdrop-blur-sm bottom-20 right-4",onClick:()=>{A({x:0,y:0}),es(40)},children:(0,a.jsx)("span",{className:"text-sm font-medium",children:k("resetView")})}),(0,a.jsx)("div",{id:"context-menu",className:"fixed z-50 hidden bg-white border border-gray-200 rounded-lg shadow-lg",style:{width:200},children:(0,a.jsxs)("div",{className:"flex flex-col p-2",children:[(0,a.jsxs)("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 rounded-lg hover:bg-gray-100",onClick:()=>{eH(),hideContextMenu()},children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),k("rotate")]}),(0,a.jsxs)("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 rounded-lg hover:bg-gray-100",onClick:()=>{handleDelete(),hideContextMenu()},children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),k("delete")]})]})})]})});N.displayName="Canvas";var z=i(60388),E=i(63340),$=i(4229),j=i(17881),F=i(72877);function O(e){let{onSaveProject:t,onGenReport:i,onBazhaiReport:o,onUserOpen:n}=e,{isMobile:s}=(0,I.A)(),l=(0,R.c3)("design");return(0,a.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-10 h-16 bg-white border-b-2 border-b-gray-100",children:(0,a.jsx)("div",{className:"h-full px-4 mx-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,a.jsx)(z.N_,{href:"/home",className:"text-2xl font-bold text-primary",children:"HarmoniQ"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 space-x-4 text-foreground",children:[(0,a.jsx)(E.A,{className:"text-foreground"}),(0,a.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:t,children:[(0,a.jsx)($.A,{className:"w-4 h-4"}),"保存"," "]}),(0,a.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:()=>n(!0),children:[(0,a.jsx)(j.A,{className:"w-4 h-4"}),l("profile")," "]}),o&&(0,a.jsxs)("span",{className:"flex items-center gap-1 transition-colors cursor-pointer text-amber-600 hover:text-amber-700",onClick:o,title:"八宅風水分析",children:[(0,a.jsx)("span",{children:"\uD83E\uDDED"}),"八宅風水"]}),(0,a.jsxs)(r.Lt,{children:[(0,a.jsxs)(r.tv,{className:"inline-flex items-center gap-2 px-4 py-1 text-white transition-colors rounded-full bg-button-gradient hover:bg-primary/90",children:[l("cta"),(0,a.jsx)("span",{className:"text-lg",children:"✨"})]}),(0,a.jsxs)(r.EO,{children:[(0,a.jsx)(r.wd,{children:(0,a.jsx)(r.r7,{children:l("alert")})}),(0,a.jsxs)(r.ck,{children:[(0,a.jsx)(r.Zr,{children:l("cancel")}),(0,a.jsx)(r.Rx,{onClick:i,children:l("ok")})]})]})]}),(0,a.jsx)(F.A,{})]})]})})})}var k=i(94788),M=i(54416);function C(e){let{onSaveProject:t,history:i,historyIndex:o,handleUndo:n,handleRedo:r,onUserOpen:s}=e,[d,c]=(0,l.useState)(!1),h=(0,R.c3)("design");return(0,a.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-50",children:[(0,a.jsx)("nav",{className:"h-16 bg-white border-b-2 border-b-gray-100 ",children:(0,a.jsx)("div",{className:"h-full px-4 mx-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 space-x-4 text-foreground",children:[(0,a.jsx)(f,{history:i,historyIndex:o,handleUndo:n,handleRedo:r}),(0,a.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:t,children:[(0,a.jsx)($.A,{className:"w-4 h-4"})," "]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 space-x-4 text-foreground",children:[(0,a.jsx)("span",{className:"flex items-center gap-1 cursor-pointer",children:(0,a.jsx)(k.A,{className:"w-4 h-4",onClick:()=>c(!0)})}),(0,a.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",children:[(0,a.jsx)(j.A,{className:"w-4 h-4",onClick:()=>s(!0)})," "]}),(0,a.jsx)(F.A,{})]})]})})}),d&&(0,a.jsxs)("div",{className:"h-8 w-full bg-[#E5F4FF] px-6 py-3 flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-[12px] text-foreground flex items-center gap-1",children:[(0,a.jsx)(k.A,{className:"w-4 h-4 text-[#888]"}),h("warning")]}),(0,a.jsx)(M.A,{className:"w-4 h-4 text-[#888]",onClick:()=>c(!1)})]})]})}function S(e){let{id:t,type:i,data:o,children:r,isOverCanvas:s}=e,{attributes:l,listeners:d,setNodeRef:c,transform:h,isDragging:p}=(0,n.PM)({id:t,data:{type:i,...o}}),g=h?{transform:"translate3d(".concat(h.x,"px, ").concat(h.y,"px, 0)"),opacity:p&&!s?.5:p&&s?0:1,position:"relative",zIndex:p?1e3:1,visibility:"visible"}:{};return(0,a.jsxs)("div",{className:"relative z-0 w-22.5",children:[(0,a.jsx)("div",{className:"absolute  -z-1 w-22.5 top-0 left-0",children:r}),(0,a.jsx)("div",{ref:c,...d,...l,className:"cursor-move",style:{...g},children:r})]})}i(86154);var A=i(66424);function _(e){let{sidebarRef:t,roomItems:i,furnitureItems:o,isOverCanvas:n,draggingItemSize:r}=e,s=(0,R.c3)("design");return(0,a.jsx)(A.F,{className:"h-[calc(100vh-64px)] w-1/6",children:(0,a.jsxs)("div",{ref:t,className:"hidden p-4 bg-white border-r-2 shadow md:block border-r-gray-100",children:[(0,a.jsxs)("div",{className:"mb-8","data-demo-area":"sidebar-rooms",children:[(0,a.jsx)("h3",{className:"mb-4 text-2xl font-semibold",children:s("room")}),(0,a.jsx)("div",{className:"grid gap-2 2xl:grid-cols-3 xl:grid-cols-2 sidebar-rooms",children:i.map(e=>(0,a.jsx)(S,{id:e.id,type:e.type,data:e.data,isOverCanvas:n,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:r,height:r,priority:!0})}),(0,a.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:e.data.label})]})},e.id))})]}),(0,a.jsxs)("div",{"data-demo-area":"sidebar-furniture",children:[(0,a.jsx)("h3",{className:"mb-4 text-2xl font-semibold",children:s("furniture")}),(0,a.jsx)("div",{className:"grid gap-2 2xl:grid-cols-3 xl:grid-cols-2 sidebar-furniture",children:o.map(e=>(0,a.jsx)(S,{id:e.id,type:e.type,data:e.data,isOverCanvas:n,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:r,height:r,priority:!0})}),(0,a.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:e.data.label})]})},e.id))})]})]})})}var D=i(17313),L=i(91091);function P(e){let{showTab:t,setShowTab:i,roomItems:o,furnitureItems:n,isOverCanvas:r,draggingItemSize:s}=e,[d,c]=(0,l.useState)(""),h=(0,R.c3)("design");return(0,l.useEffect)(()=>{c("room")},[]),(0,a.jsx)("div",{style:{boxShadow:"0 -1px 5px 0px rgba(0, 0, 0, 0.2)"},className:(0,b.cn)("fixed bottom-0 left-0 z-10 w-full pb-20 pl-0 pr-2 bg-white md:hidden rounded-t-2xl transition-transform duration-300 ease-in-out",t?"translate-y-0":"translate-y-full"),children:(0,a.jsxs)(D.tU,{value:d,className:"w-full gap-4",setShowTab:i,onValueChange:e=>c(e),children:[(0,a.jsxs)(D.j7,{className:"gap-8 mx-auto bg-white ",children:[(0,a.jsx)(D.Xi,{defaultValue:!0,value:"room",className:"rounded-[3px] text-[12px] font-bold data-[state=active]:shadow-none data-[state=active]:border-b-4 data-[state=active]:border-b-primary",children:h("room")}),(0,a.jsx)(D.Xi,{value:"furniture",className:"rounded-[3px] text-[12px] font-bold data-[state=active]:shadow-none data-[state=active]:border-b-4 data-[state=active]:border-b-primary",children:h("furniture")})]}),(0,a.jsx)(D.av,{value:"room",className:"w-full pb-3 overflow-hidden sidebar-rooms sidebar-furniture",children:(0,a.jsxs)(L.FN,{children:[(0,a.jsxs)(L.Wk,{children:[(0,a.jsx)(L.A7,{children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6 ",children:o.slice(0,8).map(e=>(0,a.jsx)(S,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s,priority:!0})}),(0,a.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,a.jsx)(L.A7,{children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6 ",children:o.slice(8).map(e=>(0,a.jsx)(S,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s,priority:!0})}),(0,a.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})})]}),(0,a.jsx)(L.Q8,{className:"left-0 "}),(0,a.jsx)(L.Oj,{className:"right-0"})]})}),(0,a.jsx)(D.av,{value:"furniture",className:"w-full pb-3 overflow-hidden ",children:(0,a.jsxs)(L.FN,{children:[(0,a.jsxs)(L.Wk,{children:[(0,a.jsx)(L.A7,{children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6 ",children:n.slice(0,8).map(e=>(0,a.jsx)(S,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s})}),(0,a.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,a.jsx)(L.A7,{children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6 ",children:n.slice(8,16).map(e=>(0,a.jsx)(S,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s})}),(0,a.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,a.jsx)(L.A7,{children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:n.slice(16).map(e=>(0,a.jsx)(S,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center transition-colors bg-gray-100 rounded-lg w-14 h-14 hover:bg-gray-200",children:(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s})}),(0,a.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})})]}),(0,a.jsx)(L.Q8,{className:"left-0 "}),(0,a.jsx)(L.Oj,{className:"right-0"})]})})]})})}var Y=i(91599),H=i(58105),W=i(45493),B=i(54165),X=i(22346),G=i(59409),J=i(30285),V=i(30356),q=i(85057);let K=l.forwardRef((e,t)=>{let{className:i,type:o,...n}=e;return(0,a.jsx)("input",{type:o,className:(0,b.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:t,...n})});K.displayName="Input";var Z=i(43461);let Q=Array.from({length:20},(e,t)=>(2025-t).toString());function ee(e){let{open:t,onUserOpen:i,onSubmit:o,userInfo:n}=e,r=(0,R.c3)("design"),s=(0,I.A)(),[d,c]=(0,l.useState)("男"),[h,p]=(0,l.useState)("1996"),[g,w]=(0,l.useState)("03"),[m,u]=(0,l.useState)("12"),[y,x]=(0,l.useState)("22"),[b,f]=(0,l.useState)(!1),[U,T]=(0,l.useState)("男"),[v,N]=(0,l.useState)("1996"),[z,E]=(0,l.useState)("03"),[$,j]=(0,l.useState)("12"),[F,O]=(0,l.useState)("22"),[k,M]=(0,l.useState)(!1),[C,S]=(0,l.useState)("猫"),[A,_]=(0,l.useState)(""),[D,L]=(0,l.useState)("未知"),[P,Y]=(0,l.useState)("2020"),[H,W]=(0,l.useState)("01"),[ee,et]=(0,l.useState)("01"),ei=["猫","狗","兔子","蛇","蜥蜴","鳥類","觀賞魚"],eo=["雄性","雌性","未知"];(0,l.useEffect)(()=>{if(n&&(c(n.gender||"男"),n.birthDateTime)){let e=new Date(n.birthDateTime);p(e.getFullYear().toString()),w((e.getMonth()+1).toString().padStart(2,"0")),u(e.getDate().toString().padStart(2,"0")),x(e.getHours().toString().padStart(2,"0"))}},[n]);let ea=()=>{let e=new Date(parseInt(h),parseInt(g)-1,parseInt(m),parseInt(y)),t=null;b?(t={gender:U,birthDateTime:new Date(parseInt(v),parseInt(z)-1,parseInt($),parseInt(F)),birthYear:parseInt(v),birthMonth:parseInt(z),birthDay:parseInt($),birthHour:parseInt(F)},localStorage.setItem("familyMemberData",JSON.stringify(t))):localStorage.removeItem("familyMemberData");let i=null;k?(i={type:C,name:A,gender:D,birthDateTime:new Date(parseInt(P),parseInt(H)-1,parseInt(ee)),birthYear:parseInt(P),birthMonth:parseInt(H),birthDay:parseInt(ee)},localStorage.setItem("petData",JSON.stringify(i))):localStorage.removeItem("petData"),o({user:{gender:d,birthDateTime:e},familyMember:t,pet:i})},en=e=>{e&&(p(e[0]),w(e[1]),u(e[2]),x(e[3]))},er=e=>{e&&(N(e[0]),E(e[1]),j(e[2]),O(e[3]))},es=e=>{e&&(Y(e[0]),W(e[1]),et(e[2]))},el=e=>{let{id:t,checked:i,onCheckedChange:o,children:n,className:r=""}=e;return(0,a.jsxs)("div",{className:"flex items-center space-x-2 ".concat(r),children:[(0,a.jsx)("button",{id:t,type:"button",role:"checkbox","aria-checked":i,onClick:()=>o(!i),className:"\n                        w-4 h-4 border-2 border-gray-300 rounded \n                        ".concat(i?"bg-[#13ab87] border-[#13ab87]":"bg-white","\n                        focus:outline-none focus:ring-2 focus:ring-[#13ab87] focus:ring-offset-1\n                        transition-colors duration-200 ease-in-out\n                        flex items-center justify-center\n                    "),children:i&&(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10 3L4.5 8.5L2 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,a.jsx)(q.J,{htmlFor:t,className:"cursor-pointer",children:n})]})};return(0,a.jsx)(B.lG,{open:t,onOpenChange:i,children:(0,a.jsxs)(B.Cf,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto z-[9999]",style:{fontFamily:'"Noto Serif TC", serif',zIndex:9999},children:[(0,a.jsxs)(B.c7,{children:[(0,a.jsx)(B.L3,{className:"text-lg font-bold text-center md:text-xl md:text-left",children:"個人、家庭及寵物資料"}),(0,a.jsx)("div",{className:"py-4 text-sm text-left md:text-base",children:"請填寫您的出生資料以進行風水分析，您也可以選擇添加家庭成員及寵物的資料。"})]}),(0,a.jsx)(X.Separator,{className:"md:hidden"}),(0,a.jsxs)("div",{className:"grid gap-4 pb-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:"您的資料"}),s?(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(q.J,{className:"text-base",children:"性别"}),(0,a.jsxs)("div",{className:"flex bg-gray-200 p-1 rounded-[6px]",children:[(0,a.jsx)("button",{style:{boxShadow:"男"===d?"0 1px 5px 0px rgba(0, 0, 0, 0.3)":"none"},className:"rounded-[6px] px-4 py-1 ".concat("男"===d?"bg-white":"transparent"),onClick:()=>c("男"),children:"男"}),(0,a.jsx)("button",{style:{boxShadow:"女"===d?"0 1px 5px 0px rgba(0, 0, 0, 0.3)":"none"},className:"rounded-[6px] px-4 py-1 ".concat("女"===d?"bg-white":"transparent"),onClick:()=>c("女"),children:"女"})]})]}),{}):(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"pb-4 space-y-2",children:[(0,a.jsx)(q.J,{className:"pb-2 text-base font-bold",children:"性别"}),(0,a.jsxs)(V.z,{value:d,onValueChange:c,className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(V.C,{value:"男",id:"male"}),(0,a.jsx)(q.J,{htmlFor:"male",children:"男"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(V.C,{value:"女",id:"female"}),(0,a.jsx)(q.J,{htmlFor:"female",children:"女"})]})]})]}),{}),(0,a.jsx)(X.Separator,{className:"md:hidden"}),s?(0,a.jsx)(()=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between pb-4",children:[(0,a.jsx)(q.J,{className:"text-base",children:"出生日期"}),(0,a.jsx)("span",{children:"".concat(h,"年").concat(g,"月").concat(m,"日").concat(y).concat(r("hour"))})]}),(0,a.jsx)(X.Separator,{}),(0,a.jsx)(Z.Ay,{tHour:r("hour"),onChange:en,value:[h,g,m,y]}),(0,a.jsx)(X.Separator,{})]}),{}):(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{className:"pb-4 text-base font-bold",children:"年"}),(0,a.jsxs)(G.l6,{value:h,onValueChange:p,children:[(0,a.jsx)(G.bq,{className:"w-24",children:(0,a.jsx)(G.yv,{placeholder:"年"})}),(0,a.jsx)(G.gC,{children:Z.VS.map(e=>(0,a.jsxs)(G.eb,{value:e,children:[e,"年"]},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{className:"pb-4 text-base font-bold",children:"月"}),(0,a.jsxs)(G.l6,{value:g,onValueChange:w,children:[(0,a.jsx)(G.bq,{className:"w-24",children:(0,a.jsx)(G.yv,{placeholder:"月"})}),(0,a.jsx)(G.gC,{children:Z.US.map(e=>(0,a.jsxs)(G.eb,{value:e,children:[e,"月"]},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{className:"pb-4 text-base font-bold",children:"日"}),(0,a.jsxs)(G.l6,{value:m,onValueChange:u,children:[(0,a.jsx)(G.bq,{className:"w-20",children:(0,a.jsx)(G.yv,{placeholder:"日"})}),(0,a.jsx)(G.gC,{children:Z._3.map(e=>(0,a.jsxs)(G.eb,{value:e,children:[e,"日"]},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(q.J,{className:"pb-4 text-base font-bold",children:["小",r("hour")]}),(0,a.jsxs)(G.l6,{value:y,onValueChange:x,children:[(0,a.jsx)(G.bq,{className:"w-20",children:(0,a.jsx)(G.yv,{placeholder:r("hour")})}),(0,a.jsx)(G.gC,{children:Z.c$.map(e=>(0,a.jsxs)(G.eb,{value:e,children:[e,r("hour")]},e))})]})]})]}),{})]}),(0,a.jsx)(X.Separator,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(el,{id:"include-family",checked:b,onCheckedChange:f,className:"mb-4",children:(0,a.jsx)("span",{className:"text-lg font-bold",children:"添加家庭成員資料（可選）"})}),b&&(0,a.jsxs)(a.Fragment,{children:[s?(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(q.J,{className:"text-base",children:"家庭成員性别"}),(0,a.jsxs)("div",{className:"flex bg-gray-200 p-1 rounded-[6px]",children:[(0,a.jsx)("button",{style:{boxShadow:"男"===U?"0 1px 5px 0px rgba(0, 0, 0, 0.3)":"none"},className:"rounded-[6px] px-4 py-1 ".concat("男"===U?"bg-white":"transparent"),onClick:()=>T("男"),children:"男"}),(0,a.jsx)("button",{style:{boxShadow:"女"===U?"0 1px 5px 0px rgba(0, 0, 0, 0.3)":"none"},className:"rounded-[6px] px-4 py-1 ".concat("女"===U?"bg-white":"transparent"),onClick:()=>T("女"),children:"女"})]})]}),{}):(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"pb-4 space-y-2",children:[(0,a.jsx)(q.J,{className:"pb-2 text-base font-bold",children:"家庭成員性别"}),(0,a.jsxs)(V.z,{value:U,onValueChange:T,className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(V.C,{value:"男",id:"family-male"}),(0,a.jsx)(q.J,{htmlFor:"family-male",children:"男"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(V.C,{value:"女",id:"family-female"}),(0,a.jsx)(q.J,{htmlFor:"family-female",children:"女"})]})]})]}),{}),(0,a.jsx)(X.Separator,{className:"md:hidden"}),s?(0,a.jsx)(()=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between pb-4",children:[(0,a.jsx)(q.J,{className:"text-base",children:"家庭成員出生日期"}),(0,a.jsx)("span",{children:"".concat(v,"年").concat(z,"月").concat($,"日").concat(F).concat(r("hour"))})]}),(0,a.jsx)(X.Separator,{}),(0,a.jsx)(Z.Ay,{tHour:r("hour"),onChange:er,value:[v,z,$,F]}),(0,a.jsx)(X.Separator,{})]}),{}):(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{className:"pb-4 text-base font-bold",children:"年"}),(0,a.jsxs)(G.l6,{value:v,onValueChange:N,children:[(0,a.jsx)(G.bq,{className:"w-24",children:(0,a.jsx)(G.yv,{placeholder:"年"})}),(0,a.jsx)(G.gC,{children:Z.VS.map(e=>(0,a.jsxs)(G.eb,{value:e,children:[e,"年"]},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{className:"pb-4 text-base font-bold",children:"月"}),(0,a.jsxs)(G.l6,{value:z,onValueChange:E,children:[(0,a.jsx)(G.bq,{className:"w-24",children:(0,a.jsx)(G.yv,{placeholder:"月"})}),(0,a.jsx)(G.gC,{children:Z.US.map(e=>(0,a.jsxs)(G.eb,{value:e,children:[e,"月"]},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{className:"pb-4 text-base font-bold",children:"日"}),(0,a.jsxs)(G.l6,{value:$,onValueChange:j,children:[(0,a.jsx)(G.bq,{className:"w-20",children:(0,a.jsx)(G.yv,{placeholder:"日"})}),(0,a.jsx)(G.gC,{children:Z._3.map(e=>(0,a.jsxs)(G.eb,{value:e,children:[e,"日"]},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(q.J,{className:"pb-4 text-base font-bold",children:["小",r("hour")]}),(0,a.jsxs)(G.l6,{value:F,onValueChange:O,children:[(0,a.jsx)(G.bq,{className:"w-20",children:(0,a.jsx)(G.yv,{placeholder:r("hour")})}),(0,a.jsx)(G.gC,{children:Z.c$.map(e=>(0,a.jsxs)(G.eb,{value:e,children:[e,r("hour")]},e))})]})]})]}),{})]})]}),(0,a.jsx)(X.Separator,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(el,{id:"include-pet",checked:k,onCheckedChange:M,className:"mb-4",children:(0,a.jsx)("span",{className:"text-lg font-bold",children:"添加寵物資料（可選）"})}),k&&(0,a.jsxs)(a.Fragment,{children:[s?(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{className:"text-base",children:"寵物類型"}),(0,a.jsxs)(G.l6,{value:C,onValueChange:S,children:[(0,a.jsx)(G.bq,{className:"w-32",children:(0,a.jsx)(G.yv,{})}),(0,a.jsx)(G.gC,{children:ei.map(e=>(0,a.jsx)(G.eb,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{className:"text-base",children:"寵物名字"}),(0,a.jsx)(K,{type:"text",placeholder:"名字",value:A,onChange:e=>_(e.target.value),className:"w-32"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{className:"text-base",children:"寵物性別"}),(0,a.jsxs)(G.l6,{value:D,onValueChange:L,children:[(0,a.jsx)(G.bq,{className:"w-24",children:(0,a.jsx)(G.yv,{})}),(0,a.jsx)(G.gC,{children:eo.map(e=>(0,a.jsx)(G.eb,{value:e,children:e},e))})]})]})]}),{}):(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{className:"pb-2 text-base font-bold",children:"寵物類型"}),(0,a.jsxs)(G.l6,{value:C,onValueChange:S,children:[(0,a.jsx)(G.bq,{className:"w-full",children:(0,a.jsx)(G.yv,{placeholder:"選擇寵物類型"})}),(0,a.jsx)(G.gC,{children:ei.map(e=>(0,a.jsx)(G.eb,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{className:"pb-2 text-base font-bold",children:"寵物名字（可選）"}),(0,a.jsx)(K,{type:"text",placeholder:"輸入寵物名字",value:A,onChange:e=>_(e.target.value),className:"w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{className:"pb-2 text-base font-bold",children:"寵物性別"}),(0,a.jsxs)(G.l6,{value:D,onValueChange:L,children:[(0,a.jsx)(G.bq,{className:"w-full",children:(0,a.jsx)(G.yv,{placeholder:"選擇寵物性別"})}),(0,a.jsx)(G.gC,{children:eo.map(e=>(0,a.jsx)(G.eb,{value:e,children:e},e))})]})]})]}),{}),(0,a.jsx)(X.Separator,{className:"md:hidden"}),s?(0,a.jsx)(()=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between pb-4",children:[(0,a.jsx)(q.J,{className:"text-base",children:"寵物出生日期"}),(0,a.jsx)("span",{children:"".concat(P,"年").concat(H,"月").concat(ee,"日")})]}),(0,a.jsx)(X.Separator,{}),(0,a.jsx)(Z.Ay,{onChange:es,value:[P,H,ee],showHour:!1,customYears:Q}),(0,a.jsx)(X.Separator,{})]}),{}):(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{className:"pb-4 text-base font-bold",children:"年"}),(0,a.jsxs)(G.l6,{value:P,onValueChange:Y,children:[(0,a.jsx)(G.bq,{className:"w-24",children:(0,a.jsx)(G.yv,{placeholder:"年"})}),(0,a.jsx)(G.gC,{children:Q.map(e=>(0,a.jsxs)(G.eb,{value:e,children:[e,"年"]},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{className:"pb-4 text-base font-bold",children:"月"}),(0,a.jsxs)(G.l6,{value:H,onValueChange:W,children:[(0,a.jsx)(G.bq,{className:"w-24",children:(0,a.jsx)(G.yv,{placeholder:"月"})}),(0,a.jsx)(G.gC,{children:Z.US.map(e=>(0,a.jsxs)(G.eb,{value:e,children:[e,"月"]},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{className:"pb-4 text-base font-bold",children:"日"}),(0,a.jsxs)(G.l6,{value:ee,onValueChange:et,children:[(0,a.jsx)(G.bq,{className:"w-20",children:(0,a.jsx)(G.yv,{placeholder:"日"})}),(0,a.jsx)(G.gC,{children:Z._3.map(e=>(0,a.jsxs)(G.eb,{value:e,children:[e,"日"]},e))})]})]})]}),{})]})]}),s?(0,a.jsxs)("div",{className:"flex justify-around",children:[(0,a.jsx)(J.$,{onClick:()=>{i(!1)},className:"px-10 border-1 border-[#ccc] text-foreground rounded-[100px] bg-white font-bold mt-10",children:"取消"}),(0,a.jsx)(J.$,{onClick:ea,className:"px-10 bg-[#13ab87] font-bold mt-10 rounded-[100px]",children:"保存"})]}):(0,a.jsx)(J.$,{onClick:ea,className:"w-full bg-[#13ab87] font-bold mt-10 rounded-[100px]",children:"保存"})]})]})})}function et(e){let{open:t,onClose:i,onStartTutorial:o}=e,n=(0,R.c3)("demo.welcomeDialog"),r=(0,I.A)();return((0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&i()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,i]),t)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:i}),(0,a.jsxs)("div",{className:"relative bg-white rounded-lg shadow-2xl border ".concat(r?"mx-4 w-[calc(100vw-2rem)] max-w-[90vw]":"mx-4 w-full max-w-md"," max-h-[90vh] overflow-y-auto"),children:[(0,a.jsxs)("div",{className:"p-6 space-y-4 text-center",children:[(0,a.jsx)("h2",{className:"".concat(r?"text-lg":"text-2xl"," font-bold text-gray-800 break-words leading-tight"),children:n("title")}),(0,a.jsx)("p",{className:"".concat(r?"text-sm":"text-base"," text-gray-600 leading-relaxed break-words"),children:n("description")}),(0,a.jsx)("div",{className:"".concat(r?"text-sm":"text-lg"," font-medium text-gray-800 break-words leading-tight"),children:n("question")})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3 p-6 pt-0",children:[(0,a.jsx)("button",{onClick:()=>{o(),i()},className:"".concat(r?"w-full max-w-[280px] py-3 text-sm":"w-64 py-3 text-base"," bg-[#13ab87] hover:bg-[#0f9674] text-white font-semibold rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-[#13ab87] focus:ring-offset-2"),children:n("yes")}),(0,a.jsx)("button",{onClick:()=>{i()},className:"".concat(r?"w-full max-w-[280px] py-3 text-sm":"w-64 py-3 text-base"," bg-gray-100 text-gray-700 hover:bg-gray-200 font-semibold rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2"),children:n("no")})]}),(0,a.jsx)("button",{onClick:i,className:"absolute text-gray-400 transition-colors duration-200 rounded top-4 right-4 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):null}var ei=i(76796),eo=i(11518),ea=i.n(eo),en=i(70463),er=i(46813),es=i(75352),el=i(40133),ed=i(91981),ec=i(66474),eh=i(47863),ep=i(74311),eg=i(35169),ew=i(92138);let em={INTRO:0,DRAG_ROOM:1,DRAG_FURNITURE:2,SELECT_ITEM:3,ROTATE_ITEM:4,DELETE_ITEM:5,MULTI_SELECT:6,COMPASS_DIRECTION:7,CLEAR_CANVAS:8,CHOOSE_MODEL:9,COMPLETE:10},eu={"sidebar-rooms":".sidebar-rooms","sidebar-furniture":".sidebar-furniture","canvas-items":".canvas-items","canvas-controls":".canvas-controls","compass-btn":".compass-btn","clear-button":".clear-canvas-btn","generate-button":".generate-btn"};function ey(e){let{isActive:t,onClose:i,canvasRef:o,isMobile:n=!1,onStep:r=()=>{},demoActions:s=new Set,onShowTabControl:d=()=>{}}=e,c=(0,R.c3)("demo"),[h,p]=(0,l.useState)(em.INTRO),[w,m]=(0,l.useState)(null),[u,y]=(0,l.useState)(!1),[x,b]=(0,l.useState)(new Set),[f,I]=(0,l.useState)(null),[U,T]=(0,l.useState)(null),[v,N]=(0,l.useState)(!1),[z,E]=(0,l.useState)("bottom"),[$,j]=(0,l.useState)(!1);(0,l.useRef)(null);let F={[em.INTRO]:{title:c("welcome.title"),description:c("welcome.description"),highlight:null,action:"next",icon:(0,a.jsx)(en.A,{className:"w-6 h-6 text-blue-500"})},[em.DRAG_ROOM]:{title:c("dragRoom.title"),description:c("dragRoom.description"),highlight:"sidebar-rooms",action:"wait",targetArea:"canvas",icon:(0,a.jsx)(er.A,{className:"w-6 h-6 text-green-500"})},[em.DRAG_FURNITURE]:{title:c("dragFurniture.title"),description:c("dragFurniture.description"),highlight:"sidebar-furniture",action:"wait",targetArea:"canvas",icon:(0,a.jsx)(er.A,{className:"w-6 h-6 text-purple-500"})},[em.SELECT_ITEM]:{title:c("selectItem.title"),description:c("selectItem.description"),highlight:"canvas-items",action:"wait",targetArea:"canvas-item",icon:(0,a.jsx)(es.A,{className:"w-6 h-6 text-blue-500"})},[em.ROTATE_ITEM]:{title:c("rotateItem.title"),description:c("rotateItem.description"),highlight:"canvas-controls",action:"wait",targetArea:"rotate-button",icon:(0,a.jsx)(el.A,{className:"w-6 h-6 text-orange-500"})},[em.DELETE_ITEM]:{title:c("deleteItem.title"),description:c("deleteItem.description"),highlight:"canvas-controls",action:"wait",targetArea:"delete-button",icon:(0,a.jsx)(g.A,{className:"w-6 h-6 text-red-500"})},[em.MULTI_SELECT]:{title:c("multiSelect.title"),description:c(n?"multiSelect.mobileDescription":"multiSelect.desktopDescription"),highlight:"canvas-items",action:"wait",targetArea:"canvas-items",icon:(0,a.jsx)(es.A,{className:"w-6 h-6 text-indigo-500"})},[em.COMPASS_DIRECTION]:{title:c("compassDirection.title"),description:c("compassDirection.description"),highlight:"compass-btn",action:"wait",targetArea:"compass",icon:(0,a.jsx)(es.A,{className:"w-6 h-6 text-cyan-500"})},[em.CLEAR_CANVAS]:{title:c("clearCanvas.title"),description:c("clearCanvas.description"),highlight:"clear-button",action:"wait",targetArea:"clear-button",icon:(0,a.jsx)(g.A,{className:"w-6 h-6 text-red-500"})},[em.CHOOSE_MODEL]:{title:c("chooseModel.title"),description:c("chooseModel.description"),highlight:"generate-button",action:"wait",targetArea:"generate-button",icon:(0,a.jsx)(es.A,{className:"w-6 h-6 text-green-500"})},[em.COMPLETE]:{title:c("complete.title"),description:c("complete.description"),highlight:null,action:"finish",icon:(0,a.jsx)(en.A,{className:"w-6 h-6 text-green-500"})}};(0,l.useEffect)(()=>{if(!t||!(null==o?void 0:o.current))return;let e=setInterval(()=>{let e=o.current.getLocalItems(),t=e.filter(e=>"room"===e.type),i=e.filter(e=>"furniture"===e.type),a=o.current.getActiveRoom(),n=o.current.getSelectedItems();switch(h){case em.DRAG_ROOM:t.length>0&&!x.has("room-added")&&(b(e=>new Set([...e,"room-added"])),setTimeout(()=>O(),1500));break;case em.DRAG_FURNITURE:i.length>0&&!x.has("furniture-added")&&(b(e=>new Set([...e,"furniture-added"])),setTimeout(()=>O(),1500));break;case em.SELECT_ITEM:(a||n.length>0)&&!x.has("item-selected")&&(b(e=>new Set([...e,"item-selected"])),setTimeout(()=>O(),1500));break;case em.ROTATE_ITEM:s.has("item-rotated")&&!x.has("item-rotated")&&(b(e=>new Set([...e,"item-rotated"])),setTimeout(()=>O(),1e3));break;case em.DELETE_ITEM:s.has("item-deleted")&&!x.has("item-deleted")&&(b(e=>new Set([...e,"item-deleted"])),setTimeout(()=>O(),1e3));break;case em.MULTI_SELECT:n.length>1&&!x.has("multi-selected")&&(b(e=>new Set([...e,"multi-selected"])),setTimeout(()=>O(),1500));break;case em.COMPASS_DIRECTION:s.has("compass-clicked")&&!x.has("compass-clicked")&&(b(e=>new Set([...e,"compass-clicked"])),setTimeout(()=>O(),1500));break;case em.CLEAR_CANVAS:0===e.length&&x.has("room-added")&&!x.has("canvas-cleared")&&(b(e=>new Set([...e,"canvas-cleared"])),setTimeout(()=>O(),1500));break;case em.CHOOSE_MODEL:s.has("model-shown")&&!x.has("model-shown")&&(b(e=>new Set([...e,"model-shown"])),setTimeout(()=>O(),2e3))}},500);return()=>clearInterval(e)},[h,t,x,s]),(0,l.useEffect)(()=>{let e=F[h];if((null==e?void 0:e.action)==="auto"&&t){let e=setTimeout(()=>{O()},3e3);return I(e),()=>clearTimeout(e)}},[h,t]);let O=()=>{if(h<em.COMPLETE){let e=h+1;p(e),y(!1),r(e),d(e)}else i(),d(em.COMPLETE)};(0,l.useEffect)(()=>{t&&d(h)},[t,h,d]);let k=()=>{switch(w){case"sidebar-rooms":case"sidebar-furniture":return"12px";case"canvas-items":return"20px";case"canvas-controls":return"8px";default:return"16px"}};if((0,l.useEffect)(()=>{let e=F[h];e&&(m(e.highlight),y("wait"===e.action),n&&(h===em.DRAG_ROOM||h===em.DRAG_FURNITURE?E("top"):E("bottom")))},[h,n]),(0,l.useLayoutEffect)(()=>{if(!w){T(null);return}let e=eu[w];if(!e){T(null);return}let t=()=>{let i=document.querySelector(e);if(i){i.offsetHeight;let e=i.getBoundingClientRect(),t=window.getComputedStyle(i).borderRadius||"8px";T({top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height,borderRadius:t})}else setTimeout(t,200)};requestAnimationFrame(()=>{setTimeout(t,n?300:100)})},[w,n]),(0,l.useEffect)(()=>{if(w&&(h===em.DRAG_ROOM||h===em.DRAG_FURNITURE)){let e=eu[w];e&&(window.highlightTimeout&&clearTimeout(window.highlightTimeout),window.highlightTimeout=setTimeout(()=>{let t=document.querySelector(e);if(t){n&&(t.offsetHeight,t.getBoundingClientRect()),t.offsetHeight;let e=t.getBoundingClientRect();T({top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height,borderRadius:k()})}},n?500:200))}return()=>{window.highlightTimeout&&clearTimeout(window.highlightTimeout)}},[h,w,n]),(0,l.useEffect)(()=>{let e=()=>{w&&(window.resizeTimeout&&clearTimeout(window.resizeTimeout),window.highlightTimeout&&clearTimeout(window.highlightTimeout),window.resizeTimeout=setTimeout(()=>{let e=eu[w],t=document.querySelector(e);if(t){t.offsetHeight;let e=t.getBoundingClientRect();T({top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height,borderRadius:k()})}},n?300:150))};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),window.resizeTimeout&&clearTimeout(window.resizeTimeout),window.highlightTimeout&&clearTimeout(window.highlightTimeout)}},[w,n]),(0,l.useEffect)(()=>()=>{f&&clearTimeout(f)},[f]),!t)return null;let C=F[h],S=Object.keys(em).length,A=n?{position:"fixed",left:0,right:0,[z]:0,width:"100vw",maxHeight:v?"60px":"40vh",borderRadius:"bottom"===z?"16px 16px 0 0":"0 0 16px 16px",zIndex:60}:{position:"fixed",bottom:"20px",right:"20px",width:$?"60px":"400px",maxWidth:"400px",height:$?"60px":"auto",maxHeight:$?"60px":"50vh",borderRadius:"16px",zIndex:52,transition:"all 0.3s ease-in-out"};return(()=>{if(!U)return;let e=n?10:8;U.left,U.top,U.width,U.height})(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:(()=>{if(!U)return{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:n?"rgba(0, 0, 0, 0.85)":"rgba(0, 0, 0, 0.75)",zIndex:50,pointerEvents:"none"};let e=n?10:8,t=Math.max(0,U.left-e),i=Math.max(0,U.top-e),o=U.width+2*e,a=U.height+2*e;k();let r="polygon(\n            0% 0%, \n            0% 100%, \n            ".concat(t,"px 100%, \n            ").concat(t,"px ").concat(i,"px, \n            ").concat(t+o,"px ").concat(i,"px, \n            ").concat(t+o,"px ").concat(i+a,"px, \n            ").concat(t,"px ").concat(i+a,"px, \n            ").concat(t,"px 100%, \n            100% 100%, \n            100% 0%\n        )");return{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:n?"rgba(0, 0, 0, 0.85)":"rgba(0, 0, 0, 0.75)",clipPath:r,WebkitClipPath:r,zIndex:50,pointerEvents:"none",transition:"clip-path 0.3s ease-out, -webkit-clip-path 0.3s ease-out"}})(),className:"jsx-b5061cd08295d8fa transition-all duration-300"}),w&&(0,a.jsx)("div",{style:{...U?{position:"absolute",top:"".concat(U.top,"px"),left:"".concat(U.left,"px"),width:"".concat(U.width,"px"),height:"".concat(U.height,"px")}:{},border:"".concat(n?"4px":"3px"," solid #60a5fa"),borderRadius:k(),boxShadow:"\n                            0 0 0 4px rgba(96, 165, 250, 0.4),\n                            0 0 20px rgba(96, 165, 250, 0.8),\n                            0 0 40px rgba(96, 165, 250, 0.6)\n                        ",background:"transparent",transform:"scale(1)",transition:"all 0.2s ease-out"},className:"jsx-b5061cd08295d8fa "+"fixed pointer-events-none z-51 ".concat(n?"animate-pulse":"")}),n&&w&&U&&(0,a.jsx)("div",{style:{left:U.left+U.width/2,top:"bottom"===z?U.top+U.height+15:U.top-25,transform:"translateX(-50%)"},className:"jsx-b5061cd08295d8fa fixed pointer-events-none z-51",children:(0,a.jsx)("div",{style:{filter:"drop-shadow(0 0 8px rgba(96, 165, 250, 0.8))"},className:"jsx-b5061cd08295d8fa "+"w-0 h-0 border-l-[15px] border-r-[15px] border-l-transparent border-r-transparent ".concat("bottom"===z?"border-b-[15px] border-b-blue-400":"border-t-[15px] border-t-blue-400")})}),(0,a.jsx)("div",{style:{...A,borderRadius:n?A.borderRadius:"16px",fontFamily:'"Noto Serif TC", serif'},className:"jsx-b5061cd08295d8fa bg-white border border-gray-200 shadow-2xl",children:!n&&$||n&&v?(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center justify-between h-full px-4",children:[(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center gap-3",children:[(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa flex items-center justify-center w-8 h-8 text-xs font-bold text-white rounded-full bg-gradient-to-br from-blue-500 to-indigo-600",children:h+1}),!n&&!$&&(0,a.jsx)("span",{className:"jsx-b5061cd08295d8fa font-medium text-gray-800",children:C.title})]}),(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{n?N(!1):j(!1)},title:n?"展開":"Expand tutorial",className:"jsx-b5061cd08295d8fa p-2 text-gray-600 transition-colors rounded-full hover:bg-gray-100",children:(0,a.jsx)(ed.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:i,title:"關閉教學",className:"jsx-b5061cd08295d8fa p-2 text-red-600 transition-colors rounded-full hover:bg-red-50",children:(0,a.jsx)(M.A,{className:"w-4 h-4"})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa "+"flex items-center justify-between border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50 ".concat(n?"p-3":"p-4"," rounded-t-2xl"),children:[(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center gap-3",children:[(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa "+"flex items-center justify-center text-sm font-bold text-white rounded-full shadow-lg bg-gradient-to-br from-blue-500 to-indigo-600 ".concat("w-8 h-8"),children:h+1}),(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa",children:[(0,a.jsx)("h2",{className:"jsx-b5061cd08295d8fa "+"font-bold text-gray-800 ".concat("text-lg"),children:C.title}),(0,a.jsxs)("p",{className:"jsx-b5061cd08295d8fa text-xs text-gray-500",children:[c("step")," ",h+1," ",c("of")," ",S]})]})]}),(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center gap-2",children:[C.icon,n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>N(!0),className:"jsx-b5061cd08295d8fa p-2 text-gray-600 transition-colors rounded-full hover:bg-gray-100",children:(0,a.jsx)(ec.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>E("bottom"===z?"top":"bottom"),title:"切換位置",className:"jsx-b5061cd08295d8fa p-2 text-gray-600 transition-colors rounded-full hover:bg-gray-100",children:"bottom"===z?(0,a.jsx)(eh.A,{className:"w-4 h-4"}):(0,a.jsx)(ec.A,{className:"w-4 h-4"})})]}),!n&&(0,a.jsx)("button",{onClick:()=>j(!0),title:"Minimize tutorial",className:"jsx-b5061cd08295d8fa p-2 text-gray-600 transition-colors rounded-full hover:bg-gray-100",children:(0,a.jsx)(ep.A,{className:"w-4 h-4"})}),(0,a.jsx)(J.$,{variant:"ghost",size:"sm",onClick:i,className:"w-8 h-8 p-0 transition-colors hover:bg-red-50 hover:text-red-600",children:(0,a.jsx)(M.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa "+"overflow-auto ".concat(n?"p-3 max-h-48":"p-4 max-h-60"),children:[(0,a.jsx)("p",{className:"jsx-b5061cd08295d8fa "+"leading-relaxed text-gray-700 ".concat(n?"text-sm mb-3":"text-sm mb-4"),children:C.description}),h===em.SELECT_ITEM&&(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa "+"flex items-center gap-3 p-3 mb-3 border border-blue-200 rounded-lg bg-blue-50 ".concat("text-sm"),children:[(0,a.jsx)(es.A,{className:"flex-shrink-0 w-5 h-5 text-blue-600"}),(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa",children:(0,a.jsx)("p",{className:"jsx-b5061cd08295d8fa font-medium text-blue-800",children:c(n?"tapToSelect":"clickToSelect")})})]}),h===em.MULTI_SELECT&&(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa "+"p-3 mb-3 border border-purple-200 rounded-lg bg-purple-50 ".concat("text-sm"),children:(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-start gap-3",children:[(0,a.jsx)(es.A,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa text-purple-800",children:n?(0,a.jsx)("p",{className:"jsx-b5061cd08295d8fa font-medium",children:c("longPressToSelect")}):(0,a.jsx)("p",{className:"jsx-b5061cd08295d8fa font-medium",children:c("doubleClickToSelect")})})]})}),(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa "+((n?"mb-3":"mb-4")||""),children:[(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center justify-between mb-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"jsx-b5061cd08295d8fa",children:c("progress")}),(0,a.jsxs)("span",{className:"jsx-b5061cd08295d8fa",children:[Math.round((h+1)/S*100),"%"]})]}),(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa flex items-center gap-1",children:Array.from({length:S},(e,t)=>(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa "+"h-2 flex-1 rounded-full transition-all duration-300 ".concat(t<=h?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gray-200")},t))})]}),u&&(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa "+"flex items-center justify-center gap-3 px-3 py-3 border border-yellow-200 rounded-lg bg-yellow-50 ".concat("text-sm"),children:[(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa w-4 h-4 border-2 border-yellow-500 rounded-full border-t-transparent animate-spin"}),(0,a.jsx)("span",{className:"jsx-b5061cd08295d8fa font-medium text-yellow-800",children:c("waitingForAction")})]})]}),(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa "+"flex items-center justify-between border-t border-gray-100 bg-gray-50 rounded-b-2xl ".concat(n?"p-3":"p-4"),children:[(0,a.jsxs)(J.$,{variant:"outline",onClick:()=>{if(h>em.INTRO){let e=h-1;p(e),y(!1),r(e),d(e)}},disabled:h===em.INTRO,className:"flex items-center gap-2 hover:bg-gray-100 transition-colors ".concat("text-sm px-3 py-2"),children:[(0,a.jsx)(eg.A,{className:"w-4 h-4"}),n?c("previous").slice(0,3):c("previous")]}),n&&(0,a.jsx)("div",{className:"jsx-b5061cd08295d8fa text-xs text-gray-400",children:"← 滑動切換 →"}),!n&&(0,a.jsxs)("div",{className:"jsx-b5061cd08295d8fa flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{className:"jsx-b5061cd08295d8fa w-2 h-2 bg-blue-500 rounded-full"}),h+1," / ",S]}),(0,a.jsx)(J.$,{onClick:O,disabled:!1,className:"flex items-center gap-2 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 transition-all ".concat("text-sm px-3 py-2"),children:h===em.COMPLETE?c("finish"):(0,a.jsxs)(a.Fragment,{children:[c("wait"===C.action?"skip":"next"),(0,a.jsx)(ew.A,{className:"w-4 h-4"})]})})]})]})}),(0,a.jsx)(ea(),{id:"b5061cd08295d8fa",children:"@-webkit-keyframes strongTutorialGlow{0%,100%{-webkit-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);border-color:#60a5fa}50%{-webkit-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);border-color:#3b82f6}}@-moz-keyframes strongTutorialGlow{0%,100%{-moz-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);border-color:#60a5fa}50%{-moz-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);border-color:#3b82f6}}@-o-keyframes strongTutorialGlow{0%,100%{box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);border-color:#60a5fa}50%{box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);border-color:#3b82f6}}@keyframes strongTutorialGlow{0%,100%{-webkit-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);-moz-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 50px rgba(96,165,250,1),0 0 80px rgba(96,165,250,.8),inset 0 0 20px rgba(255,255,255,.1);border-color:#60a5fa}50%{-webkit-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);-moz-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 70px rgba(96,165,250,1),0 0 120px rgba(96,165,250,1),inset 0 0 30px rgba(255,255,255,.2);border-color:#3b82f6}}@-webkit-keyframes strongPulse{0%,100%{-webkit-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);border-color:#60a5fa;opacity:1}50%{-webkit-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);border-color:#3b82f6;opacity:.9}}@-moz-keyframes strongPulse{0%,100%{-moz-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);border-color:#60a5fa;opacity:1}50%{-moz-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);border-color:#3b82f6;opacity:.9}}@-o-keyframes strongPulse{0%,100%{box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);border-color:#60a5fa;opacity:1}50%{box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);border-color:#3b82f6;opacity:.9}}@keyframes strongPulse{0%,100%{-webkit-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);-moz-box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);box-shadow:0 0 0 8px rgba(96,165,250,.6),0 0 40px rgba(96,165,250,.9),0 0 60px rgba(96,165,250,.7);border-color:#60a5fa;opacity:1}50%{-webkit-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);-moz-box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);box-shadow:0 0 0 12px rgba(96,165,250,.8),0 0 60px rgba(96,165,250,1),0 0 100px rgba(96,165,250,.9);border-color:#3b82f6;opacity:.9}}"})]})}let ex={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:284.47058823529414,y:329.37254901960785},rotation:0},{id:"dining_room-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:441,height:296},position:{x:144.84313725490188,y:632.8823529411765},rotation:0},{id:"living_room-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"living_room",label:"客廳1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:443,height:290},position:{x:588.1176470588235,y:634.4509803921569},rotation:0},{id:"bedroom-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:589.5882352941177,y:330.78431372549016},rotation:0},{id:"bedroom-2",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:421,height:375},position:{x:593.3529411764706,y:926.4705882352941},rotation:0},{id:"kitchen-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"kitchen",label:"廚房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:270,height:363},position:{x:315.0392156862745,y:930.4509803921569},rotation:0},{id:"balcony-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"balcony",label:"陽台1",icon:"/images/room-icon/balcony.png",size:{width:300,height:300}},size:{width:116,height:296},position:{x:1030.764705882353,y:635.8039215686274},rotation:0},{id:"toilet-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:d.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:410.843137254902,y:351.5490196078431},rotation:0,parentId:null,offset:{x:134.843137254902,y:7.549019607843093}},{id:"shower-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:d.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:483.2352941176471,y:528.4313725490196},rotation:0,parentId:null,offset:{x:211.23529411764707,y:207.43137254901956}},{id:"bathtub-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:d.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:489.82352941176464,y:357.92156862745094},rotation:0,parentId:null,offset:{x:219.82352941176464,y:52.92156862745094}},{id:"sink-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:291.92156862745094,y:481.11764705882354},rotation:-270,parentId:null,offset:{x:-5.078431372549062,y:153.11764705882354}},{id:"door-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:417.3137254901961,y:572.4117647058823},rotation:-90,parentId:null},{id:"window-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:310.72549019607845,y:362.7254901960784},rotation:-180,parentId:null},{id:"door-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:160.37254901960785,y:755.2156862745098},rotation:0,parentId:"dining_room-1",offset:{x:4.529411764705969,y:131.33333333333337}},{id:"window-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:240.58823529411762,y:622.4901960784314},rotation:-90,parentId:"dining_room-1",offset:{x:91.74509803921575,y:-20.392156862745082}},{id:"table-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:290.37254901960785,y:657.5294117647059},rotation:-90,parentId:"dining_room-1",offset:{x:100.52941176470597,y:9.647058823529392}},{id:"fridge-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:d.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:339.2941176470588,y:991.6666666666667},rotation:0,parentId:null},{id:"door-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"廚房1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:433.4509803921569,y:943.5686274509803},rotation:-270,parentId:null},{id:"wardrobe-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:307.921568627451,y:809.0588235294117},rotation:-90,parentId:"dining_room-1",offset:{x:166.07843137254912,y:203.17647058823525}},{id:"bed-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:861.6862745098039,y:1134.078431372549},rotation:-180,parentId:null},{id:"window-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:702.5882352941177,y:1253.313725490196},rotation:-270,parentId:null},{id:"window-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:984.5490196078431,y:1094.1372549019607},rotation:0,parentId:null},{id:"bookshelf-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:d.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:899.7058823529411,y:748.9607843137255},rotation:0,parentId:null},{id:"bed-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:781.7254901960785,y:356.47058823529414},rotation:0,parentId:null},{id:"stove-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:d.w$.FURNITURE,type:"stove",label:"廚房1-爐具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:329.09803921568624,y:1121.6470588235295},rotation:-90,parentId:null},{id:"sink-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"廚房1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:420.6078431372549,y:1231.1568627450981},rotation:0,parentId:null},{id:"tv-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:d.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:855.6078431372549,y:658.9411764705882},rotation:0,parentId:null},{id:"sofa-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:d.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:891.5294117647059,y:800.4901960784314},rotation:-90,parentId:null},{id:"door-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"睡房2-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:754.2549019607843,y:944.8431372549019},rotation:-270,parentId:null},{id:"door-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:729.4117647058823,y:568.9607843137255},rotation:-90,parentId:null},{id:"wardrobe-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房2-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:623.2745098039215,y:1063.6470588235295},rotation:0,parentId:null},{id:"wardrobe-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:614.3529411764706,y:452.01960784313724},rotation:0,parentId:null},{id:"window-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:928.0196078431372,y:455},rotation:0,parentId:null},{id:"window-6",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"廚房1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:337.0588235294117,y:1196.6666666666667},rotation:0,parentId:null},{id:"wardrobe-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"廚房1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:520.9411764705883,y:1060.8431372549019},rotation:0,parentId:null},{id:"table-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:706.5294117647059,y:1171.392156862745},rotation:-90,parentId:null},{id:"chair-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:267.3529411764706,y:747.0196078431372},rotation:-90,parentId:"dining_room-1",offset:{x:75.50980392156873,y:107.13725490196077}},{id:"chair-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子3",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:328.5098039215686,y:747.6078431372548},rotation:-90,parentId:"dining_room-1",offset:{x:139.66666666666674,y:106.72549019607834}},{id:"chair-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:265.43137254901956,y:662.1764705882354},rotation:-270,parentId:"dining_room-1",offset:{x:77.58823529411768,y:16.294117647058897}},{id:"chair-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子4",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:325.52941176470586,y:660.3529411764705},rotation:-270,parentId:"dining_room-1",offset:{x:136.68627450980398,y:15.47058823529403}},{id:"wardrobe-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"客廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:653.9215686274509,y:809.0392156862745},rotation:-90,parentId:null},{id:"tv-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:d.w$.FURNITURE,type:"tv",label:"睡房2-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:850,y:962.2352941176471},rotation:0,parentId:null},{id:"plant-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:d.w$.FURNITURE,type:"plant",label:"陽台1-植物2",icon:"/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1057.2549019607843,y:871.6078431372549},rotation:0,parentId:null},{id:"plant-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:d.w$.FURNITURE,type:"plant",label:"陽台1-植物1",icon:"/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1055.2549019607843,y:650.9803921568628},rotation:0,parentId:null},{id:"door-6",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"陽台1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:1049.0819672131147,y:769.6393442622951},rotation:0,parentId:null}]},eb={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:284.47058823529414,y:329.37254901960785},rotation:0},{id:"dining_room-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"dining_room",label:"饭厅1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:441,height:296},position:{x:144.84313725490188,y:632.8823529411765},rotation:0},{id:"living_room-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"living_room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:443,height:290},position:{x:588.1176470588235,y:634.4509803921569},rotation:0},{id:"bedroom-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:589.5882352941177,y:330.78431372549016},rotation:0},{id:"bedroom-2",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:421,height:375},position:{x:593.3529411764706,y:926.4705882352941},rotation:0},{id:"kitchen-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"kitchen",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:270,height:363},position:{x:315.0392156862745,y:930.4509803921569},rotation:0},{id:"balcony-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"balcony",label:"阳台1",icon:"/images/room-icon/balcony.png",size:{width:300,height:300}},size:{width:116,height:296},position:{x:1030.764705882353,y:635.8039215686274},rotation:0},{id:"toilet-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:d.w$.FURNITURE,type:"toilet",label:"浴室1-马桶1",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:410.843137254902,y:351.5490196078431},rotation:0,parentId:null,offset:{x:134.843137254902,y:7.549019607843093}},{id:"shower-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:d.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:483.2352941176471,y:528.4313725490196},rotation:0,parentId:null,offset:{x:211.23529411764707,y:207.43137254901956}},{id:"bathtub-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:d.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:489.82352941176464,y:357.92156862745094},rotation:0,parentId:null,offset:{x:219.82352941176464,y:52.92156862745094}},{id:"sink-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:291.92156862745094,y:481.11764705882354},rotation:-270,parentId:null,offset:{x:-5.078431372549062,y:153.11764705882354}},{id:"door-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"浴室1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:417.3137254901961,y:572.4117647058823},rotation:-90,parentId:null},{id:"window-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:310.72549019607845,y:362.7254901960784},rotation:-180,parentId:null},{id:"door-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"饭厅1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:160.37254901960785,y:755.2156862745098},rotation:0,parentId:"dining_room-1",offset:{x:4.529411764705969,y:131.33333333333337}},{id:"window-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:240.58823529411762,y:622.4901960784314},rotation:-90,parentId:"dining_room-1",offset:{x:91.74509803921575,y:-20.392156862745082}},{id:"table-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"饭厅1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:290.37254901960785,y:657.5294117647059},rotation:-90,parentId:"dining_room-1",offset:{x:100.52941176470597,y:9.647058823529392}},{id:"fridge-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:d.w$.FURNITURE,type:"fridge",label:"厨房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:339.2941176470588,y:991.6666666666667},rotation:0,parentId:null},{id:"door-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"厨房1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:433.4509803921569,y:943.5686274509803},rotation:-270,parentId:null},{id:"wardrobe-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"饭厅1-柜1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:307.921568627451,y:809.0588235294117},rotation:-90,parentId:"dining_room-1",offset:{x:166.07843137254912,y:203.17647058823525}},{id:"bed-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:861.6862745098039,y:1134.078431372549},rotation:-180,parentId:null},{id:"window-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:702.5882352941177,y:1253.313725490196},rotation:-270,parentId:null},{id:"window-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:984.5490196078431,y:1094.1372549019607},rotation:0,parentId:null},{id:"bookshelf-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:d.w$.FURNITURE,type:"bookshelf",label:"客厅1-茶几1",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:899.7058823529411,y:748.9607843137255},rotation:0,parentId:null},{id:"bed-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:781.7254901960785,y:356.47058823529414},rotation:0,parentId:null},{id:"stove-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:d.w$.FURNITURE,type:"stove",label:"厨房1-炉具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:329.09803921568624,y:1121.6470588235295},rotation:-90,parentId:null},{id:"sink-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"厨房1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:420.6078431372549,y:1231.1568627450981},rotation:0,parentId:null},{id:"tv-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:d.w$.FURNITURE,type:"tv",label:"客厅1-电视1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:855.6078431372549,y:658.9411764705882},rotation:0,parentId:null},{id:"sofa-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:d.w$.FURNITURE,type:"sofa",label:"客厅1-沙发1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:891.5294117647059,y:800.4901960784314},rotation:-90,parentId:null},{id:"door-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"睡房2-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:754.2549019607843,y:944.8431372549019},rotation:-270,parentId:null},{id:"door-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"睡房1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:729.4117647058823,y:568.9607843137255},rotation:-90,parentId:null},{id:"wardrobe-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房2-柜1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:623.2745098039215,y:1063.6470588235295},rotation:0,parentId:null},{id:"wardrobe-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房1-柜1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:614.3529411764706,y:452.01960784313724},rotation:0,parentId:null},{id:"window-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:928.0196078431372,y:455},rotation:0,parentId:null},{id:"window-6",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"厨房1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:337.0588235294117,y:1196.6666666666667},rotation:0,parentId:null},{id:"wardrobe-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"厨房1-柜1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:520.9411764705883,y:1060.8431372549019},rotation:0,parentId:null},{id:"table-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:706.5294117647059,y:1171.392156862745},rotation:-90,parentId:null},{id:"chair-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:267.3529411764706,y:747.0196078431372},rotation:-90,parentId:"dining_room-1",offset:{x:75.50980392156873,y:107.13725490196077}},{id:"chair-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子3",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:328.5098039215686,y:747.6078431372548},rotation:-90,parentId:"dining_room-1",offset:{x:139.66666666666674,y:106.72549019607834}},{id:"chair-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:265.43137254901956,y:662.1764705882354},rotation:-270,parentId:"dining_room-1",offset:{x:77.58823529411768,y:16.294117647058897}},{id:"chair-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子4",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:325.52941176470586,y:660.3529411764705},rotation:-270,parentId:"dining_room-1",offset:{x:136.68627450980398,y:15.47058823529403}},{id:"wardrobe-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"客廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:653.9215686274509,y:809.0392156862745},rotation:-90,parentId:null},{id:"tv-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:d.w$.FURNITURE,type:"tv",label:"睡房2-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:850,y:962.2352941176471},rotation:0,parentId:null},{id:"plant-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:d.w$.FURNITURE,type:"plant",label:"陽台1-植物2",icon:"/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1057.2549019607843,y:871.6078431372549},rotation:0,parentId:null},{id:"plant-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:d.w$.FURNITURE,type:"plant",label:"陽台1-植物1",icon:"/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1055.2549019607843,y:650.9803921568628},rotation:0,parentId:null},{id:"door-6",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"陽台1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:1049.0819672131147,y:769.6393442622951},rotation:0,parentId:null}]},ef={canvasPosition:{x:0,y:-48},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:d.w$.ROOM,direction:"north",data:{cateType:d.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",parentRoom:null,size:{width:300,height:300}},size:{width:300,height:300},position:{x:522.4705882352941,y:339.37254901960785},rotation:0,parentId:null},{id:"dining_room-1",type:d.w$.ROOM,direction:"west",data:{cateType:d.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"/images/room-icon/dining_room.png",parentRoom:null,size:{width:300,height:300}},size:{width:475,height:362},position:{x:135.84313725490188,y:648.8823529411765},rotation:0,parentId:null},{id:"living_room-1",type:d.w$.ROOM,direction:"center",data:{cateType:d.w$.ROOM,type:"living_room",label:"客廳1",icon:"/images/room-icon/living_room.png",parentRoom:null,size:{width:300,height:300}},size:{width:573,height:370},position:{x:616.1176470588235,y:647.4509803921569},rotation:0,parentId:null},{id:"bedroom-1",type:d.w$.ROOM,direction:"northEast",data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",parentRoom:null,size:{width:300,height:300}},size:{width:367,height:304},position:{x:828.5882352941177,y:336.78431372549016},rotation:0,parentId:null},{id:"bedroom-2",type:d.w$.ROOM,direction:"south",data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房2",icon:"/images/room-icon/bedroom.png",parentRoom:null,size:{width:300,height:300}},size:{width:421,height:375},position:{x:710.3529411764706,y:1024.4705882352941},rotation:0,parentId:null},{id:"kitchen-1",type:d.w$.ROOM,direction:"southWest",data:{cateType:d.w$.ROOM,type:"kitchen",label:"廚房1",icon:"/images/room-icon/kitchen.png",parentRoom:null,size:{width:300,height:300}},size:{width:275,height:377},position:{x:427.0392156862745,y:1027.450980392157},rotation:0,parentId:null},{id:"balcony-1",type:d.w$.ROOM,direction:"east",data:{cateType:d.w$.ROOM,type:"balcony",label:"陽台1",icon:"/images/room-icon/balcony.png",parentRoom:null,size:{width:300,height:300}},size:{width:133,height:367},position:{x:1197.764705882353,y:649.8039215686274},rotation:0,parentId:null},{id:"bedroom-3",type:d.w$.ROOM,direction:"northWest",data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房3",icon:"/images/room-icon/bedroom.png",parentRoom:null,size:{width:300,height:300}},size:{width:300,height:300},position:{x:223.3770491803279,y:340.016393442623},rotation:0,parentId:null},{id:"toilet-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:d.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"/images/fur-icon/toilet.png",parentRoom:null,size:{width:40,height:60}},size:{width:40,height:60},position:{x:648.843137254902,y:361.5490196078431},rotation:0,parentId:null,offset:{x:126.37254901960785,y:22.176470588235247}},{id:"shower-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:d.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",parentRoom:null,size:{width:80,height:80}},size:{width:80,height:80},position:{x:721.2352941176471,y:538.4313725490196},rotation:0,parentId:null,offset:{x:198.76470588235293,y:199.0588235294117}},{id:"bathtub-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:d.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"/images/fur-icon/bathtub.png",parentRoom:null,size:{width:120,height:60}},size:{width:70,height:35},position:{x:727.8235294117646,y:367.92156862745094},rotation:0,parentId:null,offset:{x:205.3529411764705,y:28.549019607843093}},{id:"sink-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"/images/fur-icon/sink.png",parentRoom:null,size:{width:60,height:40}},size:{width:60,height:40},position:{x:529.9215686274509,y:491.11764705882354},rotation:-270,parentId:null,offset:{x:7.450980392156794,y:151.7450980392157}},{id:"door-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:644.313725490196,y:586.4117647058823},rotation:-90,parentId:null,offset:{x:132.84313725490193,y:243.03921568627447}},{id:"door-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:148.37254901960785,y:814.2156862745098},rotation:0,parentId:null,offset:{x:12.52941176470597,y:165.33333333333337}},{id:"window-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"飯廳1-窗1",icon:"/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:227.58823529411762,y:643.4901960784314},rotation:-90,parentId:null,offset:{x:91.74509803921575,y:-5.392156862745082}},{id:"table-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"/images/fur-icon/table.png",parentRoom:null,size:{width:44,height:120}},size:{width:44,height:120},position:{x:318.37254901960785,y:690.5294117647059},rotation:-90,parentId:null,offset:{x:271.52941176470597,y:145.6470588235294}},{id:"fridge-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:d.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"/images/fur-icon/fridge.png",parentRoom:null,size:{width:40,height:43}},size:{width:40,height:43},position:{x:451.2941176470588,y:1088.6666666666667},rotation:0,parentId:null,offset:{x:24.25490196078431,y:61.215686274509835}},{id:"door-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"廚房1-門1",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:545.4509803921569,y:1040.5686274509803},rotation:-270,parentId:null,offset:{x:118.41176470588243,y:13.117647058823422}},{id:"wardrobe-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:210.921568627451,y:909.0588235294117},rotation:-90,parentId:null,offset:{x:75.07843137254912,y:260.17647058823525}},{id:"bed-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"/images/fur-icon/bed.png",parentRoom:null,size:{width:89,height:128}},size:{width:89,height:128},position:{x:978.6862745098039,y:1232.078431372549},rotation:-180,parentId:null,offset:{x:268.33333333333326,y:207.6078431372548}},{id:"window-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:819.5882352941177,y:1351.313725490196},rotation:-270,parentId:null,offset:{x:109.23529411764707,y:326.8431372549019}},{id:"window-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:1101.549019607843,y:1192.1372549019607},rotation:0,parentId:null,offset:{x:391.1960784313725,y:167.66666666666652}},{id:"bookshelf-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:d.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"/images/fur-icon/bookshelf.png",parentRoom:null,size:{width:44,height:44}},size:{width:44,height:44},position:{x:1047.705882352941,y:790.9607843137255},rotation:0,parentId:null,offset:{x:431.58823529411745,y:143.50980392156862}},{id:"bed-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"/images/fur-icon/bed.png",parentRoom:null,size:{width:89,height:128}},size:{width:89,height:128},position:{x:1020.7254901960785,y:362.47058823529414},rotation:0,parentId:null,offset:{x:192.13725490196077,y:25.68627450980398}},{id:"stove-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:d.w$.FURNITURE,type:"stove",label:"廚房1-爐具1",icon:"/images/fur-icon/stove.png",parentRoom:null,size:{width:62,height:32}},size:{width:62,height:32},position:{x:441.09803921568624,y:1218.6470588235295},rotation:-90,parentId:null,offset:{x:14.058823529411768,y:191.1960784313726}},{id:"sink-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"廚房1-锌盘1",icon:"/images/fur-icon/sink.png",parentRoom:null,size:{width:60,height:40}},size:{width:60,height:40},position:{x:532.6078431372549,y:1328.1568627450981},rotation:0,parentId:null,offset:{x:105.56862745098044,y:300.7058823529412}},{id:"tv-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:d.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"/images/fur-icon/tv.png",parentRoom:null,size:{width:134,height:32}},size:{width:134,height:32},position:{x:1001.6078431372549,y:670.9411764705882},rotation:0,parentId:null,offset:{x:385.4901960784314,y:23.490196078431268}},{id:"sofa-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:d.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"/images/fur-icon/sofa.png",parentRoom:null,size:{width:67,height:123}},size:{width:67,height:123},position:{x:1042.5294117647059,y:893.4901960784314},rotation:-90,parentId:null,offset:{x:426.4117647058823,y:246.03921568627447}},{id:"door-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"睡房2-門1",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:871.2549019607843,y:1042.8431372549019},rotation:-270,parentId:null,offset:{x:160.9019607843137,y:18.37254901960773}},{id:"door-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:945.4117647058823,y:585.9607843137255},rotation:-90,parentId:null,offset:{x:116.82352941176464,y:249.17647058823536}},{id:"wardrobe-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房2-櫃1",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:740.2745098039215,y:1161.6470588235295},rotation:0,parentId:null,offset:{x:29.921568627450938,y:137.17647058823536}},{id:"wardrobe-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:853.3529411764706,y:458.01960784313724},rotation:0,parentId:null,offset:{x:24.764705882352928,y:121.23529411764707}},{id:"window-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:1167.0196078431372,y:461},rotation:0,parentId:null,offset:{x:338.43137254901956,y:124.21568627450984}},{id:"window-6",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",parentRoom:null,size:{width:8,height:56}},size:{width:8,height:56},position:{x:483,y:1337},rotation:-90,parentId:null,offset:{x:163.15686274509812,y:56.117647058823536}},{id:"wardrobe-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"廚房1-櫃1",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:632.9411764705883,y:1157.8431372549019},rotation:0,parentId:null,offset:{x:205.90196078431381,y:130.39215686274497}},{id:"table-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"/images/fur-icon/table.png",parentRoom:null,size:{width:44,height:120}},size:{width:44,height:120},position:{x:823.5294117647059,y:1269.392156862745},rotation:-90,parentId:null,offset:{x:113.17647058823525,y:244.92156862745082}},{id:"chair-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:297.3529411764706,y:790.0196078431372},rotation:-90,parentId:null,offset:{x:161.50980392156873,y:141.13725490196077}},{id:"chair-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子3",icon:"/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:349.5098039215686,y:789.6078431372548},rotation:-90,parentId:null,offset:{x:213.66666666666674,y:140.72549019607834}},{id:"chair-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:298.43137254901956,y:687.1764705882354},rotation:-270,parentId:null,offset:{x:162.58823529411768,y:38.2941176470589}},{id:"chair-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子4",icon:"/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:348.52941176470586,y:685.3529411764705},rotation:-270,parentId:null,offset:{x:212.68627450980398,y:36.47058823529403}},{id:"wardrobe-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"客廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:691.9215686274509,y:907.0392156862745},rotation:-90,parentId:null,offset:{x:75.8039215686274,y:259.58823529411757}},{id:"tv-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:d.w$.FURNITURE,type:"tv",label:"睡房2-電視1",icon:"/images/fur-icon/tv.png",parentRoom:null,size:{width:134,height:32}},size:{width:134,height:32},position:{x:967,y:1060.235294117647},rotation:0,parentId:null,offset:{x:256.6470588235294,y:35.76470588235293}},{id:"plant-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:d.w$.FURNITURE,type:"plant",label:"陽台1-植物1",icon:"/images/fur-icon/plant.png",parentRoom:null,size:{width:36,height:36}},size:{width:36,height:36},position:{x:1218.2549019607843,y:960.6078431372549},rotation:0,parentId:"balcony-1",offset:{x:26.49019607843138,y:235.80392156862752}},{id:"plant-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:d.w$.FURNITURE,type:"plant",label:"陽台1-植物2",icon:"/images/fur-icon/plant.png",parentRoom:null,size:{width:36,height:36}},size:{width:36,height:36},position:{x:1218.2549019607843,y:667.9803921568628},rotation:0,parentId:"balcony-1",offset:{x:24.49019607843138,y:15.176470588235361}},{id:"door-6",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"陽台1-門1",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:1216.0819672131147,y:783.6393442622951},rotation:0,parentId:"balcony-1",offset:{x:18.317261330761767,y:133.83542269366774}},{id:"bed-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"睡房3-床1",icon:"/images/fur-icon/bed.png",parentRoom:null,size:{width:89,height:128}},size:{width:89,height:128},position:{x:401.3606557377049,y:360.0655737704918},rotation:0,parentId:null},{id:"wardrobe-6",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房3-櫃1",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:239.95081967213116,y:375.09836065573774},rotation:0,parentId:null},{id:"door-7",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"未分配-門",icon:"/images/fur-icon/door.png",parentRoom:null,size:{width:40,height:40}},size:{width:40,height:40},position:{x:441.655737704918,y:582.1475409836065},rotation:-90,parentId:null},{id:"table-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"睡房3-枱1",icon:"/images/fur-icon/table.png",parentRoom:null,size:{width:44,height:120}},size:{width:44,height:120},position:{x:280.3606557377049,y:535.1475409836065},rotation:-90,parentId:null},{id:"chair-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"未分配-椅子",icon:"/images/fur-icon/chair.png",parentRoom:null,size:{width:28,height:35}},size:{width:28,height:35},position:{x:283.95081967213116,y:531.311475409836},rotation:-270,parentId:null},{id:"wardrobe-7",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"未分配-櫃",icon:"/images/fur-icon/wardrobe.png",parentRoom:null,size:{width:40,height:129}},size:{width:40,height:129},position:{x:810.6065573770493,y:618.4918032786885},rotation:-90,parentId:null}]},eR={...ef,localItems:ef.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("陽台","阳台").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},eI={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:d.w$.ROOM,direction:"northWest",data:{cateType:d.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:546.4705882352941,y:303.37254901960785},rotation:0,parentId:null},{id:"dining_room-1",type:d.w$.ROOM,direction:"southWest",data:{cateType:d.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:313,height:292},position:{x:535.8431372549019,y:613.8823529411765},rotation:0,parentId:null},{id:"living_room-1",type:d.w$.ROOM,direction:"south",data:{cateType:d.w$.ROOM,type:"living_room",label:"客廳1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:303,height:288},position:{x:867.1176470588235,y:620.4509803921569},rotation:0,parentId:null},{id:"bedroom-1",type:d.w$.ROOM,direction:"north",data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:853.5882352941177,y:300.78431372549016},rotation:0,parentId:null},{id:"balcony-1",type:d.w$.ROOM,direction:"southEast",data:{cateType:d.w$.ROOM,type:"balcony",label:"陽台1",icon:"/images/room-icon/balcony.png",size:{width:300,height:300}},size:{width:113,height:288},position:{x:1197.764705882353,y:624.8039215686274},rotation:0,parentId:null},{id:"toilet-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:d.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:662.843137254902,y:345.5490196078431},rotation:0,parentId:"bathroom-1",offset:{x:116.37254901960785,y:42.17647058823525}},{id:"shower-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:d.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:733.2352941176471,y:501.43137254901956},rotation:0,parentId:"bathroom-1",offset:{x:186.76470588235293,y:198.0588235294117}},{id:"bathtub-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:d.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:735.8235294117646,y:333.92156862745094},rotation:0,parentId:"bathroom-1",offset:{x:189.3529411764705,y:30.549019607843093}},{id:"sink-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:567.9215686274509,y:461.11764705882354},rotation:-270,parentId:"bathroom-1",offset:{x:21.450980392156794,y:157.7450980392157}},{id:"door-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:672.313725490196,y:542.4117647058823},rotation:-90,parentId:"bathroom-1",offset:{x:125.84313725490188,y:239.03921568627447}},{id:"window-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:587.7254901960785,y:338.7254901960784},rotation:-180,parentId:"bathroom-1",offset:{x:41.25490196078431,y:35.35294117647055}},{id:"door-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:564.3725490196078,y:790.2156862745098},rotation:0,parentId:null,offset:{x:28.52941176470597,y:176.33333333333337}},{id:"window-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:588.5882352941176,y:847.4901960784314},rotation:-90,parentId:null,offset:{x:52.74509803921575,y:233.60784313725492}},{id:"table-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:736.3725490196078,y:644.5294117647059},rotation:-90,parentId:null,offset:{x:200.52941176470597,y:30.64705882352939}},{id:"fridge-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:d.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:569.2941176470588,y:734.6666666666667},rotation:0,parentId:null,offset:{x:33.45098039215691,y:120.78431372549028}},{id:"wardrobe-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:718.921568627451,y:786.0588235294117},rotation:-90,parentId:null,offset:{x:183.07843137254912,y:172.17647058823525}},{id:"bookshelf-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:d.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:960.7058823529411,y:731.9607843137255},rotation:0,parentId:null,offset:{x:93.58823529411757,y:111.50980392156862}},{id:"bed-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:1045.7254901960785,y:326.47058823529414},rotation:0,parentId:null,offset:{x:192.13725490196077,y:25.68627450980398}},{id:"stove-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:d.w$.FURNITURE,type:"stove",label:"飯廳1-爐具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:552.0980392156862,y:670.6470588235295},rotation:-90,parentId:null,offset:{x:16.254901960784366,y:56.76470588235304}},{id:"sink-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"飯廳1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:612.6078431372549,y:644.1568627450981},rotation:0,parentId:null,offset:{x:76.76470588235304,y:30.27450980392166}},{id:"tv-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:d.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:939.6078431372549,y:658.9411764705882},rotation:0,parentId:null,offset:{x:72.49019607843138,y:38.49019607843127}},{id:"sofa-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:d.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:952.5294117647059,y:791.4901960784314},rotation:-90,parentId:null,offset:{x:85.41176470588232,y:171.03921568627447}},{id:"door-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:993.4117647058823,y:538.9607843137255},rotation:-90,parentId:null,offset:{x:139.82352941176464,y:238.17647058823536}},{id:"wardrobe-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:892.3529411764706,y:347.01960784313724},rotation:0,parentId:null,offset:{x:38.76470588235293,y:46.23529411764707}},{id:"window-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:1192.0196078431372,y:425},rotation:0,parentId:null,offset:{x:338.43137254901956,y:124.21568627450984}},{id:"chair-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:741.3529411764706,y:746.0196078431372},rotation:-90,parentId:null,offset:{x:205.50980392156873,y:132.13725490196077}},{id:"chair-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:745.4313725490196,y:644.1764705882354},rotation:-270,parentId:null,offset:{x:209.58823529411768,y:30.294117647058897}},{id:"plant-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:d.w$.FURNITURE,type:"plant",label:"陽台1-植物1",icon:"/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1224.2549019607843,y:860.6078431372549},rotation:0,parentId:null,offset:{x:26.49019607843138,y:235.80392156862752}},{id:"plant-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/plant-gr.png",data:{cateType:d.w$.FURNITURE,type:"plant",label:"陽台1-植物2",icon:"/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1230.2549019607843,y:655.9803921568628},rotation:0,parentId:null,offset:{x:32.49019607843138,y:31.17647058823536}},{id:"door-6",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"陽台1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:1224.0819672131147,y:750.6393442622951},rotation:0,parentId:null,offset:{x:26.317261330761767,y:125.83542269366774}}]},eU={...eI,localItems:eI.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("陽台","阳台").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},eT={canvasPosition:{x:0,y:-65},compassRotation:0,scale:61,localItems:[{id:"living_room-1",type:d.w$.ROOM,direction:"west",data:{cateType:d.w$.ROOM,type:"living_room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300},parentRoom:null},size:{width:222,height:301},position:{x:329.1639344262295,y:514.8852459016393},rotation:0,parentId:null},{id:"dining_room-1",type:d.w$.ROOM,direction:"southWest",data:{cateType:d.w$.ROOM,type:"dining_room",label:"饭厅1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300},parentRoom:null},size:{width:211,height:280},position:{x:333.72131147540983,y:820.7540983606558},rotation:0,parentId:null},{id:"kitchen-1",type:d.w$.ROOM,direction:"west",data:{cateType:d.w$.ROOM,type:"kitchen",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300},parentRoom:null},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},rotation:0,parentId:null},{id:"balcony-1",type:d.w$.ROOM,direction:"northWest",data:{cateType:d.w$.ROOM,type:"balcony",label:"阳台1",icon:"/images/room-icon/balcony.png",size:{width:300,height:300},parentRoom:null},size:{width:213,height:100},position:{x:332.9180327868853,y:409.8196721311475},rotation:0,parentId:null},{id:"corridor-1",type:d.w$.ROOM,direction:"center",data:{cateType:d.w$.ROOM,type:"corridor",label:"走廊1",icon:"/images/room-icon/corridor.png",size:{width:300,height:300},parentRoom:null},size:{width:573,height:109},position:{x:562.0983606557377,y:685.344262295082},rotation:0,parentId:null},{id:"bedroom-1",type:d.w$.ROOM,direction:"east",data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300},parentRoom:null},size:{width:373,height:378},position:{x:1130.8524590163934,y:413.96721311475414},rotation:0,parentId:null},{id:"bedroom-2",type:d.w$.ROOM,direction:"north",data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300},parentRoom:null},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},rotation:0,parentId:null},{id:"bedroom-3",type:d.w$.ROOM,direction:"northEast",data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房3",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300},parentRoom:null},size:{width:281,height:299},position:{x:842.7540983606558,y:383.37704918032796},rotation:0,parentId:null},{id:"bathroom-1",type:d.w$.ROOM,direction:"south",data:{cateType:d.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300},parentRoom:null},size:{width:215,height:288},position:{x:561.5245901639345,y:803.9344262295082},rotation:0,parentId:null},{id:"bathroom-2",type:d.w$.ROOM,direction:"southEast",data:{cateType:d.w$.ROOM,type:"bathroom",label:"浴室2",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300},parentRoom:null},size:{width:300,height:300},position:{x:996.7377049180327,y:797.3934426229508},rotation:0,parentId:null},{id:"window-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:null},size:{width:8,height:56},position:{x:208.13114754098362,y:618.983606557377},rotation:-90,parentId:null,offset:{x:97.93442622950815,y:75.14754098360652}},{id:"sink-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"未分配-锌盘",icon:"/images/fur-icon/sink.png",size:{width:60,height:40},parentRoom:null},size:{width:60,height:40},position:{x:184.13114754098362,y:668.1803278688524},rotation:0,parentId:null},{id:"stove-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:d.w$.FURNITURE,type:"stove",label:"厨房1-炉具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32},parentRoom:{id:"kitchen-1",type:"room",data:{type:"kitchen",cateType:"room",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},parentId:null}},size:{width:62,height:32},position:{x:124.72131147540983,y:745.6229508196723},rotation:-90,parentId:null},{id:"fridge-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:d.w$.FURNITURE,type:"fridge",label:"厨房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43},parentRoom:{id:"kitchen-1",type:"room",data:{type:"kitchen",cateType:"room",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},parentId:null}},size:{width:40,height:43},position:{x:136.63934426229508,y:821.5245901639344},rotation:0,parentId:null},{id:"table-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"饭厅1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120},parentRoom:{id:"dining_room-1",type:"room",data:{type:"dining_room",cateType:"room",label:"饭厅1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:211,height:280},position:{x:333.72131147540983,y:820.7540983606558},parentId:null}},size:{width:29,height:79.0909090909091},position:{x:463.95081967213116,y:983.2459016393443},rotation:-90,parentId:null},{id:"door-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"厨房1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:{id:"kitchen-1",type:"room",data:{type:"kitchen",cateType:"room",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},parentId:null}},size:{width:40,height:40},position:{x:258.13114754098365,y:748.4590163934427},rotation:-180,parentId:null},{id:"door-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:417.54098360655735,y:531.72131147541},rotation:-270,parentId:null},{id:"tv-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:d.w$.FURNITURE,type:"tv",label:"客厅1-电视1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32},parentRoom:{id:"living_room-1",type:"room",data:{type:"living_room",cateType:"room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:222,height:301},position:{x:329.1639344262295,y:514.8852459016393},parentId:null}},size:{width:134,height:32},position:{x:447.11475409836066,y:616.3934426229509},rotation:-90,parentId:null},{id:"sofa-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:d.w$.FURNITURE,type:"sofa",label:"客厅1-沙发1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123},parentRoom:{id:"living_room-1",type:"room",data:{type:"living_room",cateType:"room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:222,height:301},position:{x:329.1639344262295,y:514.8852459016393},parentId:null}},size:{width:67,height:123},position:{x:357.3606557377049,y:579.688524590164},rotation:0,parentId:null},{id:"window-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:8,height:56},position:{x:685.344262295082,y:378.37704918032784},rotation:-90,parentId:null},{id:"window-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:8,height:56},position:{x:949.1147540983607,y:380.7704918032787},rotation:-90,parentId:null},{id:"door-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:624.7540983606557,y:619.0819672131147},rotation:-90,parentId:null},{id:"door-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:923.7049180327868,y:626.4918032786886},rotation:-90,parentId:null},{id:"door-6",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:639.9344262295083,y:821.8688524590164},rotation:-270,parentId:null},{id:"door-7",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:1183.2131147540983,y:813.032786885246},rotation:-270,parentId:null},{id:"door-8",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"睡房1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:{id:"bedroom-1",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:373,height:378},position:{x:1130.8524590163934,y:413.96721311475414},parentId:null}},size:{width:40,height:40},position:{x:1157.016393442623,y:720.311475409836},rotation:0,parentId:null},{id:"window-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"走廊1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:{id:"corridor-1",type:"room",data:{type:"corridor",cateType:"room",label:"走廊1",icon:"/images/room-icon/corridor.png",size:{width:300,height:300}},size:{width:573,height:109},position:{x:562.0983606557377,y:685.344262295082},parentId:null}},size:{width:8,height:56},position:{x:1282.6065573770493,y:412.45901639344265},rotation:-90,parentId:"corridor-1",offset:{x:532.5081967213116,y:-1.8852459016393368}},{id:"bed-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"未分配-床",icon:"/images/fur-icon/bed.png",size:{width:89,height:128},parentRoom:null},size:{width:89,height:128},position:{x:1363.4918032786886,y:460.6065573770493},rotation:-270,parentId:null},{id:"lamp-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/lamp-gr.png",data:{cateType:d.w$.FURNITURE,type:"lamp",label:"睡房2-儿童床1",icon:"/images/fur-icon/lamp.png",size:{width:70,height:128},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:70,height:128},position:{x:742.1475409836065,y:421.14754098360663},rotation:0,parentId:null},{id:"lamp-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/lamp-gr.png",data:{cateType:d.w$.FURNITURE,type:"lamp",label:"睡房3-儿童床1",icon:"/images/fur-icon/lamp.png",size:{width:70,height:128},parentRoom:{id:"bedroom-3",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房3",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:281,height:299},position:{x:842.7540983606558,y:383.37704918032796},parentId:null}},size:{width:70,height:128},position:{x:1026.655737704918,y:420.29508196721304},rotation:0,parentId:null},{id:"washbasin-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/washbasin-gr.png",data:{cateType:d.w$.FURNITURE,type:"washbasin",label:"未分配-洗手盘",icon:"/images/fur-icon/washbasin.png",size:{width:50,height:50},parentRoom:null},size:{width:50,height:50},position:{x:694.1967213114755,y:1032.5737704918033},rotation:0,parentId:null},{id:"shower-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:d.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80},parentRoom:{id:"bathroom-1",type:"room",data:{type:"bathroom",cateType:"room",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:215,height:288},position:{x:561.5245901639345,y:803.9344262295082},parentId:null}},size:{width:80,height:80},position:{x:583.4754098360656,y:993.4426229508197},rotation:-90,parentId:null},{id:"toilet-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:d.w$.FURNITURE,type:"toilet",label:"未分配-马桶",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60},parentRoom:null},size:{width:40,height:60},position:{x:698.8360655737705,y:906.4262295081967},rotation:-270,parentId:null},{id:"toilet-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:d.w$.FURNITURE,type:"toilet",label:"未分配-马桶",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60},parentRoom:null},size:{width:40,height:60},position:{x:1162.6393442622953,y:1011.1803278688526},rotation:-180,parentId:null},{id:"washbasin-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/washbasin-gr.png",data:{cateType:d.w$.FURNITURE,type:"washbasin",label:"未分配-洗手盘",icon:"/images/fur-icon/washbasin.png",size:{width:50,height:50},parentRoom:null},size:{width:50,height:50},position:{x:1229.5901639344263,y:929},rotation:-90,parentId:null},{id:"bathtub-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:d.w$.FURNITURE,type:"bathtub",label:"浴室2-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60},parentRoom:{id:"bathroom-2",type:"room",data:{type:"bathroom",cateType:"room",label:"浴室2",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:996.7377049180327,y:797.3934426229508},parentId:null}},size:{width:48,height:24},position:{x:1022.9180327868853,y:963.8032786885246},rotation:0,parentId:null},{id:"wardrobe-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"未分配-柜",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:null},size:{width:40,height:129},position:{x:487.672131147541,y:845.1803278688524},rotation:0,parentId:null},{id:"wardrobe-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房2-柜1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:40,height:129},position:{x:580.5737704918033,y:449.1803278688524},rotation:0,parentId:null},{id:"wardrobe-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"未分配-柜",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:null},size:{width:40,height:129},position:{x:868.6065573770492,y:459.9180327868853},rotation:0,parentId:null},{id:"wardrobe-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"未分配-柜",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:null},size:{width:40,height:129},position:{x:1370.2131147540983,y:680.7540983606557},rotation:-90,parentId:null},{id:"bookshelf-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:d.w$.FURNITURE,type:"bookshelf",label:"未分配-茶几",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44},parentRoom:null},size:{width:44,height:44},position:{x:437.27868852459017,y:615.2786885245903},rotation:0,parentId:null},{id:"bookshelf-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:d.w$.FURNITURE,type:"bookshelf",label:"未分配-茶几",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44},parentRoom:null},size:{width:44,height:44},position:{x:1436.1311475409836,y:639.016393442623},rotation:0,parentId:null}]},ev={...eT,localItems:eT.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("陽台","阳台").replace("走廊","走廊").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},eN={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:284.47058823529414,y:329.37254901960785},rotation:0},{id:"dining_room-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:441,height:296},position:{x:144.84313725490188,y:632.8823529411765},rotation:0},{id:"living_room-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"living_room",label:"客廳1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:443,height:290},position:{x:588.1176470588235,y:634.4509803921569},rotation:0},{id:"bedroom-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:589.5882352941177,y:330.78431372549016},rotation:0},{id:"bedroom-2",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:421,height:375},position:{x:593.3529411764706,y:926.4705882352941},rotation:0},{id:"kitchen-1",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:"kitchen",label:"廚房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:270,height:363},position:{x:315.0392156862745,y:930.4509803921569},rotation:0},{id:"toilet-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:d.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:410.843137254902,y:351.5490196078431},rotation:0,parentId:null,offset:{x:134.843137254902,y:7.549019607843093}},{id:"shower-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:d.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:483.2352941176471,y:528.4313725490196},rotation:0,parentId:null,offset:{x:211.23529411764707,y:207.43137254901956}},{id:"bathtub-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:d.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:489.82352941176464,y:357.92156862745094},rotation:0,parentId:null,offset:{x:219.82352941176464,y:52.92156862745094}},{id:"sink-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:291.92156862745094,y:481.11764705882354},rotation:-270,parentId:null,offset:{x:-5.078431372549062,y:153.11764705882354}},{id:"door-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:417.3137254901961,y:572.4117647058823},rotation:-90,parentId:null},{id:"window-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:310.72549019607845,y:362.7254901960784},rotation:-180,parentId:null},{id:"door-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:160.37254901960785,y:755.2156862745098},rotation:0,parentId:"dining_room-1",offset:{x:4.529411764705969,y:131.33333333333337}},{id:"window-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:240.58823529411762,y:622.4901960784314},rotation:-90,parentId:"dining_room-1",offset:{x:91.74509803921575,y:-20.392156862745082}},{id:"table-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:290.37254901960785,y:657.5294117647059},rotation:-90,parentId:"dining_room-1",offset:{x:100.52941176470597,y:9.647058823529392}},{id:"fridge-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:d.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:339.2941176470588,y:991.6666666666667},rotation:0,parentId:null},{id:"door-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"廚房1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:433.4509803921569,y:943.5686274509803},rotation:-270,parentId:null},{id:"wardrobe-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:307.921568627451,y:809.0588235294117},rotation:-90,parentId:"dining_room-1",offset:{x:166.07843137254912,y:203.17647058823525}},{id:"bed-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:861.6862745098039,y:1134.078431372549},rotation:-180,parentId:null},{id:"window-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:702.5882352941177,y:1253.313725490196},rotation:-270,parentId:null},{id:"window-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:984.5490196078431,y:1094.1372549019607},rotation:0,parentId:null},{id:"bookshelf-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:d.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:899.7058823529411,y:748.9607843137255},rotation:0,parentId:null},{id:"bed-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:781.7254901960785,y:356.47058823529414},rotation:0,parentId:null},{id:"stove-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:d.w$.FURNITURE,type:"stove",label:"廚房1-爐具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:329.09803921568624,y:1121.6470588235295},rotation:-90,parentId:null},{id:"sink-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"廚房1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:420.6078431372549,y:1231.1568627450981},rotation:0,parentId:null},{id:"tv-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:d.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:855.6078431372549,y:658.9411764705882},rotation:0,parentId:null},{id:"sofa-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:d.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:891.5294117647059,y:800.4901960784314},rotation:-90,parentId:null},{id:"door-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"睡房2-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:754.2549019607843,y:944.8431372549019},rotation:-270,parentId:null},{id:"door-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:729.4117647058823,y:568.9607843137255},rotation:-90,parentId:null},{id:"wardrobe-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房2-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:623.2745098039215,y:1063.6470588235295},rotation:0,parentId:null},{id:"wardrobe-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:614.3529411764706,y:452.01960784313724},rotation:0,parentId:null},{id:"window-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:928.0196078431372,y:455},rotation:0,parentId:null},{id:"window-6",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"廚房1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:337.0588235294117,y:1196.6666666666667},rotation:0,parentId:null},{id:"wardrobe-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"廚房1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:520.9411764705883,y:1060.8431372549019},rotation:0,parentId:null},{id:"table-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:706.5294117647059,y:1171.392156862745},rotation:-90,parentId:null},{id:"chair-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:267.3529411764706,y:747.0196078431372},rotation:-90,parentId:"dining_room-1",offset:{x:75.50980392156873,y:107.13725490196077}},{id:"chair-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子3",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:328.5098039215686,y:747.6078431372548},rotation:-90,parentId:"dining_room-1",offset:{x:139.66666666666674,y:106.72549019607834}},{id:"chair-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:265.43137254901956,y:662.1764705882354},rotation:-270,parentId:"dining_room-1",offset:{x:77.58823529411768,y:16.294117647058897}},{id:"chair-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子4",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:325.52941176470586,y:660.3529411764705},rotation:-270,parentId:"dining_room-1",offset:{x:136.68627450980398,y:15.47058823529403}},{id:"wardrobe-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"客廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:653.9215686274509,y:809.0392156862745},rotation:-90,parentId:null},{id:"tv-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:d.w$.FURNITURE,type:"tv",label:"睡房2-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:850,y:962.2352941176471},rotation:0,parentId:null}]},ez={...eN,localItems:eN.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("陽台","阳台").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},eE={canvasPosition:{x:0,y:-65},compassRotation:0,scale:61,localItems:[{id:"living_room-1",type:d.w$.ROOM,direction:"west",data:{cateType:d.w$.ROOM,type:"living_room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300},parentRoom:null},size:{width:222,height:301},position:{x:329.1639344262295,y:514.8852459016393},rotation:0,parentId:null},{id:"dining_room-1",type:d.w$.ROOM,direction:"southWest",data:{cateType:d.w$.ROOM,type:"dining_room",label:"饭厅1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300},parentRoom:null},size:{width:211,height:280},position:{x:333.72131147540983,y:820.7540983606558},rotation:0,parentId:null},{id:"kitchen-1",type:d.w$.ROOM,direction:"west",data:{cateType:d.w$.ROOM,type:"kitchen",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300},parentRoom:null},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},rotation:0,parentId:null},{id:"corridor-1",type:d.w$.ROOM,direction:"center",data:{cateType:d.w$.ROOM,type:"corridor",label:"走廊1",icon:"/images/room-icon/corridor.png",size:{width:300,height:300},parentRoom:null},size:{width:573,height:109},position:{x:562.0983606557377,y:685.344262295082},rotation:0,parentId:null},{id:"bedroom-1",type:d.w$.ROOM,direction:"east",data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300},parentRoom:null},size:{width:373,height:378},position:{x:1130.8524590163934,y:413.96721311475414},rotation:0,parentId:null},{id:"bedroom-2",type:d.w$.ROOM,direction:"north",data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300},parentRoom:null},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},rotation:0,parentId:null},{id:"bedroom-3",type:d.w$.ROOM,direction:"northEast",data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房3",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300},parentRoom:null},size:{width:281,height:299},position:{x:842.7540983606558,y:383.37704918032796},rotation:0,parentId:null},{id:"bathroom-1",type:d.w$.ROOM,direction:"south",data:{cateType:d.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300},parentRoom:null},size:{width:215,height:288},position:{x:561.5245901639345,y:803.9344262295082},rotation:0,parentId:null},{id:"bathroom-2",type:d.w$.ROOM,direction:"southEast",data:{cateType:d.w$.ROOM,type:"bathroom",label:"浴室2",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300},parentRoom:null},size:{width:300,height:300},position:{x:996.7377049180327,y:797.3934426229508},rotation:0,parentId:null},{id:"window-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:null},size:{width:8,height:56},position:{x:208.13114754098362,y:618.983606557377},rotation:-90,parentId:null,offset:{x:97.93442622950815,y:75.14754098360652}},{id:"sink-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"未分配-锌盘",icon:"/images/fur-icon/sink.png",size:{width:60,height:40},parentRoom:null},size:{width:60,height:40},position:{x:184.13114754098362,y:668.1803278688524},rotation:0,parentId:null},{id:"stove-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:d.w$.FURNITURE,type:"stove",label:"厨房1-炉具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32},parentRoom:{id:"kitchen-1",type:"room",data:{type:"kitchen",cateType:"room",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},parentId:null}},size:{width:62,height:32},position:{x:124.72131147540983,y:745.6229508196723},rotation:-90,parentId:null},{id:"fridge-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:d.w$.FURNITURE,type:"fridge",label:"厨房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43},parentRoom:{id:"kitchen-1",type:"room",data:{type:"kitchen",cateType:"room",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},parentId:null}},size:{width:40,height:43},position:{x:136.63934426229508,y:821.5245901639344},rotation:0,parentId:null},{id:"table-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"饭厅1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120},parentRoom:{id:"dining_room-1",type:"room",data:{type:"dining_room",cateType:"room",label:"饭厅1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:211,height:280},position:{x:333.72131147540983,y:820.7540983606558},parentId:null}},size:{width:29,height:79.0909090909091},position:{x:463.95081967213116,y:983.2459016393443},rotation:-90,parentId:null},{id:"door-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"厨房1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:{id:"kitchen-1",type:"room",data:{type:"kitchen",cateType:"room",label:"厨房1",icon:"/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:210,height:271},position:{x:110.19672131147547,y:616.8360655737705},parentId:null}},size:{width:40,height:40},position:{x:258.13114754098365,y:748.4590163934427},rotation:-180,parentId:null},{id:"door-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:417.54098360655735,y:531.72131147541},rotation:-270,parentId:null},{id:"tv-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:d.w$.FURNITURE,type:"tv",label:"客厅1-电视1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32},parentRoom:{id:"living_room-1",type:"room",data:{type:"living_room",cateType:"room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:222,height:301},position:{x:329.1639344262295,y:514.8852459016393},parentId:null}},size:{width:134,height:32},position:{x:447.11475409836066,y:616.3934426229509},rotation:-90,parentId:null},{id:"sofa-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:d.w$.FURNITURE,type:"sofa",label:"客厅1-沙发1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123},parentRoom:{id:"living_room-1",type:"room",data:{type:"living_room",cateType:"room",label:"客厅1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:222,height:301},position:{x:329.1639344262295,y:514.8852459016393},parentId:null}},size:{width:67,height:123},position:{x:357.3606557377049,y:579.688524590164},rotation:0,parentId:null},{id:"window-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:8,height:56},position:{x:685.344262295082,y:378.37704918032784},rotation:-90,parentId:null},{id:"window-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:8,height:56},position:{x:949.1147540983607,y:380.7704918032787},rotation:-90,parentId:null},{id:"door-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:624.7540983606557,y:619.0819672131147},rotation:-90,parentId:null},{id:"door-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:923.7049180327868,y:626.4918032786886},rotation:-90,parentId:null},{id:"door-6",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:639.9344262295083,y:821.8688524590164},rotation:-270,parentId:null},{id:"door-7",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"未分配-门",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:null},size:{width:40,height:40},position:{x:1183.2131147540983,y:813.032786885246},rotation:-270,parentId:null},{id:"door-8",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"睡房1-门1",icon:"/images/fur-icon/door.png",size:{width:40,height:40},parentRoom:{id:"bedroom-1",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:373,height:378},position:{x:1130.8524590163934,y:413.96721311475414},parentId:null}},size:{width:40,height:40},position:{x:1157.016393442623,y:720.311475409836},rotation:0,parentId:null},{id:"window-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"走廊1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56},parentRoom:{id:"corridor-1",type:"room",data:{type:"corridor",cateType:"room",label:"走廊1",icon:"/images/room-icon/corridor.png",size:{width:300,height:300}},size:{width:573,height:109},position:{x:562.0983606557377,y:685.344262295082},parentId:null}},size:{width:8,height:56},position:{x:1282.6065573770493,y:412.45901639344265},rotation:-90,parentId:"corridor-1",offset:{x:532.5081967213116,y:-1.8852459016393368}},{id:"bed-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"未分配-床",icon:"/images/fur-icon/bed.png",size:{width:89,height:128},parentRoom:null},size:{width:89,height:128},position:{x:1363.4918032786886,y:460.6065573770493},rotation:-270,parentId:null},{id:"lamp-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/lamp-gr.png",data:{cateType:d.w$.FURNITURE,type:"lamp",label:"睡房2-儿童床1",icon:"/images/fur-icon/lamp.png",size:{width:70,height:128},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:70,height:128},position:{x:742.1475409836065,y:421.14754098360663},rotation:0,parentId:null},{id:"lamp-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/lamp-gr.png",data:{cateType:d.w$.FURNITURE,type:"lamp",label:"睡房3-儿童床1",icon:"/images/fur-icon/lamp.png",size:{width:70,height:128},parentRoom:{id:"bedroom-3",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房3",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:281,height:299},position:{x:842.7540983606558,y:383.37704918032796},parentId:null}},size:{width:70,height:128},position:{x:1026.655737704918,y:420.29508196721304},rotation:0,parentId:null},{id:"washbasin-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/washbasin-gr.png",data:{cateType:d.w$.FURNITURE,type:"washbasin",label:"未分配-洗手盘",icon:"/images/fur-icon/washbasin.png",size:{width:50,height:50},parentRoom:null},size:{width:50,height:50},position:{x:694.1967213114755,y:1032.5737704918033},rotation:0,parentId:null},{id:"shower-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:d.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80},parentRoom:{id:"bathroom-1",type:"room",data:{type:"bathroom",cateType:"room",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:215,height:288},position:{x:561.5245901639345,y:803.9344262295082},parentId:null}},size:{width:80,height:80},position:{x:583.4754098360656,y:993.4426229508197},rotation:-90,parentId:null},{id:"toilet-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:d.w$.FURNITURE,type:"toilet",label:"未分配-马桶",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60},parentRoom:null},size:{width:40,height:60},position:{x:698.8360655737705,y:906.4262295081967},rotation:-270,parentId:null},{id:"toilet-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:d.w$.FURNITURE,type:"toilet",label:"未分配-马桶",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60},parentRoom:null},size:{width:40,height:60},position:{x:1162.6393442622953,y:1011.1803278688526},rotation:-180,parentId:null},{id:"washbasin-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/washbasin-gr.png",data:{cateType:d.w$.FURNITURE,type:"washbasin",label:"未分配-洗手盘",icon:"/images/fur-icon/washbasin.png",size:{width:50,height:50},parentRoom:null},size:{width:50,height:50},position:{x:1229.5901639344263,y:929},rotation:-90,parentId:null},{id:"bathtub-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:d.w$.FURNITURE,type:"bathtub",label:"浴室2-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60},parentRoom:{id:"bathroom-2",type:"room",data:{type:"bathroom",cateType:"room",label:"浴室2",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:996.7377049180327,y:797.3934426229508},parentId:null}},size:{width:48,height:24},position:{x:1022.9180327868853,y:963.8032786885246},rotation:0,parentId:null},{id:"wardrobe-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"未分配-柜",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:null},size:{width:40,height:129},position:{x:487.672131147541,y:845.1803278688524},rotation:0,parentId:null},{id:"wardrobe-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房2-柜1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:{id:"bedroom-2",type:"room",data:{type:"bedroom",cateType:"room",label:"睡房2",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:274,height:297},position:{x:559.3114754098361,y:382.7540983606558},parentId:null}},size:{width:40,height:129},position:{x:580.5737704918033,y:449.1803278688524},rotation:0,parentId:null},{id:"wardrobe-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"未分配-柜",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:null},size:{width:40,height:129},position:{x:868.6065573770492,y:459.9180327868853},rotation:0,parentId:null},{id:"wardrobe-4",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"未分配-柜",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129},parentRoom:null},size:{width:40,height:129},position:{x:1370.2131147540983,y:680.7540983606557},rotation:-90,parentId:null},{id:"bookshelf-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:d.w$.FURNITURE,type:"bookshelf",label:"未分配-茶几",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44},parentRoom:null},size:{width:44,height:44},position:{x:437.27868852459017,y:615.2786885245903},rotation:0,parentId:null},{id:"bookshelf-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:d.w$.FURNITURE,type:"bookshelf",label:"未分配-茶几",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44},parentRoom:null},size:{width:44,height:44},position:{x:1436.1311475409836,y:639.016393442623},rotation:0,parentId:null}]},e$={...eT,localItems:eT.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("走廊","走廊").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},ej={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:d.w$.ROOM,direction:"northWest",data:{cateType:d.w$.ROOM,type:"bathroom",label:"浴室1",icon:"/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:546.4705882352941,y:303.37254901960785},rotation:0,parentId:null},{id:"dining_room-1",type:d.w$.ROOM,direction:"southWest",data:{cateType:d.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:313,height:292},position:{x:535.8431372549019,y:613.8823529411765},rotation:0,parentId:null},{id:"living_room-1",type:d.w$.ROOM,direction:"south",data:{cateType:d.w$.ROOM,type:"living_room",label:"客廳1",icon:"/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:303,height:288},position:{x:867.1176470588235,y:620.4509803921569},rotation:0,parentId:null},{id:"bedroom-1",type:d.w$.ROOM,direction:"north",data:{cateType:d.w$.ROOM,type:"bedroom",label:"睡房1",icon:"/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:853.5882352941177,y:300.78431372549016},rotation:0,parentId:null},{id:"toilet-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/toilet-gr.png",data:{cateType:d.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:662.843137254902,y:345.5490196078431},rotation:0,parentId:"bathroom-1",offset:{x:116.37254901960785,y:42.17647058823525}},{id:"shower-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/shower-gr.png",data:{cateType:d.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:733.2352941176471,y:501.43137254901956},rotation:0,parentId:"bathroom-1",offset:{x:186.76470588235293,y:198.0588235294117}},{id:"bathtub-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bathtub-gr.png",data:{cateType:d.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:735.8235294117646,y:333.92156862745094},rotation:0,parentId:"bathroom-1",offset:{x:189.3529411764705,y:30.549019607843093}},{id:"sink-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:567.9215686274509,y:461.11764705882354},rotation:-270,parentId:"bathroom-1",offset:{x:21.450980392156794,y:157.7450980392157}},{id:"door-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:672.313725490196,y:542.4117647058823},rotation:-90,parentId:"bathroom-1",offset:{x:125.84313725490188,y:239.03921568627447}},{id:"window-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:587.7254901960785,y:338.7254901960784},rotation:-180,parentId:"bathroom-1",offset:{x:41.25490196078431,y:35.35294117647055}},{id:"door-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:564.3725490196078,y:790.2156862745098},rotation:0,parentId:null,offset:{x:28.52941176470597,y:176.33333333333337}},{id:"window-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:588.5882352941176,y:847.4901960784314},rotation:-90,parentId:null,offset:{x:52.74509803921575,y:233.60784313725492}},{id:"table-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/table-gr.png",data:{cateType:d.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:736.3725490196078,y:644.5294117647059},rotation:-90,parentId:null,offset:{x:200.52941176470597,y:30.64705882352939}},{id:"fridge-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/fridge-gr.png",data:{cateType:d.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:569.2941176470588,y:734.6666666666667},rotation:0,parentId:null,offset:{x:33.45098039215691,y:120.78431372549028}},{id:"wardrobe-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:718.921568627451,y:786.0588235294117},rotation:-90,parentId:null,offset:{x:183.07843137254912,y:172.17647058823525}},{id:"bookshelf-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bookshelf-gr.png",data:{cateType:d.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:960.7058823529411,y:731.9607843137255},rotation:0,parentId:null,offset:{x:93.58823529411757,y:111.50980392156862}},{id:"bed-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/bed-gr.png",data:{cateType:d.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:1045.7254901960785,y:326.47058823529414},rotation:0,parentId:null,offset:{x:192.13725490196077,y:25.68627450980398}},{id:"stove-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/stove-gr.png",data:{cateType:d.w$.FURNITURE,type:"stove",label:"飯廳1-爐具1",icon:"/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:552.0980392156862,y:670.6470588235295},rotation:-90,parentId:null,offset:{x:16.254901960784366,y:56.76470588235304}},{id:"sink-2",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sink-gr.png",data:{cateType:d.w$.FURNITURE,type:"sink",label:"飯廳1-锌盘1",icon:"/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:612.6078431372549,y:644.1568627450981},rotation:0,parentId:null,offset:{x:76.76470588235304,y:30.27450980392166}},{id:"tv-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/tv-gr.png",data:{cateType:d.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:939.6078431372549,y:658.9411764705882},rotation:0,parentId:null,offset:{x:72.49019607843138,y:38.49019607843127}},{id:"sofa-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/sofa-gr.png",data:{cateType:d.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:952.5294117647059,y:791.4901960784314},rotation:-90,parentId:null,offset:{x:85.41176470588232,y:171.03921568627447}},{id:"door-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/door-gr.png",data:{cateType:d.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:993.4117647058823,y:538.9607843137255},rotation:-90,parentId:null,offset:{x:139.82352941176464,y:238.17647058823536}},{id:"wardrobe-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/wardrobe-gr.png",data:{cateType:d.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:892.3529411764706,y:347.01960784313724},rotation:0,parentId:null,offset:{x:38.76470588235293,y:46.23529411764707}},{id:"window-5",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/window-gr.png",data:{cateType:d.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:1192.0196078431372,y:425},rotation:0,parentId:null,offset:{x:338.43137254901956,y:124.21568627450984}},{id:"chair-1",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:741.3529411764706,y:746.0196078431372},rotation:-90,parentId:null,offset:{x:205.50980392156873,y:132.13725490196077}},{id:"chair-3",type:d.w$.FURNITURE,activeIcon:"/images/fur-icon/chair-gr.png",data:{cateType:d.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:745.4313725490196,y:644.1764705882354},rotation:-270,parentId:null,offset:{x:209.58823529411768,y:30.294117647058897}}]},eF={...ej,localItems:ej.localItems.map(e=>({...e,data:{...e.data,label:e.data.label.replace("飯廳","饭厅").replace("客廳","客厅").replace("廚房","厨房").replace("陽台","阳台").replace("走廊","走廊").replace("睡房","睡房").replace("櫃","柜").replace("枱","枱").replace("門","门").replace("窗","窗").replace("馬桶","马桶").replace("浸浴","浸浴").replace("锌盘","锌盘").replace("電視","电视").replace("沙發","沙发").replace("爐具","炉具").replace("植物","植物").replace("未分配","未分配")}}))},eO={[d.sR.LIVING_ROOM]:"#F0DF9C",[d.sR.DINING_ROOM]:"#F5D4BC",[d.sR.STORAGE_ROOM]:"#ADC0BC",[d.sR.STUDY_ROOM]:"#B0B8C9",[d.sR.BEDROOM]:"#F5B8B8",[d.sR.BATHROOM]:"#C1D7E2",[d.sR.KITCHEN]:"#EDE0C6",[d.sR.BALCONY]:"#D0DCAA",[d.sR.GARDEN]:"#AACDBC",[d.sR.GARAGE]:"#C7C7DD",[d.sR.CORRIDOR]:"#CDCDCD"};function ek(e){var t,i;let{children:o,locale:n}=e,{data:r,status:d}=(0,W.wV)(),c=(0,s.useRouter)(),[h,p]=(0,l.useState)(!1),[g,w]=(0,l.useState)(!0),m=(0,R.c3)("design");return((0,l.useEffect)(()=>{(async()=>{var e;if("loading"!==d){if(!(null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.userId)){c.push("/".concat(n,"/auth/login?callbackUrl=/").concat(n,"/design"));return}try{let{status:e,data:t}=await (0,Y.Jt)("/api/users/".concat(r.user.userId));if(0===e){if(t.isLock){c.push("/".concat(n,"/price?redirect=design"));return}p(!0)}else{c.push("/".concat(n,"/auth/login"));return}}catch(e){c.push("/".concat(n,"/price"));return}finally{w(!1)}}})()},[r,d,c,n]),(0,l.useEffect)(()=>{var e;let t=null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.userId;if(!t||h)return;let i=setInterval(async()=>{try{let{status:e,data:o}=await (0,Y.Jt)("/api/users/".concat(t));0!==e||o.isLock||(p(!0),w(!1),clearInterval(i))}catch(e){}},2e3);return()=>{clearInterval(i)}},[null==r?void 0:null===(t=r.user)||void 0===t?void 0:t.userId,h]),(0,l.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("payment"),i=e.get("session_id");"success"===t&&i&&!h&&(w(!0),(async()=>{var e;let t=null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.userId;if(t)try{await new Promise(e=>setTimeout(e,1e3));let{status:e,data:i}=await (0,Y.Jt)("/api/users/".concat(t));0!==e||i.isLock||p(!0)}catch(e){}finally{w(!1),window.history.replaceState({},document.title,window.location.pathname)}})())},[null==r?void 0:null===(i=r.user)||void 0===i?void 0:i.userId,h]),g)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-32 h-32 mx-auto border-b-2 border-green-500 rounded-full animate-spin"}),(0,a.jsx)("p",{className:"mt-4 text-lg",children:m("verifyingAccess")})]})}):h?o:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-lg",children:m("redirecting")})})})}function eM(e){let{open:t,onClose:i,onSelectModule:o}=e,[n,r]=(0,l.useState)(1),[s,d]=(0,l.useState)(null),[c,h]=(0,l.useState)(null),[p,g]=(0,l.useState)(null),w=(0,I.A)(),m=(0,R.c3)("design"),u=()=>{r(1),d(null),h(null),g(null)},y=()=>{u(),i()},x=e=>{d(e),3===e?r(2):r(3)},b=e=>{h(e),2===e?r(3):(o("2"),y())},f=e=>{g(e),3===s&&2===c?"yes"===e?o("4"):o("7"):1===s?"yes"===e?o("3"):o("7"):2===s&&("yes"===e?o("1"):o("5")),y()};return t?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-opacity-50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg sm:max-w-[432px] w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"flex items-center justify-center pt-6 pb-4",children:(0,a.jsx)("div",{className:"flex space-x-2",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"w-3 h-3 rounded-full transition-colors ".concat(e<=n?"bg-[#13ab87]":"bg-gray-300")},e))})}),(0,a.jsxs)("div",{className:"px-6 pb-4",children:[(0,a.jsx)("div",{className:"mb-4 text-lg font-bold text-center md:text-xl md:text-left",children:m("wizardTitle")}),(0,a.jsx)("div",{className:"py-4 text-sm text-left text-gray-600 md:text-base",children:m("wizardSubtitle")})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 md:hidden"}),(0,a.jsx)("div",{className:"p-6 pt-4",children:(0,a.jsxs)("div",{className:"grid gap-4 pb-4",children:[1===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4 text-lg font-bold text-center",children:m("wizardStep1Title")}),(0,a.jsx)("div",{className:"grid gap-3",children:[{count:1,label:m("oneRoom")},{count:2,label:m("twoRooms")},{count:3,label:m("threeRooms")}].map(e=>{let{count:t,label:i}=e;return(0,a.jsx)("button",{className:"w-full py-4 bg-[#13ab87] hover:bg-[#0f9674] text-white font-bold rounded-[100px] text-base transition-colors",onClick:()=>x(t),children:i},t)})})]}),2===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4 text-lg font-bold text-center",children:m("wizardStep2Title")}),(0,a.jsx)("div",{className:"grid gap-3",children:[{count:1,label:m("oneBathroom")},{count:2,label:m("twoBathrooms")}].map(e=>{let{count:t,label:i}=e;return(0,a.jsx)("button",{className:"w-full py-4 bg-[#13ab87] hover:bg-[#0f9674] text-white font-bold rounded-[100px] text-base transition-colors",onClick:()=>b(t),children:i},t)})})]}),3===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4 text-lg font-bold text-center",children:m("wizardStep3Title")}),(0,a.jsx)("div",{className:"grid gap-3",children:[{value:"yes",label:m("hasBalcony")},{value:"no",label:m("noBalcony")}].map(e=>{let{value:t,label:i}=e;return(0,a.jsx)("button",{className:"w-full py-4 bg-[#13ab87] hover:bg-[#0f9674] text-white font-bold rounded-[100px] text-base transition-colors",onClick:()=>f(t),children:i},t)})})]}),w?(0,a.jsx)("div",{className:"flex justify-around",children:(0,a.jsx)("button",{onClick:y,className:"px-10 text-foreground rounded-[100px] bg-white font-bold mt-10 hover:bg-gray-50 transition-colors",children:m("cancel")})}):(0,a.jsx)("button",{onClick:y,className:"w-full text-foreground rounded-[100px] bg-white font-bold mt-10 hover:bg-gray-50 transition-colors",children:m("cancel")})]})})]})}):null}function eC(e){var t,i;let{params:o}=e,c=(0,l.use)(o).locale,h=(0,R.c3)("design"),p=(0,R.c3)("toast"),g="zh-TW"===c?d.t7:d.Xs,w="zh-TW"===c?d.Gx:d.Qc,m="zh-TW"===c?ex:eb,u="zh-TW"===c?ef:eR,y="zh-TW"===c?eI:eU,b="zh-TW"===c?eT:ev,f="zh-TW"===c?eN:ez,T="zh-TW"===c?eE:e$,v="zh-TW"===c?ej:eF,z=[{id:"door-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.DOOR,label:w[d.x9.DOOR],icon:"/images/fur-icon/door.png",activeIcon:"/images/fur-icon/door-gr.png",size:{width:40,height:40}}},{id:"window-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.WINDOW,label:w[d.x9.WINDOW],icon:"/images/fur-icon/window.png",activeIcon:"/images/fur-icon/window-gr.png",size:{width:8,height:56}}},{id:"table-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.TABLE,label:w[d.x9.TABLE],icon:"/images/fur-icon/table.png",activeIcon:"/images/fur-icon/table-gr.png",size:{width:44,height:120}}},{id:"chair-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.CHAIR,label:w[d.x9.CHAIR],icon:"/images/fur-icon/chair.png",activeIcon:"/images/fur-icon/chair-gr.png",size:{width:28,height:35}}},{id:"sofa-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.SOFA,label:w[d.x9.SOFA],icon:"/images/fur-icon/sofa.png",activeIcon:"/images/fur-icon/sofa-gr.png",size:{width:67,height:123}}},{id:"bed-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.BED,label:w[d.x9.BED],icon:"/images/fur-icon/bed.png",activeIcon:"/images/fur-icon/bed-gr.png",size:{width:89,height:128}}},{id:"lamp-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.LAMP,label:w[d.x9.LAMP],icon:"/images/fur-icon/lamp.png",activeIcon:"/images/fur-icon/lamp-gr.png",size:{width:70,height:128}}},{id:"tv-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.TV,label:w[d.x9.TV],icon:"/images/fur-icon/tv.png",activeIcon:"/images/fur-icon/tv-gr.png",size:{width:134,height:32}}},{id:"bookshelf-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.BOOKSHELF,label:w[d.x9.BOOKSHELF],icon:"/images/fur-icon/bookshelf.png",activeIcon:"/images/fur-icon/bookshelf-gr.png",size:{width:44,height:44}}},{id:"wardrobe-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.WARDROBE,label:w[d.x9.WARDROBE],icon:"/images/fur-icon/wardrobe.png",activeIcon:"/images/fur-icon/wardrobe-gr.png",size:{width:40,height:129}}},{id:"plant-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.PLANT,label:w[d.x9.PLANT],icon:"/images/fur-icon/plant.png",activeIcon:"/images/fur-icon/plant-gr.png",size:{width:36,height:36}}},{id:"fridge-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.FRIDGE,label:w[d.x9.FRIDGE],icon:"/images/fur-icon/fridge.png",activeIcon:"/images/fur-icon/fridge-gr.png",size:{width:40,height:43}}},{id:"stove-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.STOVE,label:w[d.x9.STOVE],icon:"/images/fur-icon/stove.png",activeIcon:"/images/fur-icon/stove-gr.png",size:{width:62,height:32}}},{id:"sink-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.SINK,label:w[d.x9.SINK],icon:"/images/fur-icon/sink.png",activeIcon:"/images/fur-icon/sink-gr.png",size:{width:60,height:40}}},{id:"washbasin-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.WASHBASIN,label:w[d.x9.WASHBASIN],icon:"/images/fur-icon/washbasin.png",activeIcon:"/images/fur-icon/washbasin-gr.png",size:{width:50,height:50}}},{id:"toilet-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.TOILET,label:w[d.x9.TOILET],icon:"/images/fur-icon/toilet.png",activeIcon:"/images/fur-icon/toilet-gr.png",size:{width:40,height:60}}},{id:"shower-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.SHOWER,label:w[d.x9.SHOWER],icon:"/images/fur-icon/shower.png",activeIcon:"/images/fur-icon/shower-gr.png",size:{width:80,height:80}}},{id:"bathtub-template",type:d.w$.FURNITURE,data:{cateType:d.w$.FURNITURE,type:d.x9.BATHTUB,label:w[d.x9.BATHTUB],icon:"/images/fur-icon/bathtub.png",activeIcon:"/images/fur-icon/bathtub-gr.png",size:{width:120,height:60}}}],E=(0,n.FR)((0,n.MS)(n.IG,{tolerance:50}),(0,n.MS)(n.cA,{activationConstraint:{distance:10}})),$=(0,s.useRouter)(),[j,F]=(0,l.useState)(null),[k,M]=(0,l.useState)(!1),[S,A]=(0,l.useState)(0),[D,L]=(0,l.useState)(!1),[B,X]=(0,l.useState)([[]]),[G,J]=(0,l.useState)(0),[V,q]=(0,l.useState)(!1),[K,Z]=(0,l.useState)(!1),[Q,eo]=(0,l.useState)(!1),[ea,en]=(0,l.useState)({}),[er,es]=(0,l.useState)(!1),el=(0,l.useRef)(null),ed=(0,l.useRef)(null),ec=(0,I.A)(),eh=ec?48:56,ep=ec?{width:200,height:200}:{width:300,height:300},[eg,ew]=(0,l.useState)(!1),[em,eu]=(0,l.useState)(!1),[eC,eS]=(0,l.useState)(!1),[eA,e_]=(0,l.useState)(!1),eD=[{id:"living-room",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:d.sR.LIVING_ROOM,label:g[d.sR.LIVING_ROOM],icon:"/images/room-icon/living_room.png",size:ep}},{id:"dining-room",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:d.sR.DINING_ROOM,label:g[d.sR.DINING_ROOM],icon:"/images/room-icon/dining_room.png",size:ep}},{id:"storage-room",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:d.sR.STORAGE_ROOM,label:g[d.sR.STORAGE_ROOM],icon:"/images/room-icon/storage_room.png",size:ep}},{id:"study-room",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:d.sR.STUDY_ROOM,label:g[d.sR.STUDY_ROOM],icon:"/images/room-icon/study_room.png",size:ep}},{id:"bedroom",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:d.sR.BEDROOM,label:g[d.sR.BEDROOM],icon:"/images/room-icon/bedroom.png",size:ep}},{id:"bathroom",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:d.sR.BATHROOM,label:g[d.sR.BATHROOM],icon:"/images/room-icon/bathroom.png",size:ep}},{id:"kitchen",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:d.sR.KITCHEN,label:g[d.sR.KITCHEN],icon:"/images/room-icon/kitchen.png",size:ep}},{id:"balcony",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:d.sR.BALCONY,label:g[d.sR.BALCONY],icon:"/images/room-icon/balcony.png",size:ep}},{id:"garden",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:d.sR.GARDEN,label:g[d.sR.GARDEN],icon:"/images/room-icon/garden.png",size:ep}},{id:"garage",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:d.sR.GARAGE,label:g[d.sR.GARAGE],icon:"/images/room-icon/garage.png",size:ep}},{id:"corridor",type:d.w$.ROOM,data:{cateType:d.w$.ROOM,type:d.sR.CORRIDOR,label:g[d.sR.CORRIDOR],icon:"/images/room-icon/corridor.png",size:ep}}],{data:eL}=(0,W.wV)();(0,l.useEffect)(()=>{let e=()=>{ed.current&&A(ed.current.offsetWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,l.useEffect)(()=>{(async()=>{var e,t,i,o,a;let n=null==eL?void 0:null===(e=eL.user)||void 0===e?void 0:e.userId;if(n)try{es(!0);let{status:e,message:r,data:s}=await (0,Y.Jt)("/api/users/".concat(n)),{status:l,message:d,data:c}=await (0,Y.Jt)("/api/design/".concat(n));if(0!==e){U.oR.error("查询用户错误:"+r);return}if(0!==l){U.oR.error("查询布局错误:"+d);return}en(s),q(!0);let{localItems:h=[],scale:p=100,canvasPosition:g={x:0,y:0},compassRotation:w=0}=c,m=h.map(e=>({...e,type:e._type,data:{...e.data,type:e.data._type}}));null===(t=el.current)||void 0===t||t.setLocalItems(m),null===(i=el.current)||void 0===i||i.setPosition(g),null===(o=el.current)||void 0===o||o.setCompassRotation(w),null===(a=el.current)||void 0===a||a.setScale(p),es(!1)}catch(e){es(!1),U.oR.error("加载布局错误:"+e)}})()},[null==eL?void 0:null===(t=eL.user)||void 0===t?void 0:t.userId]),(0,l.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("payment"),i=e.get("session_id");"success"===t&&i&&(U.oR.success("Payment successful! Welcome to the design tool!"),window.history.replaceState({},document.title,window.location.pathname))},[]);let eP=(e,t)=>{let{over:i}=e,o=(null==i?void 0:i.id)==="canvas";if(M(o),o){let e=el.current.getLocalItems(),i="".concat(j.data.current.label).concat(e.filter(e=>e.data.type===j.data.current.type).length+1),o={id:"".concat(j.data.current.type,"-").concat(e.filter(e=>e.data.type===j.data.current.type).length+1),type:j.data.current.cateType,data:{...j.data.current,label:j.data.current.cateType===d.w$.ROOM?i:""},size:j.data.current.size,activeIcon:j.data.current.activeIcon};el.current.setIsRoomDragging(!0),el.current.setRoomDragStart(t),el.current.setDraggedRoom(o)}else el.current.setIsRoomDragging(!1)},eY=async()=>{var e;(null==eL?void 0:null===(e=eL.user)||void 0===e?void 0:e.userId)||(0,s.redirect)("/auth/login");try{es(!0);let e=(0,H.A)({localItems:el.current.getLocalItems(),canvasPosition:el.current.getPosition(),compassRotation:el.current.getCompassRotation(),scale:el.current.getScale()}),{status:t}=await (0,Y.bE)("/api/design/".concat(eL.user.userId),e);0==t&&U.oR.success(p("saveSuccess"))}catch(e){U.oR.error(p("saveFailed")+e)}finally{es(!1)}},eH=async()=>{var e;(null==eL?void 0:null===(e=eL.user)||void 0===e?void 0:e.userId)||(0,s.redirect)("/auth/login"),eL.user.userId;let t=el.current.getLocalItems(),i=!1,o=!1;if(t.forEach(e=>{"door"===e.data.type&&(i=!0),"window"===e.data.type&&(o=!0)}),!i||!o){U.oR.error(h("warning"),{autoClose:!1,style:{width:400}});return}await eY(),$.push("/report")},eW=async()=>{var e;if((null==eL?void 0:null===(e=eL.user)||void 0===e?void 0:e.userId)||(0,s.redirect)("/auth/login"),0===el.current.getLocalItems().filter(e=>"room"===e.type).length){U.oR.error("請先添加房間後再進行八宅風水分析",{autoClose:3e3});return}let t={gender:eL.user.gender||(null==ea?void 0:ea.gender),birthYear:eL.user.birthYear||(null==ea?void 0:ea.birthYear),birthMonth:eL.user.birthMonth||(null==ea?void 0:ea.birthMonth),birthDay:eL.user.birthDay||(null==ea?void 0:ea.birthDay),birthHour:eL.user.birthHour||(null==ea?void 0:ea.birthHour)};if(!t.birthYear&&(null==ea?void 0:ea.birthDateTime)){let e=new Date(ea.birthDateTime);t.birthYear=e.getFullYear(),t.birthMonth=e.getMonth()+1,t.birthDay=e.getDate(),t.birthHour=e.getHours()}if("male"===t.gender?t.gender="男":"female"===t.gender&&(t.gender="女"),!t.gender||!t.birthYear){U.oR.error("進行八宅風水分析需要您的出生年份和性別資訊",{autoClose:3e3}),Z(!0),q(!0);return}try{es(!0),await eY();let e={designData:(0,H.A)({localItems:el.current.getLocalItems(),canvasPosition:el.current.getPosition(),compassRotation:el.current.getCompassRotation(),scale:el.current.getScale()}),userProfile:t,timestamp:Date.now()};sessionStorage.setItem("bazhaiAnalysisData",JSON.stringify(e));let i="/".concat(c,"/bazhai-report");window.open(i,"_blank")}catch(e){U.oR.error("八宅風水分析失敗: "+e.message)}finally{es(!1)}},eB=()=>{if(G>0){var e,t;null===(e=el.current)||void 0===e||e.setActiveRoom(null),J(e=>e-1),null===(t=el.current)||void 0===t||t.setLocalItems(B[G-1])}},eX=()=>{if(G<B.length-1){var e,t;null===(e=el.current)||void 0===e||e.setActiveRoom(null),J(e=>e+1),null===(t=el.current)||void 0===t||t.setLocalItems(B[G+1])}},eG=async e=>{try{es(!0);let t={userId:eL.user.userId,gender:e.user.gender,birthYear:e.user.birthDateTime.getFullYear(),birthMonth:e.user.birthDateTime.getMonth()+1,birthDay:e.user.birthDateTime.getDate(),birthHour:e.user.birthDateTime.getHours(),email:eL.user.email,provider:eL.user.provider||"google"};e.familyMember&&(t.familyMember={gender:e.familyMember.gender,birthYear:e.familyMember.birthYear,birthMonth:e.familyMember.birthMonth,birthDay:e.familyMember.birthDay,birthHour:e.familyMember.birthHour}),e.pet&&(t.pet={type:e.pet.type,name:e.pet.name,gender:e.pet.gender,birthYear:e.pet.birthYear,birthMonth:e.pet.birthMonth,birthDay:e.pet.birthDay});let i=await (0,Y.bE)("/api/auth/complete-profile",t);if(i.success){let t={gender:e.user.gender,birthYear:e.user.birthDateTime.getFullYear(),birthMonth:e.user.birthDateTime.getMonth()+1,birthDay:e.user.birthDateTime.getDate(),birthHour:e.user.birthDateTime.getHours()};en(t),q(!1),U.oR.success("用戶信息保存成功！"),e.familyMember&&i.familyMember&&U.oR.success("家庭成員信息也已保存到數據庫！"),e.pet&&i.pet&&U.oR.success("寵物信息也已保存到數據庫！"),K&&(Z(!1),setTimeout(()=>{eW()},500))}else U.oR.error("保存失敗，請重試。")}catch(e){U.oR.error("保存失敗，請重試。")}finally{es(!1)}},eJ=function(){var e,t,i,o,a,n,r,s,l,d,c,h,p,g,w,x,R,I,U,N,z,E,$,j,F,O,k,M;let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";"2"===C?(null===(e=el.current)||void 0===e||e.setLocalItems(u.localItems),null===(t=el.current)||void 0===t||t.setPosition(u.canvasPosition),null===(i=el.current)||void 0===i||i.setCompassRotation(u.compassRotation),null===(o=el.current)||void 0===o||o.setScale(u.scale)):"3"===C?(null===(a=el.current)||void 0===a||a.setLocalItems(y.localItems),null===(n=el.current)||void 0===n||n.setPosition(y.canvasPosition),null===(r=el.current)||void 0===r||r.setCompassRotation(y.compassRotation),null===(s=el.current)||void 0===s||s.setScale(y.scale)):"4"===C?(null===(l=el.current)||void 0===l||l.setLocalItems(b.localItems),null===(d=el.current)||void 0===d||d.setPosition(b.canvasPosition),null===(c=el.current)||void 0===c||c.setCompassRotation(b.compassRotation),null===(h=el.current)||void 0===h||h.setScale(b.scale)):"5"===C?(null===(p=el.current)||void 0===p||p.setLocalItems(f.localItems),null===(g=el.current)||void 0===g||g.setPosition(f.canvasPosition),null===(w=el.current)||void 0===w||w.setCompassRotation(f.compassRotation),null===(x=el.current)||void 0===x||x.setScale(f.scale)):"6"===C?(null===(R=el.current)||void 0===R||R.setLocalItems(T.localItems),null===(I=el.current)||void 0===I||I.setPosition(T.canvasPosition),null===(U=el.current)||void 0===U||U.setCompassRotation(T.compassRotation),null===(N=el.current)||void 0===N||N.setScale(T.scale)):"7"===C?(null===(z=el.current)||void 0===z||z.setLocalItems(v.localItems),null===(E=el.current)||void 0===E||E.setPosition(v.canvasPosition),null===($=el.current)||void 0===$||$.setCompassRotation(v.compassRotation),null===(j=el.current)||void 0===j||j.setScale(v.scale)):(null===(F=el.current)||void 0===F||F.setLocalItems(m.localItems),null===(O=el.current)||void 0===O||O.setPosition(m.canvasPosition),null===(k=el.current)||void 0===k||k.setCompassRotation(m.compassRotation),null===(M=el.current)||void 0===M||M.setScale(m.scale)),eu(!1)},eV=(0,l.useRef)(new Set),eq=()=>{el.current&&(el.current.setLocalItems([]),el.current.setPosition({x:0,y:0}),el.current.setScale(ec?30:60),el.current.setCompassRotation(0)),eV.current.clear(),e_(!0),ec&&L(!1)},eK=(e,t)=>{if(eA)switch(e){case"rotate":eV.current.add("item-rotated");break;case"delete":eV.current.add("item-deleted");break;case"compass-clicked":eV.current.add("compass-clicked");break;case"model-shown":eV.current.add("model-shown")}};return(0,a.jsx)(ek,{locale:c,children:(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("div",{children:"loading..."}),children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei.m5,{fullscreen:!0,spinning:er,tip:p("loading2"),className:"bg-[#fff9]"}),(0,a.jsx)(ee,{open:V,onUserOpen:q,onSubmit:eG,userInfo:ea}),(0,a.jsx)(et,{open:Q,onClose:()=>{eo(!1)},onStartTutorial:()=>{eq()}}),ec?(0,a.jsx)(C,{onSaveProject:eY,history:B,historyIndex:G,handleUndo:eB,handleRedo:eX,onUserOpen:q}):(0,a.jsx)(O,{onSaveProject:eY,onGenReport:eH,onBazhaiReport:eW,onUserOpen:q}),(0,a.jsx)("div",{className:"pt-16",children:(0,a.jsxs)(n.Mp,{sensors:E,onDragStart:e=>{let{active:t}=e;F(t),M(!1)},onDragOver:e=>{ec||eP(e,{x:S,y:eh})},onDragMove:e=>{ec&&eP(e,{x:0,y:50})},children:[(0,a.jsx)("div",{className:"min-h-[calc(100vh-64px)] bg-gray-50",children:(0,a.jsx)("div",{className:"container p-0",style:{maxWidth:"100%"},children:(0,a.jsxs)("div",{className:"flex h-[calc(100vh-64px)]",children:[ec?(0,a.jsx)(P,{showTab:D,setShowTab:L,roomItems:eD,furnitureItems:z,isOverCanvas:k,draggingItemSize:eh}):(0,a.jsx)(_,{sidebarRef:ed,roomItems:eD,furnitureItems:z,isOverCanvas:k,draggingItemSize:eh}),(0,a.jsxs)("div",{className:"relative flex-1 overflow-auto canvas-items canvas-controls",id:"canvas-drop-area",children:[(0,a.jsxs)("div",{className:"absolute px-3 py-2 text-sm border-gray-300 border-dashed shadow-sm top-2 left-2 z-9 border-1 rounded-xl bg-secondary",children:[(0,a.jsx)("div",{className:"mb-2 font-medium text-center text-gray-600 ",children:h("module")}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("button",{onClick:()=>{eS(!0),eA&&eK("model-shown")},className:"px-3 py-1.5 text-white cursor-pointer bg-primary rounded-lg hover:bg-primary/90 transition-colors text-xs generate-btn",children:h("smartSelection")}),(0,a.jsxs)("button",{onClick:eW,className:"px-3 py-1.5 text-white cursor-pointer bg-amber-600 rounded-lg hover:bg-amber-700 transition-colors text-xs flex items-center gap-1",title:"基於傳統八宅風水理論分析",children:[(0,a.jsx)("span",{children:"\uD83E\uDDED"}),"八宅風水"]}),(0,a.jsx)("button",{onClick:eq,className:"px-3 py-1.5 text-white cursor-pointer bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors text-xs",children:h("demo.startTutorial")})]})]}),(0,a.jsx)(N,{ref:el,locale:c,history:B,historyIndex:G,setHistory:X,setHistoryIndex:J,handleUndo:eB,handleRedo:eX,onGenReport:eH,showTab:D,onShowTab:()=>{L(!0)},onDemoAction:eK})]})]})})}),(0,a.jsx)(n.Hd,{children:(null==j?void 0:j.id)&&k&&(j.data.current.cateType===d.w$.ROOM?(0,a.jsx)("div",{className:"flex flex-col items-center justify-center rounded-lg bg-white/80",style:{transform:ec?"translateY(78px)":"translateY(0)",width:ep.width,height:ep.height,border:"8px solid",borderColor:eO[null===(i=eD.find(e=>e.id===j.id))||void 0===i?void 0:i.data.type],borderRadius:"8px"},children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)(x.default,{className:"bg-[#EFF7F4] rounded-lg",src:j.data.current.icon,alt:"Room",width:eh,height:eh}),(0,a.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:j.data.current.label+(el.current.getLocalItems().filter(e=>e.data.type===j.data.current.type).length+1)})]})}):(0,a.jsx)(x.default,{src:j.data.current.activeIcon,alt:"Furniture",width:j.data.current.size.width,height:j.data.current.size.height}))})]})}),(0,a.jsx)(r.Lt,{open:em,onOpenChange:eu,children:(0,a.jsxs)(r.EO,{style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,a.jsx)(r.wd,{children:(0,a.jsx)(r.r7,{children:h("useModuleAlert")})}),(0,a.jsxs)(r.ck,{children:[(0,a.jsx)(r.Zr,{children:h("cancel")}),(0,a.jsxs)(r.Rx,{onClick:()=>eJ("1"),children:[h("ok"),h("module1")]}),(0,a.jsxs)(r.Rx,{onClick:()=>eJ("2"),children:[h("ok"),h("module2")]}),(0,a.jsxs)(r.Rx,{onClick:()=>eJ("3"),children:[h("ok"),h("module3")]}),(0,a.jsxs)(r.Rx,{onClick:()=>eJ("4"),children:[h("ok"),h("module4")]}),(0,a.jsxs)(r.Rx,{onClick:()=>eJ("5"),children:[h("ok"),h("module5")]}),(0,a.jsxs)(r.Rx,{onClick:()=>eJ("6"),children:[h("ok"),h("module6")]}),(0,a.jsxs)(r.Rx,{onClick:()=>eJ("7"),children:[h("ok"),h("module7")]})]})]})}),(0,a.jsx)(eM,{open:eC,onClose:()=>eS(!1),onSelectModule:e=>{eJ(e),eS(!1)}}),(0,a.jsx)(ey,{isActive:eA,onClose:()=>{e_(!1),ec&&L(!1)},onStep:e=>{console.log("Demo step:",e)},onShowTabControl:e=>{ec&&(1===e||2===e?L(!0):(10===e||0===e)&&L(!1))},canvasRef:el,isMobile:ec,demoActions:eV.current}),(0,a.jsx)(U.ToastContainer,{})]})})})}},90010:(e,t,i)=>{"use strict";i.d(t,{$v:()=>m,EO:()=>h,Lt:()=>s,Rx:()=>u,Zr:()=>y,ck:()=>g,r7:()=>w,tv:()=>l,wd:()=>p});var o=i(95155);i(12115);var a=i(17649),n=i(59434),r=i(30285);function s(e){let{...t}=e;return(0,o.jsx)(a.bL,{"data-slot":"alert-dialog",...t})}function l(e){let{...t}=e;return(0,o.jsx)(a.l9,{"data-slot":"alert-dialog-trigger",...t})}function d(e){let{...t}=e;return(0,o.jsx)(a.ZL,{"data-slot":"alert-dialog-portal",...t})}function c(e){let{className:t,...i}=e;return(0,o.jsx)(a.hJ,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...i})}function h(e){let{className:t,...i}=e;return(0,o.jsxs)(d,{children:[(0,o.jsx)(c,{}),(0,o.jsx)(a.UC,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i})]})}function p(e){let{className:t,...i}=e;return(0,o.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",t),...i})}function g(e){let{className:t,...i}=e;return(0,o.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...i})}function w(e){let{className:t,...i}=e;return(0,o.jsx)(a.hE,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",t),...i})}function m(e){let{className:t,...i}=e;return(0,o.jsx)(a.VY,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...i})}function u(e){let{className:t,...i}=e;return(0,o.jsx)(a.rc,{className:(0,n.cn)((0,r.r)(),t,"text-white"),...i})}function y(e){let{className:t,...i}=e;return(0,o.jsx)(a.ZD,{className:(0,n.cn)((0,r.r)({variant:"outline"}),t),...i})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4935,6453,7215,8543,6874,6491,6796,5005,9495,138,9855,3371,8441,1684,7358],()=>t(55714)),_N_E=e.O()}]);