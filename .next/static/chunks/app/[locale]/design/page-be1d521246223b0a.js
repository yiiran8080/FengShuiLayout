(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{6034:(e,t,i)=>{Promise.resolve().then(i.bind(i,53967))},19924:(e,t,i)=>{"use strict";i.d(t,{F:()=>s});var n=i(73243);i(45323);var o=i(88999),a=i(4318);function s(e){let{className:t,children:i,...s}=e;return(0,n.jsxs)(o.bL,{"data-slot":"scroll-area",className:(0,a.cn)("relative",t),...s,children:[(0,n.jsx)(o.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:i}),(0,n.jsx)(r,{}),(0,n.jsx)(o.OK,{})]})}function r(e){let{className:t,orientation:i="vertical",...s}=e;return(0,n.jsx)(o.VM,{"data-slot":"scroll-area-scrollbar",orientation:i,className:(0,a.cn)("flex touch-none p-px transition-colors select-none visible","vertical"===i&&"h-full w-2.5 border-l border-l-transparent","horizontal"===i&&"h-2.5 flex-col border-t border-t-transparent",t),...s,children:(0,n.jsx)(o.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},43263:(e,t,i)=>{"use strict";i.d(t,{A7:()=>b,FN:()=>p,Oj:()=>f,Q8:()=>u,Wk:()=>g});var n=i(73243),o=i(45323),a=i(9920),s=i(772),r=i(22893),l=i(4318),d=i(43601);let c=o.createContext(null);function h(){let e=o.useContext(c);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let p=o.forwardRef((e,t)=>{let{orientation:i="horizontal",opts:s,setApi:r,plugins:d,className:h,children:p,...g}=e,[b,u]=(0,a.A)({...s,axis:"horizontal"===i?"x":"y"},d),[f,x]=o.useState(!1),[m,w]=o.useState(!1),y=o.useCallback(e=>{e&&(x(e.canScrollPrev()),w(e.canScrollNext()))},[]),v=o.useCallback(()=>{null==u||u.scrollPrev()},[u]),R=o.useCallback(()=>{null==u||u.scrollNext()},[u]),I=o.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),v()):"ArrowRight"===e.key&&(e.preventDefault(),R())},[v,R]);return o.useEffect(()=>{u&&r&&r(u)},[u,r]),o.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{null==u||u.off("select",y)}},[u,y]),(0,n.jsx)(c.Provider,{value:{carouselRef:b,api:u,opts:s,orientation:i||((null==s?void 0:s.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:R,canScrollPrev:f,canScrollNext:m},children:(0,n.jsx)("div",{ref:t,onKeyDownCapture:I,className:(0,l.cn)("relative",h),role:"region","aria-roledescription":"carousel",...g,children:p})})});p.displayName="Carousel";let g=o.forwardRef((e,t)=>{let{className:i,...o}=e,{carouselRef:a,orientation:s}=h();return(0,n.jsx)("div",{ref:a,className:"overflow-hidden",children:(0,n.jsx)("div",{ref:t,className:(0,l.cn)("flex","horizontal"===s?"-ml-4":"-mt-4 flex-col",i),...o})})});g.displayName="CarouselContent";let b=o.forwardRef((e,t)=>{let{className:i,...o}=e,{orientation:a}=h();return(0,n.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,l.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===a?"pl-4":"pt-4",i),...o})});b.displayName="CarouselItem";let u=o.forwardRef((e,t)=>{let{className:i,variant:o="outline",size:a="icon",...r}=e,{orientation:c,scrollPrev:p,canScrollPrev:g}=h();return(0,n.jsxs)(d.$,{ref:t,variant:o,size:a,className:(0,l.cn)("absolute  h-8 w-8 rounded-full","horizontal"===c?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",i),disabled:!g,onClick:p,...r,children:[(0,n.jsx)(s.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});u.displayName="CarouselPrevious";let f=o.forwardRef((e,t)=>{let{className:i,variant:o="outline",size:a="icon",...s}=e,{orientation:c,scrollNext:p,canScrollNext:g}=h();return(0,n.jsxs)(d.$,{ref:t,variant:o,size:a,className:(0,l.cn)("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",i),disabled:!g,onClick:p,...s,children:[(0,n.jsx)(r.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Next slide"})]})});f.displayName="CarouselNext"},43601:(e,t,i)=>{"use strict";i.d(t,{$:()=>l,r:()=>r});var n=i(73243);i(45323);var o=i(7843),a=i(83944),s=i(4318);let r=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:i,size:a,asChild:l=!1,...d}=e,c=l?o.DX:"button";return(0,n.jsx)(c,{"data-slot":"button",className:(0,s.cn)(r({variant:i,size:a,className:t})),...d})}},53967:(e,t,i)=>{"use strict";let n;i.r(t),i.d(t,{default:()=>ez});var o=i(73243),a=i(46249),s=i(45323),r=i(17416),l=i(4318),d=i(43601);function c(e){let{...t}=e;return(0,o.jsx)(r.bL,{"data-slot":"alert-dialog",...t})}function h(e){let{...t}=e;return(0,o.jsx)(r.l9,{"data-slot":"alert-dialog-trigger",...t})}function p(e){let{...t}=e;return(0,o.jsx)(r.ZL,{"data-slot":"alert-dialog-portal",...t})}function g(e){let{className:t,...i}=e;return(0,o.jsx)(r.hJ,{"data-slot":"alert-dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...i})}function b(e){let{className:t,...i}=e;return(0,o.jsxs)(p,{children:[(0,o.jsx)(g,{}),(0,o.jsx)(r.UC,{"data-slot":"alert-dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i})]})}function u(e){let{className:t,...i}=e;return(0,o.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",t),...i})}function f(e){let{className:t,...i}=e;return(0,o.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...i})}function x(e){let{className:t,...i}=e;return(0,o.jsx)(r.hE,{"data-slot":"alert-dialog-title",className:(0,l.cn)("text-lg font-semibold",t),...i})}function m(e){let{className:t,...i}=e;return(0,o.jsx)(r.VY,{"data-slot":"alert-dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",t),...i})}function w(e){let{className:t,...i}=e;return(0,o.jsx)(r.rc,{className:(0,l.cn)((0,d.r)(),t,"text-white"),...i})}function y(e){let{className:t,...i}=e;return(0,o.jsx)(r.ZD,{className:(0,l.cn)((0,d.r)({variant:"outline"}),t),...i})}var v=i(14041),R=i(49126),I=i(92378),N=i.n(I),U=i(52751),T=i(4449),j=i(81238),z=i(23224),E=i(58204),$=i(76420),F=i(62326);function O(e){let{history:t,historyIndex:i,handleUndo:n,handleRedo:a,className:s}=e;return(0,o.jsxs)("div",{className:(0,l.cn)("flex items-center gap-2",s),children:[(0,o.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 ".concat(i<=0?"text-gray-300":"text-gray-600"),onClick:n,disabled:i<=0,children:(0,o.jsx)($.A,{className:"w-4 h-4"})}),(0,o.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 ".concat(i>=t.length-1?"text-gray-300":"text-gray-600"),onClick:a,disabled:i>=t.length-1,children:(0,o.jsx)(F.A,{className:"w-4 h-4"})})]})}var k=i(40217),C=i(75919),M=i(71400);let S=(0,s.forwardRef)((e,t)=>{let{items:i,onShowTab:r,showTab:d,history:p,historyIndex:g,setHistory:m,setHistoryIndex:v,handleUndo:I,handleRedo:$,onGenReport:F,locale:S}=e,A="zh-TW"===S?R.Gx:R.Qc,D=(0,k.c3)("design"),_=(0,C.A)(),[L,Y]=(0,s.useState)({x:0,y:0}),[B,P]=(0,s.useState)(!1),[X,G]=(0,s.useState)({x:0,y:0}),[H,W]=(0,s.useState)(null),[V,q]=(0,s.useState)({width:2e3,height:2e3}),[K,Q]=(0,s.useState)(!1),[J,Z]=(0,s.useState)({x:0,y:0}),[ee,et]=(0,s.useState)(null),[ei,en]=(0,s.useState)([]),[eo,ea]=(0,s.useState)(!1),[es,er]=(0,s.useState)({x:0,y:0}),[el,ed]=(0,s.useState)(null),[ec,eh]=(0,s.useState)(100),[ep,eg]=(0,s.useState)({originScale:100,isMoving:!1,pageX:0,pageY:0,pageX2:0,pageY2:0,initialDistance:0}),[eb,eu]=(0,s.useState)(0);(0,s.useImperativeHandle)(t,()=>({getLocalItems:()=>ei,setLocalItems:en,setActiveRoom:W,setIsRoomDragging:Q,setDraggedRoom:et,setRoomDragStart:Z,setPosition:Y,setCompassRotation:eu,getPosition:()=>L,getCompassRotation:()=>eb,getScale:()=>ec,setScale:eh}),[ei,L,eb,ec]);let ef=(0,s.useRef)(null),{setNodeRef:ex}=(0,a.zM)({id:"canvas",data:{accepts:[R.w$.ROOM,R.w$.FURNITURE]}});(0,s.useEffect)(()=>{var e;n=null===(e=document.getElementById("canvas-drop-area"))||void 0===e?void 0:e.getBoundingClientRect()},[]);let em=(e,t,i,n)=>Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2)),ew=(0,s.useCallback)(e=>{var t,i;if(!e.target.closest('[data-room-element="true"]')&&"canvas"===e.target.id&&(0===e.button||e.touches)){if((null===(t=e.touches)||void 0===t?void 0:t.length)===2){let t=e.touches[0],i=e.touches[1],n=em(t.pageX,t.pageY,i.pageX,i.pageY);eg(e=>({...e,isMoving:!0,pageX:t.pageX,pageY:t.pageY,pageX2:i.pageX,pageY2:i.pageY,initialDistance:n,originScale:ec}));return}W(null),P(!0),(null===(i=e.touches)||void 0===i?void 0:i.length)===1?G({x:e.touches[0].clientX-L.x,y:e.touches[0].clientY-L.y}):G({x:e.clientX-L.x,y:e.clientY-L.y})}},[L,ec]),ey=(e,t)=>{if(!e.position||!t.position)return!1;let i=20;return console.log("家具在里面",e.rotation),(-90===e.rotation||-270===e.rotation)&&(console.log("ss",e.size.width,e.size.height),i=Math.abs(e.size.width-e.size.height)/2+i),e.position.x+i>=t.position.x&&e.position.x<=t.position.x+t.size.width&&e.position.x-i+e.size.width<=t.position.x+t.size.width&&e.position.y+i>=t.position.y&&e.position.y<=t.position.y+t.size.height&&e.position.y-i+e.size.height<=t.position.y+t.size.height},ev=(0,s.useCallback)((e,t)=>{var i;if(e.stopPropagation(),Q(!0),et(t),(null===(i=e.touches)||void 0===i?void 0:i.length)==1?Z({x:e.touches[0].clientX-t.position.x,y:e.touches[0].clientY-t.position.y}):Z({x:e.clientX-t.position.x,y:e.clientY-t.position.y}),t.type===R.w$.ROOM){let e=ei.map(e=>e.type===R.w$.FURNITURE&&ey(e,t)?{...e,parentId:t.id,offset:{x:e.position.x-t.position.x,y:e.position.y-t.position.y}}:{...e,parentId:null});en(ei.map(t=>e.find(e=>e.id===t.id)||t))}},[ei]),eR=(0,s.useCallback)((e,t,i)=>{var n;e.stopPropagation(),ea(!0),ed(i),(null===(n=e.touches)||void 0===n?void 0:n.length)==1?er({x:e.touches[0].clientX,y:e.touches[0].clientY}):er({x:e.clientX,y:e.clientY})},[]);N().throttle(M.oR.info,3e3);let eI=e=>{var t,i,o,a,s;if(e.preventDefault(),(null===(t=e.touches)||void 0===t?void 0:t.length)===2){let t=e.touches[0],i=e.touches[1],n=em(t.pageX,t.pageY,i.pageX,i.pageY);ep.initialDistance?n>ep.initialDistance?eT("in",1):eT("out",1):eg(e=>({...e,initialDistance:n,originScale:ec}))}else if(eo&&H&&el){let t,n;(null===(i=e.touches)||void 0===i?void 0:i.length)==1?(t=e.touches[0].clientX-es.x,n=e.touches[0].clientY-es.y):(t=e.clientX-es.x,n=e.clientY-es.y);let a=H.size.width/H.size.height;en(ei.map(e=>{if(e.id===H.id){let i;let o={...e.size},s={...e.position};switch(el){case"top-left":o.width=e.size.width-t,H.type===R.w$.ROOM?o.height=e.size.height-n:o.height=o.width/a,s.x=e.position.x+t,s.y=e.position.y+n;break;case"top-right":o.width=e.size.width+t,H.type===R.w$.ROOM?o.height=e.size.height-n:o.height=o.width/a,s.y=e.position.y+n;break;case"bottom-left":o.width=e.size.width-t,H.type===R.w$.ROOM?o.height=e.size.height+n:o.height=o.width/a,s.x=e.position.x+t;break;case"bottom-right":o.width=e.size.width+t,H.type===R.w$.ROOM?o.height=e.size.height+n:o.height=o.width/a}if(e.type===R.w$.ROOM?o.width>=100&&o.height>=100:e.data.type===R.x9.WINDOW?o.width>=8&&o.height>=8:o.width>=20&&o.height>=20)return{...e,size:o,position:s}}return e})),(null===(o=e.touches)||void 0===o?void 0:o.length)==1?er({x:e.touches[0].clientX,y:e.touches[0].clientY}):er({x:e.clientX,y:e.clientY})}else if(K&&ee){let t,i;(null===(a=e.touches)||void 0===a?void 0:a.length)==1?(t=e.touches[0].clientX-J.x,i=e.touches[0].clientY-J.y):(t=e.clientX-J.x,i=e.clientY-J.y),t=Math.max(0,t),i=Math.max(0,i);let n=[];if(ee.type===R.w$.ROOM){let e=ei.filter(e=>e.type===R.w$.FURNITURE&&e.parentId===ee.id).map(e=>e.id);n=ei.map(n=>{if(n.id===ee.id)return{...n,position:{x:t,y:i}};if(e.includes(n.id)){var o,a;return{...n,position:{x:t+(null===(o=n.offset)||void 0===o?void 0:o.x)||0,y:i+(null===(a=n.offset)||void 0===a?void 0:a.y)||0}}}return n})}else n=ei.map(e=>e.id===ee.id?{...e,position:{x:t,y:i}}:e);en(n)}else if(B){let t,i,o,a;(null===(s=e.touches)||void 0===s?void 0:s.length)===1?(t=e.touches[0].clientX-X.x,i=e.touches[0].clientY-X.y):(t=e.clientX-X.x,i=e.clientY-X.y),t>0&&(t=0),i>0&&(i=0),t<-1e3&&(t=-1e3),i<-1e3&&(i=-1e3),2e3+t<n.width/(ec/100)&&(o=(2e3-t)/(ec/100)),2e3+i<n.height/(ec/100)&&(a=(2e3-i)/(ec/100)),Y({x:t,y:i}),q({width:o||V.width,height:a||V.height})}},eN=(0,s.useCallback)(e=>{var t,i;if((null===(t=e.touches)||void 0===t?void 0:t.length)<2&&eg(e=>({...e,isMoving:!1,initialDistance:0})),K||eo){let t,n,o;if((null===(i=e.changedTouches)||void 0===i?void 0:i.length)==1?(t=e.changedTouches[0].clientX-J.x-L.x,n=e.changedTouches[0].clientY-J.y-L.y):(t=e.clientX-J.x-L.x,n=e.clientY-J.y-L.y),ee&&!ei.some(e=>e.id===ee.id)){let e={...ee,position:{x:t/(ec/100),y:n/(ec/100)},data:{...ee.data,label:"".concat(ee.data.label)}};en(o=[...ei,e]),eU(e,o)}else o=ei;let a=p.slice(0,g+1);a.push(o),m(a),v(a.length-1)}P(!1),Q(!1),et(null),ea(!1),ed(null)},[K,eo,ei,p,g,J,ee,L,ep]),eU=(e,t)=>{if(e.type===R.w$.FURNITURE){let i=t||ei,n=i.find(t=>t.type===R.w$.ROOM&&ey(e,t));if(n){let t=i.filter(t=>t.type===R.w$.FURNITURE&&t.data.type===e.data.type&&ey(t,n)).sort((e,t)=>e.position.x-t.position.x).map((t,i)=>{let o="".concat(n.data.label,"-").concat(A[e.data.type]).concat(i+1);return t.id===e.id&&(e.data.label=o,e.data.parentRoom=n),{...t,data:{...t.data,label:o,parentRoom:n}}});en(i.map(e=>t.find(t=>t.id===e.id)||e))}else{console.log("选中家具，当前未匹配到房间");let t=N().cloneDeep(i),n=t.filter(t=>t.id===e.id)[0];n&&(n.data.label="未分配-".concat(A[n.data.type]),n.data.parentRoom=null,e.data.label="未分配-".concat(A[n.data.type]),e.data.parentRoom=null,en(t))}}setTimeout(()=>{W(e)})};function eT(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("in"===e&&ec<120)t=ec+i;else if("out"===e&&ec>50)t=ec-i;else{if("reset"!==e)return;t=100}"out"===e&&q({width:(V.width-(L.x<0?L.x:0))*(1+(ec-t)/100),height:(V.height-(L.y<0?L.y:0))*(1+(ec-t)/100)}),eh(t)}(0,s.useEffect)(()=>{let e=ef.current;if(e)return e.addEventListener("mousedown",ew),window.addEventListener("mousemove",eI),window.addEventListener("mouseup",eN),e.addEventListener("touchstart",ew),window.addEventListener("touchmove",eI,{passive:!1}),window.addEventListener("touchend",eN),()=>{e.removeEventListener("mousedown",ew),window.removeEventListener("mousemove",eI),window.removeEventListener("mouseup",eN),e.removeEventListener("touchstart",ew),window.removeEventListener("touchmove",eI),window.removeEventListener("touchend",eN)}},[ew,eI,eN]);let ej=(0,s.useCallback)(()=>{H&&en(ei.map(e=>{if(e.id===H.id){let t=((e.rotation||0)-45)%360;return{...e,rotation:t}}return e}))},[H,ei]),ez=e=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"absolute w-3 h-3 bg-white border border-red-500 cursor-nw-resize rounded-full",style:{top:-6,left:-6},onMouseDown:t=>eR(t,e,"top-left"),onTouchStart:t=>eR(t,e,"top-left")}),(0,o.jsx)("div",{className:"absolute w-3 h-3 bg-white border border-red-500 cursor-ne-resize rounded-full",style:{top:-6,right:-6},onMouseDown:t=>eR(t,e,"top-right"),onTouchStart:t=>eR(t,e,"top-right")}),(0,o.jsx)("div",{className:"absolute w-3 h-3 bg-white border border-red-500 cursor-sw-resize rounded-full",style:{bottom:-6,left:-6},onMouseDown:t=>eR(t,e,"bottom-left"),onTouchStart:t=>eR(t,e,"bottom-left")}),(0,o.jsx)("div",{className:"absolute w-3 h-3 bg-white border border-red-500 cursor-se-resize rounded-full",style:{bottom:-6,right:-6},onMouseDown:t=>eR(t,e,"bottom-right"),onTouchStart:t=>eR(t,e,"bottom-right")})]});return(0,o.jsxs)("div",{ref:e=>{ef.current=e,ex(e)},className:"relative w-full min-h-[calc(100vh-64px)] overflow-hidden bg-background",children:[(0,o.jsxs)("div",{className:"fixed top-20 right-6 flex items-center gap-4 z-9",children:[!_&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(O,{history:p,historyIndex:g,handleUndo:I,handleRedo:$,className:" bg-white rounded-full shadow-lg  px-3 py-2"})}),(0,o.jsxs)("div",{className:"flex items-center gap-2 bg-white rounded-full shadow-lg px-3 py-2",children:[(0,o.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 text-gray-600",onClick:e=>eT("out"),disabled:ec<=50,children:(0,o.jsx)(U.A,{className:"w-4 h-4"})}),(0,o.jsxs)("span",{className:"text-sm font-medium text-gray-600 min-w-[48px] text-center",children:[ec,"%"]}),(0,o.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 text-gray-600",onClick:e=>eT("in"),disabled:ec>=120,children:(0,o.jsx)(T.A,{className:"w-4 h-4"})})]}),(0,o.jsxs)("div",{style:{transform:"rotate(".concat(eb,"deg)"),transition:"transform 0.3s ease-out"},onClick:()=>{eu(eb+45)},className:"flex flex-col items-center",children:[(0,o.jsx)("div",{className:"text-sm text-gray-600",children:"N"}),(0,o.jsx)(E.default,{src:"/images/compass.png",alt:"方向",width:40,height:40,className:"cursor-pointer"})]})]}),(0,o.jsx)("div",{id:"canvas",className:"absolute cursor-move",style:{width:"".concat(V.width,"px"),height:"".concat(V.height,"px"),transform:"translate(".concat(L.x,"px, ").concat(L.y,"px)  scale(").concat(ec/100,")"),transformOrigin:"top left",backgroundImage:"radial-gradient(circle, #ddd 1px, transparent 1px)",backgroundSize:"10px 10px"},children:(0,o.jsx)("div",{className:"relative",children:ei.map(e=>e.type===R.w$.ROOM?(0,o.jsxs)("div",{"data-room-element":"true",className:"absolute ".concat((null==H?void 0:H.id)===e.id?"ring-2 ring-red-500":""," cursor-move z-100"),style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height},onClick:t=>{t.stopPropagation(),eU(e)},onMouseDown:t=>ev(t,e),onTouchStart:t=>ev(t,e),children:[H&&H.id===e.id&&(0,o.jsxs)("div",{style:{left:"50%",top:"-64px",transform:"translateX(-50%)"},className:"min-w-fit whitespace-nowrap  absolute z-1 h-[40px] rounded-4xl bg-white shadow-lg  items-center px-3 gap-2 md:flex hidden",children:[(0,o.jsxs)("span",{className:"text-sm text-gray-600",children:[D("chosed"),"："]}),(0,o.jsxs)("div",{className:"flex flex-grow items-center gap-1",children:[(0,o.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:R.$q[H.data.type],borderRadius:"2px"}}),(0,o.jsx)("span",{className:"text-sm text-gray-600 font-bold",children:H.data.label})]}),(0,o.jsx)("button",{className:"flex-shrink-0 text-red-500",onClick:e=>{e.stopPropagation(),en(ei.filter(e=>e.id!==H.id)),W(null)},children:(0,o.jsx)(j.A,{className:"w-4 h-4 text-red-500"})})]}),(0,o.jsx)("div",{className:"w-full h-full",style:{border:e.type===R.w$.ROOM?"8px solid":"none",borderColor:e.type===R.w$.ROOM?R.$q[e.data.type]:"transparent",borderRadius:e.type===R.w$.ROOM?"8px":"0",backgroundColor:e.type===R.w$.ROOM?R.$q[e.data.type]+"80":"transparent"},children:(0,o.jsx)("div",{className:"absolute top-2 left-2 text-[14px] text-[#888888]",style:{zIndex:1},children:e.data.label})}),(null==H?void 0:H.id)===e.id&&ez(e)]},e.id):e.type===R.w$.FURNITURE?(0,o.jsxs)("div",{"data-room-element":"true",className:"absolute cursor-move z-200",style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height},onClick:t=>{t.stopPropagation(),eU(e)},onMouseDown:t=>{t.stopPropagation(),ev(t,e)},onTouchStart:t=>{t.stopPropagation(),ev(t,e)},children:[H&&H.id===e.id&&(0,o.jsxs)("div",{style:{left:"50%",top:"-64px",transform:"translateX(-50%)"},className:"min-w-fit whitespace-nowrap absolute z-1 h-[40px] rounded-4xl bg-white shadow-lg  items-center px-3 gap-2 md:flex hidden",children:[(0,o.jsxs)("span",{className:"text-sm text-gray-600",children:[D("chosed"),"："]}),(0,o.jsxs)("div",{className:"flex flex-grow items-center gap-1",children:[H.data.parentRoom&&(0,o.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:R.$q[H.data.parentRoom.data.type],borderRadius:"2px"}}),(0,o.jsx)("span",{className:"text-sm text-gray-600 font-bold",children:H.data.label})]}),(0,o.jsx)("button",{className:"flex-shrink-0",onClick:e=>{e.stopPropagation(),ej()},children:(0,o.jsx)(z.A,{className:"w-4 h-4"})}),(0,o.jsx)("button",{className:"flex-shrink-0 text-red-500 hover:text-red-600 transition-colors",onClick:e=>{e.stopPropagation(),en(ei.filter(e=>e.id!==H.id)),W(null)},children:(0,o.jsx)(j.A,{className:"w-4 h-4 text-red-500"})})]}),(null==H?void 0:H.id)===e.id&&ez(e),(0,o.jsx)(E.default,{draggable:"false",className:(null==H?void 0:H.id)===e.id?"ring-2 ring-red-500":"",style:{transform:e.rotation?"rotate(".concat(e.rotation,"deg)"):"none",transformOrigin:"center"},src:e.activeIcon,alt:"Furniture",width:e.size.width,height:e.size.height})]},e.id):void 0)})}),H&&(0,o.jsxs)("div",{className:(0,l.cn)("min-w-fit whitespace-nowrap fixed  left-1/2 -translate-x-1/2 h-10 rounded-4xl bg-white shadow-lg flex items-center px-3 gap-2 md:hidden",d?"bottom-85":"bottom-22.5 "),children:[(0,o.jsxs)("span",{className:"text-sm text-gray-600",children:[D("chosed"),"："]}),(0,o.jsxs)("div",{className:"flex flex-grow items-center gap-1",children:[(0,o.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:R.$q[H.data.parentRoom?H.data.parentRoom.data.type:H.data.type],borderRadius:"2px"}}),(0,o.jsx)("span",{className:"text-sm text-gray-600 font-bold",children:H.data.label})]}),H.type===R.w$.FURNITURE&&(0,o.jsxs)("button",{className:"flex-shrink-0",onClick:e=>{e.stopPropagation(),ej()},children:[" ",(0,o.jsx)(z.A,{className:"w-4 h-4"})]}),(0,o.jsx)("button",{className:"flex-shrink-0 text-red-500 hover:text-red-600 transition-colors",onClick:e=>{e.stopPropagation(),en(ei.filter(e=>e.id!==H.id)),W(null)},children:(0,o.jsx)(j.A,{className:"w-4 h-4 text-red-500"})})]}),(0,o.jsxs)("div",{className:"fixed z-50 bottom-6 left-0 px-2 gap-4 w-full bg-transparent flex items-center justify-between  md:hidden",children:[!d&&(0,o.jsx)("button",{onClick:r,className:"border-primary border-1 font-bold w-4/5 py-3 bg-white text-foreground rounded-[100px] text-sm",children:D("showTab")}),(0,o.jsxs)(c,{children:[(0,o.jsxs)(h,{className:(0,l.cn)("inline-flex font-bold py-3 bg-button-gradient text-white rounded-[100px] text-sm items-center justify-center gap-0",d?"w-full ":"w-4/5"),children:[D("cta"),(0,o.jsx)(E.default,{src:"/images/hero/star.png",alt:"arrow",width:15,height:16})]}),(0,o.jsxs)(b,{children:[(0,o.jsx)(u,{children:(0,o.jsx)(x,{children:D("alert")})}),(0,o.jsxs)(f,{children:[(0,o.jsx)(y,{children:D("cancel")}),(0,o.jsx)(w,{onClick:F,children:D("ok")})]})]})]})]})]})});var A=i(67703),D=i(32249),_=i(58052),L=i(59536),Y=i(93881);function B(e){let{onSaveProject:t,onGenReport:i,onUserOpen:n}=e,{isMobile:a}=(0,C.A)(),s=(0,k.c3)("design");return(0,o.jsx)("nav",{className:"bg-white h-16 border-b-gray-100 border-b-2 fixed top-0 left-0 right-0 z-10",children:(0,o.jsx)("div",{className:"mx-auto px-4 h-full",children:(0,o.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,o.jsx)(A.N_,{href:"/",className:"text-2xl font-bold text-primary",children:"HarmoniQ"}),(0,o.jsxs)("div",{className:"flex items-center space-x-4 text-foreground  gap-3",children:[(0,o.jsx)(D.A,{className:"text-foreground"}),(0,o.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:t,children:[(0,o.jsx)(_.A,{className:"w-4 h-4"}),"保存 "]}),(0,o.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:()=>n(!0),children:[(0,o.jsx)(L.A,{className:"w-4 h-4"}),s("profile")," "]}),(0,o.jsxs)(c,{children:[(0,o.jsxs)(h,{className:"inline-flex px-4 py-1 bg-button-gradient text-white rounded-full hover:bg-primary/90 transition-colors items-center gap-2",children:[s("cta"),(0,o.jsx)("span",{className:"text-lg",children:"✨"})]}),(0,o.jsxs)(b,{children:[(0,o.jsx)(u,{children:(0,o.jsx)(x,{children:s("alert")})}),(0,o.jsxs)(f,{children:[(0,o.jsx)(y,{children:s("cancel")}),(0,o.jsx)(w,{onClick:i,children:s("ok")})]})]})]}),(0,o.jsx)(Y.A,{})]})]})})})}var P=i(70643),X=i(97311);function G(e){let{onSaveProject:t,history:i,historyIndex:n,handleUndo:a,handleRedo:r,onUserOpen:l}=e,[d,c]=(0,s.useState)(!1),h=(0,k.c3)("design");return(0,o.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-50",children:[(0,o.jsx)("nav",{className:"bg-white h-16 border-b-gray-100 border-b-2 ",children:(0,o.jsx)("div",{className:"mx-auto px-4 h-full",children:(0,o.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4 text-foreground  gap-3",children:[(0,o.jsx)(O,{history:i,historyIndex:n,handleUndo:a,handleRedo:r}),(0,o.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",onClick:t,children:[(0,o.jsx)(_.A,{className:"w-4 h-4"})," "]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-4 text-foreground  gap-3",children:[(0,o.jsx)("span",{className:"flex items-center gap-1 cursor-pointer",children:(0,o.jsx)(P.A,{className:"w-4 h-4",onClick:()=>c(!0)})}),(0,o.jsxs)("span",{className:"flex items-center gap-1 cursor-pointer",children:[(0,o.jsx)(L.A,{className:"w-4 h-4",onClick:()=>l(!0)})," "]}),(0,o.jsx)(Y.A,{})]})]})})}),d&&(0,o.jsxs)("div",{className:"h-8 w-full bg-[#E5F4FF] px-6 py-3 flex justify-between items-center",children:[(0,o.jsxs)("span",{className:"text-[12px] text-foreground flex items-center gap-1",children:[(0,o.jsx)(P.A,{className:"w-4 h-4 text-[#888]"}),h("warning")]}),(0,o.jsx)(X.A,{className:"w-4 h-4 text-[#888]",onClick:()=>c(!1)})]})]})}function H(e){let{id:t,type:i,data:n,children:s,isOverCanvas:r}=e,{attributes:l,listeners:d,setNodeRef:c,transform:h,isDragging:p}=(0,a.PM)({id:t,data:{type:i,...n}}),g=h?{transform:"translate3d(".concat(h.x,"px, ").concat(h.y,"px, 0)"),opacity:p&&!r?.5:p&&r?0:1,position:"relative",zIndex:p?1e3:1,visibility:"visible"}:{};return(0,o.jsxs)("div",{className:"relative z-0 w-22.5",children:[(0,o.jsx)("div",{className:"absolute  -z-1 w-22.5 top-0 left-0",children:s}),(0,o.jsx)("div",{ref:c,...d,...l,className:"cursor-move",style:{...g},children:s})]})}i(76610);var W=i(19924);function V(e){let{sidebarRef:t,roomItems:i,furnitureItems:n,isOverCanvas:a,draggingItemSize:s}=e,r=(0,k.c3)("design");return(0,o.jsx)(W.F,{className:"h-[calc(100vh-64px)] w-1/6",children:(0,o.jsxs)("div",{ref:t,className:"md:block hidden  bg-white p-4 shadow border-r-gray-100 border-r-2",children:[(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:r("room")}),(0,o.jsx)("div",{className:"grid 2xl:grid-cols-3 xl:grid-cols-2 gap-2",children:i.map(e=>(0,o.jsx)(H,{id:e.id,type:e.type,data:e.data,isOverCanvas:a,children:(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,o.jsx)(E.default,{className:" bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s,priority:!0})}),(0,o.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:e.data.label})]})},e.id))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:r("furniture")}),(0,o.jsx)("div",{className:"grid 2xl:grid-cols-3 xl:grid-cols-2 gap-2",children:n.map(e=>(0,o.jsx)(H,{id:e.id,type:e.type,data:e.data,isOverCanvas:a,children:(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,o.jsx)(E.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:s,height:s,priority:!0})}),(0,o.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:e.data.label})]})},e.id))})]})]})})}var q=i(86693),K=i(43263);function Q(e){let{showTab:t,setShowTab:i,roomItems:n,furnitureItems:a,isOverCanvas:r,draggingItemSize:d}=e,[c,h]=(0,s.useState)(""),p=(0,k.c3)("design");return(0,s.useEffect)(()=>{h("room")},[]),(0,o.jsx)("div",{style:{boxShadow:"0 -1px 5px 0px rgba(0, 0, 0, 0.2)"},className:(0,l.cn)("fixed bottom-0 left-0 z-10 w-full pb-20 pl-0 pr-2 bg-white md:hidden rounded-t-2xl transition-transform duration-300 ease-in-out",t?"translate-y-0":"translate-y-full"),children:(0,o.jsxs)(q.tU,{value:c,className:"w-full gap-4",setShowTab:i,onValueChange:e=>h(e),children:[(0,o.jsxs)(q.j7,{className:"mx-auto bg-white gap-8",children:[(0,o.jsx)(q.Xi,{defaultValue:!0,value:"room",className:"rounded-[3px] text-[12px] font-bold data-[state=active]:shadow-none data-[state=active]:border-b-4 data-[state=active]:border-b-primary",children:p("room")}),(0,o.jsx)(q.Xi,{value:"furniture",className:"rounded-[3px] text-[12px] font-bold data-[state=active]:shadow-none data-[state=active]:border-b-4 data-[state=active]:border-b-primary",children:p("furniture")})]}),(0,o.jsx)(q.av,{value:"room",className:"w-full pb-3 overflow-hidden",children:(0,o.jsxs)(K.FN,{children:[(0,o.jsxs)(K.Wk,{children:[(0,o.jsx)(K.A7,{children:(0,o.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:n.slice(0,8).map(e=>(0,o.jsx)(H,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,o.jsx)(E.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d,priority:!0})}),(0,o.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,o.jsx)(K.A7,{children:(0,o.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:n.slice(8).map(e=>(0,o.jsx)(H,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,o.jsx)(E.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d,priority:!0})}),(0,o.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})})]}),(0,o.jsx)(K.Q8,{className:"left-0 "}),(0,o.jsx)(K.Oj,{className:"right-0"})]})}),(0,o.jsx)(q.av,{value:"furniture",className:"w-full pb-3 overflow-hidden",children:(0,o.jsxs)(K.FN,{children:[(0,o.jsxs)(K.Wk,{children:[(0,o.jsx)(K.A7,{children:(0,o.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:a.slice(0,8).map(e=>(0,o.jsx)(H,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,o.jsx)(E.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d})}),(0,o.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,o.jsx)(K.A7,{children:(0,o.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:a.slice(8,16).map(e=>(0,o.jsx)(H,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,o.jsx)(E.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d})}),(0,o.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})}),(0,o.jsx)(K.A7,{children:(0,o.jsx)("div",{className:"grid grid-cols-4 gap-x-8 gap-y-6",children:a.slice(16).map(e=>(0,o.jsx)(H,{id:e.id,type:e.type,data:e.data,isOverCanvas:r,children:(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,o.jsx)(E.default,{className:"bg-[#EFF7F4] rounded-lg",src:e.data.icon,alt:e.data.label,width:d,height:d})}),(0,o.jsx)("span",{className:"mt-1 text-[12px] text-gray-600",children:e.data.label})]})},e.id))})})]}),(0,o.jsx)(K.Q8,{className:"left-0 "}),(0,o.jsx)(K.Oj,{className:"right-0"})]})})]})})}var J=i(92387);let Z=[{name:"north",range:[337.5,22.5],baseAngle:0},{name:"northEast",range:[22.5,67.5],baseAngle:45},{name:"east",range:[67.5,112.5],baseAngle:90},{name:"southEast",range:[112.5,157.5],baseAngle:135},{name:"south",range:[157.5,202.5],baseAngle:180},{name:"southWest",range:[202.5,247.5],baseAngle:225},{name:"west",range:[247.5,292.5],baseAngle:270},{name:"northWest",range:[292.5,337.5],baseAngle:315}];var ee=i(73379),et=i(6900);function ei(e){let{...t}=e;return(0,o.jsx)(et.bL,{"data-slot":"dialog",...t})}function en(e){let{...t}=e;return(0,o.jsx)(et.ZL,{"data-slot":"dialog-portal",...t})}function eo(e){let{className:t,...i}=e;return(0,o.jsx)(et.hJ,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...i})}function ea(e){let{className:t,children:i,...n}=e;return(0,o.jsxs)(en,{"data-slot":"dialog-portal",children:[(0,o.jsx)(eo,{}),(0,o.jsxs)(et.UC,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[i,(0,o.jsxs)(et.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,o.jsx)(X.A,{}),(0,o.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function es(e){let{className:t,...i}=e;return(0,o.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",t),...i})}function er(e){let{className:t,...i}=e;return(0,o.jsx)(et.hE,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",t),...i})}var el=i(93286),ed=i(14013),ec=i(93386),eh=i(91293);function ep(e){let{className:t,...i}=e;return(0,o.jsx)(ec.bL,{"data-slot":"radio-group",className:(0,l.cn)("grid gap-3",t),...i})}function eg(e){let{className:t,...i}=e;return(0,o.jsx)(ec.q7,{"data-slot":"radio-group-item",className:(0,l.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...i,children:(0,o.jsx)(ec.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,o.jsx)(eh.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var eb=i(82945);function eu(e){let{className:t,...i}=e;return(0,o.jsx)(eb.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...i})}var ef=i(74307);let ex=Array.from({length:100},(e,t)=>(2025-t).toString()),em=Array.from({length:12},(e,t)=>(t+1).toString().padStart(2,"0")),ew=Array.from({length:31},(e,t)=>(t+1).toString().padStart(2,"0")),ey=Array.from({length:24},(e,t)=>t.toString().padStart(2,"0")),ev={years:ex,months:em,days:ew,hours:ey};function eR(e){let{tHour:t,onChange:i}=e,[n,a]=(0,s.useState)({years:"1996",months:"04",days:"15",hours:"12"});(0,s.useEffect)(()=>{e.value&&a({years:e.value[0],months:e.value[1],days:e.value[2],hours:e.value[3]})},[e.value]);let r=(e,i)=>{switch(i){case"years":return e+"年";case"months":return e+"月";case"days":return e+"日";case"hours":return e+t}};return(0,o.jsx)(ef.A,{value:n,onChange:e=>{a(e),i&&i([e.years,e.months,e.days,e.hours])},children:Object.keys(ev).map(e=>(0,o.jsx)(ef.A.Column,{name:e,children:ev[e].map(t=>(0,o.jsx)(ef.A.Item,{value:t,children:r(t,e)},t))},e))})}function eI(e){let{open:t,onUserOpen:i,onSubmit:n,userInfo:a}=e,r=(0,k.c3)("design"),l=(0,C.A)(),[c,h]=(0,s.useState)("男"),[p,g]=(0,s.useState)("1996"),[b,u]=(0,s.useState)("03"),[f,x]=(0,s.useState)("12"),[m,w]=(0,s.useState)("22");(0,s.useEffect)(()=>{if(a&&(h(a.gender||"male"),a.birthDateTime)){let e=new Date(a.birthDateTime);g(e.getFullYear().toString()),u((e.getMonth()+1).toString().padStart(2,"0")),x(e.getDate().toString().padStart(2,"0")),w(e.getHours().toString().padStart(2,"0"))}},[a]);let y=()=>{n({gender:c,birthDateTime:new Date(parseInt(p),parseInt(b)-1,parseInt(f),parseInt(m))})},v=e=>{e&&(g(e[0]),u(e[1]),x(e[2]),w(e[3]))};return(0,o.jsx)(ei,{open:t,onOpenChange:i,children:(0,o.jsxs)(ea,{className:"sm:max-w-[432px]",children:[(0,o.jsxs)(es,{children:[(0,o.jsxs)(er,{className:"text-lg md:text-xl font-bold md:text-left text-center",children:[" ",r("profile")," "]}),(0,o.jsx)("div",{className:"py-4 text-sm md:text-base  text-left",children:r("tip")})]}),(0,o.jsx)(el.Separator,{className:"md:hidden"}),(0,o.jsxs)("div",{className:"grid gap-4 pb-4",children:[l?(0,o.jsx)(()=>(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)(eu,{className:"text-base",children:"性别"}),(0,o.jsxs)("div",{className:"flex bg-gray-200 p-1 rounded-[6px]  ",children:[(0,o.jsx)("button",{style:{boxShadow:"0 1px 5px 0px rgba(0, 0, 0, 0.3)"},className:"rounded-[6px] px-4 py-1 ".concat("male"===c?"bg-white":"transparent"),onClick:()=>h("male"),children:"男"}),(0,o.jsx)("button",{className:"rounded-[6px] px-4 py-1 ".concat("female"===c?"bg-white":"transparent"),onClick:()=>h("female"),children:"女"})]})]}),{}):(0,o.jsx)(()=>(0,o.jsxs)("div",{className:"space-y-2 pb-4",children:[(0,o.jsx)(eu,{className:"font-bold pb-2 text-base",children:"性别"}),(0,o.jsxs)(ep,{value:c,onValueChange:h,className:"flex space-x-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(eg,{value:"male",id:"male"}),(0,o.jsx)(eu,{htmlFor:"male",children:"男"})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(eg,{value:"female",id:"female"}),(0,o.jsx)(eu,{htmlFor:"female",children:"女"})]})]})]}),{}),(0,o.jsx)(el.Separator,{className:"md:hidden"}),l?(0,o.jsx)(()=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between pb-4",children:[(0,o.jsx)(eu,{className:"text-base",children:"出生日期"}),(0,o.jsx)("span",{children:"".concat(p,"年").concat(b,"月").concat(f,"日").concat(m).concat(r("hour"))})]}),(0,o.jsx)(el.Separator,{}),(0,o.jsx)(eR,{tHour:r("hour"),onChange:v,value:[p,b,f,m]}),(0,o.jsx)(el.Separator,{})]}),{}):(0,o.jsx)(()=>(0,o.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(eu,{className:"font-bold pb-4 text-base",children:"年"}),(0,o.jsxs)(ed.l6,{value:p,onValueChange:g,children:[(0,o.jsx)(ed.bq,{className:"w-24",children:(0,o.jsx)(ed.yv,{placeholder:"年"})}),(0,o.jsx)(ed.gC,{children:ex.map(e=>(0,o.jsxs)(ed.eb,{value:e,children:[e,"年"]},e))})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(eu,{className:"font-bold pb-4 text-base",children:"月"}),(0,o.jsxs)(ed.l6,{value:b,onValueChange:u,children:[(0,o.jsx)(ed.bq,{className:"w-24",children:(0,o.jsx)(ed.yv,{placeholder:"月"})}),(0,o.jsx)(ed.gC,{children:em.map(e=>(0,o.jsxs)(ed.eb,{value:e,children:[e,"月"]},e))})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(eu,{className:"font-bold pb-4 text-base",children:"日"}),(0,o.jsxs)(ed.l6,{value:f,onValueChange:x,children:[(0,o.jsx)(ed.bq,{className:"w-20",children:(0,o.jsx)(ed.yv,{placeholder:"日"})}),(0,o.jsx)(ed.gC,{children:ew.map(e=>(0,o.jsxs)(ed.eb,{value:e,children:[e,"日"]},e))})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)(eu,{className:"font-bold pb-4 text-base",children:["小",r("hour")]}),(0,o.jsxs)(ed.l6,{value:m,onValueChange:w,children:[(0,o.jsx)(ed.bq,{className:"w-20",children:(0,o.jsx)(ed.yv,{placeholder:r("hour")})}),(0,o.jsx)(ed.gC,{children:ey.map(e=>(0,o.jsxs)(ed.eb,{value:e,children:[e,r("hour")]},e))})]})]})]}),{}),l?(0,o.jsxs)("div",{className:"flex justify-around",children:[(0,o.jsx)(d.$,{onClick:()=>{i(!1)},className:"px-10 border-1 border-[#ccc] text-foreground rounded-[100px] bg-white font-bold mt-10",children:"取消"}),(0,o.jsx)(d.$,{onClick:y,className:"px-10 bg-[#13ab87] font-bold mt-10 rounded-[100px]",children:"保存"})]}):(0,o.jsx)(d.$,{onClick:y,className:"w-full bg-[#13ab87] font-bold mt-10 rounded-[100px]",children:"保存"})]})]})})}var eN=i(8403);let eU={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"bathroom",label:"浴室1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:284.47058823529414,y:329.37254901960785},rotation:0},{id:"dining_room-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"dining_room",label:"飯廳1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:441,height:296},position:{x:144.84313725490188,y:632.8823529411765},rotation:0},{id:"living_room-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"living_room",label:"客廳1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:443,height:290},position:{x:588.1176470588235,y:634.4509803921569},rotation:0},{id:"bedroom-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"bedroom",label:"睡房1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:589.5882352941177,y:330.78431372549016},rotation:0},{id:"bedroom-2",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"bedroom",label:"睡房2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:421,height:375},position:{x:593.3529411764706,y:926.4705882352941},rotation:0},{id:"kitchen-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"kitchen",label:"廚房1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:270,height:363},position:{x:315.0392156862745,y:930.4509803921569},rotation:0},{id:"balcony-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"balcony",label:"陽台1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/balcony.png",size:{width:300,height:300}},size:{width:116,height:296},position:{x:1030.764705882353,y:635.8039215686274},rotation:0},{id:"toilet-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet-gr.png",data:{cateType:R.w$.FURNITURE,type:"toilet",label:"浴室1-馬桶1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:410.843137254902,y:351.5490196078431},rotation:0,parentId:null,offset:{x:134.843137254902,y:7.549019607843093}},{id:"shower-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower-gr.png",data:{cateType:R.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:483.2352941176471,y:528.4313725490196},rotation:0,parentId:null,offset:{x:211.23529411764707,y:207.43137254901956}},{id:"bathtub-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub-gr.png",data:{cateType:R.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:489.82352941176464,y:357.92156862745094},rotation:0,parentId:null,offset:{x:219.82352941176464,y:52.92156862745094}},{id:"sink-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink-gr.png",data:{cateType:R.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:291.92156862745094,y:481.11764705882354},rotation:-270,parentId:null,offset:{x:-5.078431372549062,y:153.11764705882354}},{id:"door-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"浴室1-門1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:417.3137254901961,y:572.4117647058823},rotation:-90,parentId:null},{id:"window-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:310.72549019607845,y:362.7254901960784},rotation:-180,parentId:null},{id:"door-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"飯廳1-門1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:160.37254901960785,y:755.2156862745098},rotation:0,parentId:"dining_room-1",offset:{x:4.529411764705969,y:131.33333333333337}},{id:"window-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:240.58823529411762,y:622.4901960784314},rotation:-90,parentId:"dining_room-1",offset:{x:91.74509803921575,y:-20.392156862745082}},{id:"table-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",data:{cateType:R.w$.FURNITURE,type:"table",label:"飯廳1-枱1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:290.37254901960785,y:657.5294117647059},rotation:-90,parentId:"dining_room-1",offset:{x:100.52941176470597,y:9.647058823529392}},{id:"fridge-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/fridge-gr.png",data:{cateType:R.w$.FURNITURE,type:"fridge",label:"廚房1-冰箱1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:339.2941176470588,y:991.6666666666667},rotation:0,parentId:null},{id:"door-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"廚房1-門1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:433.4509803921569,y:943.5686274509803},rotation:-270,parentId:null},{id:"wardrobe-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"飯廳1-櫃1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:307.921568627451,y:809.0588235294117},rotation:-90,parentId:"dining_room-1",offset:{x:166.07843137254912,y:203.17647058823525}},{id:"bed-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",data:{cateType:R.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:861.6862745098039,y:1134.078431372549},rotation:-180,parentId:null},{id:"window-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:702.5882352941177,y:1253.313725490196},rotation:-270,parentId:null},{id:"window-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:984.5490196078431,y:1094.1372549019607},rotation:0,parentId:null},{id:"bookshelf-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bookshelf-gr.png",data:{cateType:R.w$.FURNITURE,type:"bookshelf",label:"客廳1-茶几1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:899.7058823529411,y:748.9607843137255},rotation:0,parentId:null},{id:"bed-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",data:{cateType:R.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:781.7254901960785,y:356.47058823529414},rotation:0,parentId:null},{id:"stove-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/stove-gr.png",data:{cateType:R.w$.FURNITURE,type:"stove",label:"廚房1-爐具1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:329.09803921568624,y:1121.6470588235295},rotation:-90,parentId:null},{id:"sink-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink-gr.png",data:{cateType:R.w$.FURNITURE,type:"sink",label:"廚房1-锌盘1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:420.6078431372549,y:1231.1568627450981},rotation:0,parentId:null},{id:"tv-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv-gr.png",data:{cateType:R.w$.FURNITURE,type:"tv",label:"客廳1-電視1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:855.6078431372549,y:658.9411764705882},rotation:0,parentId:null},{id:"sofa-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa-gr.png",data:{cateType:R.w$.FURNITURE,type:"sofa",label:"客廳1-沙發1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:891.5294117647059,y:800.4901960784314},rotation:-90,parentId:null},{id:"door-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"睡房2-門1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:754.2549019607843,y:944.8431372549019},rotation:-270,parentId:null},{id:"door-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"睡房1-門1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:729.4117647058823,y:568.9607843137255},rotation:-90,parentId:null},{id:"wardrobe-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"睡房2-櫃1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:623.2745098039215,y:1063.6470588235295},rotation:0,parentId:null},{id:"wardrobe-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"睡房1-櫃1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:614.3529411764706,y:452.01960784313724},rotation:0,parentId:null},{id:"window-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:928.0196078431372,y:455},rotation:0,parentId:null},{id:"window-6",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"廚房1-窗1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:337.0588235294117,y:1196.6666666666667},rotation:0,parentId:null},{id:"wardrobe-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"廚房1-櫃1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:520.9411764705883,y:1060.8431372549019},rotation:0,parentId:null},{id:"table-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",data:{cateType:R.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:706.5294117647059,y:1171.392156862745},rotation:-90,parentId:null},{id:"chair-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:267.3529411764706,y:747.0196078431372},rotation:-90,parentId:"dining_room-1",offset:{x:75.50980392156873,y:107.13725490196077}},{id:"chair-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子3",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:328.5098039215686,y:747.6078431372548},rotation:-90,parentId:"dining_room-1",offset:{x:139.66666666666674,y:106.72549019607834}},{id:"chair-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:265.43137254901956,y:662.1764705882354},rotation:-270,parentId:"dining_room-1",offset:{x:77.58823529411768,y:16.294117647058897}},{id:"chair-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"飯廳1-椅子4",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:325.52941176470586,y:660.3529411764705},rotation:-270,parentId:"dining_room-1",offset:{x:136.68627450980398,y:15.47058823529403}},{id:"wardrobe-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"客廳1-櫃1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:653.9215686274509,y:809.0392156862745},rotation:-90,parentId:null},{id:"tv-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv-gr.png",data:{cateType:R.w$.FURNITURE,type:"tv",label:"睡房2-電視1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:850,y:962.2352941176471},rotation:0,parentId:null},{id:"plant-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant-gr.png",data:{cateType:R.w$.FURNITURE,type:"plant",label:"陽台1-植物2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1057.2549019607843,y:871.6078431372549},rotation:0,parentId:null},{id:"plant-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant-gr.png",data:{cateType:R.w$.FURNITURE,type:"plant",label:"陽台1-植物1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1055.2549019607843,y:650.9803921568628},rotation:0,parentId:null},{id:"door-6",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"陽台1-門1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:1049.0819672131147,y:769.6393442622951},rotation:0,parentId:null}]},eT={canvasPosition:{x:0,y:-18},compassRotation:0,scale:61,localItems:[{id:"bathroom-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"bathroom",label:"浴室1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bathroom.png",size:{width:300,height:300}},size:{width:300,height:300},position:{x:284.47058823529414,y:329.37254901960785},rotation:0},{id:"dining_room-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"dining_room",label:"饭厅1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/dining_room.png",size:{width:300,height:300}},size:{width:441,height:296},position:{x:144.84313725490188,y:632.8823529411765},rotation:0},{id:"living_room-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"living_room",label:"客厅1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/living_room.png",size:{width:300,height:300}},size:{width:443,height:290},position:{x:588.1176470588235,y:634.4509803921569},rotation:0},{id:"bedroom-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"bedroom",label:"睡房1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:367,height:304},position:{x:589.5882352941177,y:330.78431372549016},rotation:0},{id:"bedroom-2",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"bedroom",label:"睡房2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",size:{width:300,height:300}},size:{width:421,height:375},position:{x:593.3529411764706,y:926.4705882352941},rotation:0},{id:"kitchen-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"kitchen",label:"厨房1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/kitchen.png",size:{width:300,height:300}},size:{width:270,height:363},position:{x:315.0392156862745,y:930.4509803921569},rotation:0},{id:"balcony-1",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:"balcony",label:"阳台1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/balcony.png",size:{width:300,height:300}},size:{width:116,height:296},position:{x:1030.764705882353,y:635.8039215686274},rotation:0},{id:"toilet-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet-gr.png",data:{cateType:R.w$.FURNITURE,type:"toilet",label:"浴室1-马桶1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet.png",size:{width:40,height:60}},size:{width:40,height:60},position:{x:410.843137254902,y:351.5490196078431},rotation:0,parentId:null,offset:{x:134.843137254902,y:7.549019607843093}},{id:"shower-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower-gr.png",data:{cateType:R.w$.FURNITURE,type:"shower",label:"浴室1-淋浴1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower.png",size:{width:80,height:80}},size:{width:80,height:80},position:{x:483.2352941176471,y:528.4313725490196},rotation:0,parentId:null,offset:{x:211.23529411764707,y:207.43137254901956}},{id:"bathtub-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub-gr.png",data:{cateType:R.w$.FURNITURE,type:"bathtub",label:"浴室1-浸浴1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub.png",size:{width:120,height:60}},size:{width:70,height:35},position:{x:489.82352941176464,y:357.92156862745094},rotation:0,parentId:null,offset:{x:219.82352941176464,y:52.92156862745094}},{id:"sink-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink-gr.png",data:{cateType:R.w$.FURNITURE,type:"sink",label:"浴室1-锌盘1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:291.92156862745094,y:481.11764705882354},rotation:-270,parentId:null,offset:{x:-5.078431372549062,y:153.11764705882354}},{id:"door-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"浴室1-门1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:417.3137254901961,y:572.4117647058823},rotation:-90,parentId:null},{id:"window-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"浴室1-窗2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:310.72549019607845,y:362.7254901960784},rotation:-180,parentId:null},{id:"door-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"饭厅1-门1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:160.37254901960785,y:755.2156862745098},rotation:0,parentId:"dining_room-1",offset:{x:4.529411764705969,y:131.33333333333337}},{id:"window-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"浴室1-窗1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:240.58823529411762,y:622.4901960784314},rotation:-90,parentId:"dining_room-1",offset:{x:91.74509803921575,y:-20.392156862745082}},{id:"table-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",data:{cateType:R.w$.FURNITURE,type:"table",label:"饭厅1-枱1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:290.37254901960785,y:657.5294117647059},rotation:-90,parentId:"dining_room-1",offset:{x:100.52941176470597,y:9.647058823529392}},{id:"fridge-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/fridge-gr.png",data:{cateType:R.w$.FURNITURE,type:"fridge",label:"厨房1-冰箱1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/fridge.png",size:{width:40,height:43}},size:{width:40,height:43},position:{x:339.2941176470588,y:991.6666666666667},rotation:0,parentId:null},{id:"door-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"厨房1-门1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:433.4509803921569,y:943.5686274509803},rotation:-270,parentId:null},{id:"wardrobe-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"饭厅1-柜1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:307.921568627451,y:809.0588235294117},rotation:-90,parentId:"dining_room-1",offset:{x:166.07843137254912,y:203.17647058823525}},{id:"bed-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",data:{cateType:R.w$.FURNITURE,type:"bed",label:"睡房2-床1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:861.6862745098039,y:1134.078431372549},rotation:-180,parentId:null},{id:"window-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"睡房2-窗1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:702.5882352941177,y:1253.313725490196},rotation:-270,parentId:null},{id:"window-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"睡房2-窗2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:984.5490196078431,y:1094.1372549019607},rotation:0,parentId:null},{id:"bookshelf-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bookshelf-gr.png",data:{cateType:R.w$.FURNITURE,type:"bookshelf",label:"客厅1-茶几1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bookshelf.png",size:{width:44,height:44}},size:{width:44,height:44},position:{x:899.7058823529411,y:748.9607843137255},rotation:0,parentId:null},{id:"bed-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",data:{cateType:R.w$.FURNITURE,type:"bed",label:"睡房1-床1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed.png",size:{width:89,height:128}},size:{width:89,height:128},position:{x:781.7254901960785,y:356.47058823529414},rotation:0,parentId:null},{id:"stove-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/stove-gr.png",data:{cateType:R.w$.FURNITURE,type:"stove",label:"厨房1-炉具1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/stove.png",size:{width:62,height:32}},size:{width:62,height:32},position:{x:329.09803921568624,y:1121.6470588235295},rotation:-90,parentId:null},{id:"sink-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink-gr.png",data:{cateType:R.w$.FURNITURE,type:"sink",label:"厨房1-锌盘1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink.png",size:{width:60,height:40}},size:{width:60,height:40},position:{x:420.6078431372549,y:1231.1568627450981},rotation:0,parentId:null},{id:"tv-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv-gr.png",data:{cateType:R.w$.FURNITURE,type:"tv",label:"客厅1-电视1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:855.6078431372549,y:658.9411764705882},rotation:0,parentId:null},{id:"sofa-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa-gr.png",data:{cateType:R.w$.FURNITURE,type:"sofa",label:"客厅1-沙发1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa.png",size:{width:67,height:123}},size:{width:67,height:123},position:{x:891.5294117647059,y:800.4901960784314},rotation:-90,parentId:null},{id:"door-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"睡房2-门1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:754.2549019607843,y:944.8431372549019},rotation:-270,parentId:null},{id:"door-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"睡房1-门1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:729.4117647058823,y:568.9607843137255},rotation:-90,parentId:null},{id:"wardrobe-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"睡房2-柜1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:623.2745098039215,y:1063.6470588235295},rotation:0,parentId:null},{id:"wardrobe-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"睡房1-柜1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:614.3529411764706,y:452.01960784313724},rotation:0,parentId:null},{id:"window-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"未分配-窗",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:928.0196078431372,y:455},rotation:0,parentId:null},{id:"window-6",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",data:{cateType:R.w$.FURNITURE,type:"window",label:"厨房1-窗1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",size:{width:8,height:56}},size:{width:8,height:56},position:{x:337.0588235294117,y:1196.6666666666667},rotation:0,parentId:null},{id:"wardrobe-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"厨房1-柜1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:520.9411764705883,y:1060.8431372549019},rotation:0,parentId:null},{id:"table-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",data:{cateType:R.w$.FURNITURE,type:"table",label:"睡房2-枱1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table.png",size:{width:44,height:120}},size:{width:44,height:120},position:{x:706.5294117647059,y:1171.392156862745},rotation:-90,parentId:null},{id:"chair-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"饭厅1-椅子1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:267.3529411764706,y:747.0196078431372},rotation:-90,parentId:"dining_room-1",offset:{x:75.50980392156873,y:107.13725490196077}},{id:"chair-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"饭厅1-椅子3",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:328.5098039215686,y:747.6078431372548},rotation:-90,parentId:"dining_room-1",offset:{x:139.66666666666674,y:106.72549019607834}},{id:"chair-3",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"饭厅1-椅子2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:265.43137254901956,y:662.1764705882354},rotation:-270,parentId:"dining_room-1",offset:{x:77.58823529411768,y:16.294117647058897}},{id:"chair-4",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",data:{cateType:R.w$.FURNITURE,type:"chair",label:"饭厅1-椅子4",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",size:{width:28,height:35}},size:{width:28,height:35},position:{x:325.52941176470586,y:660.3529411764705},rotation:-270,parentId:"dining_room-1",offset:{x:136.68627450980398,y:15.47058823529403}},{id:"wardrobe-5",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",data:{cateType:R.w$.FURNITURE,type:"wardrobe",label:"客厅1-柜1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",size:{width:40,height:129}},size:{width:40,height:129},position:{x:653.9215686274509,y:809.0392156862745},rotation:-90,parentId:null},{id:"tv-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv-gr.png",data:{cateType:R.w$.FURNITURE,type:"tv",label:"睡房2-电视1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv.png",size:{width:134,height:32}},size:{width:134,height:32},position:{x:850,y:962.2352941176471},rotation:0,parentId:null},{id:"plant-1",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant-gr.png",data:{cateType:R.w$.FURNITURE,type:"plant",label:"阳台1-植物2",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1057.2549019607843,y:871.6078431372549},rotation:0,parentId:null},{id:"plant-2",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant-gr.png",data:{cateType:R.w$.FURNITURE,type:"plant",label:"阳台1-植物1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant.png",size:{width:36,height:36}},size:{width:36,height:36},position:{x:1055.2549019607843,y:650.9803921568628},rotation:0,parentId:null},{id:"door-6",type:R.w$.FURNITURE,activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",data:{cateType:R.w$.FURNITURE,type:"door",label:"阳台1-门1",icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",size:{width:40,height:40}},size:{width:40,height:40},position:{x:1049.0819672131147,y:769.6393442622951},rotation:0,parentId:null}]},ej={[R.sR.LIVING_ROOM]:"#F0DF9C",[R.sR.DINING_ROOM]:"#F5D4BC",[R.sR.STORAGE_ROOM]:"#ADC0BC",[R.sR.STUDY_ROOM]:"#B0B8C9",[R.sR.BEDROOM]:"#F5B8B8",[R.sR.BATHROOM]:"#C1D7E2",[R.sR.KITCHEN]:"#EDE0C6",[R.sR.BALCONY]:"#D0DCAA",[R.sR.GARDEN]:"#AACDBC",[R.sR.GARAGE]:"#C7C7DD",[R.sR.CORRIDOR]:"#CDCDCD"};function ez(e){var t,i;let{params:n}=e,r=(0,s.use)(n).locale,l=(0,k.c3)("design"),d=(0,k.c3)("toast"),h="zh-TW"===r?R.t7:R.Xs,p="zh-TW"===r?R.Gx:R.Qc,g="zh-TW"===r?eU:eT,I=[{id:"door-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.DOOR,label:p[R.x9.DOOR],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/door-gr.png",size:{width:40,height:40}}},{id:"window-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.WINDOW,label:p[R.x9.WINDOW],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/window-gr.png",size:{width:8,height:56}}},{id:"table-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.TABLE,label:p[R.x9.TABLE],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/table-gr.png",size:{width:44,height:120}}},{id:"chair-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.CHAIR,label:p[R.x9.CHAIR],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/chair-gr.png",size:{width:28,height:35}}},{id:"sofa-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.SOFA,label:p[R.x9.SOFA],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sofa-gr.png",size:{width:67,height:123}}},{id:"bed-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.BED,label:p[R.x9.BED],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bed-gr.png",size:{width:89,height:128}}},{id:"lamp-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.LAMP,label:p[R.x9.LAMP],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/lamp.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/lamp-gr.png",size:{width:70,height:128}}},{id:"tv-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.TV,label:p[R.x9.TV],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/tv-gr.png",size:{width:134,height:32}}},{id:"bookshelf-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.BOOKSHELF,label:p[R.x9.BOOKSHELF],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bookshelf.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bookshelf-gr.png",size:{width:44,height:44}}},{id:"wardrobe-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.WARDROBE,label:p[R.x9.WARDROBE],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/wardrobe-gr.png",size:{width:40,height:129}}},{id:"plant-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.PLANT,label:p[R.x9.PLANT],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/plant-gr.png",size:{width:36,height:36}}},{id:"fridge-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.FRIDGE,label:p[R.x9.FRIDGE],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/fridge.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/fridge-gr.png",size:{width:40,height:43}}},{id:"stove-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.STOVE,label:p[R.x9.STOVE],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/stove.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/stove-gr.png",size:{width:62,height:32}}},{id:"sink-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.SINK,label:p[R.x9.SINK],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/sink-gr.png",size:{width:60,height:40}}},{id:"washbasin-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.WASHBASIN,label:p[R.x9.WASHBASIN],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/washbasin.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/washbasin-gr.png",size:{width:50,height:50}}},{id:"toilet-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.TOILET,label:p[R.x9.TOILET],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/toilet-gr.png",size:{width:40,height:60}}},{id:"shower-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.SHOWER,label:p[R.x9.SHOWER],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/shower-gr.png",size:{width:80,height:80}}},{id:"bathtub-template",type:R.w$.FURNITURE,data:{cateType:R.w$.FURNITURE,type:R.x9.BATHTUB,label:p[R.x9.BATHTUB],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub.png",activeIcon:"https://d3cbeloe0vn1bb.cloudfront.net/images/fur-icon/bathtub-gr.png",size:{width:120,height:60}}}],N=(0,a.FR)((0,a.MS)(a.IG,{tolerance:50}),(0,a.MS)(a.cA,{activationConstraint:{distance:10}})),U=(0,v.useRouter)(),[T,j]=(0,s.useState)(null),[z,$]=(0,s.useState)(!1),[F,O]=(0,s.useState)(0),[A,D]=(0,s.useState)(!1),[_,L]=(0,s.useState)([[]]),[Y,P]=(0,s.useState)(0),[X,H]=(0,s.useState)(!1),[W,q]=(0,s.useState)({}),[K,et]=(0,s.useState)(!1),ei=(0,s.useRef)(null),en=(0,s.useRef)(null),eo=(0,C.A)(),ea=eo?48:56,es=eo?{width:200,height:200}:{width:300,height:300},[er,el]=(0,s.useState)(!1),[ed,ec]=(0,s.useState)(!1),eh=[{id:"living-room",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.LIVING_ROOM,label:h[R.sR.LIVING_ROOM],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/living_room.png",size:es}},{id:"dining-room",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.DINING_ROOM,label:h[R.sR.DINING_ROOM],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/dining_room.png",size:es}},{id:"storage-room",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.STORAGE_ROOM,label:h[R.sR.STORAGE_ROOM],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/storage_room.png",size:es}},{id:"study-room",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.STUDY_ROOM,label:h[R.sR.STUDY_ROOM],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/study_room.png",size:es}},{id:"bedroom",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.BEDROOM,label:h[R.sR.BEDROOM],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bedroom.png",size:es}},{id:"bathroom",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.BATHROOM,label:h[R.sR.BATHROOM],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/bathroom.png",size:es}},{id:"kitchen",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.KITCHEN,label:h[R.sR.KITCHEN],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/kitchen.png",size:es}},{id:"balcony",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.BALCONY,label:h[R.sR.BALCONY],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/balcony.png",size:es}},{id:"garden",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.GARDEN,label:h[R.sR.GARDEN],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/garden.png",size:es}},{id:"garage",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.GARAGE,label:h[R.sR.GARAGE],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/garage.png",size:es}},{id:"corridor",type:R.w$.ROOM,data:{cateType:R.w$.ROOM,type:R.sR.CORRIDOR,label:h[R.sR.CORRIDOR],icon:"https://d3cbeloe0vn1bb.cloudfront.net/images/room-icon/corridor.png",size:es}}],{data:ep}=(0,ee.wV)();(0,s.useEffect)(()=>{let e=()=>{en.current&&O(en.current.offsetWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,s.useEffect)(()=>{(async()=>{var e,t,i,n,o;let a=null==ep?void 0:null===(e=ep.user)||void 0===e?void 0:e.userId;if(a)try{et(!0);let{status:e,message:s,data:r}=await (0,J.Jt)("/api/users/".concat(a)),{status:l,message:d,data:c}=await (0,J.Jt)("/api/design/".concat(a));if(0!==e){M.oR.error("查询用户错误:"+s);return}if(0!==l){M.oR.error("查询布局错误:"+d);return}q(r),H(!0);let{localItems:h=[],scale:p=100,canvasPosition:g={x:0,y:0},compassRotation:b=0}=c,u=h.map(e=>({...e,type:e._type,data:{...e.data,type:e.data._type}}));null===(t=ei.current)||void 0===t||t.setLocalItems(u),null===(i=ei.current)||void 0===i||i.setPosition(g),null===(n=ei.current)||void 0===n||n.setCompassRotation(b),null===(o=ei.current)||void 0===o||o.setScale(p),et(!1)}catch(e){et(!1),M.oR.error("加载布局错误:"+e),console.error("Error loading design:",e)}})()},[null==ep?void 0:null===(t=ep.user)||void 0===t?void 0:t.userId]);let eg=(e,t)=>{let{over:i}=e,n=(null==i?void 0:i.id)==="canvas";if($(n),n){let e=ei.current.getLocalItems(),i="".concat(T.data.current.label).concat(e.filter(e=>e.data.type===T.data.current.type).length+1),n={id:"".concat(T.data.current.type,"-").concat(e.filter(e=>e.data.type===T.data.current.type).length+1),type:T.data.current.cateType,data:{...T.data.current,label:T.data.current.cateType===R.w$.ROOM?i:""},size:T.data.current.size,activeIcon:T.data.current.activeIcon};ei.current.setIsRoomDragging(!0),ei.current.setRoomDragStart(t),ei.current.setDraggedRoom(n)}else ei.current.setIsRoomDragging(!1)},eb=async()=>{var e;(null==ep?void 0:null===(e=ep.user)||void 0===e?void 0:e.userId)||(0,v.redirect)("/auth/login");try{et(!0);let e=function(e){var t;let i,n,o,a,s,r,l,d=e.localItems.filter(e=>"room"===e.type),c=e.localItems.filter(e=>"furniture"===e.type),h=(e,t,i,n,o)=>{if(e===t)return"center";let a=e.position.x+e.size.width/2,s=e.position.y+e.size.height/2,r=180/Math.PI*Math.atan2(a-i,-(s-n));for(let t of(r<0&&(r+=360),console.log("newDirections",r,e,a,s,i,n),o))if(337.5!==t.range[0]){if(r>=t.range[0]&&r<t.range[1])return t.name}else if(r>=t.range[0]||r<t.range[1])return t.name},{centerRoom:p,centerX:g,centerY:b}=(i=0,n=0,o=d[0].position.x+d[0].size.width/2,a=d[0].position.y+d[0].size.height/2,s=d[0].position.x+d[0].size.width/2,r=d[0].position.y+d[0].size.height/2,d.forEach(e=>{e.position.x+e.size.width/2<o&&(o=e.position.x+e.size.width/2),e.position.y+e.size.height/2<a&&(a=e.position.y+e.size.height/2),e.position.x+e.size.width/2>s&&(s=e.position.x+e.size.width/2),e.position.y+e.size.height/2>r&&(r=e.position.y+e.size.height/2)}),i=(o+s)/2,n=(a+r)/2,{centerRoom:d.find(e=>e.position.x<=i&&e.position.x+e.size.width>=i&&e.position.y<=n&&e.position.y+e.size.height>=n),centerX:i,centerY:n}),u=(t=e.compassRotation||0,console.log("northIndex",l=Z.findIndex(e=>e.baseAngle===t%360)),Z.slice(l).concat(Z.slice(0,l)).map((e,t)=>({...e,name:Z[t].name}))),f=d.map(e=>{let t=h(e,p,g,b,u);return{...e,direction:t}});return{...e,localItems:[...f,...c]}}({localItems:ei.current.getLocalItems(),canvasPosition:ei.current.getPosition(),compassRotation:ei.current.getCompassRotation(),scale:ei.current.getScale()}),{status:t}=await (0,J.bE)("/api/design/".concat(ep.user.userId),e);0==t&&M.oR.success("保存成功！")}catch(e){M.oR.error("保存失败："+e),console.error("Error saving design:",e)}finally{et(!1)}},eu=async()=>{var e;(null==ep?void 0:null===(e=ep.user)||void 0===e?void 0:e.userId)||(0,v.redirect)("/auth/login");let t=ep.user.userId,i=ei.current.getLocalItems(),n=!1,o=!1;if(i.forEach(e=>{"door"===e.data.type&&(n=!0),"window"===e.data.type&&(o=!0)}),!n||!o){M.oR.error(l("warning"),{autoClose:!1,style:{width:400}});return}try{let{status:e,data:i}=await (0,J.Jt)("/api/reportUserDoc/".concat(t,"/").concat("zh-CN"==r?"zh":"tw"));i?el(!0):(await eb(),U.push("/report"))}catch(e){}},ef=async()=>{var e;(null==ep?void 0:null===(e=ep.user)||void 0===e?void 0:e.userId)||(0,v.redirect)("/auth/login");let t=ep.user.userId;await eb();try{el(!1),et(!0);let{status:e}=await (0,J.bE)("/api/users/".concat(ep.user.userId),{isLock:!0,genStatus:"none"}),{status:i}=await (0,J.F6)("/api/reportUserDoc/".concat(t),{isDelete:1});et(!1),0==e&&0==i&&U.push("/report")}catch(e){}},ex=()=>{if(Y>0){var e,t;null===(e=ei.current)||void 0===e||e.setActiveRoom(null),P(e=>e-1),null===(t=ei.current)||void 0===t||t.setLocalItems(_[Y-1])}},em=()=>{if(Y<_.length-1){var e,t;null===(e=ei.current)||void 0===e||e.setActiveRoom(null),P(e=>e+1),null===(t=ei.current)||void 0===t||t.setLocalItems(_[Y+1])}},ew=async e=>{var t;(null==ep?void 0:null===(t=ep.user)||void 0===t?void 0:t.userId)||(0,v.redirect)("/auth/login"),et(!0),q(e);try{let{status:t}=await (0,J.bE)("/api/users/".concat(ep.user.userId),{gender:e.gender,birthDateTime:e.birthDateTime.toISOString()});0==t&&(M.oR.success("保存成功！"),H(!1))}catch(e){M.oR.error("保存失败："+e),console.error("Error saving user info:",e)}finally{et(!1)}},ey=e=>{ec(!0)};return(0,o.jsx)(s.Suspense,{fallback:(0,o.jsx)("div",{children:"loading..."}),children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eN.m5,{fullscreen:!0,spinning:K,tip:d("loading2"),className:"bg-[#fff9]"}),(0,o.jsx)(eI,{open:X,onUserOpen:H,onSubmit:ew,userInfo:W}),eo?(0,o.jsx)(G,{onSaveProject:eb,history:_,historyIndex:Y,handleUndo:ex,handleRedo:em,onUserOpen:H}):(0,o.jsx)(B,{onSaveProject:eb,onGenReport:eu,onUserOpen:H}),(0,o.jsx)("div",{className:"pt-16",children:(0,o.jsxs)(a.Mp,{sensors:N,onDragStart:e=>{let{active:t}=e;j(t),$(!1)},onDragOver:e=>{eo||eg(e,{x:F,y:ea})},onDragMove:e=>{eo&&e.delta.y<-120&&eg(e,{x:0,y:50})},children:[(0,o.jsx)("div",{className:"min-h-[calc(100vh-64px)] bg-gray-50",children:(0,o.jsx)("div",{className:"container p-0",style:{maxWidth:"100%"},children:(0,o.jsxs)("div",{className:"flex h-[calc(100vh-64px)]",children:[eo?(0,o.jsx)(Q,{showTab:A,setShowTab:D,roomItems:eh,furnitureItems:I,isOverCanvas:z,draggingItemSize:ea}):(0,o.jsx)(V,{sidebarRef:en,roomItems:eh,furnitureItems:I,isOverCanvas:z,draggingItemSize:ea}),(0,o.jsxs)("div",{className:"relative flex-1 overflow-auto",id:"canvas-drop-area",children:[(0,o.jsxs)("div",{className:"absolute top-2 left-2 z-9 border-1 border-dashed border-gray-300 rounded-xl text-sm px-2 py-1 bg-secondary",children:[(0,o.jsx)("div",{className:"text-center text-gray-600",children:l("module")}),(0,o.jsx)("div",{onClick:()=>{ey("1")},className:"bg-primary text-white rounded-xl px-2 cursor-pointer m-2",children:l("module1")})]}),(0,o.jsx)(S,{ref:ei,locale:r,history:_,historyIndex:Y,setHistory:L,setHistoryIndex:P,handleUndo:ex,handleRedo:em,onGenReport:eu,showTab:A,onShowTab:()=>{D(!0)}})]})]})})}),(0,o.jsx)(a.Hd,{children:(null==T?void 0:T.id)&&z&&(T.data.current.cateType===R.w$.ROOM?(0,o.jsx)("div",{className:"flex flex-col items-center justify-center bg-white/80 rounded-lg",style:{transform:eo?"translateY(78px)":"translateY(0)",width:es.width,height:es.height,border:"8px solid",borderColor:ej[null===(i=eh.find(e=>e.id===T.id))||void 0===i?void 0:i.data.type],borderRadius:"8px"},children:(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsx)(E.default,{className:"bg-[#EFF7F4] rounded-lg",src:T.data.current.icon,alt:"Room",width:ea,height:ea}),(0,o.jsx)("span",{className:"mt-1 text-sm text-gray-600",children:T.data.current.label+(ei.current.getLocalItems().filter(e=>e.data.type===T.data.current.type).length+1)})]})}):(0,o.jsx)(E.default,{src:T.data.current.activeIcon,alt:"Furniture",width:T.data.current.size.width,height:T.data.current.size.height}))})]})}),(0,o.jsx)(c,{open:er,onOpenChange:el,children:(0,o.jsxs)(b,{children:[(0,o.jsxs)(u,{children:[(0,o.jsx)(x,{children:l("hasReportAlert")}),(0,o.jsx)(m,{children:l("description")})]}),(0,o.jsxs)(f,{children:[(0,o.jsx)(y,{children:l("cancel")}),(0,o.jsx)(w,{onClick:()=>{el(!1),U.push("/report")},children:l("readReport")}),(0,o.jsx)(w,{onClick:ef,children:l("coverReport")})]})]})}),(0,o.jsx)(c,{open:ed,onOpenChange:ec,children:(0,o.jsxs)(b,{children:[(0,o.jsx)(u,{children:(0,o.jsx)(x,{children:l("useModuleAlert")})}),(0,o.jsxs)(f,{children:[(0,o.jsx)(y,{children:l("cancel")}),(0,o.jsx)(w,{onClick:()=>{var e,t,i,n;null===(e=ei.current)||void 0===e||e.setLocalItems(g.localItems),null===(t=ei.current)||void 0===t||t.setPosition(g.canvasPosition),null===(i=ei.current)||void 0===i||i.setCompassRotation(g.compassRotation),null===(n=ei.current)||void 0===n||n.setScale(g.scale),ec(!1)},children:l("ok")})]})]})})]})})}},86693:(e,t,i)=>{"use strict";i.d(t,{Xi:()=>d,av:()=>c,j7:()=>l,tU:()=>r});var n=i(73243);i(45323);var o=i(69282),a=i(82247),s=i(4318);function r(e){let{className:t,...i}=e;return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(o.bL,{"data-slot":"tabs",className:(0,s.cn)("flex flex-col gap-2",t),...i}),i.setShowTab&&(0,n.jsx)(a.A,{className:"w-4 h-4 absolute top-2.5 right-5",onClick:()=>i.setShowTab(!1)})]})}function l(e){let{className:t,...i}=e;return(0,n.jsx)(o.B8,{"data-slot":"tabs-list",className:(0,s.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...i})}function d(e){let{className:t,...i}=e;return(0,n.jsx)(o.l9,{"data-slot":"tabs-trigger",className:(0,s.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function c(e){let{className:t,...i}=e;return(0,n.jsx)(o.UC,{"data-slot":"tabs-content",className:(0,s.cn)("flex-1 outline-none",t),...i})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3265,2376,1400,3379,3257,8403,7029,5593,1882,7642,52,1638,2072,7358],()=>t(6034)),_N_E=e.O()}]);