(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4],{6608:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var n=a(73243),s=a(67703),r=a(32249),i=a(75919),l=a(35574),o=a(93286),c=a(40217),d=a(62618);function m(e){let{from:t}=e,a=(0,c.c3)("Navigation"),m=(0,i.A)();return(0,n.jsx)("nav",{className:"bg-[#066952] h-16 hidden-on-print",children:(0,n.jsx)("div",{className:"px-4 h-full",children:(0,n.jsxs)("div",{className:"md:max-w-[80%] mx-auto flex items-center justify-center md:justify-between h-full",children:[(0,n.jsxs)("div",{className:"flex items-center gap-6",children:[(!m||"report"!==t)&&(0,n.jsx)(s.N_,{href:"/",className:"text-2xl font-bold text-white",children:"HarmoniQ"}),"report"==t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Separator,{orientation:"vertical",className:"h-6 hidden md:block"}),(0,n.jsx)("span",{className:"md:text-xl font-bold text-white",children:a("yourReport")})]})]}),m?(0,n.jsx)(l.A,{className:"text-white absolute right-6 top-6"}):(0,n.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,n.jsx)(r.A,{}),"report"==t&&(0,n.jsx)(d.A,{})]})]})})})}},19924:(e,t,a)=>{"use strict";a.d(t,{F:()=>i});var n=a(73243);a(45323);var s=a(88999),r=a(4318);function i(e){let{className:t,children:a,...i}=e;return(0,n.jsxs)(s.bL,{"data-slot":"scroll-area",className:(0,r.cn)("relative",t),...i,children:[(0,n.jsx)(s.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:a}),(0,n.jsx)(l,{}),(0,n.jsx)(s.OK,{})]})}function l(e){let{className:t,orientation:a="vertical",...i}=e;return(0,n.jsx)(s.VM,{"data-slot":"scroll-area-scrollbar",orientation:a,className:(0,r.cn)("flex touch-none p-px transition-colors select-none visible","vertical"===a&&"h-full w-2.5 border-l border-l-transparent","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent",t),...i,children:(0,n.jsx)(s.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},33899:(e,t,a)=>{"use strict";a.d(t,{default:()=>es});var n=a(73243),s=a(6608),r=a(45323),i=a(14041),l=a(75919),o=a(92387),c=a(73379),d=a(92378),m=a.n(d),u=a(74941),h=a(52593),x=a(14927),g=a(28889),p=a.n(g),f=a(85620),b=a.n(f),j=a(731);p().extend(u.t).extend(h.sM).extend(x.z0);let v=p()(b()().format("YYYY-MM-DD")).char8.year.toString(),{LYGanzhiMap:y,LYzhiMap:N,LYStarMap:w,LYSihuaMap:C,spouseStarMap:E,spouseSihuaMap:D}=function(){let e=b()().format("YYYY"),t={},a={},n={},s={},r={},i={};for(let l=1;l<=12;l++){let o=e+"-"+(l<10?"0"+l:""+l)+"-15",c=j.astro.bySolar(o,0,"男",!0,"zh-CN").horoscope(o);a[l]=c.monthly.earthlyBranch,t[l]=c.monthly.heavenlyStem+c.monthly.earthlyBranch,n[l]=c.palace("命宫","monthly").majorStars.map(e=>e.name).toString(),r[l]=c.palace("夫妻","monthly").majorStars.map(e=>e.name).toString(),s[l]=c.palace("命宫","monthly").mutagedPlaces().map(e=>e.name).toString(),i[l]=c.palace("夫妻","monthly").mutagedPlaces().map(e=>e.name).toString()}return{LYGanzhiMap:t,LYzhiMap:a,LYStarMap:n,LYSihuaMap:s,spouseStarMap:r,spouseSihuaMap:i}}(),S=function(){let e=b()().format("YYYY-MM-DD");return p()(e).char8.month.toString()}(),F=function(){let e=b()().format("YYYY-MM-DD");return j.astro.bySolar(e,0,"男",!0,"zh-CN").horoscope(e,0).palace("夫妻","yearly").majorStars.map(e=>e.name).toString()}();function A(e,t){var a;let n=b()(e).format("YYYY-MM-DD HH:mm:ss");console.log("birthStr",n);let s=Math.floor(b()(e).hour()/2),r=b()(e).format("YYYY-MM-DD"),i=j.astro.bySolar(r,s,"female"==t?"女":"男",!0,"zh-CN"),l=i.palace("命宫"),o=i.palace("身宫"),c=i.palace("迁移").majorStars.map(e=>e.name).toString(),d=i.horoscope(r,s),m=p()(n),u=function(e,t,a,n,s,r,i,l){let o={金:0,木:0,水:0,火:0,土:0},c=[e,t,a,n,s,r,i,l];c.forEach(e=>{["金","木","水","火","土"].includes(e)&&o[e]++});let d=c.length;return"金:".concat((o.金/d*100).toFixed(2),"%，木:").concat((o.木/d*100).toFixed(2),"%，水:").concat((o.水/d*100).toFixed(2),"%，火:").concat((o.火/d*100).toFixed(2),"%，土:").concat((o.土/d*100).toFixed(2),"%")}(m.char8.year.stem.e5.name,m.char8.year.branch.e5.name,m.char8.month.stem.e5.name,m.char8.month.branch.e5.name,m.char8.day.stem.e5.name,m.char8.day.branch.e5.name,m.char8.hour.stem.e5.name,m.char8.hour.branch.e5.name),h=m.char8.day.branch.hiddenStems.map(e=>e.name).toString(),x=m.char8ex(+("female"!==t)),g=x.year,f=x.month,y=x.day,N=x.hour,w={nayin:m.char8.year.takeSound,wuxingJu:(a=m.char8.year.takeSoundE5.toString(),"".concat(a).concat(O[a],"局")),year:m.char8.year.toString(),month:m.char8.month.toString(),day:m.char8.day.toString(),hour:m.char8.hour.toString(),wuxingScale:u,rizhiCanggan:h,mingPalace:"{主星：".concat(l.majorStars.map(e=>e.name).toString(),",主星亮度：").concat(l.majorStars.map(e=>e.brightness||"").toString(),", 辅星： ").concat(l.minorStars.map(e=>e.name).toString(),", 四化：").concat(l.mutagedPlaces().map(e=>e.name).toString(),"}"),bodyPalace:"{主星：".concat(o.majorStars.map(e=>e.name).toString(),",主星亮度：").concat(o.majorStars.map(e=>e.brightness||"").toString(),", 辅星： ").concat(o.minorStars.map(e=>e.name).toString(),", 四化：").concat(o.mutagedPlaces().map(e=>e.name).toString(),"}"),qianyiPalace:c,dayunGanzhi:d.decadal.heavenlyStem+d.decadal.earthlyBranch,liunianGanzhi:v,yearStemTenGod:g.stemTenGod.name,yearBranchTenGod:g.branchTenGod.map(e=>e.name).toString(),monthStemTenGod:f.stemTenGod.name,monthBranchTenGod:f.branchTenGod.map(e=>e.name).toString(),dayStemTenGod:y.stemTenGod.name,dayBranchTenGod:y.branchTenGod.map(e=>e.name).toString(),hourStemTenGod:N.stemTenGod.name,hourBranchTenGod:N.branchTenGod.map(e=>e.name).toString(),yearGods:g.gods.map(e=>e.name).toString(),monthGods:f.gods.map(e=>e.name).toString(),dayGods:y.gods.map(e=>e.name).toString()};return console.log("result",w),w}let O={水:"二",木:"三",金:"四",土:"五",火:"六"};var k=a(58204),R=a(49126),z=a(52751),T=a(4449),I=a(40217),M=a(62618);function G(e){let{jiajuDataString:t,designJsonData:a,isPrinting:s}=e,i=(0,I.c3)("report"),l=JSON.parse(t),[o,c]=(0,r.useState)({}),[d,m]=(0,r.useState)({width:0,height:0}),[u,h]=(0,r.useState)(100),[x,g]=(0,r.useState)(0),[p,f]=(0,r.useState)([]),[b,j]=(0,r.useState)(null),[v,y]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{if(a){let e=JSON.parse(a);h(e.scale),g(e.compassRotation);let t=e.localItems;if(!t||0===t.length)return;let n=t.filter(e=>"room"===e._type);f(n),j(n[0]);let s=t[0].position.x,r=t[0].position.y,i=t[0].position.x+t[0].size.width,l=t[0].position.y+t[0].size.height;t.forEach(e=>{e.position.x<s&&(s=e.position.x),e.position.y<r&&(r=e.position.y),e.position.x+e.size.width>i&&(i=e.position.x+e.size.width),e.position.y+e.size.height>l&&(l=e.position.y+e.size.height)});let o=t.map(e=>({...e,position:{x:e.position.x-s+100,y:e.position.y-r+100}}));c({...e,localItems:o}),m({width:i-s+200,height:l-r+200})}},[a]),!o.localItems)return"";function N(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("in"===e&&u<120)t=u+a;else if("out"===e&&u>50)t=u-a;else{if("reset"!==e)return;t=100}h(t)}let w=e=>{j(e)};return(0,n.jsxs)("section",{className:"relative",children:[(0,n.jsxs)("div",{className:"relative canvasImage",children:[(0,n.jsx)("div",{className:"relative border-1 border-[#E6E6E6] rounded-t-3xl py-[2px] mt-8 overflow-scroll",children:(0,n.jsx)("div",{onClick:()=>y(!1),className:"relative flex justify-center w-full h-135",style:{minWidth:d.width},children:(0,n.jsx)("div",{id:"roomCanvas",className:"absolute cursor-not-allowed",style:{width:"".concat(d.width,"px"),height:"".concat(d.height,"px"),transform:"scale(".concat(u/100,")"),transformOrigin:"top left"},children:(0,n.jsx)("div",{className:"relative",children:o.localItems.map(e=>e._type===R.w$.ROOM?(0,n.jsx)("div",{"data-room-element":"true",className:"absolute ".concat((null==b?void 0:b.id)===e.id?"ring-2 ring-red-500":""," cursor-move z-100"),style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height},children:(0,n.jsx)("div",{className:"w-full h-full",style:{border:e._type===R.w$.ROOM?"8px solid":"none",borderColor:e._type===R.w$.ROOM?R.$q[e.data._type]:"transparent",borderRadius:"8px",backgroundColor:R.$q[e.data._type]+"80"},children:(0,n.jsx)("div",{className:"absolute top-2 left-2 text-[14px] text-[#888888]",style:{zIndex:1},children:e.data.label})})},e.id):e._type===R.w$.FURNITURE?(0,n.jsx)("div",{"data-room-element":"true",className:"absolute cursor-move z-200",style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height},children:(0,n.jsx)(k.default,{draggable:"false",className:(null==b?void 0:b.id)===e.id?"ring-2 ring-red-500":"",style:{transform:e.rotation?"rotate(".concat(e.rotation,"deg)"):"none",transformOrigin:"center"},src:e.activeIcon,alt:"Furniture",width:e.size.width,height:e.size.height})},e.id):void 0)})})})}),(0,n.jsxs)("div",{style:{transform:"rotate(".concat(x,"deg)"),transition:"transform 0.3s ease-out"},className:"absolute top-5 right-5 flex flex-col items-center",children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"N"}),(0,n.jsx)(k.default,{src:"/images/compass.png",alt:"方向",width:40,height:40})]}),(0,n.jsxs)("div",{className:"absolute flex  top-120 right-5 items-center gap-2 bg-white rounded-full shadow-lg px-3 py-2",children:[(0,n.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 text-gray-600",onClick:e=>N("out"),disabled:u<=50,children:(0,n.jsx)(z.A,{className:"w-4 h-4"})}),(0,n.jsxs)("span",{className:"text-sm font-medium text-gray-600 min-w-[48px] text-center",children:[u,"%"]}),(0,n.jsx)("button",{className:"p-1 rounded hover:bg-gray-100 text-gray-600",onClick:e=>N("in"),disabled:u>=120,children:(0,n.jsx)(T.A,{className:"w-4 h-4"})})]}),(0,n.jsxs)("div",{onClick:()=>y(!0),className:"z-20 absolute top-120 left-5 w-10 h-10 rounded-full shadow-lg text-xs flex justify-center items-center cursor-pointer",children:[v&&(0,n.jsx)("div",{className:"absolute bottom-10 left-0 report-menu w-20 bg-white shadow-lg rounded-lg py-4 px-4 text-sm max-h-110 overflow-y-auto",children:p.map((e,t)=>(0,n.jsx)("div",{className:"text-sm mb-4 cursor-pointer ".concat((null==b?void 0:b.id)===e.id?"text-[#20B580]":""),onClick:()=>w(e),children:e.data.label},t))}),(0,n.jsx)("span",{children:i("catelog")})]})]}),!s&&(0,n.jsxs)("div",{className:"w-full md:rounded-b-3xl bg-[#fafafa] md:p-8 p-5 border-1 border-[#E6E6E6]",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(k.default,{width:(null==b?void 0:b.data._type)==="dining_room"?28:32,height:(null==b?void 0:b.data._type)==="dining_room"?28:32,style:{color:"red"},alt:"",src:"/images/report/".concat(null==b?void 0:b.data._type,".svg")}),(0,n.jsx)("h2",{className:"text-xl font-bold",children:null==b?void 0:b.data.label})]}),(0,n.jsx)("div",{className:"mt-3",children:l&&l[null==b?void 0:b.data._type]&&Object.entries(l[null==b?void 0:b.data._type][null==b?void 0:b.direction]).map(e=>{let[t,a]=e;return(0,n.jsxs)("p",{className:"leading-8 flex",children:[" ",(0,n.jsxs)("span",{className:"font-bold whitespace-nowrap min-w-22.5",children:[t,"："]}),(0,n.jsxs)("span",{className:"whitespace-pre-wrap",children:[a," "]})]})})})]}),s&&(0,n.jsx)("div",{className:"w-full md:rounded-b-3xl bg-[#fafafa] md:p-8 p-5 border-1 border-[#E6E6E6]",children:(0,n.jsx)("div",{className:"mt-3",children:p.map((e,t)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-[#073E31]",children:e.data.label}),l&&l[e.data._type]&&Object.entries(l[e.data._type][e.direction]).map(e=>{let[t,a]=e;return(0,n.jsxs)("p",{className:"leading-8 flex",children:[" ",(0,n.jsxs)("span",{className:"font-bold whitespace-nowrap min-w-22.5",children:[t,"："]}),(0,n.jsxs)("span",{className:"whitespace-pre-wrap",children:[a," "]})]})})]}))})}),(0,n.jsxs)("div",{className:"md:flex mt-10 items-center px-6 md:p-0",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"text-[#FF531A]",children:"*"}),i("p3-6"),(0,n.jsx)("span",{className:"font-bold",children:i("p3-7")})]}),(0,n.jsx)(M.A,{className:"bg-[#096E56] text-white md:ml-2 w-full md:w-auto mt-5 md:mt-0 block md:inline text-center"})]})]})}let B=[{name:"north",range:[337.5,22.5],baseAngle:0},{name:"northEast",range:[22.5,67.5],baseAngle:45},{name:"east",range:[67.5,112.5],baseAngle:90},{name:"southEast",range:[112.5,157.5],baseAngle:135},{name:"south",range:[157.5,202.5],baseAngle:180},{name:"southWest",range:[202.5,247.5],baseAngle:225},{name:"west",range:[247.5,292.5],baseAngle:270},{name:"northWest",range:[292.5,337.5],baseAngle:315}];function _(e){var t;let{jiajuDataString:a,isPrinting:s}=e,{data:i}=(0,c.wV)(),[l,d]=(0,r.useState)({});(0,r.useEffect)(()=>{var e;let t=null==i?void 0:null===(e=i.user)||void 0===e?void 0:e.userId;t&&(async()=>{let{data:e}=await (0,o.Jt)("/api/design/".concat(t));if(e){let t=m(e),a=e.localItems.filter(e=>"furniture"===e._type);d({...e,localItems:[...t,...a]}),console.log("new designData",t)}})()},[null==i?void 0:null===(t=i.user)||void 0===t?void 0:t.userId]);let m=e=>{var t;let a,n,s,r,i,l,o,c=e.localItems.filter(e=>"room"===e._type),d=(e,t,a,n,s)=>{if(e===t)return"center";let r=e.position.x+e.size.width/2,i=e.position.y+e.size.height/2,l=180/Math.PI*Math.atan2(r-a,-(i-n));for(let t of(l<0&&(l+=360),console.log("newDirections",l,e,r,i,a,n),s))if(337.5!==t.range[0]){if(l>=t.range[0]&&l<t.range[1])return t.name}else if(l>=t.range[0]||l<t.range[1])return t.name},{centerRoom:m,centerX:u,centerY:h}=(a=0,n=0,s=c[0].position.x+c[0].size.width/2,r=c[0].position.y+c[0].size.height/2,i=c[0].position.x+c[0].size.width/2,l=c[0].position.y+c[0].size.height/2,c.forEach(e=>{e.position.x+e.size.width/2<s&&(s=e.position.x+e.size.width/2),e.position.y+e.size.height/2<r&&(r=e.position.y+e.size.height/2),e.position.x+e.size.width/2>i&&(i=e.position.x+e.size.width/2),e.position.y+e.size.height/2>l&&(l=e.position.y+e.size.height/2)}),a=(s+i)/2,n=(r+l)/2,{centerRoom:c.find(e=>e.position.x<=a&&e.position.x+e.size.width>=a&&e.position.y<=n&&e.position.y+e.size.height>=n),centerX:a,centerY:n}),x=(t=e.compassRotation||0,console.log("northIndex",o=B.findIndex(e=>e.baseAngle===t%360)),B.slice(o).concat(B.slice(0,o)).map((e,t)=>({...e,name:B[t].name})));return c.map(e=>{let t=d(e,m,u,h,x);return{...e,direction:t}})};return(0,n.jsx)("div",{children:(0,n.jsx)(G,{jiajuDataString:a,designJsonData:JSON.stringify(l),isPrinting:s})})}let Y=(0,a(83800).A)(),L="E_K_GEN_REPORT";var P=a(71400),H=a(8403);let W="你是一位精通子平八字与紫微斗数的命理学家，擅长用天干地支以及星曜特性推算";b()().format("YYYY");let J={mingpan:"你是一位精通子平八字与紫微斗数的命理学家，擅长用现代心理学解读传统命盘。[任务] 根据用户提供的性别、出生年月日时、八字、五行分布等属性，分析命盘结构，需包含：  1. 用不到200字概括命局核心特质（需区分男命 / 女命分析差异，突出{八字.特殊格局}的影响）  2. 列出3个关键命盘特征，并说明其现实映射（例：月柱正印坐绝 → 母亲健康需注意）  3. 结合五行分布{八字.五行分布}，指出需补强的元素与风水建议（如缺火者宜用红色家居）",kaiyun:W+"个人开运元素。[生成逻辑]- **先天数**：日干{日干}对应河图数（例：丁火→2、7）；- **后天数**：用神{用神}对应洛书数（例：木→3、8）；- **动态调整**：流年太岁{当前流年干支}卦数（例：甲辰→5）。[输出模板] 「您的战略数字组合为【{先天数}\xd7{后天数}】，具体应用：1.✅ 日常决策：重要会议选含{数字}的日期（例：3日/13时）；2.✅ 空间布局：办公室楼层尾数取{数字}（例：7楼/17层）；3.✅ 密码设计：银行密码嵌入{数字}序列（例：37_28_19）」。[色谱算法]- 主色：用神对应色系（例：木→青绿色系）；- 辅色：通关元素色（例：木火交战取红色系）；- 禁忌色：忌神{忌神}色系（例：水→黑色）；[Pantone映射表]if 用神 == 火,则推荐色=[18-1664 TPX火焰红, 13-0647 TCX鲜黄]；if 用神 == 金，则推荐色=[19-4055 TCX经典蓝, 17 - 5104 TCX极光银]。[输出示例]：1.「职场穿搭公式：{主色}衬衫 + {辅色}领带（例：火焰红+鲜黄）；2.家居能量点：在{方位}墙刷{色号}，搭配{材质}装饰品（例：西南方涂刷极光银金属漆）」。",liuqin:W+"六亲缘分。[分析维度] -夫妻宫：时柱{时柱天干地支}十神（{十神属性}）对婚姻稳定性的影响；- 年柱{年柱天干地支}与父母宫位关系，推算原生家庭带来的情感模式  -{日支藏干}透出的潜意识需求。[输出模板]  1. 情感优势：用⭐️符号标记3个利于亲密关系的特质 ；2. 潜在挑战：用⚠️符号警示2个需注意的模式（如比劫争合导致的三角关系风险）；3. 风水调节：推荐2种卧室摆设法（例：床头朝向{吉方}化解孤辰寡宿）",shiye:W+"事业财富。[关键指标]  -财星定位：根据{日干}找出正/偏财对应的天干（例：甲木日主以己土为正财）-官杀配置：分析{月柱}官杀强度与事业成就关联性  - 大运走势：结合当前大运{大运干支}推算未来5年财运转折点。 [风水建议] :1.用✔️符号标记最佳行业：基于{五行比例}或五行用神{用神元素}推荐3个领域（如喜水者适合物流、传媒） ; 2. 用✔️符号标记办公风水：需含方位角{财位度数}与开运物摆放坐标 ",minggong:W+"生涯发展策略。[分析矩阵]需交叉验证以下维度：1.主星组合能量：{主星}+{辅星}形成的格局（例：紫微+左右→领导型人格）;2.四化动能走向：{四化}在十二宫的牵引效应（例：财帛宫化禄→财富创造力）;3.五行局制约：{五行局}对{主星}特性的放大/抑制（例：火六局强化七杀执行力）。 [输出格式] #核心星盘解码：1.「{主星}」在{亮度}状态 → {现代诠释}（例：七杀入庙→特种兵式突破能力）；2.受{辅星}影响 → 产生{特性变异}（例：遇文昌→杀戮文青特质）#思维模式剖面：1.决策优势：{主星}+{四化}形成{思维模式}（例：天机化科→系统化学习力）；2.认知盲区：{五行局}限制导致{误判类型}（例：木三局遇煞→过度理想化）#家居能量调频：1.主色调：{主星五行}\xd7{八字用神}→推荐{Pantone色号}（例：紫微土+用神火→16-1359陶土红）2. 关键摆件：在{本命方位}放置{材质}{物品}（例：西北方放铜质地球仪强化迁移宫）3. 禁忌规避：禁止在{宫位对应方位}使用{冲突元素}（例：子女宫化忌→正东方避放尖锐物）。# 二十年大运导航：1. {年龄段}：{主星}逢{大运主星} → 聚焦{领域}（例：35-44岁破军运→跨界创新期）2.危机转折点：{年份}触发{四化} → 需提前布局{风水调整}（例：2026年廉贞化忌→办公室正南放水晶阵）。#能量爆发公式：「{主星优势} \xd7 {方位催化} + {行为修正}」组合技，例：武曲贪狼命宫 → 每日辰时在西北方金属区制定财务计划 + 穿黑白条纹衫",jiankang:W+"健康预警及养生建议。[关键指标]-医学命理映射 ：1.病灶器官：根据五行失衡{八字.五行分布}对应脏腑（例：木过旺→肝胆压力）；2.流年触发：标注{当前流年干支}可能引发的健康风险（如岁运并临加强火元素→心血管负担）。[输出要求] ：1.用❗️符号突出3项年度重点预防项目； 2.提供2个风水化解方案（例：在{卧室东方}放置白水晶平衡木气）；  3.附上中医养生建议（如土弱者可多吃黄色食物）  ",ganqing:W+"感情运势。[分析维度]：1.日支{日支}藏干 → 潜意识情感需求（例：午藏丁火己土 → 渴望激情与稳定并存）；2.十神中{十神配置.正官/七杀}力量 → 伴侣特质倾向（例：正官透干 → 易吸引稳重对象）；3.神煞{神煞} → 情感机遇/挑战（例：红鸾在流年夫妻宫 → 本年婚恋信号强烈）。[输出模板]\uD83D\uDD25 情感能量诊断：1.优势：{主星}坐命 → {优势描述}（例：紫微破军→敢于突破传统关系模式）；2.盲点：{神煞}引发{问题}（例：孤辰+日支冲 → 需避免过度独立）。\uD83D\uDCA1 风水强化方案：1.卧室{方位}放置{色系}物品（根据{日干}五行喜忌）2.每周{星期几}佩戴{材质}饰品增强桃花气（例：喜金者选白银）",renji:W+"人际关系。[关键指标] -月柱{月柱天干地支} → 社交模式根源（例：月柱偏印 → 习惯观察后再深入交往）；- 五行{八字.五行分布} → 人际能量场特性（例：木旺者自带领导气场）；-迁移宫主星{迁移宫主星} → 对外互动风格。[输出模板]\uD83E\uDD1D 关系优化指南：✅ 贵人类型：{十神}强旺者（例：比肩旺 → 适合与同行合作）；⚠️ 避坑提示：{冲克配置}易引发冲突（例：日柱癸水冲丁火 → 慎交午年出生者）；\uD83C\uDF10 社交风水：1.办公桌{方位}摆放{物品}（例：青龙位放绿植增强人脉）；2.微信头像建议用{色系}（根据{当前流年干支}）",juece:W+"决策时机。[关键指标] 1. 大运{大运干支}与{当前流年干支}关系 → 宏观周期判断。 2. 命宫{主星}四化{四化} → 决策风格（例：化禄在财帛宫 → 风险偏好较高）；3. 流月{当前流月干支}与日柱{日柱}合冲 → 微观时机捕捉。[输出模板] ⏳ 年度关键窗口：1.- {月份}：{主星}逢{流月主星} → 适合启动重大事项 ；2.避开{月份}：{冲克关系}易判断失误。\uD83C\uDFAF 决策增强技巧：1.每日{时辰}进行冥想（根据{时柱}能量高峰）；2.签约时坐{方位}（例：财星在巽宫 → 东南方位）",gexing:W+"用户个性。[分析维度]：1.主星{命宫主星} + 辅星{命宫辅星} → 核心特质（例：紫微+左辅 → 领袖型人格）；2.身宫{身宫主星} → 潜在第二性格；3.五行局{五行局} → 能量表达方式（例：水二局 → 以柔克刚）。[输出模板] \uD83D\uDCBC 现代心理学映射：1.\uD83D\uDD0D MBTI关联：{命宫主星}对应{人格类型}（例：七杀→ENTJ）；2.\uD83D\uDD0D 霍兰德职业代码：{命宫主星+命宫辅星}倾向{代码}（例：天机+文昌→IAS型）。\uD83D\uDCBC 发展建议：1.利用{主星优势}强化{领域}（例：太阳星→适合公众表达）；2.通过{风水调整}弥补{主星缺陷}（例：太阴落陷→增加书房照明）",yunshi:W+"人生运势。[关键指标：十年大运交叉分析] 1. {当前大运}重点宫位 → 主战场（例：大运财帛宫强 → 累积财富期）；2. {命宫主星}与{大运主星}相位 → 机遇类型（例：会照天梁→得长辈提携）；3.流年{当前流年干支}触发{本命盘配置} → 年度主题。[输出模板]  \uD83D\uDE80 人生跃迁攻略：1.35-40岁：{大运主星}入{宫位} → 聚焦{领域}（例：破军入官禄宫→创业黄金期）；2. 危机预警：{年份}逢{双化忌} → 提前布局{风水化解方案}。\uD83D\uDCCC 终身风水锚点：1.祖坟/长居地{方位}保持{元素平衡}（根据八字{五行分布缺失}）2.本命文昌位{度数}布置书桌"};function q(e){return J[e]+" [要求] 1.语言简洁流畅，避免术语堆砌，使用完整的句子且用口语化方式表达；用“能量场”“行为模式”等现代词汇替代传统表述；2.不要超过200字 3.不要使用使用'#'或'*'等杂乱符号 4.条目之间使用\n符号分隔"}var V=a(27943);function U(e){let{userInfo:t,mingLiDataString:a,onSaveData:s}=e,i=(0,I.c3)("report.mingli"),l=(0,I.c3)("toast"),[c,d]=(0,r.useState)({mingpan:""}),[m,u]=(0,r.useState)("mingpan"),[h,x]=(0,r.useState)(!1),[g,p]=(0,r.useState)({}),[f,j]=(0,r.useState)(5);(0,r.useEffect)(()=>{function e(e){let{wuxingData:t,userInfo:a}=e;p(t),y(a,t)}return Y.on(L,e),()=>{Y.off(L,e)}},[]),(0,r.useEffect)(()=>{a&&d(JSON.parse(a))},[a]);let v=e=>{u(e)},y=(e,t)=>{var a;console.log("mingli gen"),j(0);let n=(a=t||g,"\n   性别：".concat("female"==e.gender?"女":"男",",\n   出生年月日时：").concat(b()(e.birthDateTime).format("YYYY-MM-DD HH:mm:ss"),",\n   八字：{年柱：").concat(a.year,",月柱：").concat(a.month,",日柱：").concat(a.day,",时柱：").concat(a.hour,",五行分布：").concat(a.wuxingScale,"}，\n   纳音：").concat(a.nayin,"，五行局：").concat(a.wuxingJu,"， \n   年天干十神：").concat(a.yearStemTenGod,", 年地支十神：").concat(a.yearBranchTenGod,", 月天干十神：").concat(a.monthStemTenGod,", 月地支十神：").concat(a.monthBranchTenGod,", 日天干十神：").concat(a.dayStemTenGod,", 日地支十神：").concat(a.dayBranchTenGod,", 时天干十神：").concat(a.hourStemTenGod,", 时地支十神：").concat(a.hourBranchTenGod,"，\n   命宫：").concat(a.mingPalace,"，身宫：").concat(a.bodyPalace,"，\n   迁移宫主星： ").concat(a.qianyiPalace,",\n   流年夫妻宫主星:").concat(F,",\n   当前流年干支：").concat(a.liunianGanzhi,",\n   当前流月干支:").concat(S,",\n   日支藏干： ").concat(a.rizhiCanggan,",\n   大运干支： ").concat(a.dayunGanzhi,", \n   年柱神煞:").concat(a.yearGods,", 月柱神煞:").concat(a.monthGods,", 日柱神煞:").concat(a.dayGods,"\n   ")),s=[(0,o.bE)("/api/generateCode",{user:n,system:q("mingpan")}),(0,o.bE)("/api/generateCode",{user:n,system:q("minggong")}),(0,o.bE)("/api/generateCode",{user:n,system:q("liuqin")}),(0,o.bE)("/api/generateCode",{user:n,system:q("shiye")}),(0,o.bE)("/api/generateCode",{user:n,system:q("jiankang")}),(0,o.bE)("/api/generateCode",{user:n,system:q("ganqing")}),(0,o.bE)("/api/generateCode",{user:n,system:q("renji")}),(0,o.bE)("/api/generateCode",{user:n,system:q("juece")}),(0,o.bE)("/api/generateCode",{user:n,system:q("gexing")}),(0,o.bE)("/api/generateCode",{user:n,system:q("yunshi")}),(0,o.bE)("/api/generateCode",{user:n,system:q("kaiyun")})];x(!0),(function(e){let t=[],a=0,n=e.length;return new Promise((s,r)=>{e.forEach((e,i)=>{e.then(e=>{if(0!==e.status)throw Error(e.message);t[i]=e,j(100*(++a/n)),a===n&&s(t)}).catch(r)})})})(s).then(e=>{x(!1),console.log("res 命理进阶",e),d(t=>({...t,mingpan:e[0].data,minggong:e[1].data,liuqin:e[2].data,shiye:e[3].data,jiankang:e[4].data,ganqing:e[5].data,renji:e[6].data,juece:e[7].data,gexing:e[8].data,yunshi:e[9].data,kaiyun:e[10].data}))}).catch(e=>{x(!1),P.oR.error("个人命理进阶分析生成错误，请稍后刷新此页面重试。"+e.message,{autoClose:!1})})};return(0,n.jsxs)("div",{className:"relative",children:[h&&(0,n.jsxs)("div",{className:"absolute z-12 w-[500px] top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 ",children:[(0,n.jsx)(V.N,{percent:f,strokeWidth:2,strokeColor:"#2db7f5",railWidth:2})," "]}),(0,n.jsxs)(H.m5,{size:"large",spinning:h,tip:l("generating"),className:"bg-[#fff9]",children:[(0,n.jsx)("button",{onClick:()=>{y(t)},children:"重新生成"}),(0,n.jsx)("div",{className:"mx-auto p-4 w-[952px] h-[608px]",children:(0,n.jsxs)("div",{className:"grid grid-cols-4 grid-rows-4 h-full border-4 border-[#6CA698] rounded-2xl",children:[(0,n.jsx)("div",{className:"p-2  bg-[#F7FAF9] rounded-t-xl rounded-r-none  border-2 border-[#6CA698] flex items-center justify-center",children:(0,n.jsx)("div",{style:"mingpan"===m?{backgroundColor:"#066952CC",color:"#fff"}:{backgroundColor:"#F7FAF9"},className:"w-full h-full font-bold text-xl cursor-pointer hover:bg-gray-100 flex items-center justify-center",onClick:()=>v("mingpan"),children:i("mingpan")})}),(0,n.jsx)("div",{className:"p-2  bg-[#F7FAF9]  border-2 border-[#6CA698] flex items-center justify-center",children:(0,n.jsx)("div",{style:"minggong"===m?{backgroundColor:"#066952CC",color:"#fff"}:{backgroundColor:"#F7FAF9"},className:"font-bold text-xl w-full h-full cursor-pointer hover:bg-gray-100 flex items-center justify-center",onClick:()=>v("minggong"),children:i("minggong")})}),(0,n.jsx)("div",{className:"p-2  bg-[#F7FAF9]  border-2 border-[#6CA698] flex items-center justify-center",children:(0,n.jsx)("div",{style:"gexing"===m?{backgroundColor:"#066952CC",color:"#fff"}:{backgroundColor:"#F7FAF9"},className:"font-bold text-xl w-full h-full cursor-pointer hover:bg-gray-100 flex items-center justify-center",onClick:()=>v("gexing"),children:i("gexing")})}),(0,n.jsx)("div",{className:"p-2 bg-[#F7FAF9] rounded-t-xl rounded-l-none  border-2 border-[#6CA698] flex items-center justify-center",children:(0,n.jsx)("div",{style:"yunshi"===m?{backgroundColor:"#066952CC",color:"#fff"}:{backgroundColor:"#F7FAF9"},className:"font-bold text-xl w-full h-full  cursor-pointer hover:bg-gray-100 flex items-center justify-center",onClick:()=>v("yunshi"),children:i("yunshi")})}),(0,n.jsx)("div",{className:"p-2 bg-[#F7FAF9]  border-2 border-[#6CA698] flex items-center justify-center",children:(0,n.jsx)("div",{style:"liuqin"===m?{backgroundColor:"#066952CC",color:"#fff"}:{backgroundColor:"#F7FAF9"},className:"font-bold text-xl w-full h-full cursor-pointer hover:bg-gray-100 flex items-center justify-center",onClick:()=>v("liuqin"),children:i("liuqin")})}),(0,n.jsx)("div",{className:"text-sm whitespace-pre-wrap text-white overflow-y-auto col-span-2 row-span-2 border border-gray-300  p-4 flex justify-center bg-[#066952CC]",children:c[m]}),(0,n.jsx)("div",{className:"p-2 bg-[#F7FAF9]  border-2 border-[#6CA698] flex items-center justify-center",children:(0,n.jsx)("div",{style:"shiye"===m?{backgroundColor:"#066952CC",color:"#fff"}:{backgroundColor:"#F7FAF9"},className:"font-bold text-xl w-full h-full cursor-pointer hover:bg-gray-100 flex items-center justify-center",onClick:()=>v("shiye"),children:i("shiye")})}),(0,n.jsx)("div",{className:"p-2 bg-[#F7FAF9]  border-2 border-[#6CA698] flex items-center justify-center",children:(0,n.jsx)("div",{style:"ganqing"===m?{backgroundColor:"#066952CC",color:"#fff"}:{backgroundColor:"#F7FAF9"},className:"font-bold text-xl w-full h-full cursor-pointer hover:bg-gray-100 flex items-center justify-center",onClick:()=>v("ganqing"),children:i("ganqing")})}),(0,n.jsx)("div",{className:"p-2  bg-[#F7FAF9]   border-2 border-[#6CA698] flex items-center justify-center",children:(0,n.jsx)("div",{style:"jiankang"===m?{backgroundColor:"#066952CC",color:"#fff"}:{backgroundColor:"#F7FAF9"},className:"font-bold text-xl w-full h-full cursor-pointer hover:bg-gray-100 flex items-center justify-center",onClick:()=>v("jiankang"),children:i("jiankang")})}),(0,n.jsx)("div",{className:"p-2 bg-[#F7FAF9] rounded-b-xl border-2 border-[#6CA698] flex items-center justify-center",style:{borderBottomRightRadius:0},children:(0,n.jsx)("div",{style:"renji"===m?{backgroundColor:"#066952CC",color:"#fff"}:{backgroundColor:"#F7FAF9"},className:"font-bold text-xl w-full h-full cursor-pointer hover:bg-gray-100 flex items-center justify-center",onClick:()=>v("renji"),children:i("renji")})}),(0,n.jsx)("div",{className:"p-2  bg-[#F7FAF9]   border-2 border-[#6CA698] flex items-center justify-center",children:(0,n.jsx)("div",{style:"juece"===m?{backgroundColor:"#066952CC",color:"#fff"}:{backgroundColor:"#F7FAF9"},className:"font-bold text-xl w-full h-full cursor-pointer hover:bg-gray-100 flex items-center justify-center",onClick:()=>v("juece"),children:i("juece")})}),(0,n.jsx)("div",{className:"p-2  bg-[#F7FAF9]   border-2 border-[#6CA698] flex items-center justify-center",children:(0,n.jsx)("div",{style:"kaiyun"===m?{backgroundColor:"#066952CC",color:"#fff"}:{backgroundColor:"#F7FAF9"},className:"font-bold text-xl w-full h-full cursor-pointer hover:bg-gray-100 flex items-center justify-center",onClick:()=>v("kaiyun"),children:i("kaiyun")})}),(0,n.jsx)("div",{style:{borderBottomLeftRadius:0},className:"bg-[#F7FAF9] font-bold text-xl border-2 border-[#6CA698] rounded-b-xl rounded-l-none "})]})})]})]})}var K=a(43263),$=a(19924),X=a(93286);let Q={1:"正月",2:"二月",3:"三月",4:"四月",5:"五月",6:"六月",7:"七月",8:"八月",9:"九月",10:"十月",11:"十一月",12:"十二月"};function Z(e){let{userInfo:t,liuNianDataString:a,onSaveData:s}=e,i=(0,I.c3)("report.mingli"),l=(0,I.c3)("toast"),[c,d]=(0,r.useState)([]),[m,u]=(0,r.useState)(!1),[h,x]=(0,r.useState)({}),[g,p]=(0,r.useState)(5);(0,r.useEffect)(()=>{function e(e){let{wuxingData:t,userInfo:a}=e;x(t),f(a,t)}return Y.on(L,e),()=>{Y.off(L,e)}},[]),(0,r.useEffect)(()=>{a&&d(JSON.parse(a))},[a]);let f=(e,t)=>{console.log("liunian gen"),p(0);let a=JSON.stringify({健康防护:"⚠️流月子水冲日支午火 → 心血管负担增加\n\uD83D\uDD25建议：\n1. 客厅正南放红色地毯补火\n2.每日亥时按摩劳宫穴 ",感情人际:"\uD83D\uDCA1夫妻宫贪狼化禄 → 单身者23日易遇心动对象\n✅ 行动：约会在西北方咖啡厅，佩戴银饰",事业动能:"✅ 官禄宫紫微+左辅 → 团队领导力爆发期\n⚠️ 避开5日（丙午冲年柱）签合约",财富走势:"\uD83E\uDD11 偏财位在东南（六白武曲）→ 短期理财收益佳",本月四大开运法:"1. 穿黑色外套  \n2. 东南方放铜貔貅  \n3. 重要会议选巳时 \n4. 每早整理西南角文件"}),n=Array.from({length:12}).map((n,s)=>{var r,i;return(0,o.bE)("/api/generateCode",{user:(r=s+1,i=t||h,"\n     性别：".concat("female"==e.gender?"女":"男",",\n   出生年月日时：").concat(b()(e.birthDateTime).format("YYYY-MM-DD HH:mm:ss"),",\n   八字：{年柱：").concat(i.year,",月柱：").concat(i.month,",日柱：").concat(i.day,",时柱：").concat(i.hour,",五行分布：").concat(i.wuxingScale,"}，\n   纳音：").concat(i.nayin,"，五行局：").concat(i.wuxingJu,"， \n   年柱神煞:").concat(i.yearGods,", 月柱神煞:").concat(i.monthGods,", 日柱神煞:").concat(i.dayGods,"，\n    环境参数：{流月命宫主星：").concat(w[r],"，流月命宫四化：").concat(C[r],"，当前流月干支：").concat(y[r],",流月夫妻宫主星：").concat(E[r],",流月夫妻宫四化：").concat(D[r]," }，\n    ")),system:"[全局设定]：{角色：你是一名精通八字与奇门遁甲的流月运势分析师。任务：用用户提供的用户信息生成{当前流月干支}月运程报告。要求：1. 每模块用\uD83D\uDD25/⚠️/\uD83D\uDCA1符号区分正/负/中性向提示，且用\n换行符分隔；2. 风水建议需含具体方位与物品（例：东南方放水晶） ；3.禁用模糊表述，所有结论需关联命理参数}；4. 如果返回的内容中包含1.2.3.等分项，各项之间用\n换行符分隔；5.每一项的内容不超过150字。[返回结构]：要求返回一个json对象格式，这个对象里有5个键值对，下面我依次描述这5个键值对内容生成的规则。\n       第一个键是“健康防护”,它所对应的内容[分析逻辑]是：1.流月{当前流月干支}与日柱{日干}产生{刑/冲/合} → 对应脏腑：{器官}；2.神煞{神煞}触发 → 重点预防：{疾病类型}。\uD83D\uDD25 增强建议：1. 卧室{方位}放置{颜色}靠垫（补{五行}气）；2. 每日{时辰}饮用{草药茶}（例：火弱喝红枣枸杞）。以上仅为示例，请你发散更多内容。\n     第二个键是“感情人际”,它所对应的内容[分析逻辑]是：1.流月夫妻宫：{流月夫妻宫主星}+{流月夫妻宫四化} → 关系趋势（例：贪狼化禄→桃花机遇）；2.日支{日支}与月支{月支}合冲 → 相处模式变化。\uD83D\uDCA1 行动策略：1. 约会首选{方位}的{餐厅类型}（例：喜金者去西式餐厅）；2. 佩戴{材质}饰品增强吸引力（例：喜水戴黑曜石）。以上仅为示例，请你发散更多内容。\n    第三个键是'事业动能' ,它所对应的内容[分析逻辑]是 : 1.流月官禄宫：{流月命宫主星}遇{流月命宫四化} → 突破点：{领域}；2.八字{用神}与月令{流月干支}关系 → 行动节奏建议（激进/保守）；⚠️ 风险预警：避开{日期}（流日{干支}冲{年柱}）签约；\n✅ 办公风水：在办公桌{方位}贴{颜色}便利贴提升效率。以上仅为示例，请你发散更多内容 。\n    第四个键是“财富走势”,它所对应的内容是 :[财星定位]：1.偏财位：九宫{方位}飞{星名} → 投资建议（例：八白左辅星→房地产利）;2.日主{日干}克{当前流月月干} → 求财难易度评估。\uD83E\uDD11 催财秘法：1. 钱包内放{数量}枚{材质}硬币；2.每周{星期几}整理{方位}杂物保持气流通畅。以上仅为示例，请你发散更多内容。\n    第五个键是“本月四大开运法。它所对应的内容要求根据{五行分布}与{当前流月干支}动态生成）。[内容模板]：1. **色彩激活**：多穿{颜色}衣物（例：喜火穿红色）；\n2. **方位布局**：在{方位}放置{物品}（例：东北方放陶瓷存钱罐）；\n3. **时间择吉**：重要事项优先选{上午/下午}{时辰}  ；\n4. **行为修正**：减少{行为}（例：水弱者忌熬夜）。\n    ",assistant:a,jsonResult:!0})});u(!0),(function(e){let t=[],a=0,n=e.length;return new Promise((s,r)=>{e.forEach((e,i)=>{e.then(e=>{if(0!==e.status)throw Error(e.message);t[i]=e,p(100*(++a/n)),a===n&&s(t)}).catch(r)})})})(n).then(e=>{u(!1);let t=e.map(e=>JSON.parse(e.data));d(t),console.log("res 流年进阶",t)}).catch(e=>{u(!1),P.oR.error("流年运程进阶分析生成错误，请稍后刷新此页面重试。"+e.message,{autoClose:!1})})};return(0,n.jsxs)("div",{className:"relative",children:[m&&(0,n.jsxs)("div",{className:"absolute z-12 w-[500px] top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 ",children:[(0,n.jsx)(V.N,{percent:g,strokeWidth:2,strokeColor:"#2db7f5",railWidth:2})," "]}),(0,n.jsxs)(H.m5,{size:"large",spinning:m,tip:l("generating"),className:"bg-[#fff9]",children:[(0,n.jsx)("button",{onClick:()=>{f(t)},children:"重新生成"}),(0,n.jsxs)("p",{className:"max-w-250 mx-auto md:mb-20 mb-10 md:px-0 px-5 font-bold leading-8 tracking-normal text-justify",children:[(0,n.jsx)("span",{className:"text-sm leading-8",children:"命主八字"}),(0,n.jsx)("br",{}),(0,n.jsxs)("span",{className:"text-[#073E31] font-bold",children:[" ","".concat(h.year,"年、").concat(h.month,"月、").concat(h.day,"日、").concat(h.hour).concat(i("hour"))]})]}),(0,n.jsx)(K.FN,{className:"w-full",children:(0,n.jsx)(K.Wk,{className:"-ml-1",children:c.length>0&&Array.from({length:12}).map((e,t)=>{let a=Object.entries(c[t]),s=a.slice(0,4),r=a.slice(4);return(0,n.jsx)(K.A7,{className:"ml-10 md:basis-170 h-139",children:(0,n.jsxs)("div",{className:"rounded-[8px]",style:{boxShadow:"0px 0px 15px 0px"},children:[(0,n.jsx)("div",{className:"w-full h-12 bg-[#0E8C6F] rounded-t-[8px] relative py-4",children:(0,n.jsx)("div",{className:"h-5 w-full",style:{background:"url('/images/report/month/huawen.png') repeat"}})}),(0,n.jsxs)("div",{className:"p-5 flex ",children:[(0,n.jsxs)("div",{className:"rounded-[8px] border-2 border-[#0E8C6F] min-w-74.5 h-117 mr-5 flex flex-col items-center",children:[(0,n.jsx)("div",{className:"mt-12 mb-3 text-[40px] font-[900] text-[#0E8C6F]",children:Q[t+1]}),(0,n.jsxs)("div",{className:"mb-12 text-sm px-6.5 py-1.5 bg-[#0E8C6F] text-white rounded-sm",children:[N[t+1],"月"]}),(0,n.jsx)(k.default,{width:208,height:208,src:"/images/report/month/".concat(2,".png"),tip:[t+1]+"月"})]}),(0,n.jsx)("div",{className:"grow overflow-hidden",children:(0,n.jsxs)($.F,{className:"h-117 w-full",children:[s.map((e,t)=>{let[a,s]=e;return(0,n.jsxs)("div",{className:"flex mb-1 items-start",children:[(0,n.jsx)("div",{className:"text-sm whitespace-nowrap p-1.5 bg-[#0E8C6F] text-white rounded-sm mr-2 mt-2 w-28",children:a}),(0,n.jsx)("span",{className:"text-sm leading-8 whitespace-pre-wrap",children:s})]},t)}),(0,n.jsx)(X.Separator,{className:"my-5"}),r.map((e,t)=>{let[a,s]=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm whitespace-nowrap p-1.5 bg-[#0E8C6F] text-white rounded-sm mr-2 mb-3 max-w-28",children:a}),(0,n.jsx)("div",{className:"text-sm whitespace-pre-wrap leading-8",children:s})]},t)})]})})]})]})},t)})})})]})]})}var ee=a(4318);function et(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"skeleton",className:(0,ee.cn)("bg-secondary animate-pulse rounded-md",t),...a})}var ea=a(69817);let en={金:"#CCBB00",木:"#00991B",水:"#0088CC",火:"#E52918",土:"#BF8F00"};function es(e){var t,a;let{locale:d,birthDateTime:u}=e;(0,l.A)();let h=(0,i.useRouter)(),x=(0,I.c3)("report"),g=(0,I.c3)("toast"),p=(0,r.useRef)(null),f=(0,r.useRef)([]),[b,j]=(0,r.useState)([]),[v,y]=(0,r.useState)([]),[N,w]=(0,r.useState)(0),[C,E]=(0,r.useState)(!1),D=(0,r.useRef)(null),[S,F]=(0,r.useState)(!1),[O,R]=(0,r.useState)(!0),[z,T]=(0,r.useState)(null),{loading:G,reportDocData:B}=function(e,t){var a;let n=(0,r.useRef)(!0),[s,i]=(0,r.useState)(!0),[l,d]=(0,r.useState)(null),{data:u}=(0,c.wV)();(0,r.useEffect)(()=>{console.log("renderRef.current",n.current),(async()=>{var a,n;console.log("loadDesign",null==u?void 0:null===(a=u.user)||void 0===a?void 0:a.userId,e);let s=null==u?void 0:null===(n=u.user)||void 0===n?void 0:n.userId;if(s&&e){console.log("查询用户已有报告"),i(!0);let{status:a,data:n}=await (0,o.Jt)("/api/reportUserDoc/".concat(s,"/").concat("zh-CN"==e?"zh":"tw"));if(n)console.log("已有报告"),d(n);else{if(!t){i(!1);return}console.log("生成随机报告");let{data:a}=await (0,o.Jt)("/api/reportDoc/zh",{isCached:!0}),{data:n}=await (0,o.Jt)("/api/reportDoc/tw",{isCached:!0});if(a&&n){let{nayin:r,year:i,month:l,day:c,hour:m}=A(t),u=Math.floor(3*Math.random()),x=Math.floor(3*Math.random()),g={nianzhuData:a.nianzhuData[i][u],yuezhuData:a.yuezhuData[l][u],rizhuData:a.rizhuData[c][u],shizhuData:a.shizhuData[m][u],yunchengData:a.yunchengData[r][u],jiajuData:h(a.jiajuData,x)},p={nianzhuData:n.nianzhuData[i][u],yuezhuData:n.yuezhuData[l][u],rizhuData:n.rizhuData[c][u],shizhuData:n.shizhuData[m][u],yunchengData:n.yunchengData[r][u],jiajuData:h(n.jiajuData,x)};d("zh-CN"==e?g:p),(0,o.bE)("/api/reportUserDoc/".concat(s,"/zh"),g),(0,o.bE)("/api/reportUserDoc/".concat(s,"/tw"),p)}}i(!1)}})()},[e,null==u?void 0:null===(a=u.user)||void 0===a?void 0:a.userId,t]);let h=(e,t)=>{if(e){let a=m().cloneDeep(e);for(let e in a){let n=a[e];for(let e in n)n[e]=n[e][t]}return a}};return{loading:s,reportDocData:l}}(d,u),H=(0,ea.useReactToPrint)({contentRef:p,pageStyle:"\n            @page { size: A4;margin:0  }\n            @media print {\n                body, html {\n                    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap');\n                    height: auto;\n                    font-family: 'SimSun', 'Microsoft YaHei', sans-serif;\n                    overflow: initial !important;  // 重要，如果不分页需要加上\n                    margin: 0;\n                    zoom: 100%;\n                }\n                .hidden-on-print { display: none !important; }\n                .show-on-print { display: block !important;}\n                .page-break {\n                    margin-top: 1rem;\n                    display: block;\n                    page-break-before: auto;\n                }\n                .canvasImage{\n                    page-break-inside: avoid;\n                    break-inside: avoid;\n                }\n                img{\n                    max-width: 100% !important;\n                    height: auto !important;\n                    page-break-inside: auto;\n                    break-inside: auto;\n                }\n      }\n        ",removeAfterPrint:!0,documentTitle:"Harmoniq风水家居报告"});(0,r.useEffect)(()=>{let e=[{title:x("title1"),children:[{title:"年柱"},{title:"月柱"},{title:"日柱"},{title:x("shizhu")}]},{title:x("title2"),children:[{title:x("title2-1"),color:"#088C6E",bgColor:"#F7FAF9"},{title:x("title2-2"),color:"#00A637",bgColor:"#F5FAF7"},{title:x("title2-3"),color:"#0A58A6",bgColor:"#F5F8FA"},{title:x("title2-4"),color:"#E52E5C",bgColor:"#FAF5F6"},{title:x("title2-5"),color:"#D9B815",bgColor:"#FCFBF5"},{title:x("title2-6"),color:"#066952",bgColor:"#F7FAF9"}]},{title:x("title3")}],t=[{id:"section-0",title:"第一章：个人命理基础分析",isMain:!0},{id:"section-0-0",title:"年柱",isMain:!1},{id:"section-0-1",title:"月柱"},{id:"section-0-2",title:"日柱"},{id:"section-0-3",title:"时柱"},{id:"section-1",title:"第二章：流年运程基础分析",isMain:!0},{id:"section-1-0",title:"整体运势"},{id:"section-1-1",title:"健康运势"},{id:"section-1-2",title:"事业运势"},{id:"section-1-3",title:"感情运势"},{id:"section-1-4",title:"财运运势"},{id:"section-1-5",title:"总结"},{id:"section-2",title:"第三章：流年运程基础分析",isMain:!0},{id:"section-3",isMain:!0}];O?(j([...e,{title:x("title4Preview")}]),y(t)):(j([...e,{title:x("title4")},{title:x("title5")},{title:x("title6")}]),y([...t,{id:"section-4",isMain:!0},{id:"section-5",isMain:!0}]))},[O]),(0,r.useEffect)(()=>{let e=()=>{let e=f.current.map(e=>e?e.getBoundingClientRect().top:1/0).findIndex(e=>e>80);w(-1===e?v.length-1:Math.max(0,e-1))};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]);let{data:W}=(0,c.wV)();(0,r.useEffect)(()=>{var e;let t=null==W?void 0:null===(e=W.user)||void 0===e?void 0:e.userId;t&&(async()=>{let{status:e,message:a,data:n}=await (0,o.Jt)("/api/users/".concat(t));0==e&&(T(n),R(n.isLock),setTimeout(()=>{if(!n.isLock&&"waiting"===n.genStatus){console.log("生成付费报告中"),P.oR.info(g("generating"));let e=A(n.birthDateTime,n.gender);Y.emit(L,{wuxingData:e,userInfo:n})}},500))})()},[null==W?void 0:null===(t=W.user)||void 0===t?void 0:t.userId]),(0,r.useEffect)(()=>{let e=e=>{e.target.closest(".report-menu")||e.target.closest(".progress-indicator")||E(!1)};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)},[]);let J=()=>{clearTimeout(D.current),E(!0)},q=e=>{var t;null===(t=f.current[e])||void 0===t||t.scrollIntoView({behavior:"smooth",block:"start"})};if(G)return(0,n.jsxs)("div",{className:"space-y-8 mt-25",children:[(0,n.jsx)(et,{className:"h-4 w-[80%]"}),(0,n.jsx)(et,{className:"h-4 w-[70%]"}),(0,n.jsx)(et,{className:"h-4 w-[80%]"}),(0,n.jsx)(et,{className:"h-4 w-[70%]"})]});if(!B){P.oR.error(x("error")),h.push("/design");return}return(0,n.jsxs)("div",{className:"relative min-h-screen bg-white",children:[!S&&(0,n.jsx)(s.default,{from:"report"}),(0,n.jsxs)("div",{className:"fixed right-4 top-32 z-10",children:[!S&&(0,n.jsx)("a",{href:"#",className:"hidden-on-print  absolute rounded-3xl text-center py-1 w-25 -top-12 right-0  bg-primary text-white",onClick:()=>{F(!0),setTimeout(()=>{H()},500),setTimeout(()=>{F(!1)},3e3)},children:x("download")}),(0,n.jsx)("div",{className:"progress-indicator flex flex-col items-center gap-2 cursor-pointer select-none",onMouseEnter:J,onClick:J,children:v.map((e,t)=>(0,n.jsx)("div",{className:"transition-all duration-200 ".concat(e.isMain?"w-5 h-5":"w-2 h-2"," rounded-full  ").concat(N===t?"bg-[#20B580]":"bg-[#E7F2EE] "),style:{margin:e.isMain?"8px 0":"3px 0"}},e.id))}),C&&(0,n.jsx)("div",{className:"absolute top-0 right-0 report-menu w-56 bg-white shadow-lg rounded-lg py-4 px-4 text-sm max-h-[70vh] overflow-y-auto",tabIndex:-1,children:b.map((e,t)=>{var a;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm mb-1 cursor-pointer ".concat(N===v.findIndex(e=>e.id==="section-".concat(t))?"text-[#20B580]":""),onClick:()=>q(v.findIndex(e=>e.id==="section-".concat(t))),children:e.title}),null===(a=e.children)||void 0===a?void 0:a.map((e,a)=>(0,n.jsx)("div",{className:"text-sm pl-4 py-1 cursor-pointer ".concat(N===v.findIndex(e=>e.id==="section-".concat(t,"-").concat(a))?"text-[#20B580]":"text-gray-700"),onClick:()=>q(v.findIndex(e=>e.id==="section-".concat(t,"-").concat(a))),children:e.title},e.title))]},e.title)})})]}),(0,n.jsxs)("div",{ref:p,children:[(0,n.jsxs)("div",{className:"max-w-250 mx-auto  md:px-5",children:[(0,n.jsx)("h1",{ref:e=>f.current[0]=e,className:"md:text-[40px] text-[28px] text-center font-bold my-10 md:mt-30 md:px-0 px-5 text-[#073E31]",id:"section-0",children:b[0].title}),(0,n.jsxs)("p",{className:"font-bold leading-8 tracking-normal text-justify px-5 md:px-0",children:[(0,n.jsx)("span",{className:"text-[#073E31]",children:x("p1-1")}),x("p1-2"),(0,n.jsx)("span",{className:"text-[#073E31]",children:x("p1-3")}),"。",(0,n.jsx)("br",{}),x("p1-4")]}),(0,n.jsxs)("section",{className:"md:rounded-[26px] rounded-none bg-[#F7FAF9] p-8 md:mt-18 mt-10",children:[(0,n.jsx)("h2",{id:"section-0-1",ref:e=>f.current[1]=e,className:"text-[28px] text-[#073E31] font-bold mb-3",children:"年柱"}),(0,n.jsx)("p",{className:"leading-8 text-justify",children:x("p1-5")}),Object.entries(B.nianzhuData).map((e,t)=>{let[a,s]=e;return(0,n.jsxs)("div",{className:"relative mt-8 flex flex-col  items-center gap-12 lg:gap-0 mx-auto ".concat(1==t?"lg:flex-row-reverse":"lg:flex-row"),children:[(0,n.jsxs)("section",{className:"".concat(2!==t&&"lg:max-w-125"," flex-grow"),children:[(0,n.jsx)("p",{className:"leading-8 text-xl font-bold text-[#073E31]",style:{color:en[a.slice(-1)]},children:a}),(0,n.jsx)("p",{className:"leading-8 text-justify",children:s})]}),2!==t&&(0,n.jsx)("div",{className:"relative ".concat(0==t?"lg:-right-20":"lg:-left-20"),children:(0,n.jsx)(k.default,{className:"w-105 h-75 object-contain",priority:!0,src:"/images/report/".concat(a.slice(-1),".png"),alt:a,width:420,height:320})})]},t)})]}),(0,n.jsxs)("section",{className:"md:rounded-[26px] rounded-none bg-[#F7FAF9] p-8 md:mt-18 mt-10",children:[(0,n.jsx)("h2",{id:"section-0-2",ref:e=>f.current[2]=e,className:"text-[28px] text-[#073E31] font-bold mb-3",children:"月柱"}),(0,n.jsx)("p",{className:"leading-8 text-justify",children:x("p1-6")}),Object.entries(B.yuezhuData).map((e,t)=>{let[a,s]=e;return(0,n.jsxs)("div",{className:"relative mt-8 flex flex-col  items-center gap-12 lg:gap-0 mx-auto ".concat(1==t?"lg:flex-row-reverse":"lg:flex-row"),children:[(0,n.jsxs)("section",{className:"".concat(2!==t&&"lg:max-w-125"," flex-grow"),children:[(0,n.jsx)("p",{className:"leading-8 text-xl font-bold text-[#073E31]",style:{color:en[a.slice(-1)]},children:a}),(0,n.jsx)("p",{className:"leading-8 text-justify",children:s})]}),2!==t&&(0,n.jsx)("div",{className:"relative ".concat(0==t?"lg:-right-20":"lg:-left-20"),children:(0,n.jsx)(k.default,{className:"w-105 h-75 object-contain",priority:!0,src:"/images/report/".concat(a.slice(-1),".png"),alt:a,width:420,height:320})})]},t)})]}),(0,n.jsxs)("section",{className:"md:rounded-[26px] rounded-none bg-[#F7FAF9] p-8 md:mt-18 mt-10",children:[(0,n.jsx)("h2",{id:"section-0-3",ref:e=>f.current[3]=e,className:"text-[28px] text-[#073E31] font-bold mb-3",children:"日柱"}),(0,n.jsx)("p",{className:"leading-8 text-justify",children:x("p1-7")}),Object.entries(B.rizhuData).map((e,t)=>{let[a,s]=e;return(0,n.jsxs)("div",{className:"relative mt-8 flex flex-col  items-center gap-12 lg:gap-0 mx-auto ".concat(1==t?"lg:flex-row-reverse":"lg:flex-row"),children:[(0,n.jsxs)("section",{className:"".concat(2!==t&&"lg:max-w-125"," flex-grow"),children:[(0,n.jsx)("p",{className:"leading-8 text-xl font-bold text-[#073E31]",style:{color:en[a.slice(-1)]},children:a}),(0,n.jsx)("p",{className:"leading-8 text-justify",children:s})]}),2!==t&&(0,n.jsx)("div",{className:"relative ".concat(0==t?"lg:-right-20":"lg:-left-20"),children:(0,n.jsx)(k.default,{className:"w-105 h-75 object-contain",priority:!0,src:"/images/report/".concat(a.slice(-1),".png"),alt:a,width:420,height:320})})]},t)})]}),(0,n.jsxs)("section",{className:"md:rounded-[26px] rounded-none bg-[#F7FAF9] p-8 md:mt-18 mt-10",children:[(0,n.jsx)("h2",{id:"section-0-4",ref:e=>f.current[4]=e,className:"text-[28px] text-[#073E31] font-bold mb-3",children:x("shizhu")}),(0,n.jsx)("p",{className:"leading-8 text-justify",children:x("p1-8")}),Object.entries(B.shizhuData).map((e,t)=>{let[a,s]=e;return(0,n.jsxs)("div",{className:"relative mt-8 flex flex-col  items-center gap-12 lg:gap-0 mx-auto ".concat(1==t?"lg:flex-row-reverse":"lg:flex-row"),children:[(0,n.jsxs)("section",{className:"".concat(2!==t&&"lg:max-w-125"," flex-grow"),children:[(0,n.jsx)("p",{className:"leading-8 text-xl font-bold text-[#073E31]",style:{color:en[a.slice(-1)]},children:a}),(0,n.jsx)("p",{className:"leading-8 text-justify",children:s})]}),2!==t&&(0,n.jsx)("div",{className:"relative ".concat(0==t?"lg:-right-20":"lg:-left-20"),children:(0,n.jsx)(k.default,{className:"w-105 h-75 object-contain",priority:!0,src:"/images/report/".concat(a.slice(-1),".png"),alt:a,width:420,height:320})})]},t)})]}),(0,n.jsxs)("div",{className:"md:flex mt-10 items-center px-6 md:p-0",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"text-[#FF531A]",children:"*"})," ",x("p1-9"),(0,n.jsx)("span",{className:"font-bold",children:x("p1-10")})]}),(0,n.jsx)(M.A,{className:"bg-[#096E56] text-white md:ml-2 w-full md:w-auto mt-5 md:mt-0 block md:inline text-center"})]})]},"section-0"),(0,n.jsxs)("div",{className:"max-w-250 mx-auto  md:px-5",children:[(0,n.jsx)("h1",{ref:e=>f.current[5]=e,className:"md:text-[40px] text-[28px] text-center font-bold md:mt-18 mt-10 mb-10 md:px-0 px-5 text-[#073E31]",id:"section-1",children:b[1].title}),(0,n.jsxs)("p",{className:"font-bold leading-8 tracking-normal text-justify px-5 md:px-0",children:[(0,n.jsx)("span",{className:"text-[#073E31]",children:x("p2-1")}),x("p2-2")]}),B.yunchengData.map((e,t)=>{var a;return(0,n.jsxs)("section",{style:{backgroundColor:b[1].children[t].bgColor},className:"md:rounded-[26px] rounded-none md:p-8 p-5 md:mt-10 mt-10",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("p",{ref:e=>f.current[6+t]=e,id:"section-1-".concat(t),className:"leading-8 text-xl font-bold flex items-center",style:{color:b[1].children[t].color},children:[t<5&&(0,n.jsx)(k.default,{src:"/images/report/icon".concat(t,".png"),width:24,height:24,alt:"",className:"mr-1"}),b[1].children[t].title]}),t<5&&(0,n.jsxs)("p",{className:"leading-8 flex items-end",style:{color:b[1].children[t].color},children:[(0,n.jsx)("span",{className:"font-bold text-xl",children:null===(a=e.zhishu)||void 0===a?void 0:a.split("/")[0]}),(0,n.jsx)("span",{className:"text-sm",children:"/10"})]})]}),(0,n.jsx)("p",{className:"leading-8 text-justify",children:e.content})]})}),(0,n.jsxs)("div",{className:"md:flex mt-10 items-center px-6 md:p-0",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"text-[#FF531A]",children:"*"}),x("p2-3"),(0,n.jsx)("span",{className:"font-bold",children:x("p2-4")})]}),(0,n.jsx)(M.A,{className:"bg-[#096E56] text-white md:ml-2 w-full md:w-auto mt-5 md:mt-0 block md:inline text-center"})]})]},"section-1"),(0,n.jsxs)("div",{className:"max-w-250 mx-auto  md:px-5",children:[(0,n.jsx)("h1",{ref:e=>f.current[12]=e,className:"md:text-[40px] text-[28px] text-center font-bold md:mt-18 mt-10 mb-10 md:px-0 px-5 text-[#073E31]",id:"section-2",children:b[2].title}),(0,n.jsxs)("p",{className:"font-bold leading-8 tracking-normal text-justify px-5 md:px-0",children:[(0,n.jsx)("span",{className:"text-[#073E31]",children:x("p3-1")}),x("p3-2"),(0,n.jsx)("br",{}),x("p3-3"),(0,n.jsxs)("span",{className:"text-[#073E31]",children:[" ",x("p3-4")]}),x("p3-5")]}),(0,n.jsx)(_,{jiajuDataString:JSON.stringify(B.jiajuData),isPrinting:S})]},"section-2"),(0,n.jsxs)("div",{className:"relative max-w-250 mx-auto  md:px-5",children:[(0,n.jsx)("h1",{ref:e=>f.current[13]=e,className:"md:text-[40px] text-[28px] text-center font-bold md:mt-18 mt-10 mb-10 md:px-0 px-5 text-[#073E31]",id:"section-3",children:b[3].title}),O&&(0,n.jsx)("div",{className:"absolute bg-lock z-10 left-0 top-25 w-full h-70"}),(0,n.jsx)("div",{className:O&&"h-70 overflow-hidden",children:(0,n.jsx)(U,{userInfo:z,mingLiDataString:JSON.stringify(B.mingLiData||"")})})]},"section-3"),!O&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{ref:e=>f.current[14]=e,className:"md:text-[40px] text-[28px] text-center font-bold md:mt-18 mt-10 mb-10 md:px-0 px-5 text-[#073E31]",id:"section-4",children:null===(a=b[4])||void 0===a?void 0:a.title}),(0,n.jsx)(Z,{userInfo:z,mingLiDataString:JSON.stringify(B.liuNianData||"")})]},"section-4")]})]})}},43263:(e,t,a)=>{"use strict";a.d(t,{A7:()=>x,FN:()=>u,Oj:()=>p,Q8:()=>g,Wk:()=>h});var n=a(73243),s=a(45323),r=a(9920),i=a(772),l=a(22893),o=a(4318),c=a(43601);let d=s.createContext(null);function m(){let e=s.useContext(d);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let u=s.forwardRef((e,t)=>{let{orientation:a="horizontal",opts:i,setApi:l,plugins:c,className:m,children:u,...h}=e,[x,g]=(0,r.A)({...i,axis:"horizontal"===a?"x":"y"},c),[p,f]=s.useState(!1),[b,j]=s.useState(!1),v=s.useCallback(e=>{e&&(f(e.canScrollPrev()),j(e.canScrollNext()))},[]),y=s.useCallback(()=>{null==g||g.scrollPrev()},[g]),N=s.useCallback(()=>{null==g||g.scrollNext()},[g]),w=s.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),y()):"ArrowRight"===e.key&&(e.preventDefault(),N())},[y,N]);return s.useEffect(()=>{g&&l&&l(g)},[g,l]),s.useEffect(()=>{if(g)return v(g),g.on("reInit",v),g.on("select",v),()=>{null==g||g.off("select",v)}},[g,v]),(0,n.jsx)(d.Provider,{value:{carouselRef:x,api:g,opts:i,orientation:a||((null==i?void 0:i.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:N,canScrollPrev:p,canScrollNext:b},children:(0,n.jsx)("div",{ref:t,onKeyDownCapture:w,className:(0,o.cn)("relative",m),role:"region","aria-roledescription":"carousel",...h,children:u})})});u.displayName="Carousel";let h=s.forwardRef((e,t)=>{let{className:a,...s}=e,{carouselRef:r,orientation:i}=m();return(0,n.jsx)("div",{ref:r,className:"overflow-hidden",children:(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex","horizontal"===i?"-ml-4":"-mt-4 flex-col",a),...s})})});h.displayName="CarouselContent";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e,{orientation:r}=m();return(0,n.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,o.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",a),...s})});x.displayName="CarouselItem";let g=s.forwardRef((e,t)=>{let{className:a,variant:s="outline",size:r="icon",...l}=e,{orientation:d,scrollPrev:u,canScrollPrev:h}=m();return(0,n.jsxs)(c.$,{ref:t,variant:s,size:r,className:(0,o.cn)("absolute  h-8 w-8 rounded-full","horizontal"===d?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!h,onClick:u,...l,children:[(0,n.jsx)(i.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});g.displayName="CarouselPrevious";let p=s.forwardRef((e,t)=>{let{className:a,variant:s="outline",size:r="icon",...i}=e,{orientation:d,scrollNext:u,canScrollNext:h}=m();return(0,n.jsxs)(c.$,{ref:t,variant:s,size:r,className:(0,o.cn)("absolute h-8 w-8 rounded-full","horizontal"===d?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!h,onClick:u,...i,children:[(0,n.jsx)(l.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Next slide"})]})});p.displayName="CarouselNext"},43601:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,r:()=>l});var n=a(73243);a(45323);var s=a(7843),r=a(83944),i=a(4318);let l=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:r,asChild:o=!1,...c}=e,d=o?s.DX:"button";return(0,n.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:a,size:r,className:t})),...c})}},49126:(e,t,a)=>{"use strict";a.d(t,{$q:()=>d,Gx:()=>l,Qc:()=>i,Xs:()=>o,sR:()=>s,t7:()=>c,w$:()=>n,x9:()=>r});let n={ROOM:"room",FURNITURE:"furniture"},s={LIVING_ROOM:"living_room",DINING_ROOM:"dining_room",STORAGE_ROOM:"storage_room",STUDY_ROOM:"study_room",BEDROOM:"bedroom",BATHROOM:"bathroom",KITCHEN:"kitchen",BALCONY:"balcony",GARDEN:"garden",GARAGE:"garage",CORRIDOR:"corridor"},r={BED:"bed",SOFA:"sofa",TABLE:"table",CHAIR:"chair",CABINET:"cabinet",TV:"tv",LAMP:"lamp",DOOR:"door",WINDOW:"window",BOOKSHELF:"bookshelf",WARDROBE:"wardrobe",PLANT:"plant",FRIDGE:"fridge",STOVE:"stove",SINK:"sink",WASHBASIN:"washbasin",TOILET:"toilet",SHOWER:"shower",BATHTUB:"bathtub"},i={[r.DOOR]:"门",[r.WINDOW]:"窗",[r.TABLE]:"枱",[r.CHAIR]:"椅子",[r.SOFA]:"沙发",[r.BED]:"床",[r.LAMP]:"儿童床",[r.TV]:"电视",[r.BOOKSHELF]:"茶几",[r.WARDROBE]:"柜",[r.PLANT]:"植物",[r.FRIDGE]:"冰箱",[r.STOVE]:"炉具",[r.SINK]:"锌盘",[r.WASHBASIN]:"洗手盘",[r.TOILET]:"马桶",[r.SHOWER]:"淋浴",[r.BATHTUB]:"浸浴"},l={[r.DOOR]:"門",[r.WINDOW]:"窗",[r.TABLE]:"枱",[r.CHAIR]:"椅子",[r.SOFA]:"沙發",[r.BED]:"床",[r.LAMP]:"兒童床",[r.TV]:"電視",[r.BOOKSHELF]:"茶几",[r.WARDROBE]:"櫃",[r.PLANT]:"植物",[r.FRIDGE]:"冰箱",[r.STOVE]:"爐具",[r.SINK]:"锌盘",[r.WASHBASIN]:"洗手盤",[r.TOILET]:"馬桶",[r.SHOWER]:"淋浴",[r.BATHTUB]:"浸浴"},o={[s.LIVING_ROOM]:"客厅",[s.DINING_ROOM]:"饭厅",[s.STORAGE_ROOM]:"杂物房",[s.STUDY_ROOM]:"书房",[s.BEDROOM]:"睡房",[s.BATHROOM]:"浴室",[s.KITCHEN]:"厨房",[s.BALCONY]:"阳台",[s.GARDEN]:"花园",[s.GARAGE]:"车库",[s.CORRIDOR]:"走廊"},c={[s.LIVING_ROOM]:"客廳",[s.DINING_ROOM]:"飯廳",[s.STORAGE_ROOM]:"雜物房",[s.STUDY_ROOM]:"書房",[s.BEDROOM]:"睡房",[s.BATHROOM]:"浴室",[s.KITCHEN]:"廚房",[s.BALCONY]:"陽台",[s.GARDEN]:"花園",[s.GARAGE]:"車庫",[s.CORRIDOR]:"走廊"},d={[s.LIVING_ROOM]:"#F0DF9C",[s.DINING_ROOM]:"#F5D4BC",[s.STORAGE_ROOM]:"#ADC0BC",[s.STUDY_ROOM]:"#B0B8C9",[s.BEDROOM]:"#F5B8B8",[s.BATHROOM]:"#C1D7E2",[s.KITCHEN]:"#EDE0C6",[s.BALCONY]:"#D0DCAA",[s.GARDEN]:"#AACDBC",[s.GARAGE]:"#C7C7DD",[s.CORRIDOR]:"#CDCDCD"}},55009:(e,t,a)=>{Promise.resolve().then(a.bind(a,33899))},62618:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(73243),s=a(45323);a(67703);var r=a(40217),i=a(4318),l=a(92387),o=a(71400),c=a(73379);function d(e){var t;let{className:a}=e,d=(0,r.c3)("Navigation"),[m,u]=(0,s.useState)(!0),{data:h}=(0,c.wV)();(0,s.useEffect)(()=>{var e;let t=null==h?void 0:null===(e=h.user)||void 0===e?void 0:e.userId;t&&(async()=>{let{status:e,message:a,data:n}=await (0,l.Jt)("/api/users/".concat(t));0==e&&u(n.isLock)})()},[null==h?void 0:null===(t=h.user)||void 0===t?void 0:t.userId]);let x=async()=>{let{status:e,data:t,message:a}=await (0,l.bE)("/api/checkoutSessions");if(0==e){let{url:e}=t;console.log(t),window.open(e,"_self")}else o.oR.error(a)};return m&&(0,n.jsx)("button",{onClick:x,className:(0,i.cn)("cursor-pointer font-bold text-[#066952] rounded-[20px] bg-[#A7F7D3] px-4 py-1",a),children:d("unlock")})}}},e=>{var t=t=>e(e.s=t);e.O(0,[265,351,548,376,400,379,601,403,974,409,882,319,638,72,358],()=>t(55009)),_N_E=e.O()}]);