(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3004],{22069:(e,t,s)=>{Promise.resolve().then(s.bind(s,46160)),Promise.resolve().then(s.bind(s,46096)),Promise.resolve().then(s.t.bind(s,33063,23)),Promise.resolve().then(s.bind(s,96644)),Promise.resolve().then(s.bind(s,22346))},76142:(e,t,s)=>{"use strict";s(95155),s(40054),s(12115),s(45493),s(48842),s(66766)},96644:(e,t,s)=>{"use strict";s.d(t,{default:()=>S});var a=s(95155),n=s(35226),l=s(12115),r=s(35695),i=s(88939),o=s(91599),c=s(40054),d=s.n(c),m=s(60470),u=s(66766);s(67705);var x=s(17652);s(25446),s(17313),s(76142),s(76796),s(38543),s(22346);var h=s(82940),f=s.n(h);let p="我研究命理这行已经二十多年了，专门看八字和紫微斗数，今天来跟您聊聊";f()().format("YYYY");let g="我研究命理這行已經二十多年了，專門看八字和紫微斗數，今天來跟您聊聊";f()().format("YYYY");var v=s(59434);s(5464),s(91091),s(66424);function y(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"skeleton",className:(0,v.cn)("bg-secondary animate-pulse rounded-md",t),...s})}var b=s(96609),j=s(45493);s(30285),s(54165),s(85057),s(30356),s(43461);var N=s(62598),w=s(46453);let F={金:"#B2A062",木:"#567156",水:"#939393",火:"#B4003C",土:"#DEAB20"},D=["金","木","水","火","土"];function S(e){var t,s,c;let{locale:h,birthDateTime:f,gender:p,sessionId:g}=e;(0,i.A)(),(0,r.useRouter)();let v=(0,r.useSearchParams)(),S=(0,x.c3)("report");(0,x.c3)("toast");let A=(0,l.useRef)(null),C=(0,l.useRef)([]),[k,I]=(0,l.useState)([]),[T,E]=(0,l.useState)([]),[B,H]=(0,l.useState)(0),[z,O]=(0,l.useState)(!1);(0,l.useRef)(null);let[W,R]=(0,l.useState)(!1),[K,M]=(0,l.useState)(!0),[P,_]=(0,l.useState)(null),[L,G]=(0,l.useState)(!1),[U,Y]=(0,l.useState)(null),[J,q]=(0,l.useState)(null),[V,Q]=(0,l.useState)(null),[X,Z]=(0,l.useState)(null),[$,ee]=(0,l.useState)("年柱"),[et,es]=(0,l.useState)("report"),ea=(0,l.useRef)([]),en=(0,l.useRef)([]),el=(0,l.useRef)([]),er=(0,l.useRef)([]),[ei,eo]=(0,l.useState)(null),[ec,ed]=(0,l.useState)(null),[em,eu]=(0,l.useState)(null),{saveLifeReport:ex,markLifeReportComplete:eh}=function(){var e,t,s,a;let{data:n}=(0,j.wV)(),r=(0,w.Ym)(),i=(0,l.useCallback)(async e=>{var t,s,a,l,i,c,d,m,u,x,h,f,p,g,v;let y=null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.userId;if(!y)return console.warn("❌ No userId found, cannot save life report"),{success:!1,error:"No user session"};try{console.log("\uD83D\uDCBE Saving complete life report for user:",y),console.log("\uD83D\uDCCA Report data includes:",Object.keys(e));let t="zh-CN"===r?"zh":"tw",n=e.sessionId,b={aiGeneratedContent:{sessionId:n,generatedAt:new Date().toISOString(),generationStatus:e.reportStatus||"generating",fourFortuneAI:{healthFortuneData:(null===(s=e.fourFortuneData)||void 0===s?void 0:s.healthFortuneData)||null,careerFortuneData:(null===(a=e.fourFortuneData)||void 0===a?void 0:a.careerFortuneData)||null,wealthFortuneData:(null===(l=e.fourFortuneData)||void 0===l?void 0:l.wealthFortuneData)||null,relationshipFortuneData:(null===(i=e.fourFortuneData)||void 0===i?void 0:i.relationshipFortuneData)||null},comprehensiveAI:{interpersonalAdvice:(null===(c=e.basicReportData)||void 0===c?void 0:c.comprehensiveInterpersonalAdvice)||null,lifeAdvice:(null===(d=e.basicReportData)||void 0===d?void 0:d.comprehensiveLifeAdvice)||null},generationLog:[{timestamp:new Date().toISOString(),action:"saved",sessionId:n,status:e.reportStatus}]},...e.basicReportData||{},fourFortuneAnalysisData:{healthFortuneData:(null===(m=e.fourFortuneData)||void 0===m?void 0:m.healthFortuneData)||null,careerFortuneData:(null===(u=e.fourFortuneData)||void 0===u?void 0:u.careerFortuneData)||null,wealthFortuneData:(null===(x=e.fourFortuneData)||void 0===x?void 0:x.wealthFortuneData)||null,relationshipFortuneData:(null===(h=e.fourFortuneData)||void 0===h?void 0:h.relationshipFortuneData)||null,generatedAt:new Date().toISOString(),sessionId:n},healthFortuneData:(null===(f=e.fourFortuneData)||void 0===f?void 0:f.healthFortuneData)||null,careerFortuneData:(null===(p=e.fourFortuneData)||void 0===p?void 0:p.careerFortuneData)||null,wealthFortuneData:(null===(g=e.fourFortuneData)||void 0===g?void 0:g.wealthFortuneData)||null,relationshipFortuneData:(null===(v=e.fourFortuneData)||void 0===v?void 0:v.relationshipFortuneData)||null,lifeReportStatus:e.reportStatus||"generating",reportGeneratedAt:new Date},{status:j,data:N}=await (0,o.F6)("/api/reportUserDoc/".concat(y,"/").concat(t),b);if(0===j)return console.log("✅ Life report saved successfully in AI content structure"),console.log("\uD83C\uDFAF AI content saved for session:",n),{success:!0,data:N};return console.error("❌ Failed to save life report, status:",j),{success:!1,error:"API returned status ".concat(j)}}catch(e){return console.error("❌ Error saving life report:",e),{success:!1,error:e.message}}},[null==n?void 0:null===(e=n.user)||void 0===e?void 0:e.userId,r]),c=(0,l.useCallback)(async(e,t,s)=>{var a;let l=null==n?void 0:null===(a=n.user)||void 0===a?void 0:a.userId;if(!l||!t)return console.warn("❌ Cannot save ".concat(e," fortune - missing data")),{success:!1,error:"Missing required data"};try{console.log("\uD83D\uDCBE Saving ".concat(e," fortune data for user:"),l);let a="zh-CN"===r?"zh":"tw",n="".concat(e,"FortuneData"),i={[n]:{...t,generatedAt:new Date().toISOString(),sessionId:s},fourFortuneAnalysisData:{[n]:t,lastUpdated:new Date().toISOString(),sessionId:s},lifeReportStatus:"partial"},{status:c}=await (0,o.F6)("/api/reportUserDoc/".concat(l,"/").concat(a),i);if(0===c)return console.log("✅ ".concat(e," fortune saved successfully")),{success:!0};return console.error("❌ Failed to save ".concat(e," fortune, status:"),c),{success:!1,error:"API returned status ".concat(c)}}catch(t){return console.error("❌ Error saving ".concat(e," fortune:"),t),{success:!1,error:t.message}}},[null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.userId,r]);return{saveLifeReport:i,saveIndividualFortune:c,markLifeReportComplete:(0,l.useCallback)(async e=>{var t;let s=null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.userId;if(!s)return{success:!1,error:"No user session"};try{console.log("\uD83C\uDF89 Marking life report as complete for user:",s);let t="zh-CN"===r?"zh":"tw",a={lifeReportStatus:"complete",reportGeneratedAt:new Date,fourFortuneAnalysisData:{completedAt:new Date().toISOString(),sessionId:e,status:"complete"}},{status:n}=await (0,o.F6)("/api/reportUserDoc/".concat(s,"/").concat(t),a);if(0===n)return console.log("✅ Life report marked as complete"),{success:!0};return{success:!1,error:"API returned status ".concat(n)}}catch(e){return console.error("❌ Error marking life report complete:",e),{success:!1,error:e.message}}},[null==n?void 0:null===(s=n.user)||void 0===s?void 0:s.userId,r]),saveAIContent:(0,l.useCallback)(async(e,t,s)=>{var a;let l=null==n?void 0:null===(a=n.user)||void 0===a?void 0:a.userId;if(!l||!t)return console.warn("❌ Cannot save AI content ".concat(e," - missing data")),{success:!1,error:"Missing required data"};try{console.log("\uD83E\uDD16 Saving AI content: ".concat(e," for session:"),s);let a="zh-CN"===r?"zh":"tw",n={["aiGeneratedContent.".concat(e)]:{...t,generatedAt:new Date().toISOString(),sessionId:s},"aiGeneratedContent.sessionId":s,"aiGeneratedContent.lastUpdated":new Date().toISOString()},{status:i}=await (0,o.F6)("/api/reportUserDoc/".concat(l,"/").concat(a),n);if(0===i)return console.log("✅ AI content ".concat(e," saved successfully")),{success:!0};return console.error("❌ Failed to save AI content ".concat(e,", status:"),i),{success:!1,error:"API returned status ".concat(i)}}catch(t){return console.error("❌ Error saving AI content ".concat(e,":"),t),{success:!1,error:t.message}}},[null==n?void 0:null===(a=n.user)||void 0===a?void 0:a.userId,r])}}(),{saveReportData:ef,getReportData:ep,markReportComplete:eg}=function(){let e=(0,w.Ym)(),t=(0,l.useCallback)(async t=>{if(!t.sessionId)return console.warn("❌ No sessionId found, cannot save report data"),{success:!1,error:"No session ID"};try{var s,a,n,l,r,i,c,d,m,u,x,h,f,p,g;console.log("\uD83D\uDCBE Saving complete report data for session:",t.sessionId),console.log("\uD83D\uDCCA Report data includes:",Object.keys(t));let v={sessionId:t.sessionId,birthDateTime:t.birthDateTime,gender:t.gender,language:"zh-CN"===e?"zh":"tw",basicReportData:{mingLiData:(null===(s=t.basicReportData)||void 0===s?void 0:s.mingLiData)||null,liuNianData:(null===(a=t.basicReportData)||void 0===a?void 0:a.liuNianData)||null,jiajuProData:(null===(n=t.basicReportData)||void 0===n?void 0:n.jiajuProData)||null},fourFortuneData:{healthFortuneData:(null===(l=t.fourFortuneData)||void 0===l?void 0:l.healthFortuneData)||null,careerFortuneData:(null===(r=t.fourFortuneData)||void 0===r?void 0:r.careerFortuneData)||null,wealthFortuneData:(null===(i=t.fourFortuneData)||void 0===i?void 0:i.wealthFortuneData)||null,relationshipFortuneData:(null===(c=t.fourFortuneData)||void 0===c?void 0:c.relationshipFortuneData)||null},aiGeneratedContent:{sessionId:t.sessionId,generatedAt:new Date().toISOString(),generationStatus:t.reportStatus||"generating",fourFortuneAI:{healthFortuneData:(null===(d=t.fourFortuneData)||void 0===d?void 0:d.healthFortuneData)||null,careerFortuneData:(null===(m=t.fourFortuneData)||void 0===m?void 0:m.careerFortuneData)||null,wealthFortuneData:(null===(u=t.fourFortuneData)||void 0===u?void 0:u.wealthFortuneData)||null,relationshipFortuneData:(null===(x=t.fourFortuneData)||void 0===x?void 0:x.relationshipFortuneData)||null},comprehensiveAI:{lifeAdvice:(null===(f=t.aiGeneratedContent)||void 0===f?void 0:null===(h=f.comprehensiveAI)||void 0===h?void 0:h.lifeAdvice)||null},wuxingAnalysis:(null===(p=t.aiGeneratedContent)||void 0===p?void 0:p.wuxingAnalysis)||null,lifeStageAnalysis:(null===(g=t.aiGeneratedContent)||void 0===g?void 0:g.lifeStageAnalysis)||null},reportStatus:t.reportStatus||"generating"},{status:y,data:b}=await (0,o.F6)("/api/reportData",v);if(0===y)return console.log("✅ Report data saved successfully to reportData collection"),console.log("\uD83C\uDFAF Session:",t.sessionId),{success:!0,data:b};return console.error("❌ Failed to save report data, status:",y),{success:!1,error:"API returned status ".concat(y)}}catch(e){return console.error("❌ Error saving report data:",e),{success:!1,error:e.message}}},[e]),s=(0,l.useCallback)(async e=>{if(!e)return console.warn("❌ No sessionId provided"),{success:!1,error:"No session ID"};try{console.log("\uD83D\uDCD6 Fetching report data for session:",e);let{status:t,data:s}=await (0,o.Jt)("/api/reportData?sessionId=".concat(e));if(0===t)return console.log("✅ Report data fetched successfully"),{success:!0,data:s};return console.error("❌ Failed to fetch report data, status:",t),{success:!1,error:"API returned status ".concat(t)}}catch(e){return console.error("❌ Error fetching report data:",e),{success:!1,error:e.message}}},[]),a=(0,l.useCallback)(async(e,t,s)=>{if(!s||!t)return console.warn("❌ Cannot save ".concat(e," fortune - missing data")),{success:!1,error:"Missing required data"};try{console.log("\uD83D\uDCBE Saving ".concat(e," fortune data for session:"),s);let a={sessionId:s,fourFortuneData:{["".concat(e,"FortuneData")]:{...t,generatedAt:new Date().toISOString(),sessionId:s}},reportStatus:"partial"},{status:n}=await (0,o.F6)("/api/reportData",a);if(0===n)return console.log("✅ ".concat(e," fortune saved successfully")),{success:!0};return console.error("❌ Failed to save ".concat(e," fortune, status:"),n),{success:!1,error:"API returned status ".concat(n)}}catch(t){return console.error("❌ Error saving ".concat(e," fortune:"),t),{success:!1,error:t.message}}},[]);return{saveReportData:t,getReportData:s,saveIndividualFortune:a,markReportComplete:(0,l.useCallback)(async e=>{if(!e)return{success:!1,error:"No session ID"};try{console.log("\uD83C\uDF89 Marking report as complete for session:",e);let t={sessionId:e,reportStatus:"complete",aiGeneratedContent:{sessionId:e,generationStatus:"complete",completedAt:new Date().toISOString()}},{status:s}=await (0,o.F6)("/api/reportData",t);if(0===s)return console.log("✅ Report marked as complete"),{success:!0};return{success:!1,error:"API returned status ".concat(s)}}catch(e){return console.error("❌ Error marking report complete:",e),{success:!1,error:e.message}}},[]),saveAIContent:(0,l.useCallback)(async(e,t,s)=>{if(!s||!t)return console.warn("❌ Cannot save AI content ".concat(e," - missing data")),{success:!1,error:"Missing required data"};try{console.log("\uD83E\uDD16 Saving AI content: ".concat(e," for session:"),s);let a={sessionId:s,aiGeneratedContent:{sessionId:s,[e]:{...t,generatedAt:new Date().toISOString(),sessionId:s},lastUpdated:new Date().toISOString()}},{status:n}=await (0,o.F6)("/api/reportData",a);if(0===n)return console.log("✅ AI content ".concat(e," saved successfully")),{success:!0};return console.error("❌ Failed to save AI content ".concat(e,", status:"),n),{success:!1,error:"API returned status ".concat(n)}}catch(t){return console.error("❌ Error saving AI content ".concat(e,":"),t),{success:!1,error:t.message}}},[])}}(),ev=(0,l.useCallback)(e=>{console.log("\uD83E\uDDF9 Clearing all cached content for new payment session:",e),eX(null),e$(null),e1(!1),e2(!1),"function"==typeof eT&&eT(null),eo(null),ed(null),eu(null),eb({healthFortuneData:null,careerFortuneData:null,wealthFortuneData:null,relationshipFortuneData:null}),console.log("✅ All content cleared - fresh generation will begin")},[]),[ey,eb]=(0,l.useState)({healthFortuneData:null,careerFortuneData:null,wealthFortuneData:null,relationshipFortuneData:null}),[ej,eN]=(0,l.useState)(!1),[ew,eF]=(0,l.useState)(""),eD=window.speechSynthesis;(0,l.useRef)(null);let eS=(0,l.useCallback)(e=>t=>{ea.current[e]=t},[]),eA=(0,l.useCallback)(e=>t=>{en.current[e]=t},[]),eC=(0,l.useCallback)(e=>t=>{el.current[e]=t},[]),ek=(0,l.useCallback)(e=>t=>{er.current[e]=t},[]),[eI,eT]=(0,l.useState)(null),[eE,eB]=(0,l.useState)("正印"),[eH,ez]=(0,l.useState)(null),[eO,eW]=(0,l.useState)(!1),[eR,eK]=(0,l.useState)({年柱:null,月柱:null,日柱:null,時柱:null}),[eM,eP]=(0,l.useState)({年柱:!1,月柱:!1,日柱:!1,時柱:!1}),[e_,eL]=(0,l.useState)({年柱:null,月柱:null,日柱:null,時柱:null}),[eG,eU]=(0,l.useState)({年柱:null,月柱:null,日柱:null,時柱:null}),[eY,eJ]=(0,l.useState)({年柱:!1,月柱:!1,日柱:!1,時柱:!1}),[eq,eV]=(0,l.useState)({年柱:!1,月柱:!1,日柱:!1,時柱:!1}),[eQ,eX]=(0,l.useState)(null),[eZ,e$]=(0,l.useState)(null),[e0,e1]=(0,l.useState)(!1),[e4,e2]=(0,l.useState)(!1),[e3,e6]=(0,l.useState)("五行調和"),[e5,e8]=(0,l.useState)("補益"),[e7,e9]=(0,l.useState)("運動建議"),[te,tt]=(0,l.useState)("近期"),[ts,ta]=(0,l.useState)("個人關係"),[tn,tl]=(0,l.useState)("婚戀配對"),[tr,ti]=(0,l.useState)("領導風格"),[to,tc]=(0,l.useState)("人脈建構"),{loading:td,reportDocData:tm,assistantData:tu}=function(e,t){let s=(0,l.useRef)(!0),[a,n]=(0,l.useState)(!0),[r,i]=(0,l.useState)(null),[c,u]=(0,l.useState)({});(0,l.useEffect)(()=>{console.log("renderRef.current",s.current),(async()=>{let s=null==t?void 0:t.userId;if(s&&e){let a=t.birthDateTime;console.log("查询用户已有报告"),n(!0);let{status:l,data:r}=await (0,o.Jt)("/api/reportUserDoc/".concat(s,"/").concat("zh-CN"==e?"zh":"tw"));if(0==l&&r){if(console.log("已有报告"),"done"==t.genStatus&&(!r.mingLiData||!r.liuNianData||!r.jiajuProData)){let{status:t,data:a}=await (0,o.Jt)("/api/reportUserDoc/".concat(s,"/").concat("zh-CN"==e?"tw":"zh"));0==t&&a&&u(a)}i(r)}else{let{data:n}=await (0,o.Jt)("/api/reportDoc/zh",{isCached:!0}),{data:l}=await (0,o.Jt)("/api/reportDoc/tw",{isCached:!0});if(n&&l){let{nayin:r,year:c,month:d,day:u,hour:f,yearStem:p,yearStemWuxing:g,yearBranch:v,yearBranchWuxing:y,monthStem:b,monthStemWuxing:j,monthBranch:N,monthBranchWuxing:w,dayStem:F,dayStemWuxing:D,dayBranch:S,dayBranchWuxing:A,hourStem:C,hourStemWuxing:k,hourBranch:I,hourBranchWuxing:T}=(0,m.Ay)(a,t.gender);console.log("Using actual calculated elements:"),console.log("年柱:",c,"(天干:".concat(p,"-").concat(g,", 地支:").concat(v,"-").concat(y,")")),console.log("月柱:",d,"(天干:".concat(b,"-").concat(j,", 地支:").concat(N,"-").concat(w,")")),console.log("日柱:",u,"(天干:".concat(F,"-").concat(D,", 地支:").concat(S,"-").concat(A,")")),console.log("時柱:",f,"(天干:".concat(C,"-").concat(k,", 地支:").concat(I,"-").concat(T,")"));let E=Math.floor(3*Math.random()),B=Math.floor(3*Math.random()),H={nianzhuData:x("年柱",p,g,v,y,n,E),yuezhuData:x("月柱",b,j,N,w,n,E),rizhuData:x("日柱",F,D,S,A,n,E),shizhuData:x("時柱",C,k,I,T,n,E),yunchengData:n.yunchengData[r][E],jiajuData:h(n.jiajuData,B)},z={nianzhuData:x("年柱",p,g,v,y,l,E),yuezhuData:x("月柱",b,j,N,w,l,E),rizhuData:x("日柱",F,D,S,A,l,E),shizhuData:x("時柱",C,k,I,T,l,E),yunchengData:l.yunchengData[r][E],jiajuData:h(l.jiajuData,B)};i("zh-CN"==e?H:z);let O=async(e,t)=>{try{let{status:a}=await (0,o.Jt)("/api/reportUserDoc/".concat(s,"/").concat(e));0!==a?(console.log("Creating new template document for ".concat(e)),await (0,o.bE)("/api/reportUserDoc/".concat(s,"/").concat(e),t)):console.log("Document exists for ".concat(e,", preserving AI content"))}catch(t){console.error("Error checking/saving template for ".concat(e,":"),t)}};O("zh",H),O("tw",z)}}n(!1)}})()},[e,t]);let x=(e,t,s,a,n,l,r)=>{var i;let o="".concat(t).concat(a);if(null===(i=l.nianzhuData)||void 0===i?void 0:i[o])return l.nianzhuData[o][r];let c={},d="天干".concat(s),m="地支".concat(n),u=l.nianzhuData||l.yuezhuData||l.rizhuData||l.shizhuData||{},x={};return Object.entries(u).forEach(e=>{let[t,a]=e;(t.includes(s)||t.includes(n))&&Object.assign(x,a[r]||a[0]||{})}),c[d]="".concat(e,"天干").concat(t,"属").concat(s,"，主要影响外在表现和性格特质。").concat(s,"元素的特性在此柱位体现明显。"),c[m]="".concat(e,"地支").concat(a,"属").concat(n,"，主要影响内在潜力和环境因素。").concat(n,"元素的力量在此发挥作用。"),c["综合".concat(s).concat(n)]="".concat(e).concat(o,"的组合，天干").concat(s,"与地支").concat(n,"相互作用，形成独特的能量场。"),{...c,...x}},h=(e,t)=>{if(e){let s=d().cloneDeep(e);for(let e in s){let a=s[e];for(let e in a)a[e]=a[e][t]}return s}};return{loading:a,reportDocData:r,assistantData:c}}(h,P),tx=e=>{let t=Object.values(e).reduce((e,t)=>e+t,0),s=[],a=[];Object.entries(e).forEach(e=>{let[n,l]=e;l/t*100>=25?s.push(n):0===l&&a.push(n)});let n="";if(1===s.length)n="".concat(s[0],"旺");else if(2===s.length)n="".concat(s.join(""),"兩旺");else if(s.length>=3)n="".concat(s.slice(0,2).join(""),"等多旺");else{var l;let t=Math.max(...Object.values(e)),s=null===(l=Object.entries(e).find(e=>{let[s,a]=e;return a===t}))||void 0===l?void 0:l[0];n=s?"".concat(s,"為主"):"五行平衡"}return{strongElements:s,weakElements:a,strengthDesc:n,elementCounts:e}},th=e=>{let{strongElements:t,weakElements:s,elementCounts:a}=e,n=["木","火","土","金","水"],l="",r="",i="";if(s.length>0){if(l=s[0],s.length>1)r=s[1];else{let e=n.indexOf(l);r=n[(e-1+5)%5]}i="補缺"}else if(0===t.length){let e=Math.min(...Object.values(a));l=Object.entries(a).filter(t=>{let[s,a]=t;return a===e}).map(e=>{let[t,s]=e;return t})[0];let t=n.indexOf(l);r=n[(t-1+5)%5],i="扶弱"}else if(t.length>=2){let e=t[0],s=(n.indexOf(e)+1)%5;l=n[s],r=n[(s+1)%5],i="抑強"}else if(1===t.length){let e=t[0],s=n.indexOf(e);l=n[(s+1)%5],r=n[(s+2)%5],i="瀉強"}return{primaryGod:l,auxiliaryGod:r,strategy:i}},tf=e=>{if(!(null==e?void 0:e.birthDateTime))return{};let t=tN(e);if(!(null==t?void 0:t.wuxingData))return{};let{wuxingData:s}=t;s.dayStem;let a=s.dayStemWuxing,n=["木","火","土","金","水"],l=n.indexOf(a),r={正印:n[(l+4)%5],財星:n[(l+2)%5],官殺:n[(l+3)%5],劫比:a,食傷:n[(l+1)%5]};return{dayStemElement:a,tenGodsElements:r}},tp=async(e,t)=>{try{let s=await fetch("/api/wuxing-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wuxingData:e,userInfo:t,birthDateTime:t.birthDateTime,gender:t.gender})});if(s.ok)return(await s.json()).analysis||{pattern:"身強食神制殺格",primaryGod:"木",secondaryGod:"土",mainConclusion:{wuxingPattern:"金火兩旺",pattern:"身強食神制殺格"},wuxingDistribution:{detailed:{wood:{count:1,strength:"★",characteristic:"孤立無根",influence:"創造力受限，難將靈感系統化落地"},fire:{count:3,strength:"★★★",characteristic:"外顯熾熱",influence:"行動力強、熱情主動，但易急躁衝動"},earth:{count:3,strength:"★★",characteristic:"鬆散無力",influence:"財運不穩，存錢實力，易衝動消費"},metal:{count:4,strength:"★★★★",characteristic:"剛硬密集",influence:"追求完美、重規則壓力，身心易疲憊"},water:{count:2,strength:"★★★",characteristic:"潛藏暗流",influence:"直覺敏銳，但思慮多，易焦慮失眠"}},conflicts:[{title:"金火對峙",description:"金（刚烈）与火（热烈）两强相争，消耗日主能量，易引发身心疲惫。",example:'想学习新技能（木），总被工作任务（金）打断，导致计划频繁中断，常怀入"忙到无成果"状态。'}]}}}catch(e){console.error("AI analysis error:",e)}return{pattern:"身強食神制殺格",primaryGod:"木",secondaryGod:"土",mainConclusion:{wuxingPattern:"金火兩旺",pattern:"身強食神制殺格"},wuxingDistribution:{detailed:{wood:{count:1,strength:"★",characteristic:"孤立無根",influence:"創造力受限，難將靈感系統化落地"},fire:{count:3,strength:"★★★",characteristic:"外顯熾熱",influence:"行動力強、熱情主動，但易急躁衝動"},earth:{count:3,strength:"★★",characteristic:"鬆散無力",influence:"財運不穩，存錢實力，易衝動消費"},metal:{count:4,strength:"★★★★",characteristic:"剛硬密集",influence:"追求完美、重規則壓力，身心易疲憊"},water:{count:2,strength:"★★★",characteristic:"潛藏暗流",influence:"直覺敏銳，但思慮多，易焦慮失眠"}},conflicts:[{title:"金火對峙",description:"金（刚烈）与火（热烈）两强相争，消耗日主能量，易引发身心疲惫。",example:'想学习新技能（木），总被工作任务（金）打断，导致计划频繁中断，常怀入"忙到无成果"状态。'}]}}},tg=async e=>{if(e&&!eO){eW(!0);try{let t=await fetch("/api/element-flow-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInfo:e})});if(t.ok){let e=await t.json();e.success&&e.analysis?ez(e.analysis):console.error("Invalid analysis result:",e)}else console.error("API request failed:",t.status)}catch(e){console.error("Element flow analysis error:",e)}finally{eW(!1)}}},tv=async(e,t,s)=>{try{let a={年柱:"童年",月柱:"青年",日柱:"成年",時柱:"老年"}[e]||"人生阶段",n=await fetch("/api/life-stage-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pillarType:e,stage:a,pillarData:t,userInfo:s,prompt:"关联人生阶段（".concat(e,"=").concat(a,'）\n白话直断**（分两段）：  \n   - **{关键词}**：生活场景说明（如"竞争与规则并存"）  \n   - **现实案例**：如"被父母要求先写作业才能玩"')})});if(n.ok)return(await n.json()).analysis}catch(t){console.error("Life stage analysis error for ".concat(e,":"),t)}let a={年柱:{title:"年柱甲申：竞争与规则并存的童年",content:"你小时候的环境（家庭或学校）存在明显的竞争压力，比如兄弟姐妹比较成绩，或父母用严格标准要求你。同时生活中规则感很强，例如必须按时回家、作业错一题罚抄十遍等。",example:"就像玩游戏时，别人轻松过关，你却总被要求「先写完数学题才能玩」，这种约束让你早早就学会在压力下找方法。",wisdom:"智慧如地下暗流：指你天生会暗中观察、动脑筋解决问题。比如被父母禁止看电视，你会偷偷用电脑查资料完成作业来争取自由时间——这种「钻空子」不是叛逆，而是懂得灵活应对规则。"},月柱:{title:"月柱丁巳：才华耀眼但容易三分热度",content:"你青年时期（中学到大学）能力突出，像学新技能比同学快、比赛容易拿奖。但热情来得快去得快，可能今天想学画画，明天又迷上编程，最后都没坚持。",example:"就像参加社团时，你一周就能当上组长（火性爆发力），但三个月后觉得无聊就退社了（火旺难持久）。",wisdom:"火焚高木的警告：你像一棵长在火山边的树，长得快但易被烧伤。比如熬夜三天写完报告拿了高分（才华耀眼），结果感冒一周（消耗过度）。"},日柱:{title:"日柱丁酉：能力与压力互相成就",content:"你成年后靠实力赚钱（如专业技能、创意作品），但这些机会总伴随高压挑战。比如接到高薪项目，却要天天加班；或自己创业当老板，但每笔支出都心惊胆战。",example:"像你设计海报被客户夸赞（丁火发光），但改了20版才通过（酉金磨人）。",wisdom:"钗钏金的本质：你的价值像金首饰，需要被打磨才能闪耀。压力（客户挑剔/老板刁难）其实是让你更专业的「打磨工具」。"},時柱:{title:"时柱庚子：晚年要懂得放松与放手",content:"你老年可能地位高、说话有分量（如当了领导或家族长辈），但责任也更大，常为小事操心失眠。",example:"像退休后还被请去当顾问，既高兴被看重（庚金权威），又烦心年轻人不按你的方法做（子水暗忧）。",wisdom:"壁上土的提醒：这堵墙既是保护（比如存款够多不怕生病），也可能隔绝快乐（比如嫌旅游太累只在家发呆）。学会偶尔「拆墙」——像勉强同意儿女用新方法装修老房，反而发现效果不错。"}};return a[e]||a["年柱"]},ty=async(e,t)=>{try{let s=await fetch("/api/interpersonal-advice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pillar:e,userInfo:t})});if(s.ok)return(await s.json()).analysis}catch(t){console.error("Interpersonal advice error for ".concat(e,":"),t)}return{personalTraits:"年柱反映了您早期的人際特質，天生具有親和力，容易獲得他人信任。在人際關係中展現出純真和熱情，但有時可能過於直接，需要學習更多的人際技巧。",communicationStyle:"建議在溝通時保持真誠，但要學會察言觀色。避免過於衝動的表達，多聽少說，給對方充分的表達空間。在重要場合前先思考再開口。",relationshipMaintenance:"重視情感交流，定期與朋友家人聯繫。學會記住他人的重要日子，適時表達關心。建立互相支持的友誼圈，但要保持適當的界限。",conflictResolution:"面對衝突時，先冷靜下來，避免情緒化的反應。學會換位思考，理解對方的立場。用溫和但堅定的態度表達自己的觀點，尋求雙贏的解決方案。"}},tb=async(e,t)=>{try{let s=await fetch("/api/comprehensive-advice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pillar:e,userInfo:t})});if(s.ok)return(await s.json()).analysis}catch(t){console.error("Comprehensive advice error for ".concat(e,":"),t)}return{careerDevelopment:"年柱代表早期發展基礎，建議選擇能發揮創意和熱情的工作。適合從基層做起，紮實累積經驗。重視學習機會，為未來發展奠定基礎。",healthWellness:"注意心血管和神經系統的健康。保持規律的作息時間，多做戶外運動。年輕時養成良好的飲食習慣，避免過度熬夜和壓力。",wealthManagement:"理財觀念需要從年輕時培養，建議採用穩健的投資策略。避免高風險投資，重視儲蓄習慣的建立。學會記帳和預算管理。",relationshipGuidance:"感情方面較為純真，容易全心投入。建議保持理性，不要過於急躁。學會觀察對方的真實性格，建立穩固的感情基礎。",lifeDirection:"人生規劃應該注重基礎建設，包括教育、技能和人際關係。設定清晰的短期和長期目標，保持學習的心態，為未來發展做好準備。"}},tj=async(e,t)=>{try{let s=await fetch("/api/comprehensive-life-advice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInfo:e,wuxingData:t})});if(s.ok)return(await s.json()).analysis}catch(e){console.error("Comprehensive life advice error:",e)}return{wuxingHarmony:{primaryGod:"以木為樞要",secondaryGod:"水為輔佐",summary:{supplement:["日常著青碧服飾，東方青氣引動甲木根基","居室增置綠植意象，晨起面東而立調息","引少陽升發之氣，木方有運用神"],strengthen:["土性承載，建議多用陶器、棕黃織物及方形陳設","飲食偏重小米、南瓜等甘味食材，以回中宮脾胃之氣"],avoid:["慎避金火過盛之境，避免穿著白色、赤色服飾及金屬配飾","午時（11-13時）烈日曝曬需謹慎","忌金色疊加紅色材質的組合使用"]},detailed:"水星暗導可微量補益，可於家中北位放置墨玉貔貅，既潤局中燥火，亦助百脈流通"},healthWellness:{exercise:["申時林間習練太極拳，借木氣養身","卯時戶外慢跑，配合東方木旺之時"],emotion:"透過書法練習涵養正官之氣，化解情緒起伏",detailed:"每日辰時面東靜坐15分鐘，按壓太沖穴，焚檀香調息"},careerDirection:{nearTerm:{ageRange:"20-30歲",pattern:"食神生財格漸顯，創意表達能力突出",industries:["文化創意產業","教育培訓行業"],risk:"逢金旺年份須防契約糾紛，重大決策前宜諮詢水木屬性人士"},midTerm:{ageRange:"30-40歲",transformation:"傷官化土生財，轉向管理和整合型工作",strategy:"創建平台整合創意資源，發揮協調統籌能力",decision:"重大投資前諮詢木火屬性人士，避開金旺時段做決策"},longTerm:{ageRange:"40歲後",fortune:"食神吐秀，財庫大開，智慧與財富並進",knowledge:"編纂行業標準典籍，建立專業知識體系",wellness:"參觀文化產業園既養木氣亦啟發靈感"}},interpersonalBalance:{cooperation:"技術入股須公證專利權屬，合作協議需明確權責邊界",leadership:"庚金透干時以剛中帶韌化解爭執，決策前廣納眾議",emotional:"宜選擇水木旺於月令者為伴，坎位置黑曜石化解沖剋"}}},tN=e=>{if(!(null==e?void 0:e.birthDateTime))return null;let t=(0,m.Ay)(e.birthDateTime,e.gender),s={},a=[];D.forEach(e=>{let n=0;[t.yearStemWuxing,t.yearBranchWuxing,t.monthStemWuxing,t.monthBranchWuxing,t.dayStemWuxing,t.dayBranchWuxing,t.hourStemWuxing,t.hourBranchWuxing].forEach(t=>{t===e&&n++}),s[e]=n,0===n&&a.push(e)});let n=tx(s),l=th(n);return{elementCounts:s,missingElements:a,wuxingData:t,strengthAnalysis:n,usefulGods:l}},tw=e=>{if(!e||!e.birthDateTime)return console.warn("calculateComprehensiveElementDistribution: Missing userInfo or birthDateTime",e),null;try{let t=(0,m.Ay)(new Date(e.birthDateTime),e.gender),s={金:0,木:0,水:0,火:0,土:0};[t.yearStemWuxing,t.monthStemWuxing,t.dayStemWuxing,t.hourStemWuxing].forEach(e=>{void 0!==s[e]&&(s[e]+=3)}),[t.yearBranchWuxing,t.monthBranchWuxing,t.dayBranchWuxing,t.hourBranchWuxing].forEach(e=>{void 0!==s[e]&&(s[e]+=2)}),[{key:"yearBranchHiddenStems",data:t.yearBranchHiddenStems},{key:"monthBranchHiddenStems",data:t.monthBranchHiddenStems},{key:"dayBranchHiddenStems",data:t.dayBranchHiddenStems},{key:"hourBranchHiddenStems",data:t.hourBranchHiddenStems}].forEach(e=>{let{data:t}=e;Array.isArray(t)&&t.forEach(e=>{e.element&&void 0!==s[e.element]&&(s[e.element]+=1)})});let a={};return Object.entries(s).forEach(e=>{let[t,s]=e;0===s?a[t]="":s>=15?a[t]="★★★★★":s>=12?a[t]="★★★★":s>=8?a[t]="★★★":s>=5?a[t]="★★":a[t]="★"}),{elementCounts:s,elementStrengthMap:a,wuxingData:t}}catch(e){return console.error("Error calculating comprehensive element distribution:",e),null}};(0,l.useEffect)(()=>()=>{eD&&eD.cancel()},[]),(0,b.useReactToPrint)({contentRef:A,pageStyle:"\n            @page { \n                size: A4;\n                margin: 20mm 15mm 20mm 15mm;  /* top right bottom left margins */\n            }\n            @media print {\n                body, html {\n                    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap');\n                    height: auto;\n                    font-family: 'SimSun', 'Microsoft YaHei', sans-serif;\n                    overflow: initial !important;\n                    margin: 0;\n                    zoom: 100%;\n                }\n                .hidden-on-print { display: none !important; }\n                .show-on-print { display: block !important;}\n                \n                /* Page breaks for chapters */\n                .chapter-page-break {\n                    page-break-before: always !important;\n                }\n                \n                /* Show all tab content when printing */\n                .tab-content-print {\n                    max-height: none !important;\n                    overflow: visible !important;\n                    opacity: 1 !important;\n                    display: block !important;\n                }\n                \n                /* Hide interactive buttons when printing */\n                .interactive-tabs {\n                    display: none !important;\n                }\n                \n                .page-break {\n                    margin-top: 1rem;\n                    display: block;\n                    page-break-before: auto;\n                }\n                .canvasImage{\n                    page-break-inside: avoid;\n                    break-inside: avoid;\n                }\n                img{\n                    max-width: 100% !important;\n                    height: auto !important;\n                    page-break-inside: auto;\n                    break-inside: auto;\n                }\n      }\n        ",removeAfterPrint:!0,documentTitle:"Harmoniq风水家居报告"}),(0,l.useEffect)(()=>{let e=[{title:S("title1"),children:[{title:"年柱"},{title:"月柱"},{title:"日柱"},{title:S("shizhu")}]},{title:S("title2"),children:[{title:S("title2-1"),color:"#088C6E",bgColor:"#F7FAF9"},{title:S("title2-2"),color:"#00A637",bgColor:"#F5FAF7"},{title:S("title2-3"),color:"#0A58A6",bgColor:"#F5F8FA"},{title:S("title2-4"),color:"#E52E5C",bgColor:"#FAF5F6"},{title:S("title2-5"),color:"#D9B815",bgColor:"#FCFBF5"},{title:S("title2-6"),color:"#066952",bgColor:"#F7FAF9"}]},{title:S("title3")}],t=[{id:"section-0",title:"第一章：个人命理基础分析",isMain:!0},{id:"section-0-0",title:"年柱",isMain:!1},{id:"section-0-1",title:"月柱"},{id:"section-0-2",title:"日柱"},{id:"section-0-3",title:"时柱"},{id:"section-1",title:"第二章：流年运程基础分析",isMain:!0},{id:"section-1-0",title:"整体运势"},{id:"section-1-1",title:"健康运势"},{id:"section-1-2",title:"事业运势"},{id:"section-1-3",title:"感情运势"},{id:"section-1-4",title:"财运运势"},{id:"section-1-5",title:"总结"},{id:"section-2",title:"第三章：流年运程基础分析",isMain:!0},{id:"section-3",isMain:!0}];K?(I([...e,{title:S("title4")}]),E(t)):(I([...e,{title:S("title4")},{title:S("title5")},{title:S("title6")}]),E([...t,{id:"section-4",isMain:!0},{id:"section-5",isMain:!0}]))},[K]),(0,l.useEffect)(()=>{let e=()=>{let e=C.current.map(e=>e?e.getBoundingClientRect().top:1/0).findIndex(e=>e>80);H(-1===e?T.length-1:Math.max(0,e-1))};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]);let{data:tF}=(0,j.wV)();(0,l.useEffect)(()=>{let e=g||v.get("sessionId"),t=localStorage.getItem("lastProcessedSessionId");e&&e!==t&&(console.log("\uD83C\uDD95 NEW PAYMENT SESSION DETECTED!"),console.log("Previous session:",t),console.log("Current session:",e),ev(e),localStorage.setItem("lastProcessedSessionId",e))},[g,v,ev]),(0,l.useEffect)(()=>{if(tm){var e;let t=g||v.get("sessionId");if(console.log("\uD83D\uDD04 Checking content for session:",t),tm.sessionId===t||(null===(e=tm.comprehensiveInterpersonalAdvice)||void 0===e?void 0:e.sessionId)===t?(console.log("✅ Content from current session - loading cached data"),tm.comprehensiveInterpersonalAdvice&&!eQ&&(console.log("✅ Loading existing comprehensive interpersonal advice"),eX(tm.comprehensiveInterpersonalAdvice)),tm.comprehensiveLifeAdvice&&!eZ&&(console.log("✅ Loading existing comprehensive life advice"),e$(tm.comprehensiveLifeAdvice))):(console.log("\uD83C\uDD95 Content from different session - will generate fresh content"),eQ&&(console.log("\uD83E\uDDF9 Clearing old interpersonal advice"),eX(null)),eZ&&(console.log("\uD83E\uDDF9 Clearing old life advice"),e$(null))),tm.mingLiData&&!ei&&(console.log("✅ Loading existing mingLi data"),eo(tm.mingLiData)),tm.liuNianData&&!ec&&(console.log("✅ Loading existing liuNian data"),ed(tm.liuNianData)),tm.jiajuProData&&!em&&(console.log("✅ Loading existing jiajuPro data"),eu(tm.jiajuProData)),tm.fourFortuneAnalysisData){let{healthFortuneData:e,careerFortuneData:t,wealthFortuneData:s,relationshipFortuneData:a}=tm.fourFortuneAnalysisData;eb(n=>({healthFortuneData:e||n.healthFortuneData,careerFortuneData:t||n.careerFortuneData,wealthFortuneData:s||n.wealthFortuneData,relationshipFortuneData:a||n.relationshipFortuneData})),console.log("✅ Loaded four fortune data from database")}}},[tm]),(0,l.useEffect)(()=>{var e;if(f&&p){console.log("\uD83C\uDFAF Using URL parameters:",{propBirthDateTime:f,propGender:p,propSessionId:g}),console.log("\uD83D\uDD27 Setting userInfo from URL parameters"),console.log("\uD83D\uDEA8 FORCING URL-ONLY MODE - Ignoring any logged-in user data");let e={birthDateTime:f,gender:p,sessionId:g,userId:g||"url_".concat(Date.now()),isLock:!1,genStatus:"pending",isUrlBased:!0};_(e),M(!1),G(!1),console.log("✅ URL userInfo set:",e);return}let t=null==tF?void 0:null===(e=tF.user)||void 0===e?void 0:e.userId;t&&(console.log("\uD83D\uDCC0 Using database user data for:",t),(async()=>{let{status:e,message:s,data:a}=await (0,o.Jt)("/api/users/".concat(t));0==e&&(_(a),M(a.isLock))})())},[null==tF?void 0:null===(t=tF.user)||void 0===t?void 0:t.userId,f,p,g]),(0,l.useEffect)(()=>{let e=e=>{e.target.closest(".report-menu")||e.target.closest(".progress-indicator")||O(!1)};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)},[]),(0,l.useEffect)(()=>{let e=async()=>{if(!ei&&!ec&&!em)return;console.log("\uD83D\uDCBE Auto-saving complete life report..."),console.log("\uD83D\uDCCA Report data:",{mingLiData:!!ei,liuNianData:!!ec,jiajuProData:!!em}),console.log("\uD83C\uDFAF Fortune data:",ey);let e="generating",t=ei||ec||em,s=Object.values(ey).some(e=>null!==e);t&&s?e=Object.values(ey).every(e=>null!==e)?"complete":"partial":(t||s)&&(e="partial");let a=g||v.get("sessionId"),n={basicReportData:{mingLiData:ei,liuNianData:ec,jiajuProData:em},fourFortuneData:ey,reportStatus:e,sessionId:a,aiGeneratedContent:{sessionId:a,generatedAt:new Date().toISOString(),generationStatus:e,comprehensiveAI:{lifeAdvice:eZ?{...eZ,sessionId:a,generatedAt:new Date().toISOString()}:null},fourFortuneAI:ey&&Object.keys(ey).length>0?ey:null}},l=await ex(n);try{let t={sessionId:a,birthDateTime:(null==P?void 0:P.birthDateTime)||f,gender:(null==P?void 0:P.gender)||p,basicReportData:{mingLiData:ei,liuNianData:ec,jiajuProData:em},fourFortuneData:ey,aiGeneratedContent:{sessionId:a,generatedAt:new Date().toISOString(),generationStatus:e,comprehensiveAI:{lifeAdvice:eZ},fourFortuneAI:ey,wuxingAnalysis:eI,lifeStageAnalysis:eR},reportStatus:e};(await ef(t)).success&&console.log("\uD83C\uDF89 Report data also saved to reportData collection!")}catch(e){console.error("❌ Error saving to alternative collection:",e)}if(l.success&&"complete"===e){var r;console.log("\uD83C\uDF89 Complete life report saved successfully!");let e=null==tF?void 0:null===(r=tF.user)||void 0===r?void 0:r.userId;e&&await (0,o.bE)("/api/users/".concat(e),{genStatus:"done"})}},t=setTimeout(()=>{e()},100);return()=>clearTimeout(t)},[ei,ec,em,ey,eZ,ex,ef,null==tF?void 0:null===(s=tF.user)||void 0===s?void 0:s.userId,g,v,f,p,eI,eR]);let tD=(0,l.useCallback)((e,t)=>{console.log("\uD83C\uDFAF Updating ".concat(e," fortune data:"),t),eb(s=>({...s,["".concat(e,"FortuneData")]:t}))},[]);if((0,l.useMemo)(()=>Object.values(eM).some(e=>e)||Object.values(eY).some(e=>e)||Object.values(eq).some(e=>e)||e4||Object.values(ey).some(e=>null===e)||!eZ,[eM,eY,eq,e4,ey,eZ]),(0,l.useEffect)(()=>{(async()=>{if(P)try{let e=tN(P);if(null==e?void 0:e.wuxingData){let t=await tp(e.wuxingData,P);console.log("\uD83D\uDD0D AI Analysis Result:",t),console.log("\uD83D\uDCCB LifeAdvice in result:",null==t?void 0:t.lifeAdvice),console.log("\uD83E\uDD16 AI Success:",!!(null==t?void 0:t.aiGenerated)),console.log("\uD83C\uDFAF Content Type:",(null==t?void 0:t.contentType)||"unknown"),eT(t)}}catch(e){console.error("Error fetching AI analysis:",e),eT({pattern:"身強食神制殺格",primaryGod:"木",secondaryGod:"土"})}})()},[P]),(0,l.useEffect)(()=>{(async()=>{if(P)try{await tg(P)}catch(e){console.error("Error fetching element flow analysis:",e)}})()},[P]),(0,l.useEffect)(()=>{let e=async()=>{if(!P||!tm){console.log("Skipping AI generation - missing data:",{hasUserInfo:!!P,hasReportDocData:!!tm});return}if(L){console.log("⚠️ AI generation already started, skipping duplicate...");return}if((null==P?void 0:P.isUrlBased)&&(null==P?void 0:P.sessionId)){let e="ai_generation_".concat(P.sessionId);if(window[e]){console.log("\uD83D\uDEA8 EMERGENCY: URL session already generating, aborting!");return}window[e]=!0}for(let e of(console.log("Starting AI generation process..."),console.log("\uD83C\uDFAF Generation for:",null==P?void 0:P.birthDateTime,null==P?void 0:P.sessionId),G(!0),["年柱","月柱","日柱","時柱"])){if(!eR[e]&&!eM[e]){eP(t=>({...t,[e]:!0}));try{let t={年柱:tm.nianzhuData,月柱:tm.yuezhuData,日柱:tm.rizhuData,時柱:tm.shizhuData},s=await tv(e,t[e],P);eK(t=>({...t,[e]:s}))}catch(t){console.error("Error generating ".concat(e," analysis:"),t)}finally{eP(t=>({...t,[e]:!1}))}}if(!e_[e]&&!eY[e]){eJ(t=>({...t,[e]:!0}));try{let t=await ty(e,P);eL(s=>({...s,[e]:t}))}catch(t){console.error("Error generating interpersonal advice for ".concat(e,":"),t)}finally{eJ(t=>({...t,[e]:!1}))}}if(!eG[e]&&!eq[e]){eV(t=>({...t,[e]:!0}));try{let t=await tb(e,P);eU(s=>({...s,[e]:t}))}catch(t){console.error("Error generating life advice for ".concat(e,":"),t)}finally{eV(t=>({...t,[e]:!1}))}}}let e=(0,m.Ay)(P.birthDateTime,P.gender),t=g||v.get("sessionId");if(!eZ&&!e4){e2(!0),console.log("\uD83D\uDD25 Generating FRESH life advice for session:",t);try{let s={...await tj(P,e),sessionId:t,generatedAt:new Date().toISOString()};e$(s)}catch(e){console.error("Error generating comprehensive life advice:",e)}finally{e2(!1)}}};setTimeout(()=>{e()},2e3)},[P,tm,L]),(0,l.useEffect)(()=>{if((null==eI?void 0:eI.tenGodsAnalysis)&&!eE){let e=Object.keys(eI.tenGodsAnalysis)[0];e&&eB(e)}},[eI,eE]),td||!tm||!P)return(0,a.jsx)("div",{className:"min-h-screen bg-[#EFEFEF] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#A3B115] mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-xl text-[#5A5A5A]",children:"載入基本報告資料中..."})]}),(0,a.jsxs)("div",{className:"max-w-lg mx-auto space-y-4",children:[(0,a.jsx)(y,{className:"h-4 w-[80%]"}),(0,a.jsx)(y,{className:"h-4 w-[70%]"}),(0,a.jsx)(y,{className:"h-4 w-[80%]"}),(0,a.jsx)(y,{className:"h-4 w-[70%]"})]})]})});console.log("Report rendering with data:",{hasReportDocData:!!tm,hasUserInfo:!!P,loading:td});let tS=P?tN(P):null;return(0,a.jsxs)("div",{className:"min-h-screen bg-[#EFEFEF] ",children:[!W&&(0,a.jsx)(n.default,{from:"report"}),!W&&(0,a.jsx)("div",{className:"w-full mt-16 bg-gradient-to-r from-[#A3B116] to-[#3D5C2D] py-6",children:(0,a.jsx)("div",{className:"max-w-6xl px-4 mx-auto",children:(0,a.jsxs)("div",{className:"flex flex-wrap justify-center gap-6",children:[(0,a.jsx)("button",{onClick:()=>es("report"),className:"px-8 py-4 rounded-full font-semibold text-lg transition-all duration-200 ".concat("report"===et?"bg-gradient-to-r from-[#A3B116] to-[#3D5C2D] text-white shadow-[0_4px_14px_rgba(0,0,0,0.25)]":"bg-white text-[#374A37] shadow-inner shadow-[inset_0_4px_4px_rgba(0,0,0,0.25)]"),style:{fontFamily:"Noto Serif TC, serif",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)"},children:"命理分析報告"}),(0,a.jsx)("button",{onClick:()=>es("fortune"),className:"px-8 py-4 rounded-full font-semibold text-lg transition-all duration-200 ".concat("fortune"===et?"bg-gradient-to-r from-[#A3B116] to-[#3D5C2D] text-white shadow-[0_4px_14px_rgba(0,0,0,0.25)]":"bg-white text-[#374A37] shadow-inner shadow-[inset_0_4px_4px_rgba(0,0,0,0.25)]"),style:{fontFamily:"Noto Serif TC, serif",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)"},children:"四大運勢分析"})]})})}),(0,a.jsxs)("div",{ref:A,style:{display:"report"===et?"block":"none"},children:[(0,a.jsx)("div",{className:"w-full sm:w-[95%] lg:w-[90%] mx-auto px-4 sm:px-5 pt-2s sm:pt-10 lg:pt-10 pb-6 sm:pb-10 flex flex-col lg:flex-row bg-[#EFEFEF]",children:(0,a.jsx)("div",{className:"flex items-start justify-center flex-1 mb-6 lg:justify-start lg:mb-0",children:(0,a.jsx)("h1",{ref:e=>C.current[0]=e,style:{fontFamily:"Noto Serif TC, serif",fontWeight:800,fontSize:"clamp(32px, 6vw, 56px)",color:"#A3B116",lineHeight:1.1,textAlign:"center"},className:"lg:text-left",children:null===(c=k[0])||void 0===c?void 0:c.title})})},"section-0"),(0,a.jsx)("div",{className:"w-full sm:w-[95%] lg:w-[85%] mx-auto px-4 sm:px-5 pb-6 sm:pb-8 mb-6 sm:mb-10",children:(0,a.jsx)("p",{style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:"clamp(16px, 4vw, 20px)",color:"#000000",lineHeight:1.8},children:S("p1-4")})}),(0,a.jsx)("section",{className:"w-full sm:w-[95%] lg:w-[80%] mx-auto bg-white rounded-[30px] sm:rounded-[60px] lg:rounded-[160px] p-4 sm:p-6 lg:p-8 mb-6 sm:mb-10 shadow-[0_4px_5.3px_rgba(0,0,0,0.25)]",children:(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center w-full space-y-6 lg:flex-row lg:space-y-0 lg:space-x-8",children:(()=>{let e=tN(P);if(!e)return null;let{elementCounts:t,missingElements:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-wrap items-center justify-center gap-4 sm:gap-6 lg:gap-8",children:D.map(e=>(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:flex-row sm:gap-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12",children:(0,a.jsx)(u.default,{src:"/images/elements/".concat(e,".png"),alt:e,width:48,height:48,className:"object-contain w-full h-full"})}),(0,a.jsx)("span",{style:{fontFamily:"Noto Serif TC, serif",fontWeight:900,fontSize:"clamp(16px, 4vw, 20px)",color:F[e]},children:t[e]})]},e))}),(0,a.jsx)("div",{className:"w-full p-3 sm:p-4 lg:ml-15 lg:w-auto",children:(0,a.jsx)("div",{className:"text-sm text-center sm:text-base lg:text-left",style:{fontFamily:"Noto Sans HK, sans-serif",color:"#666"},children:0===s.length?(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{style:{fontFamily:"Noto Serif TC, serif",fontWeight:700,fontSize:"clamp(24px, 5vw, 34px)",color:"#A3B116"},children:"五行齊全"}),(0,a.jsx)("span",{style:{fontFamily:"Noto Serif TC, serif",fontWeight:700,fontSize:"clamp(18px, 4vw, 24px)",color:"#515151"},children:"- 沒有嚴重缺失某一元素"})]}):(0,a.jsxs)("div",{children:[s.map((e,t)=>(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{style:{fontFamily:"Noto Serif TC, serif",fontWeight:700,fontSize:"24px",color:F[e]},children:e}),t<s.length-1&&(0,a.jsx)("span",{style:{fontFamily:"Noto Serif TC, serif",fontWeight:700,fontSize:"24px",color:"#515151"},children:"、"})]},e)),(0,a.jsx)("span",{style:{fontFamily:"Noto Serif TC, serif",fontWeight:700,fontSize:"24px",color:"#515151"},children:"缺失"})]})})})]})})()})})}),(0,a.jsx)("section",{className:"w-full sm:w-[95%] lg:w-[85%] mx-auto bg-white rounded-[20px] sm:rounded-[26px] p-4 sm:p-8 lg:p-13 mb-6 sm:mb-10 shadow-[0_4px_5.3px_rgba(0,0,0,0.25)]",children:(()=>{let e=tN(P);if(!e)return null;let{wuxingData:t}=e,s=["鼠","牛","虎","兔","龍","蛇","馬","羊","猴","雞","狗","豬"][(new Date(P.birthDateTime).getFullYear()-1900)%12];return(0,a.jsxs)("div",{className:"flex flex-col items-start gap-6 lg:flex-row lg:justify-between lg:gap-0",children:[(0,a.jsx)("div",{className:"w-full lg:w-[20%] ml-10 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-20 h-20 mx-auto mb-4 sm:w-24 sm:h-24 lg:w-102 lg:h-102",children:(0,a.jsx)(u.default,{src:"/images/animals/".concat("龍"===s?"dragon":"鼠"===s?"mouse":"牛"===s?"cow":"虎"===s?"tiger":"兔"===s?"rabbit":"蛇"===s?"snake":"馬"===s?"horse":"羊"===s?"sheep":"猴"===s?"monkey":"雞"===s?"chicken":"狗"===s?"dog":"豬"===s?"pig":"mouse",".png"),alt:s,width:328,height:328,className:"object-contain"})})})}),(0,a.jsxs)("div",{className:"w-full lg:w-[70%] flex flex-col gap-4 sm:gap-6",children:[(0,a.jsx)("div",{className:"text-center lg:text-start",children:(0,a.jsx)("h3",{className:"font-bold text-[#A3B116] mb-4 sm:mb-6",style:{fontFamily:"Noto Serif TC, serif",fontSize:"clamp(36px, 8vw, 70px)"},children:"主要結論"})}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-center gap-3 mb-4 lg:justify-start sm:gap-4 sm:mb-6",children:[(0,a.jsx)("div",{className:"bg-white border-2 border-black rounded-full px-3 sm:px-6 lg:px-10 py-2 min-w-[100px] sm:min-w-[120px] lg:min-w-[140px] text-center flex-shrink-0",children:(0,a.jsxs)("div",{className:"font-bold text-[#374A37]",style:{fontFamily:"Noto Serif TC, serif",fontSize:"clamp(14px, 3vw, 18px)"},children:["年柱-",(0,a.jsx)("span",{className:"text-[#A3B116]",children:t.year})]})}),(0,a.jsx)("div",{className:"bg-white border-2 border-black rounded-full px-3 sm:px-6 lg:px-10 py-2 min-w-[100px] sm:min-w-[120px] lg:min-w-[140px] text-center flex-shrink-0",children:(0,a.jsxs)("div",{className:"font-bold text-[#374A37]",style:{fontFamily:"Noto Serif TC, serif",fontSize:"clamp(14px, 3vw, 18px)"},children:["月柱-",(0,a.jsx)("span",{className:"text-[#A3B116]",children:t.month})]})}),(0,a.jsx)("div",{className:"bg-white border-2 border-black rounded-full px-3 sm:px-6 lg:px-10 py-2 min-w-[100px] sm:min-w-[120px] lg:min-w-[140px] text-center flex-shrink-0",children:(0,a.jsxs)("div",{className:"font-bold text-[#374A37]",style:{fontFamily:"Noto Serif TC, serif",fontSize:"clamp(14px, 3vw, 18px)"},children:["日柱-",(0,a.jsx)("span",{className:"text-[#A3B116]",children:t.day})]})}),(0,a.jsx)("div",{className:"bg-white border-2 border-black rounded-full px-3 sm:px-6 lg:px-10 py-2 min-w-[100px] sm:min-w-[120px] lg:min-w-[140px] text-center flex-shrink-0",children:(0,a.jsxs)("div",{className:"font-bold text-[#374A37]",style:{fontFamily:"Noto Serif TC, serif",fontSize:"clamp(14px, 3vw, 18px)"},children:["時柱-",(0,a.jsx)("span",{className:"text-[#A3B116]",children:t.hour})]})})]}),(0,a.jsxs)("div",{className:"flex justify-start gap-8",children:[(0,a.jsx)("div",{className:"bg-[#A3B116] text-white px-15 py-4 rounded-full",children:(0,a.jsxs)("div",{className:"text-xl font-bold text-center",style:{fontFamily:"Noto Serif TC, serif"},children:["五行-",e.strengthAnalysis.strengthDesc]})}),(0,a.jsx)("div",{className:"bg-[#A3B116] text-white px-15 py-4 rounded-full",children:(0,a.jsx)("div",{className:"text-xl font-bold text-center",style:{fontFamily:"Noto Serif TC, serif"},children:(()=>{let t=e.strengthAnalysis.weakElements||[];return 0===t.length?"五行沒有缺失":1===t.length?"缺".concat(t[0]):2===t.length?"缺".concat(t.join("")):"缺".concat(t.slice(0,2).join(""),"等")})()})})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("p",{className:"text-lg text-[#5A5A5A] text-start leading-relaxed",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:(()=>{let{primaryGod:t,auxiliaryGod:s,strategy:a}=e.usefulGods||{};return t&&s?"根據您的五行配置分析，建議以「".concat(t,"」為首選用神，「").concat(s,"」為輔助用神。透過").concat({補缺:"補足所缺",扶弱:"扶助偏弱",抑強:"抑制過強",瀉強:"化解過旺"}[a]||"平衡調和","的策略，兩者協同作用可有效調節五行能量，達到陰陽平衡，提升整體運勢發展。在日常生活中，可通過相應的顏色、方位、職業選擇等方式來強化這些有利元素的影響力。"):"根據五行分析，需要進一步確認用神配置以達到最佳平衡效果。"})()})})]})]})})()}),(0,a.jsxs)("section",{className:"relative w-full sm:w-[95%] lg:w-[85%] mx-auto bg-white rounded-[20px] sm:rounded-[26px] p-4 sm:p-12 lg:p-20 mb-6 sm:mb-10 shadow-[0_4px_5.3px_rgba(0,0,0,0.25)]",children:[(0,a.jsx)("div",{className:"absolute bottom-0 right-0 overflow-hidden rounded-br-[20px] sm:rounded-br-[26px]",children:(0,a.jsx)(u.default,{src:"/images/report/pillarbg.png",alt:"Pillar Background",width:500,height:500,className:"hidden object-contain opacity-40 sm:block",style:{pointerEvents:"none"}})}),(0,a.jsx)("div",{className:"relative z-10 mb-6 sm:mb-8",children:(0,a.jsx)("h2",{className:"font-bold text-[#A3B116] text-center lg:text-left",style:{fontFamily:"Noto Serif TC, serif",fontSize:"clamp(32px, 8vw, 70px)",marginBottom:"clamp(24px, 4vw, 60px)"},children:"四柱排盤&納音解析"})}),(0,a.jsx)("div",{className:"relative z-10 mb-6 sm:mb-8",children:(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-3 sm:gap-6 lg:gap-10",children:["年柱","月柱","日柱","時柱"].map(e=>(0,a.jsx)("button",{onClick:()=>ee(e),className:"flex-shrink-0 transition-all duration-200",style:{width:"clamp(120px, 25vw, 220px)",height:"clamp(40px, 8vw, 60px)",borderRadius:26,backgroundColor:"#FFFFFF",color:"#000000",border:$===e?"7px solid #A3B116":"7px solid transparent",fontFamily:"Noto Sans HK, sans-serif",fontWeight:600,fontSize:"clamp(14px, 3vw, 18px)",cursor:"pointer",boxShadow:"0 2px 6.2px rgba(0, 0, 0, 0.4)"},children:e},e))})}),(0,a.jsxs)("div",{className:"relative z-10",children:["年柱"===$&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col items-start gap-4 mb-6 lg:flex-row lg:justify-start sm:mb-8 lg:mb-10 lg:gap-0",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-full lg:justify-start lg:w-auto",children:(0,a.jsx)("h2",{id:"section-0-1",ref:e=>C.current[1]=e,style:{fontFamily:"Noto Serif TC, serif",fontWeight:800,fontSize:"clamp(32px, 6vw, 56px)",color:"#A3B115"},children:"年柱"})}),(0,a.jsx)("div",{className:"flex flex-col w-full gap-3 ml-0 sm:flex-row sm:gap-4 sm:ml-4 lg:ml-8 sm:w-auto",children:(0,a.jsx)("div",{className:"flex flex-wrap items-center justify-center gap-2 mb-4 sm:gap-3 sm:mb-6 sm:justify-start interactive-tabs",children:Object.entries(tm.nianzhuData).map((e,t)=>{let[s,n]=e,l=t===Object.entries(tm.nianzhuData).length-1,r=(e=>{for(let t of["土","木","水","火","金"])if(e.includes(t))return t;return e.slice(-1)})(s);return(0,a.jsx)("button",{className:"transition-all duration-200 hover:border-6",style:{width:243,height:61,borderRadius:1e4,backgroundColor:l?"#FFFFFF":F[r],color:l?"#000000":"#FFFFFF",border:U===t?"6px solid #C9D923":"6px solid transparent",fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:16,cursor:"pointer",boxShadow:"0 2px 6.2px rgba(0, 0, 0, 0.4)"},onMouseEnter:e=>{U!==t&&(e.target.style.border="6px solid #C9D923")},onMouseLeave:e=>{U!==t&&(e.target.style.border="6px solid transparent")},onClick:()=>{Y(U===t?null:t)},children:s},t)})})})]}),(0,a.jsx)("div",{className:"w-[95%]",children:(0,a.jsx)("p",{style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:20,color:"#000000",lineHeight:1.8,marginBottom:6},children:S("p1-5")})}),Object.entries(tm.nianzhuData).map((e,t)=>{let[s,n]=e;return(0,a.jsxs)("div",{ref:eS(t),className:"flex mt-4 ".concat(W?"tab-content-print":""),style:W?{}:{maxHeight:500*(U===t),overflow:"hidden",transition:"max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s",opacity:+(U===t)},children:[(0,a.jsx)("div",{className:"w-1/2 pr-4",children:(0,a.jsx)("p",{style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:20,color:"#000000",lineHeight:1.8},children:n})}),(0,a.jsx)("div",{className:"flex items-center justify-center w-1/2",children:(0,a.jsx)(u.default,{className:"object-contain max-w-full max-h-full",priority:!0,src:(()=>{let e=(e=>{for(let t of["土","木","水","火","金"])if(e.includes(t))return t;return e.slice(-1)})(s);return["土","木","水","火","金"].includes(e)?"/images/report/".concat(e,".png"):"/images/report/木.png"})(),alt:s,width:420,height:320})})]},t)}),(0,a.jsx)("div",{className:"p-8",children:eM["年柱"]?(0,a.jsxs)("div",{className:"py-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#A3B116] mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg text-[#5A5A5A]",children:"正在分析您的童年生活特征..."})]}):eR["年柱"]?(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-4xl font-bold text-[#A3B116] mb-4",style:{fontFamily:"Noto Serif TC, serif"},children:eR["年柱"].title}),(0,a.jsx)("div",{className:"p-4 mb-4",children:(0,a.jsx)("p",{className:"text-lg leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:eR["年柱"].content})}),(0,a.jsx)("div",{className:"p-4 mb-4 ",children:(0,a.jsx)("p",{className:"text-lg leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:eR["年柱"].example})}),eR["年柱"].wisdom&&(0,a.jsx)("div",{className:"p-4 ",children:(0,a.jsx)("p",{className:"text-lg leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:eR["年柱"].wisdom})})]})}):(0,a.jsx)("div",{className:"py-8",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(y,{className:"w-3/4 h-6"}),(0,a.jsx)(y,{className:"w-full h-6"}),(0,a.jsx)(y,{className:"w-5/6 h-6"}),(0,a.jsx)(y,{className:"w-2/3 h-6"})]})})})]}),"月柱"===$&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-start justify-start mb-10",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h2",{id:"section-0-2",ref:e=>C.current[2]=e,style:{fontFamily:"Noto Serif TC, serif",fontWeight:800,fontSize:56,color:"#A3B115"},children:"月柱"})}),(0,a.jsx)("div",{className:"flex flex-row gap-4 ml-8",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-3 mb-6 interactive-tabs",children:Object.entries(tm.yuezhuData).map((e,t)=>{let[s,n]=e,l=t===Object.entries(tm.yuezhuData).length-1,r=(e=>{for(let t of["土","木","水","火","金"])if(e.includes(t))return t;return e.slice(-1)})(s);return(0,a.jsx)("button",{className:"transition-all duration-200 hover:border-6",style:{width:243,height:61,borderRadius:1e4,backgroundColor:l?"#FFFFFF":F[r],color:l?"#000000":"#FFFFFF",border:J===t?"6px solid #C9D923":"6px solid transparent",fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:16,cursor:"pointer",boxShadow:"0 2px 6.2px rgba(0, 0, 0, 0.4)"},onMouseEnter:e=>{J!==t&&(e.target.style.border="6px solid #C9D923")},onMouseLeave:e=>{J!==t&&(e.target.style.border="6px solid transparent")},onClick:()=>{q(J===t?null:t)},children:s},t)})})})]}),(0,a.jsx)("div",{className:"w-[95%]",children:(0,a.jsx)("p",{style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:20,color:"#000000",lineHeight:1.8,marginBottom:6},children:S("p1-6")})}),Object.entries(tm.yuezhuData).map((e,t)=>{let[s,n]=e;return(0,a.jsxs)("div",{ref:eA(t),className:"flex mt-4 ".concat(W?"tab-content-print":""),style:W?{}:{maxHeight:500*(J===t),overflow:"hidden",transition:"max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s",opacity:+(J===t)},children:[(0,a.jsx)("div",{className:"w-1/2 pr-4",children:(0,a.jsx)("p",{style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:20,color:"#000000",lineHeight:1.8},children:n})}),(0,a.jsx)("div",{className:"flex items-center justify-center w-1/2",children:(0,a.jsx)(u.default,{className:"object-contain max-w-full max-h-full",priority:!0,src:(()=>{let e=(e=>{for(let t of["土","木","水","火","金"])if(e.includes(t))return t;return e.slice(-1)})(s);return["土","木","水","火","金"].includes(e)?"/images/report/".concat(e,".png"):"/images/report/木.png"})(),alt:s,width:420,height:320})})]},t)}),(0,a.jsx)("div",{className:"p-8",children:eM["月柱"]?(0,a.jsxs)("div",{className:"py-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#A3B116] mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg text-[#5A5A5A]",children:"正在分析您的青年时期特征..."})]}):eR["月柱"]?(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-4xl font-bold text-[#A3B116] mb-4",style:{fontFamily:"Noto Serif TC, serif"},children:eR["月柱"].title}),(0,a.jsx)("div",{className:"p-4 mb-4",children:(0,a.jsx)("p",{className:"text-lg leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:eR["月柱"].content})}),(0,a.jsx)("div",{className:"p-4 mb-4",children:(0,a.jsxs)("p",{className:"text-lg leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:[(0,a.jsx)("strong",{children:"例子："})," ",eR["月柱"].example]})}),eR["月柱"].wisdom&&(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("p",{className:"text-lg leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:[(0,a.jsx)("strong",{children:"智慧洞察："}),eR["月柱"].wisdom]})})]})}):(0,a.jsx)("div",{className:"py-8",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(y,{className:"w-3/4 h-6"}),(0,a.jsx)(y,{className:"w-full h-6"}),(0,a.jsx)(y,{className:"w-5/6 h-6"}),(0,a.jsx)(y,{className:"w-2/3 h-6"})]})})})]}),"日柱"===$&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-start justify-start mb-10",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h2",{id:"section-0-3",ref:e=>C.current[3]=e,style:{fontFamily:"Noto Serif TC, serif",fontWeight:800,fontSize:56,color:"#A3B115"},children:"日柱"})}),(0,a.jsx)("div",{className:"flex flex-row gap-4 ml-8",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-3 mb-6 interactive-tabs",children:Object.entries(tm.rizhuData).map((e,t)=>{let[s,n]=e,l=t===Object.entries(tm.rizhuData).length-1,r=(e=>{for(let t of["土","木","水","火","金"])if(e.includes(t))return t;return e.slice(-1)})(s);return(0,a.jsx)("button",{className:"transition-all duration-200 hover:border-6",style:{width:243,height:61,borderRadius:1e4,backgroundColor:l?"#FFFFFF":F[r],color:l?"#000000":"#FFFFFF",border:V===t?"6px solid #C9D923":"6px solid transparent",fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:16,cursor:"pointer",boxShadow:"0 2px 6.2px rgba(0, 0, 0, 0.4)"},onMouseEnter:e=>{V!==t&&(e.target.style.border="6px solid #C9D923")},onMouseLeave:e=>{V!==t&&(e.target.style.border="6px solid transparent")},onClick:()=>{Q(V===t?null:t)},children:s},t)})})})]}),(0,a.jsx)("div",{className:"w-[95%]",children:(0,a.jsx)("p",{style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:20,color:"#000000",lineHeight:1.8,marginBottom:6},children:S("p1-7")})}),Object.entries(tm.rizhuData).map((e,t)=>{let[s,n]=e;return(0,a.jsxs)("div",{ref:eC(t),className:"flex mt-4 ".concat(W?"tab-content-print":""),style:W?{}:{maxHeight:500*(V===t),overflow:"hidden",transition:"max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s",opacity:+(V===t)},children:[(0,a.jsx)("div",{className:"w-1/2 pr-4",children:(0,a.jsx)("p",{style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:20,color:"#000000",lineHeight:1.8},children:n})}),(0,a.jsx)("div",{className:"flex items-center justify-center w-1/2",children:(0,a.jsx)(u.default,{className:"object-contain max-w-full max-h-full",priority:!0,src:(()=>{let e=(e=>{for(let t of["土","木","水","火","金"])if(e.includes(t))return t;return e.slice(-1)})(s);return["土","木","水","火","金"].includes(e)?"/images/report/".concat(e,".png"):"/images/report/木.png"})(),alt:s,width:420,height:320})})]},t)}),(0,a.jsx)("div",{className:"p-8",children:eM["日柱"]?(0,a.jsxs)("div",{className:"py-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#A3B116] mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg text-[#5A5A5A]",children:"正在分析您的成年时期特征..."})]}):eR["日柱"]?(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-4xl font-bold text-[#A3B116] mb-4",style:{fontFamily:"Noto Serif TC, serif"},children:eR["日柱"].title}),(0,a.jsx)("div",{className:"p-4 mb-4",children:(0,a.jsx)("p",{className:"text-lg leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:eR["日柱"].content})}),(0,a.jsx)("div",{className:"p-4 mb-4",children:(0,a.jsx)("p",{className:"text-lg leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:eR["日柱"].example})}),eR["日柱"].wisdom&&(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("p",{className:"text-lg leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:eR["日柱"].wisdom})})]})}):(0,a.jsx)("div",{className:"py-8",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(y,{className:"w-3/4 h-6"}),(0,a.jsx)(y,{className:"w-full h-6"}),(0,a.jsx)(y,{className:"w-5/6 h-6"}),(0,a.jsx)(y,{className:"w-2/3 h-6"})]})})})]}),"時柱"===$&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-start justify-start mb-10",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h2",{id:"section-0-4",ref:e=>C.current[4]=e,style:{fontFamily:"Noto Serif TC, serif",fontWeight:800,fontSize:56,color:"#A3B115"},children:S("shizhu")})}),(0,a.jsx)("div",{className:"flex flex-row gap-4 ml-8",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-3 mb-6 interactive-tabs",children:Object.entries(tm.shizhuData).map((e,t)=>{let[s,n]=e,l=t===Object.entries(tm.shizhuData).length-1,r=(e=>{for(let t of["土","木","水","火","金"])if(e.includes(t))return t;return e.slice(-1)})(s);return(0,a.jsx)("button",{className:"transition-all duration-200 hover:border-6",style:{width:243,height:61,borderRadius:1e4,backgroundColor:l?"#FFFFFF":F[r],color:l?"#000000":"#FFFFFF",border:X===t?"6px solid #C9D923":"6px solid transparent",fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:16,cursor:"pointer",boxShadow:"0 2px 6.2px rgba(0, 0, 0, 0.4)"},onMouseEnter:e=>{X!==t&&(e.target.style.border="6px solid #C9D923")},onMouseLeave:e=>{X!==t&&(e.target.style.border="6px solid transparent")},onClick:()=>{Z(X===t?null:t)},children:s},t)})})})]}),(0,a.jsx)("div",{className:"w-[95%]",children:(0,a.jsx)("p",{style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:20,color:"#000000",lineHeight:1.8,marginBottom:6},children:S("p1-8")})}),Object.entries(tm.shizhuData).map((e,t)=>{let[s,n]=e;return(0,a.jsxs)("div",{ref:ek(t),className:"flex mt-4 ".concat(W?"tab-content-print":""),style:W?{}:{maxHeight:500*(X===t),overflow:"hidden",transition:"max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s",opacity:+(X===t)},children:[(0,a.jsx)("div",{className:"w-1/2 pr-4",children:(0,a.jsx)("p",{style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,fontSize:20,color:"#000000",lineHeight:1.8},children:n})}),(0,a.jsx)("div",{className:"flex items-center justify-center w-1/2",children:(0,a.jsx)(u.default,{className:"object-contain max-w-full max-h-full",priority:!0,src:(()=>{let e=(e=>{for(let t of["土","木","水","火","金"])if(e.includes(t))return t;return e.slice(-1)})(s);return["土","木","水","火","金"].includes(e)?"/images/report/".concat(e,".png"):"/images/report/木.png"})(),alt:s,width:420,height:320})})]},t)}),(0,a.jsx)("div",{className:"p-8",children:eM["時柱"]?(0,a.jsxs)("div",{className:"py-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#A3B116] mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg text-[#5A5A5A]",children:"正在分析您的老年时期特征..."})]}):eR["時柱"]?(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-4xl font-bold text-[#A3B116] mb-4",style:{fontFamily:"Noto Serif TC, serif"},children:eR["時柱"].title}),(0,a.jsx)("div",{className:"p-4 mb-4",children:(0,a.jsx)("p",{className:"text-lg leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:eR["時柱"].content})}),(0,a.jsx)("div",{className:"p-4 mb-4",children:(0,a.jsx)("p",{className:"text-lg leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:eR["時柱"].example})}),eR["時柱"].wisdom&&(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("p",{className:"text-lg leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.8},children:eR["時柱"].wisdom})})]})}):(0,a.jsx)("div",{className:"py-8",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(y,{className:"w-3/4 h-6"}),(0,a.jsx)(y,{className:"w-full h-6"}),(0,a.jsx)(y,{className:"w-5/6 h-6"}),(0,a.jsx)(y,{className:"w-2/3 h-6"})]})})})]})]})]}),(()=>{var e,t,s,n,l,r,i,o,c,d,m,u,x,h,f,p,g,v,b,j,N;let w=eI||{mainConclusion:{wuxingPattern:"金火兩旺",pattern:"身強食神制殺格"},wuxingDistribution:{detailed:{wood:{count:1,strength:"★",characteristic:"孤立無根",influence:"創造力受限，難將靈感系統化落地"},fire:{count:3,strength:"★★★",characteristic:"外顯熾熱",influence:"行動力強、熱情主動，但易急躁衝動"},earth:{count:3,strength:"★★",characteristic:"鬆散無力",influence:"財運不穩，存錢實力，易衝動消費"},metal:{count:4,strength:"★★★★",characteristic:"剛硬密集",influence:"追求完美、重規則壓力，身心易疲憊"},water:{count:2,strength:"★★★",characteristic:"潛藏暗流",influence:"直覺敏銳，但思慮多，易焦慮失眠"}},conflicts:[{title:"金火對峙",description:"金（刚烈）与火（热烈）两强相争，消耗日主能量，易引发身心疲惫。",example:'想学习新技能（木），总被工作任务（金）打断，导致计划频繁中断，常怀入"忙到无成果"状态。'}]},tenGodsPattern:{selectedGod:"正印",description:"年干透出，主智慧、學業與長輩緣，但孤立無根，需主動尋求知識滋養。",characteristics:"你學東西比一般人快，尤其擅長支持、企劃類知識容易獲得威信教等你的長輩或老師（例如實習時的導師主動帶你）",challenges:"但甲木被年支申金「斬腳」（木坐金上），意味著...",coreAnalysis:{title:"核心矛盾-才華vs壓力",sections:[{title:"得vs失財",color:"red",content:"你的創意能夠為你帶來來利",example:"等你發出了一個出色的營銷方案或改功獲得大獎暑，這是你實質的才華在發揮"},{title:"劫財vs年財",color:"purple",content:"在與朋友合作時，你可能會面臨財分配的問題",example:"讓約中容間友作夥伴所各等级的利益分配能夠促進合作的順利進行，避免未來的予盾"},{title:"正印效時",color:"green",content:"調要時到，往在能夠到判帶來幫助",example:"當你為求業務訂定個等，或是待在某個況的危勞求，可能有上老師為你解答"}]}}};return(0,a.jsxs)(a.Fragment,{children:[console.log("\uD83E\uDDEA Analysis object in 化解提示:",w),console.log("\uD83E\uDDEA LifeAdvice available:",null==w?void 0:w.lifeAdvice),console.log("\uD83E\uDDEA LifeAdvice tips count:",(null==w?void 0:null===(t=w.lifeAdvice)||void 0===t?void 0:null===(e=t.tips)||void 0===e?void 0:e.length)||0),console.log("⚠️ Using AI content:",!!(null==w?void 0:null===(s=w.lifeAdvice)||void 0===s?void 0:s.tips),"vs Fallback content:",!(null==w?void 0:null===(n=w.lifeAdvice)||void 0===n?void 0:n.tips)),(0,a.jsxs)("section",{className:"w-full sm:w-[95%] lg:w-[85%] mx-auto bg-white rounded-[20px] sm:rounded-[26px] p-4 sm:p-8 lg:p-12 mb-6 sm:mb-10 shadow-[0_4px_5.3px_rgba(0,0,0,0.25)]",children:[(0,a.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,a.jsx)("h2",{className:"font-bold text-[#A3B116] text-center lg:text-left",style:{fontFamily:"Noto Serif TC, serif",fontSize:"clamp(32px, 7vw, 60px)",marginBottom:"clamp(16px, 3vw, 24px)"},children:"五行分佈深度解析"})}),(0,a.jsx)("div",{className:"p-4 mb-6 sm:p-6 lg:p-8 sm:mb-8 rounded-2xl",children:(()=>{let e=tw(P);if(!e)return(0,a.jsx)("div",{className:"py-8 text-center text-gray-500",children:"無法載入五行分析數據"});let{elementCounts:t,elementStrengthMap:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid gap-2 mb-4 text-center",style:{gridTemplateColumns:"10% 10% 15% 20% 45%"},children:[(0,a.jsx)("div",{className:"py-2 font-bold text-white rounded-lg ",style:{fontFamily:"Noto Serif TC, serif"},children:"五行"}),(0,a.jsx)("div",{className:"bg-[#A3B116] text-white py-2 rounded-lg font-bold",style:{fontFamily:"Noto Serif TC, serif"},children:"數量"}),(0,a.jsx)("div",{className:"bg-[#A3B116] text-white py-2 rounded-lg font-bold",style:{fontFamily:"Noto Serif TC, serif"},children:"強度"}),(0,a.jsx)("div",{className:"bg-[#A3B116] text-white py-2 rounded-lg font-bold",style:{fontFamily:"Noto Serif TC, serif"},children:"特性"}),(0,a.jsx)("div",{className:"bg-[#A3B116] text-white py-2 rounded-lg font-bold",style:{fontFamily:"Noto Serif TC, serif"},children:"對命主的影響"})]}),["金","木","水","火","土"].map(e=>{let n=t[e]||0,l=s[e]||"",r=l.includes("★★★★★")?5:l.includes("★★★")?3:+!!l.includes("★");return(0,a.jsxs)("div",{className:"grid items-center gap-2 mb-2 text-center",style:{gridTemplateColumns:"10% 10% 15% 20% 45%"},children:[(0,a.jsxs)("div",{className:"text-white py-3 rounded-lg flex items-center justify-center gap-3 font-bold",style:{backgroundColor:F[e]},children:[(0,a.jsx)("img",{src:"/images/elements/".concat(e,".png"),alt:e,className:"w-8 h-8",style:{filter:"brightness(0) saturate(100%) invert(1)"}}),(0,a.jsx)("span",{style:{fontFamily:"Noto Serif TC, serif"},children:e})]}),(0,a.jsx)("div",{className:"bg-[#EFEFEF] py-3 rounded-lg font-bold text-[#374A37]",style:{fontSize:"18px"},children:n.toFixed(1)}),(0,a.jsx)("div",{className:"py-3 font-bold text-yellow-600 bg-[#EFEFEF] rounded-lg",style:{fontSize:"18px"},children:l}),(0,a.jsx)("div",{className:"bg-[#EFEFEF] py-3 rounded-lg text-[#374A37] text-left px-3",style:{fontSize:"18px"},children:function(e,t){switch(e){case"水":if(1===t)return"容易沉滯";if(3===t)return"能夠靈活應對變化";if(5===t)return"能夠激發創造力和靈感";break;case"火":if(1===t)return"缺乏熱情";if(3===t)return"具備一定的熱情和活力";if(5===t)return"象徵激情和驅動力，能夠引領變革";break;case"土":if(1===t)return"缺乏支持，容易崩潰";if(3===t)return"一定的穩定性，能夠支持基本需求";if(5===t)return"堅實可靠";break;case"金":if(1===t)return"缺乏堅固性";if(3===t)return"具備一定的堅韌性和力量";if(5===t)return"剛硬密集，能夠帶來變革";break;case"木":if(1===t)return"孤立無根";if(3===t)return"能夠展現成長潛力";if(5===t)return"象徵生命力和繁榮，持續向上成長"}return""}(e,r)}),(0,a.jsx)("div",{className:"bg-[#EFEFEF] py-3 rounded-lg text-left px-3",style:{fontSize:"18px",color:"#3E5513"},children:function(e,t){switch(e){case"水":if(1===t)return"感到迷茫，難做出決策";if(3===t)return"在變化中能夠保持一定的冷靜，適度支持個人成長";if(5===t)return"自由流動的能量，促進個人發展和創新思維";break;case"火":if(1===t)return"缺乏動力和目標";if(3===t)return"能夠在挑戰中展現一定的勇氣和決心";if(5===t)return"激發強烈的創造力和行動力，驅動成就和成功";break;case"土":if(1===t)return"感到不安，缺乏安全感和根基";if(3===t)return"提供穩定的支持，能夠協助應對日常挑戰";if(5===t)return"增強自信心和安全感，促進個人繁榮和發展";break;case"金":if(1===t)return"感到缺乏方向感，容易受到外界影響";if(3===t)return"提供適度的支持，能夠協助做出合理的決策";if(5===t)return"追求完美，重規則壓力，身心易疲憊";break;case"木":if(1===t)return"創造力受阻，難將靈感系統化落地";if(3===t)return"能夠在一定程度上激發靈感，但仍需更多支持";if(5===t)return"促進創造力的發揮，能夠有效實現想法和計劃"}return""}(e,r)})]},e)})]})})()}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h3",{className:"text-4xl font-bold text-[#A3B116] mb-6",style:{fontFamily:"Noto Serif TC, serif"},children:"五行流通阻礙點"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[eO&&(0,a.jsxs)("div",{className:"col-span-3 py-12 text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#A3B116] mb-4"}),(0,a.jsx)("p",{className:"text-[#5A5A5A]",style:{fontFamily:"Noto Sans HK, sans-serif"},children:"正在進行五行流通深度分析..."})]}),!eO&&(null==eH?void 0:null===(l=eH.flowObstacles)||void 0===l?void 0:l.map((e,t)=>(0,a.jsxs)("div",{className:"p-6 bg-[#EFEFEF] border border-gray-200 shadow-lg rounded-xl",children:[(0,a.jsx)("div",{className:"inline-block px-4 py-2 mb-4 font-bold text-white rounded-full",style:{fontFamily:"Noto Serif TC, serif",backgroundColor:"#B4003C"},children:e.title}),(0,a.jsx)("p",{className:"mb-4 leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400},children:e.description}),(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)("span",{className:"text-[#A3B116] font-medium",style:{fontFamily:"Noto Sans HK, sans-serif"},children:"生活影響..."})}),(0,a.jsx)("p",{className:"text-sm leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400},children:e.lifeImpact})]},t))),!eO&&!(null==eH?void 0:eH.flowObstacles)&&(0,a.jsx)("div",{className:"col-span-3 py-8 text-center",children:(0,a.jsx)("p",{className:"text-[#5A5A5A] mb-4",style:{fontFamily:"Noto Sans HK, sans-serif"},children:"正在為您準備個人化的五行流通分析..."})})]})]})]}),(0,a.jsxs)("section",{className:"w-full sm:w-[95%] lg:w-[85%] mx-auto bg-white rounded-[20px] sm:rounded-[26px] p-4 sm:p-8 lg:p-12 mb-6 sm:mb-10 shadow-[0_4px_5.3px_rgba(0,0,0,0.25)]",children:[(0,a.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,a.jsx)("h2",{className:"font-bold text-[#A3B116] text-center lg:text-left",style:{fontFamily:"Noto Serif TC, serif",fontSize:"clamp(32px, 7vw, 70px)",marginBottom:"clamp(24px, 4vw, 60px)"},children:"十神格局與內在關聯"})}),(()=>{let e=(null==w?void 0:w.tenGodsAnalysis)||{正印:{name:"正印",meaning:"主學業、貴人、長輩緣",expression:"載入個人化分析中...",realManifestation:["正在分析您的學習天賦...","正在分析您的貴人運勢..."],warnings:{title:"正在分析潛在挑戰...",items:["個人化分析載入中...","請稍候..."]},coreConflicts:{title:"核心矛盾分析中...",conflicts:[{title:"分析中...",color:"red",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."},{title:"分析中...",color:"purple",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."},{title:"分析中...",color:"green",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."}]}},財星:{name:"財星",meaning:"主財富、物質、配偶",expression:"載入個人化分析中...",realManifestation:["正在分析您的財運特質...","正在分析您的物質天賦..."],warnings:{title:"正在分析潛在挑戰...",items:["個人化分析載入中...","請稍候..."]},coreConflicts:{title:"核心矛盾分析中...",conflicts:[{title:"分析中...",color:"red",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."},{title:"分析中...",color:"purple",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."},{title:"分析中...",color:"green",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."}]}},官殺:{name:"官殺",meaning:"主事業、權威、責任",expression:"載入個人化分析中...",realManifestation:["正在分析您的領導天賦...","正在分析您的事業運勢..."],warnings:{title:"正在分析潛在挑戰...",items:["個人化分析載入中...","請稍候..."]},coreConflicts:{title:"核心矛盾分析中...",conflicts:[{title:"分析中...",color:"red",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."},{title:"分析中...",color:"purple",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."},{title:"分析中...",color:"green",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."}]}},劫比:{name:"劫比",meaning:"主朋友、競爭、協作",expression:"載入個人化分析中...",realManifestation:["正在分析您的人際天賦...","正在分析您的合作能力..."],warnings:{title:"正在分析潛在挑戰...",items:["個人化分析載入中...","請稍候..."]},coreConflicts:{title:"核心矛盾分析中...",conflicts:[{title:"分析中...",color:"red",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."},{title:"分析中...",color:"purple",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."},{title:"分析中...",color:"green",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."}]}},食傷:{name:"食傷",meaning:"主創意、表達、子女",expression:"載入個人化分析中...",realManifestation:["正在分析您的創意天賦...","正在分析您的表達能力..."],warnings:{title:"正在分析潛在挑戰...",items:["個人化分析載入中...","請稍候..."]},coreConflicts:{title:"核心矛盾分析中...",conflicts:[{title:"分析中...",color:"red",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."},{title:"分析中...",color:"purple",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."},{title:"分析中...",color:"green",description:"正在生成個人化分析...",example:"請稍候獲取專屬洞察..."}]}}},{tenGodsElements:t}=tf(P),s=eE||"正印";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-9 mb-15",children:Object.keys(e).map(e=>(0,a.jsx)("button",{onClick:()=>eB(e),className:"text-lg font-extrabold transition-colors",style:{fontFamily:"Noto Serif TC, serif",width:"180px",height:"61px",borderRadius:"1000px",border:eE===e?"7px solid #A3B116":"none",backgroundColor:"#FFFFFF",color:"#5A5A5A",boxShadow:eE===e?"none":"0 2px 6.2px rgba(0, 0, 0, 0.4)"},children:e},e))}),Object.entries(e).map(e=>{let[n,l]=e;return s===n&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start gap-4 mb-4",children:[(0,a.jsx)("div",{className:"text-[#A3B116] pl-0 pr-4 py-2 rounded-full text-5xl font-extrabold",style:{fontFamily:"Noto Serif TC, serif"},children:n}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 py-2 text-3xl font-extrabold text-white rounded-full px-15",style:{fontFamily:"Noto Sans HK, sans-serif",backgroundColor:(()=>{switch(l.element||t[n]){case"金":return"#DAA520";case"木":return"#228B22";case"水":return"#4169E1";case"火":return"#DC143C";case"土":return"#8B4513";default:return"#6B8E23"}})()},children:[(0,a.jsx)("img",{src:"/images/elements/".concat(l.element||t[n],".png"),alt:l.element||t[n],className:"w-8 h-8",style:{filter:"brightness(0) saturate(100%) invert(1)"}}),l.element||t[n]]}),(0,a.jsxs)("div",{className:"bg-[#EFEFEF] text-[#515151] px-10 py-2 rounded-full flex items-center justify-center gap-4",style:{fontFamily:"Noto Sans HK, sans-serif"},children:[(0,a.jsx)("span",{className:"text-3xl font-extrabold",children:n}),(0,a.jsxs)("span",{className:"text-2xl",children:["-",l.meaning]})]})]}),(0,a.jsx)("h3",{className:"text-xl font-bold text-[#374A37] mb-4",style:{fontFamily:"Noto Serif TC, serif"},children:l.expression})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-4xl font-extrabold text-[#A3B116] mb-3",style:{fontFamily:"Noto Serif TC, serif"},children:"實際表現"}),l.realManifestation.map((e,t)=>(0,a.jsx)("p",{className:"mb-2 text-xl leading-relaxed text-black text-bold",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400},children:e},t))]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("p",{className:"mb-3 text-2xl leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif"},children:l.warnings.title}),l.warnings.items.map((e,t)=>(0,a.jsxs)("p",{className:"ml-4 text-xl leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400},children:["▶"," ",e]},t))]}),(0,a.jsxs)("div",{className:"p-8 bg-white ",children:[(0,a.jsx)("h3",{className:"mb-6 text-4xl font-extrabold text-start text-[#B4003C]",style:{fontFamily:"Noto Serif TC, serif"},children:l.coreConflicts.title}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:l.coreConflicts.conflicts.map((e,t)=>(0,a.jsxs)("div",{className:"bg-[#EFEFEF] p-6 shadow-md",style:{borderRadius:"20px"},children:[(0,a.jsx)("div",{className:"inline-block px-6 py-3 mb-4 font-bold text-white ",style:{fontFamily:"Noto Serif TC, serif",backgroundColor:"#B4003C",borderRadius:"100px"},children:e.title}),(0,a.jsx)("div",{className:"mb-1",children:(0,a.jsx)("p",{className:"leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif"},children:e.description})}),e.psychologicalRoots&&(0,a.jsxs)("div",{className:"p-3 mb-1",children:[(0,a.jsx)("h5",{className:"mb-2 font-medium  text-[#A3B116]",style:{fontFamily:"Noto Sans HK, sans-seri"},children:"\uD83D\uDCAD 心理根源"}),(0,a.jsx)("p",{className:"leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif"},children:e.psychologicalRoots})]}),e.developmentalStages&&(0,a.jsxs)("div",{className:"p-3 mb-1",children:[(0,a.jsx)("h5",{className:"mb-2 font-medium  text-[#A3B116]",style:{fontFamily:"Noto Sans HK, sans-seri"},children:"\uD83D\uDCC8 發展演變"}),(0,a.jsx)("p",{className:"leading-relaxed text-black ",style:{fontFamily:"Noto Sans HK, sans-serif"},children:e.developmentalStages})]}),(0,a.jsxs)("div",{className:"pt-0 mt-0",children:[(0,a.jsx)("p",{className:"text-[#A3B116] font-medium mb-2",style:{fontFamily:"Noto Sans HK, sans-serif"},children:"\uD83D\uDCA1 具體例子"}),(0,a.jsx)("p",{className:"leading-relaxed text-black ",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400},children:e.example})]})]},t))})]})]},n)})]})})()]}),(0,a.jsxs)("section",{className:"w-[80%] mx-auto  p-12 mb-10 ",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-7xl font-extrabold text-[#A3B116] mb-10",style:{fontFamily:"Noto Serif TC, serif"},children:"化解提示"}),(null==w?void 0:null===(r=w.lifeAdvice)||void 0===r?void 0:r.tips)?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{className:"mb-8 text-2xl leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400,lineHeight:1.6},children:"透過這些策略，你可以在生活和工作中更好地平衡才華與壓力，發揮自己的潛力，迎接機會的來臨。"})}):(0,a.jsxs)("div",{className:"py-12 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#A3B116] mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg text-[#5A5A5A] mb-4",children:"正在生成個人化建議..."}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"AI正在根據您的八字命理分析，為您量身定制專屬的化解提示"})]})]}),(null==w?void 0:null===(i=w.lifeAdvice)||void 0===i?void 0:i.tips)&&(0,a.jsx)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:w.lifeAdvice.tips.map((e,t)=>(0,a.jsxs)("div",{className:"p-8 bg-white border border-gray-100 shadow-lg rounded-2xl",children:[(0,a.jsx)("h3",{className:"text-4xl font-bold text-[#A3B116] mb-4",style:{fontFamily:"Noto Serif TC, serif"},children:e.title}),(0,a.jsx)("p",{className:"text-xl leading-relaxed text-black",style:{fontFamily:"Noto Sans HK, sans-serif",fontWeight:400},children:e.content}),e.example&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-[#A3B116] text-xl font-medium",style:{fontFamily:"Noto Sans HK, sans-serif"},children:"例如："}),(0,a.jsx)("p",{className:"text-xl text-[#5A5A5A] leading-relaxed mt-1",style:{fontFamily:"Noto Sans HK, sans-serif"},children:e.example})]})]},t))})]}),(0,a.jsxs)("section",{className:"w-full sm:w-[95%] lg:w-[85%] mx-auto bg-white rounded-[20px] sm:rounded-[26px] p-4 sm:p-12 lg:p-20 mb-6 sm:mb-10 shadow-[0_4px_5.3px_rgba(0,0,0,0.25)]",children:[(0,a.jsx)("h3",{className:"font-bold text-[#A3B116] flex items-center justify-center lg:justify-start text-center lg:text-left",style:{fontFamily:"Noto Serif TC, serif",fontSize:"clamp(32px, 7vw, 70px)",marginBottom:"clamp(32px, 5vw, 88px)"},children:(0,a.jsx)("span",{children:"綜合調理与人生建議"})}),e4?(0,a.jsx)("div",{className:"p-4 sm:p-6 lg:p-8 bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 sm:flex-row sm:justify-between",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-10 sm:w-10 border-b-2 border-[#8B4513]"}),(0,a.jsx)("span",{className:"text-lg sm:text-xl text-[#8B4513] text-center",children:"AI正在生成綜合人生建議..."})]})}):eZ?(0,a.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,a.jsx)("div",{className:"flex flex-col justify-center gap-4 px-0 sm:flex-row lg:justify-between sm:gap-6 lg:gap-8 sm:px-4 lg:px-25",children:[{key:"五行調和",icon:"⭐",image:"/images/report/star.png"},{key:"身心養護",icon:"❤️",image:"/images/report/heart.png"},{key:"事業方向",icon:"\uD83D\uDCBC",image:"/images/report/bag.png"}].map(e=>(0,a.jsxs)("div",{className:"flex flex-col items-center flex-1 gap-2 sm:gap-3 sm:flex-none",children:[(0,a.jsx)("button",{onClick:()=>e6(e.key),className:"w-20 h-20 sm:w-24 sm:h-24 lg:w-32 lg:h-32 rounded-full transition-all duration-300 flex items-center justify-center ".concat(e3===e.key?"bg-[#EFEFEF] shadow-lg border-2 border-black":"bg-[#EFEFEF] shadow-lg "),children:e.image&&(0,a.jsxs)("div",{className:"flex items-center justify-center w-full h-full overflow-hidden rounded-full",children:[(0,a.jsx)("img",{src:e.image,alt:e.key,className:"object-contain w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,a.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-300 rounded-full sm:w-16 sm:h-16 lg:w-20 lg:h-20",style:{display:"none",fontSize:"clamp(20px, 4vw, 32px)"},children:e.icon})]})}),(0,a.jsx)("span",{className:"font-semibold text-center ".concat(e3===e.key?"text-[#A3B116]":"text-gray-600"),style:{fontSize:"clamp(14px, 3vw, 20px)"},children:e.key})]},e.key))}),(0,a.jsx)("div",{className:"mb-6 text-center sm:mb-8",children:(0,a.jsx)("h4",{className:"font-extrabold",style:{fontFamily:"Noto Serif TC, serif",fontWeight:800,fontSize:"clamp(28px, 6vw, 38px)"},children:e3})}),"五行調和"===e3&&(0,a.jsxs)("div",{className:"px-4 sm:px-8 lg:px-30",children:[(0,a.jsx)("div",{className:"flex justify-between gap-3 p-6 mb-3",children:["補益","强化","避免"].map(e=>(0,a.jsx)("button",{onClick:()=>e8(e),className:"px-22 py-3 rounded-full text-lg font-bold transition-all duration-300 ".concat(e5===e?"bg-[#89960A] text-white shadow-lg border-2 border-black":"bg-[#89960A] text-white "),children:e},e))}),(0,a.jsxs)("div",{className:"p-6",children:["補益"===e5&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"mb-4 text-4xl font-bold text-[#89960A]",children:"補益建議"}),(0,a.jsx)("div",{className:"text-xl leading-relaxed text-black",children:(null===(c=eZ.wuxingHarmony)||void 0===c?void 0:null===(o=c.summary)||void 0===o?void 0:o.supplement)?Array.isArray(eZ.wuxingHarmony.summary.supplement)?(0,a.jsx)("ul",{className:"space-y-2",children:eZ.wuxingHarmony.summary.supplement.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"font-bold text-green-600",children:"•"}),(0,a.jsx)("span",{children:e})]},t))}):(0,a.jsx)("p",{children:eZ.wuxingHarmony.summary.supplement}):(0,a.jsx)("p",{className:"italic text-gray-500",children:"暫無補益建議"})})]}),"强化"===e5&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"mb-4 text-4xl font-bold text-green-700",children:"强化方法"}),(0,a.jsx)("div",{className:"text-xl leading-relaxed text-black",children:(null===(m=eZ.wuxingHarmony)||void 0===m?void 0:null===(d=m.summary)||void 0===d?void 0:d.strengthen)?Array.isArray(eZ.wuxingHarmony.summary.strengthen)?(0,a.jsx)("ul",{className:"space-y-3",children:eZ.wuxingHarmony.summary.strengthen.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"font-bold text-green-600",children:"•"}),(0,a.jsx)("span",{children:e})]},t))}):(0,a.jsx)("p",{children:eZ.wuxingHarmony.summary.strengthen}):(0,a.jsx)("p",{className:"italic text-gray-500",children:"暫無强化建議"})})]}),"避免"===e5&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"mb-4 text-4xl font-bold text-green-700",children:"避免事項"}),(0,a.jsx)("div",{className:"text-xl leading-relaxed text-black",children:(null===(x=eZ.wuxingHarmony)||void 0===x?void 0:null===(u=x.summary)||void 0===u?void 0:u.avoid)?Array.isArray(eZ.wuxingHarmony.summary.avoid)?(0,a.jsx)("ul",{className:"space-y-3",children:eZ.wuxingHarmony.summary.avoid.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"font-bold text-red-600",children:"•"}),(0,a.jsx)("span",{children:e})]},t))}):(0,a.jsx)("p",{children:eZ.wuxingHarmony.summary.avoid}):(0,a.jsx)("p",{className:"italic text-gray-500",children:"暫無避免事項"})})]})]}),(null===(h=eZ.wuxingHarmony)||void 0===h?void 0:h.detailed)&&(0,a.jsxs)("div",{className:"p-4 mt-6 bg-[#EFEFEF]  rounded-xl",children:[(0,a.jsx)("h5",{className:"mb-2 text-2xl font-semibold text-black",children:"詳細說明"}),(0,a.jsx)("p",{className:"text-xl leading-relaxed text-black",children:eZ.wuxingHarmony.detailed})]})]}),"身心養護"===e3&&(0,a.jsxs)("div",{className:"px-30",children:[(0,a.jsx)("div",{className:"flex justify-between gap-3 p-6 mb-3",children:["運動建議","情緒調節"].map(e=>(0,a.jsx)("button",{onClick:()=>e9(e),className:"px-22 py-3 rounded-full text-lg font-bold transition-all duration-300 ".concat(e7===e?"bg-[#B4003C] text-white shadow-lg border-2 border-black":"bg-[#B4003C] text-white "),children:e},e))}),(0,a.jsxs)("div",{className:"p-6",children:["運動建議"===e7&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"mb-4 text-4xl font-bold text-[#B4003C]",children:"運動建議"}),(0,a.jsx)("div",{className:"text-xl leading-relaxed text-black",children:(null===(f=eZ.healthWellness)||void 0===f?void 0:f.exercise)?Array.isArray(eZ.healthWellness.exercise)?(0,a.jsx)("ul",{className:"space-y-3",children:eZ.healthWellness.exercise.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"font-bold text-[#B4003C]",children:"•"}),(0,a.jsx)("span",{children:e})]},t))}):(0,a.jsx)("p",{children:eZ.healthWellness.exercise}):(0,a.jsx)("p",{className:"italic text-gray-500",children:"暫無運動建議"})})]}),"情緒調節"===e7&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"mb-4 text-4xl font-bold text-[#B4003C]",children:"情緒調節"}),(0,a.jsx)("div",{className:"text-xl leading-relaxed text-black",children:(null===(p=eZ.healthWellness)||void 0===p?void 0:p.emotion)?(0,a.jsx)("p",{children:eZ.healthWellness.emotion}):(0,a.jsx)("p",{className:"italic text-gray-500",children:"暫無情緒調節建議"})})]})]}),(null===(g=eZ.healthWellness)||void 0===g?void 0:g.detailed)&&(0,a.jsxs)("div",{className:"p-4 mt-6 bg-[#EFEFEF] rounded-xl",children:[(0,a.jsx)("h5",{className:"mb-2 text-2xl font-semibold text-black",children:"詳細說明"}),(0,a.jsx)("p",{className:"text-xl leading-relaxed text-black",children:eZ.healthWellness.detailed})]})]}),"事業方向"===e3&&(0,a.jsxs)("div",{className:"px-30",children:[(0,a.jsx)("div",{className:"flex justify-between gap-3 p-6 mb-3",children:["近期","中期","遠期"].map(e=>(0,a.jsx)("button",{onClick:()=>tt(e),className:"px-22 py-3 rounded-full text-lg font-bold transition-all duration-300 ".concat(te===e?"bg-[#007BFF] text-white shadow-lg border-2 border-black":"bg-[#007BFF] text-white "),children:e},e))}),(0,a.jsxs)("div",{className:"p-6",children:["近期"===te&&(null===(v=eZ.careerDirection)||void 0===v?void 0:v.nearTerm)&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"mb-4 text-4xl font-bold text-[#007BFF]",children:"近期事業方向"}),(0,a.jsx)("div",{className:"text-xl leading-relaxed text-black",children:"string"==typeof eZ.careerDirection.nearTerm?(0,a.jsx)("p",{className:"leading-relaxed",children:eZ.careerDirection.nearTerm}):(0,a.jsxs)("div",{className:"space-y-3",children:[eZ.careerDirection.nearTerm.ageRange&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-[#007BFF]",children:"年齡範圍："}),eZ.careerDirection.nearTerm.ageRange]}),eZ.careerDirection.nearTerm.pattern&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-[#007BFF]",children:"格局："}),eZ.careerDirection.nearTerm.pattern]}),eZ.careerDirection.nearTerm.industries&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-[#007BFF]",children:"推薦行業："}),Array.isArray(eZ.careerDirection.nearTerm.industries)?eZ.careerDirection.nearTerm.industries.join("、"):eZ.careerDirection.nearTerm.industries]}),eZ.careerDirection.nearTerm.risk&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-[#B4003C]",children:"風險預警："}),eZ.careerDirection.nearTerm.risk]})]})})]}),"中期"===te&&(null===(b=eZ.careerDirection)||void 0===b?void 0:b.midTerm)&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"mb-4 text-4xl font-bold text-[#007BFF]",children:"中期事業方向"}),(0,a.jsx)("div",{className:"text-xl leading-relaxed text-black",children:"string"==typeof eZ.careerDirection.midTerm?(0,a.jsx)("p",{className:"leading-relaxed",children:eZ.careerDirection.midTerm}):(0,a.jsxs)("div",{className:"space-y-3",children:[eZ.careerDirection.midTerm.ageRange&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-[#007BFF]",children:"年齡範圍："}),eZ.careerDirection.midTerm.ageRange]}),eZ.careerDirection.midTerm.transformation&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-[#007BFF]",children:"轉化："}),eZ.careerDirection.midTerm.transformation]}),eZ.careerDirection.midTerm.strategy&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-[#007BFF]",children:"策略："}),eZ.careerDirection.midTerm.strategy]}),eZ.careerDirection.midTerm.decision&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-[#007BFF]",children:"決策："}),eZ.careerDirection.midTerm.decision]})]})})]}),"遠期"===te&&(null===(j=eZ.careerDirection)||void 0===j?void 0:j.longTerm)&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"mb-4 text-4xl font-bold text-[#007BFF]",children:"遠期事業方向"}),(0,a.jsx)("div",{className:"text-xl leading-relaxed text-black",children:"string"==typeof eZ.careerDirection.longTerm?(0,a.jsx)("p",{className:"leading-relaxed",children:eZ.careerDirection.longTerm}):(0,a.jsxs)("div",{className:"space-y-3",children:[eZ.careerDirection.longTerm.ageRange&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-[#007BFF]",children:"年齡範圍："}),eZ.careerDirection.longTerm.ageRange]}),eZ.careerDirection.longTerm.fortune&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-[#007BFF]",children:"運勢："}),eZ.careerDirection.longTerm.fortune]}),eZ.careerDirection.longTerm.knowledge&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-[#007BFF]",children:"知識："}),eZ.careerDirection.longTerm.knowledge]}),eZ.careerDirection.longTerm.wellness&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-[#007BFF]",children:"養生："}),eZ.careerDirection.longTerm.wellness]})]})})]})]}),(null===(N=eZ.careerDirection)||void 0===N?void 0:N.detailed)&&(0,a.jsxs)("div",{className:"p-4 mt-6 bg-[#EFEFEF] rounded-xl",children:[(0,a.jsx)("h5",{className:"mb-2 text-2xl font-semibold text-black",children:"詳細說明"}),(0,a.jsx)("p",{className:"text-xl leading-relaxed text-black",children:eZ.careerDirection.detailed})]})]})]}):(0,a.jsx)("div",{className:"py-8",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(y,{className:"w-40 h-5 mb-3"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y,{className:"w-full h-4"}),(0,a.jsx)(y,{className:"w-4/5 h-4"}),(0,a.jsx)(y,{className:"w-5/6 h-4"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(y,{className:"h-5 mb-3 w-36"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y,{className:"w-full h-4"}),(0,a.jsx)(y,{className:"w-3/4 h-4"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(y,{className:"h-5 mb-3 w-44"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y,{className:"w-full h-4"}),(0,a.jsx)(y,{className:"w-2/3 h-4"}),(0,a.jsx)(y,{className:"w-4/5 h-4"})]})]})]})})]}),!1]})})()]}),(0,a.jsx)("div",{style:{display:"fortune"===et?"block":"none"},children:(0,a.jsx)(N.default,{userInfo:P,wuxingData:null==tS?void 0:tS.wuxingData,sessionId:g||v.get("sessionId"),onFortuneDataUpdate:tD})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8057,586,4935,6453,7215,8543,6874,6491,3519,6796,5005,9495,8345,9855,5226,2598,3371,8441,1684,7358],()=>t(22069)),_N_E=e.O()}]);