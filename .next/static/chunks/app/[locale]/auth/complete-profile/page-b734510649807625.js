(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[586],{3889:(e,r,t)=>{Promise.resolve().then(t.bind(t,6158))},6142:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var s=t(8081),l=t(7950),a=t.n(l),i=t(5381),n=t(2194);function o(e){let{className:r}=e,t=(0,i.c3)("Navigation");return(0,s.jsx)(a(),{href:"/",className:(0,n.cn)("font-bold text-[#066952] rounded-[20px] bg-[#A7F7D3] px-4 py-1",r),children:t("unlock")})}},6158:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(8081),l=t(2149),a=t(9651),i=t(7420);function n(){let e=(0,a.useRouter)(),[r,t]=(0,l.useState)({userId:"",email:"",provider:"",gender:"",birthYear:new Date().getFullYear()-30,birthMonth:1,birthDay:1,birthHour:12}),[n,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(""),h=e=>{let{name:r,value:s}=e.target;t(e=>({...e,[r]:r.includes("birth")&&"birthYear"!==r?parseInt(s,10):s}))},u=async t=>{t.preventDefault(),o(!0),c("");try{let t=await fetch("/api/auth/complete-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok){let e=await t.json();throw Error(e.message||"Failed to save profile")}e.push("/")}catch(e){c(e.message)}finally{o(!1)}},m=Array.from({length:100},(e,r)=>new Date().getFullYear()-r),x=Array.from({length:12},(e,r)=>r+1),b=Array.from({length:31},(e,r)=>r+1),f=Array.from({length:24},(e,r)=>r);return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(i.default,{}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center px-6 py-12 mx-auto",children:(0,s.jsxs)("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow-md",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-[#26A69A]",children:"Complete Your Profile"}),(0,s.jsx)("p",{className:"mt-2 text-gray-600",children:"Please provide your birth details and gender to complete your profile"})]}),d&&(0,s.jsx)("div",{className:"p-3 text-sm text-red-700 bg-red-100 rounded-md",children:d}),(0,s.jsxs)("form",{onSubmit:u,className:"mt-8 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700",children:"Gender"}),(0,s.jsxs)("select",{id:"gender",name:"gender",value:r.gender,onChange:h,required:!0,className:"block w-full px-3 py-2 mt-1 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#26A69A] focus:border-[#26A69A]",children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Select gender"}),(0,s.jsx)("option",{value:"male",children:"Male"}),(0,s.jsx)("option",{value:"female",children:"Female"}),(0,s.jsx)("option",{value:"other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Birth Date and Time"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-1 sm:grid-cols-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"birthYear",className:"block text-xs text-gray-500",children:"Year"}),(0,s.jsx)("select",{id:"birthYear",name:"birthYear",value:r.birthYear,onChange:h,required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#26A69A] focus:border-[#26A69A]",children:m.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"birthMonth",className:"block text-xs text-gray-500",children:"Month"}),(0,s.jsx)("select",{id:"birthMonth",name:"birthMonth",value:r.birthMonth,onChange:h,required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#26A69A] focus:border-[#26A69A]",children:x.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"birthDay",className:"block text-xs text-gray-500",children:"Day"}),(0,s.jsx)("select",{id:"birthDay",name:"birthDay",value:r.birthDay,onChange:h,required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#26A69A] focus:border-[#26A69A]",children:b.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"birthHour",className:"block text-xs text-gray-500",children:"Hour"}),(0,s.jsx)("select",{id:"birthHour",name:"birthHour",value:r.birthHour,onChange:h,required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#26A69A] focus:border-[#26A69A]",children:f.map(e=>(0,s.jsxs)("option",{value:e,children:[e,":00"]},e))})]})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:n,className:"flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-[#26A69A] border border-transparent rounded-md shadow-sm hover:bg-[#1E8A7E] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#26A69A]",children:n?"Saving...":"Complete Profile"})})]})]})})]})}},7420:(e,r,t)=>{"use strict";t.d(r,{default:()=>u});var s=t(8081),l=t(7950),a=t.n(l),i=t(9128),n=t(6371),o=t(8365),d=t(1394),c=t(5381),h=t(6142);function u(e){let{from:r}=e,t=(0,c.c3)("Navigation"),l=(0,n.A)();return(0,s.jsx)("nav",{className:"bg-[#066952] h-16",children:(0,s.jsx)("div",{className:"px-4 h-full",children:(0,s.jsxs)("div",{className:"md:max-w-[80%] mx-auto flex items-center justify-center md:justify-between h-full",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(!l||"report"!==r)&&(0,s.jsx)(a(),{href:"/",className:"text-2xl font-bold text-white",children:"HarmoniQ"}),"report"==r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Separator,{orientation:"vertical",className:"h-6 hidden md:block"}),(0,s.jsx)("span",{className:"md:text-xl font-bold text-white",children:t("yourReport")})]})]}),l?(0,s.jsx)(o.A,{className:"text-white absolute right-6 top-6"}):(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsx)(i.A,{}),"report"==r&&(0,s.jsx)(h.A,{})]})]})})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[52,361,382,670,497,954,358],()=>r(3889)),_N_E=e.O()}]);