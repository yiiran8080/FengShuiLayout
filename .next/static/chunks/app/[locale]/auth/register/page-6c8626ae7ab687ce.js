(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{59560:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>g});var a=r(95155),i=r(12115),t=r(45493),d=r(35695),l=r(6874),o=r.n(l),n=r(35226),c=r(76796),m=r(38543),u=r(17652);function g(){let e=(0,d.useRouter)(),s=(0,u.c3)("register"),r=(0,u.c3)("toast"),[l,g]=(0,i.useState)(!1),[p,f]=(0,i.useState)({name:"",email:"",password:"",confirmPassword:""}),[x,h]=(0,i.useState)({}),w=e=>{let{name:s,value:r}=e.target;f(e=>({...e,[s]:r})),x[s]&&h(e=>({...e,[s]:""}))},b=()=>{let e={};return p.name.trim()||(e.name=s("validation.nameRequired")),p.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email)||(e.email=s("validation.emailInvalid")):e.email=s("validation.emailRequired"),p.password?p.password.length<8?e.password=s("validation.passwordMinLength"):/(?=.*[a-zA-Z])(?=.*\d)/.test(p.password)||(e.password=s("validation.passwordFormat")):e.password=s("validation.passwordRequired"),p.confirmPassword?p.password!==p.confirmPassword&&(e.confirmPassword=s("validation.passwordMismatch")):e.confirmPassword=s("validation.confirmPasswordRequired"),h(e),0===Object.keys(e).length},y=async r=>{if(r.preventDefault(),b()){g(!0);try{let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p.name,email:p.email,password:p.password})}),a=await r.json();if(r.ok){m.oR.success(s("messages.registerSuccess"));let r=await (0,t.Jv)("credentials",{email:p.email,password:p.password,redirect:!1});(null==r?void 0:r.error)?(m.oR.warning(s("messages.registerSuccessLoginFailed")),e.push("/auth/login")):(m.oR.success(s("messages.registerAndLoginSuccess")),e.push("/"))}else a.message.includes("already exists")?h({email:s("validation.emailExists")}):h({general:a.message||s("messages.registerFailed")}),m.oR.error(a.message||s("messages.registerFailed"))}catch(e){console.error("Registration error:",e),h({general:s("messages.registerFailed")}),m.oR.error(s("messages.registerFailed"))}finally{g(!1)}}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(n.default,{from:"register"}),(0,a.jsx)(c.m5,{spinning:l,fullscreen:!0,tip:r("processing"),className:"bg-[#fff9]"}),(0,a.jsx)("div",{className:"flex flex-col items-center justify-center px-6 py-12 mx-auto bg-secondary md:bg-gray-50",children:(0,a.jsxs)("div",{className:"w-full h-screen p-10 space-y-8 bg-secondary md:w-100 md:shadow-lg md:h-auto",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("h1",{className:"text-5xl font-bold text-primary",children:"HarmoniQ"}),(0,a.jsx)("p",{className:"mt-16 text-[#086E56] text-sm text-center",children:s("title")})]}),(0,a.jsxs)("form",{onSubmit:y,className:"mt-8 space-y-4",children:[x.general&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-600 border border-red-200 rounded-lg bg-red-50",children:x.general}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",name:"name",placeholder:s("form.namePlaceholder"),value:p.name,onChange:w,disabled:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#086E56] focus:border-[#086E56] disabled:opacity-50",required:!0}),x.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"email",name:"email",placeholder:s("form.emailPlaceholder"),value:p.email,onChange:w,disabled:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#086E56] focus:border-[#086E56] disabled:opacity-50",required:!0}),x.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"password",name:"password",placeholder:s("form.passwordPlaceholder"),value:p.password,onChange:w,disabled:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#086E56] focus:border-[#086E56] disabled:opacity-50",required:!0}),x.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.password})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"password",name:"confirmPassword",placeholder:s("form.confirmPasswordPlaceholder"),value:p.confirmPassword,onChange:w,disabled:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#086E56] focus:border-[#086E56] disabled:opacity-50",required:!0}),x.confirmPassword&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.confirmPassword})]}),(0,a.jsx)("button",{type:"submit",disabled:l,className:"w-full px-4 py-3 font-medium text-white bg-[#086E56] transition-colors rounded-full hover:bg-[#25826D] focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50",children:l?s("form.registering"):s("form.register")}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[s("haveAccount")," ",(0,a.jsx)(o(),{href:"/auth/login",className:"text-[#086E56] hover:text-[#25826D] font-medium underline",children:s("loginNow")})]})})]}),(0,a.jsx)("div",{className:"mt-4 text-sm text-center text-gray-400",children:s("termsAgreement")})]})})]})}},84356:(e,s,r)=>{Promise.resolve().then(r.bind(r,59560))}},e=>{var s=s=>e(e.s=s);e.O(0,[6453,7215,8543,6874,6491,6796,9855,5226,8441,1684,7358],()=>s(84356)),_N_E=e.O()}]);