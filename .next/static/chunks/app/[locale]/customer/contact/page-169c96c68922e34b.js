(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4621],{5334:(e,r,t)=>{Promise.resolve().then(t.bind(t,46096)),Promise.resolve().then(t.bind(t,58245))},17652:(e,r,t)=>{"use strict";t.d(r,{c3:()=>o});var a=t(46453);function s(e,r){return(...e)=>{try{return r(...e)}catch{throw Error(void 0)}}}let o=s(0,a.c3);s(0,a.kc)},19946:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var a=t(12115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),n=e=>{let r=o(e);return r.charAt(0).toUpperCase()+r.slice(1)},l=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:i="",children:d,iconNode:m,...u}=e;return(0,a.createElement)("svg",{ref:r,...c,width:s,height:s,stroke:t,strokeWidth:n?24*Number(o)/Number(s):o,className:l("lucide",i),...u},[...m.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),d=(e,r)=>{let t=(0,a.forwardRef)((t,o)=>{let{className:c,...d}=t;return(0,a.createElement)(i,{ref:o,iconNode:r,className:l("lucide-".concat(s(n(e))),"lucide-".concat(e),c),...d})});return t.displayName=n(e),t}},46096:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});var a=t(46453),s=t(95155);function o(e){let{locale:r,...t}=e;if(!r)throw Error(void 0);return(0,s.jsx)(a.Dk,{locale:r,...t})}},58245:(e,r,t)=>{"use strict";t.d(r,{default:()=>h});var a=t(95155),s=t(12115),o=t(66474);let n=(0,t(19946).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var l=t(35695),c=t(17652),i=t(71463),d=t(91599),m=t(38543);let u={name:"姓名",email:"邮箱",category:"类别",otherCategory:"其他类别",message:"留言内容"},h=()=>{let e=(0,c.c3)("home.contact"),r=(0,c.c3)("toast"),t=Array.from([,,,,,]),h=(0,l.useRouter)(),[p,g]=(0,s.useState)({name:"",email:"",category:"",otherCategory:"",message:""}),[y,b]=(0,s.useState)(!1),[x,f]=(0,s.useState)(!1),w=async r=>{r.preventDefault();let t=Object.entries(p).map(e=>{let[r,t]=e;return"<p>".concat(u[r],": ").concat(t,"</p>")}),a={content:"<div>".concat(t.join(""),"</div>")};b(!0);try{(await (0,d.bE)("/api/sendEmail",a)).data?(m.oR.success(e("success.message"),{autoClose:3e3}),b(!1),g({name:"",email:"",category:"",otherCategory:"",message:""}),f(!0),setTimeout(()=>{h.push("/")},3e3)):(m.oR.error("发送失败"),b(!1))}catch(e){m.oR.error("发送失败: "+e.message),b(!1),console.log("submit error",e)}},j=e=>{let{name:r,value:t}=e.target;g(e=>({...e,[r]:t}))};return x?(0,a.jsx)("div",{className:"p-6 text-center bg-white shadow-sm rounded-xl sm:p-8",children:(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:e("success.title")}),(0,a.jsx)("p",{className:"mb-6 text-gray-600",children:e("success.message")}),(0,a.jsx)("button",{onClick:()=>h.push("/"),className:"px-6 py-2 text-white transition-colors rounded-lg bg-primary hover:bg-primary-dark",children:e("success.button")})]})}):(0,a.jsxs)("div",{className:"p-6 bg-white shadow-sm rounded-xl sm:p-8",children:[(0,a.jsx)(i.m5,{fullscreen:!0,spinning:y,tip:r("loading2"),className:"bg-[#fff9]"}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium font-lora text-brown",children:e("name.label")}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:p.name,onChange:j,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",placeholder:e("name.placeholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium font-lora text-brown",children:e("email.label")}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:p.email,onChange:j,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",placeholder:e("email.placeholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category",className:"block mb-2 text-sm font-medium font-lora text-brown",children:e("category.label")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("select",{id:"category",name:"category",value:p.category,onChange:j,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-lg appearance-none focus:ring-2 focus:ring-primary focus:border-primary",children:[(0,a.jsx)("option",{value:"",children:e("category.placeholder")}),t.map((r,t)=>(0,a.jsx)("option",{value:e("category.option".concat(t+1)),children:e("category.option".concat(t+1))},t))]}),(0,a.jsx)(o.A,{className:"absolute w-5 h-5 text-gray-400 -translate-y-1/2 pointer-events-none right-4 top-1/2"})]})]}),p.category===e("category.option5")&&(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"text",name:"otherCategory",value:p.otherCategory,onChange:j,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",placeholder:e("category.otherPlaceholder")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"message",className:"block mb-2 text-sm font-medium font-lora text-brown",children:e("message.label")}),(0,a.jsx)("textarea",{id:"message",name:"message",value:p.message,onChange:j,required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:e("message.placeholder")})]}),(0,a.jsxs)("button",{disabled:y,type:"submit",className:"flex items-center justify-center w-full gap-2 py-3 font-medium text-white transition-colors rounded-lg bg-primary hover:bg-primary-dark",children:[(0,a.jsx)(n,{className:"w-5 h-5"}),y?e("submitting"):e("submit")]})]})]})}},66474:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(19946).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},91599:(e,r,t)=>{"use strict";async function a(e){let{url:r,method:t,headers:a={},body:s,isCached:o}=e;try{let e=await fetch(r,{method:t.toUpperCase(),headers:{"Content-Type":"application/json",...a},body:s?JSON.stringify(s):void 0,cache:o?"force-cache":"no-store"});return await e.json()}catch(e){throw console.log("ajax error",e),Error("ajax error ",e.message)}}async function s(e,r){return await a({url:e,method:"GET",...r})}async function o(e,r){return await a({url:e,method:"POST",body:r})}async function n(e,r){return await a({url:e,method:"PATCH",body:r})}t.d(r,{F6:()=>n,Jt:()=>s,bE:()=>o})}},e=>{var r=r=>e(e.s=r);e.O(0,[6453,5849,1463,8441,1684,7358],()=>r(5334)),_N_E=e.O()}]);