(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8450],{27055:(e,t,a)=>{"use strict";a.d(t,{UserProvider:()=>l});var r=a(95155),n=a(12115),o=a(45493),s=a(91599);let i=(0,n.createContext)();function l(e){var t;let{children:a}=e,{data:l,status:c}=(0,o.wV)(),[u,d]=(0,n.useState)(null),[g,h]=(0,n.useState)(!0),[v,w]=(0,n.useState)(Date.now()),f=async()=>{var e;if("loading"!==c){if(!(null==l?void 0:null===(e=l.user)||void 0===e?void 0:e.userId)){h(!1),d(null);return}try{h(!0);let e=await (0,s.Jt)("/api/users/".concat(l.user.userId));0===e.status&&e.data?(d(e.data),w(Date.now())):d(null)}catch(e){d(null)}finally{h(!1)}}};(0,n.useEffect)(()=>{f()},[null==l?void 0:null===(t=l.user)||void 0===t?void 0:t.userId,c]);let m=async()=>{await f()};return(0,r.jsx)(i.Provider,{value:{userInfo:u,setUserInfo:e=>{d(e),w(Date.now())},refreshUserInfo:m,loading:g||"loading"===c,lastUpdateTime:v},children:a})}},39016:(e,t,a)=>{Promise.resolve().then(a.bind(a,46096)),Promise.resolve().then(a.bind(a,38543)),Promise.resolve().then(a.t.bind(a,85716,23)),Promise.resolve().then(a.bind(a,46583)),Promise.resolve().then(a.bind(a,57641)),Promise.resolve().then(a.bind(a,62233)),Promise.resolve().then(a.bind(a,69303)),Promise.resolve().then(a.bind(a,27055))},46096:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var r=a(46453),n=a(95155);function o(e){let{locale:t,...a}=e;if(!t)throw Error(void 0);return(0,n.jsx)(r.Dk,{locale:t,...a})}},46583:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var r=a(95155),n=a(45493);function o(e){let{children:t}=e;return(0,r.jsx)(n.CP,{children:t})}},57641:(e,t,a)=>{"use strict";a.d(t,{default:()=>c,event:()=>l});var r=a(95155),n=a(12115),o=a(35695);let s=a(49509).env.NEXT_PUBLIC_GA_ID,i=e=>{window.gtag&&window.gtag("config",s,{page_path:e})},l=e=>{let{action:t,category:a,label:r,value:n}=e;window.gtag&&window.gtag("event",t,{event_category:a,event_label:r,value:n})};function c(){let e=(0,o.usePathname)(),t=(0,o.useSearchParams)();return((0,n.useEffect)(()=>{s&&i(e+t.toString())},[e,t]),s)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("script",{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=".concat(s)}),(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n            gtag('config', '".concat(s,"', {\n              page_path: window.location.pathname,\n            });\n          ")}})]}):null}},62233:(e,t,a)=>{"use strict";a.d(t,{default:()=>s});var r=a(12115),n=a(35695);let o={"/zh-TW":"Home Page","/zh-TW/free":"Free Analysis Page","/zh-TW/freereport":"Free Report Page","/zh-TW/design":"Design Page","/zh-TW/report":"Report Page","/zh-TW/success":"Success Page","/zh-TW/price":"Pricing Page","/zh-CN":"Home Page (CN)","/zh-CN/free":"Free Analysis Page (CN)","/zh-CN/freereport":"Free Report Page (CN)","/zh-CN/design":"Design Page (CN)","/zh-CN/report":"Report Page (CN)","/zh-CN/success":"Success Page (CN)","/zh-CN/price":"Pricing Page (CN)"};function s(){let e=(0,n.usePathname)();return(0,r.useEffect)(()=>{let t=()=>{if(window.gtag){let t=o[e]||"Page: ".concat(e);return window.gtag("event","page_view",{page_title:t,page_location:window.location.href,page_path:e,custom_page_name:t,send_to:"G-FSF2H5X9S4",page_referrer:document.referrer||"(direct)"}),console.log("Page tracked: ".concat(t," at ").concat(e)),!0}return!1},a=0,r=()=>{!t()&&!(a>=50)&&(a++,setTimeout(r,100))};r()},[e]),null}},69303:(e,t,a)=>{"use strict";a.d(t,{ImageProvider:()=>s,l:()=>i});var r=a(95155),n=a(12115);let o=(0,n.createContext)();function s(e){let{children:t}=e,[a,s]=(0,n.useState)(null),[i,l]=(0,n.useState)(null);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("savedImagePreview");e&&s(e)}catch(e){}},[]);let c=e=>{s(e);try{e?localStorage.setItem("savedImagePreview",e):localStorage.removeItem("savedImagePreview")}catch(e){}};return(0,r.jsx)(o.Provider,{value:{preview:a,setPreview:c,file:i,setFile:e=>{if(l(e),e){let t=new FileReader;t.onload=e=>{c(e.target.result)},t.readAsDataURL(e)}else c(null)},clearImages:()=>{s(null),l(null);try{localStorage.removeItem("savedImagePreview")}catch(e){}}},children:t})}function i(){let e=(0,n.useContext)(o);if(!e)throw Error("useImage must be used within an ImageProvider");return e}},85716:()=>{},91599:(e,t,a)=>{"use strict";async function r(e){let{url:t,method:a,headers:r={},body:n,isCached:o}=e;try{let e=await fetch(t,{method:a.toUpperCase(),headers:{"Content-Type":"application/json",...r},body:n?JSON.stringify(n):void 0,cache:o?"force-cache":"no-store"});return await e.json()}catch(e){throw Error("ajax error ",e.message)}}async function n(e,t){return await r({url:e,method:"GET",...t})}async function o(e,t){return await r({url:e,method:"POST",body:t})}async function s(e,t){return await r({url:e,method:"PATCH",body:t})}a.d(t,{F6:()=>s,Jt:()=>n,bE:()=>o})}},e=>{var t=t=>e(e.s=t);e.O(0,[4797,6453,7215,8543,8441,1684,7358],()=>t(39016)),_N_E=e.O()}]);