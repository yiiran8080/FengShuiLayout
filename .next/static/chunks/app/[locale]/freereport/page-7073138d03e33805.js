(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6526],{9731:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var s=l(12115),i=l(91599),a=l(40054),o=l.n(a),r=l(60470);function n(e,t){let l=(0,s.useRef)(!0),[a,n]=(0,s.useState)(!0),[d,c]=(0,s.useState)(null),[x,m]=(0,s.useState)({});(0,s.useEffect)(()=>{console.log("renderRef.current",l.current),(async()=>{let l=null==t?void 0:t.userId;if(l&&e){let s=t.birthDateTime;console.log("查询用户已有报告"),n(!0);let{status:a,data:o}=await (0,i.Jt)("/api/reportUserDoc/".concat(l,"/").concat("zh-CN"==e?"zh":"tw"));if(0==a&&o){if(console.log("已有报告"),"done"==t.genStatus&&(!o.mingLiData||!o.liuNianData||!o.jiajuProData)){let{status:t,data:s}=await (0,i.Jt)("/api/reportUserDoc/".concat(l,"/").concat("zh-CN"==e?"tw":"zh"));0==t&&s&&m(s)}c(o)}else{console.log("生成随机报告");let{data:t}=await (0,i.Jt)("/api/reportDoc/zh",{isCached:!0}),{data:a}=await (0,i.Jt)("/api/reportDoc/tw",{isCached:!0});if(t&&a){let{nayin:o,year:n,month:d,day:x,hour:m}=(0,r.Ay)(s),p=Math.floor(3*Math.random()),h=Math.floor(3*Math.random()),f={nianzhuData:t.nianzhuData[n][p],yuezhuData:t.yuezhuData[d][p],rizhuData:t.rizhuData[x][p],shizhuData:t.shizhuData[m][p],yunchengData:t.yunchengData[o][p],jiajuData:u(t.jiajuData,h)},g={nianzhuData:a.nianzhuData[n][p],yuezhuData:a.yuezhuData[d][p],rizhuData:a.rizhuData[x][p],shizhuData:a.shizhuData[m][p],yunchengData:a.yunchengData[o][p],jiajuData:u(a.jiajuData,h)};c("zh-CN"==e?f:g),(0,i.bE)("/api/reportUserDoc/".concat(l,"/zh"),f),(0,i.bE)("/api/reportUserDoc/".concat(l,"/tw"),g)}}n(!1)}})()},[e,t]);let u=(e,t)=>{if(e){let l=o().cloneDeep(e);for(let e in l){let s=l[e];for(let e in s)s[e]=s[e][t]}return l}};return{loading:a,reportDocData:d,assistantData:x}}},57232:(e,t,l)=>{Promise.resolve().then(l.bind(l,89369))},76142:(e,t,l)=>{"use strict";l.d(t,{A:()=>m});var s=l(95155);l(40054);var i=l(12115),a=l(45493),o=l(91599),r=l(48842),n=l(87712),d=l(84616),c=l(66766),x=l(17652);function m(e){var t;let{activeRoom:l,setActiveRoom:m,onChangeDesignData:u,onChangeRoomList:p}=e,h=(0,x.c3)("report"),[f,g]=(0,i.useState)({}),[b,v]=(0,i.useState)({width:0,height:0}),[w,j]=(0,i.useState)(100),[y,N]=(0,i.useState)(0),[z,C]=(0,i.useState)([]),[k,D]=(0,i.useState)(!1),{data:_}=(0,a.wV)();if((0,i.useEffect)(()=>{var e;let t=null==_?void 0:null===(e=_.user)||void 0===e?void 0:e.userId;t&&(async()=>{let{data:e}=await (0,o.Jt)("/api/design/".concat(t));j(e.scale),N(e.compassRotation);let l=e.localItems;if(!l||0===l.length)return;let s=l.filter(e=>"room"===e._type);C(s),m(s[0]);let i=l[0].position.x,a=l[0].position.y,r=l[0].position.x+l[0].size.width,n=l[0].position.y+l[0].size.height;l.forEach(e=>{e.position.x<i&&(i=e.position.x),e.position.y<a&&(a=e.position.y),e.position.x+e.size.width>r&&(r=e.position.x+e.size.width),e.position.y+e.size.height>n&&(n=e.position.y+e.size.height)});let d=l.map(e=>({...e,position:{x:e.position.x-i+100,y:e.position.y-a+100}})),c={...e,localItems:d};g(c),u&&u(c),p&&p(s),v({width:r-i+200,height:n-a+200})})()},[null==_?void 0:null===(t=_.user)||void 0===t?void 0:t.userId]),!f.localItems)return"";function S(e){let t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("in"===e&&w<120)t=w+l;else if("out"===e&&w>50)t=w-l;else{if("reset"!==e)return;t=100}j(t)}let F=e=>{m(e)},E=e=>{m(e)};return(0,s.jsxs)("div",{className:"relative canvasImage",children:[(0,s.jsx)("div",{className:"relative border-1 border-[#E6E6E6] rounded-t-3xl py-[2px] mt-8 overflow-scroll",children:(0,s.jsx)("div",{onClick:()=>D(!1),className:"relative flex justify-center w-full h-135",style:{minWidth:b.width},children:(0,s.jsx)("div",{id:"roomCanvas",className:"absolute cursor-not-allowed",style:{width:"".concat(b.width,"px"),height:"".concat(b.height,"px"),transform:"scale(".concat(w/100,")"),transformOrigin:"top left"},children:(0,s.jsx)("div",{className:"relative",children:f.localItems.map(e=>e._type===r.w$.ROOM?(0,s.jsx)("div",{"data-room-element":"true",className:"absolute ".concat((null==l?void 0:l.id)===e.id?"ring-2 ring-red-500":""," cursor-move z-100"),style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height},onClick:t=>{t.stopPropagation(),E(e)},children:(0,s.jsx)("div",{className:"w-full h-full",style:{border:e._type===r.w$.ROOM?"8px solid":"none",borderColor:e._type===r.w$.ROOM?r.$q[e.data._type]:"transparent",borderRadius:"8px",backgroundColor:r.$q[e.data._type]+"80"},children:(0,s.jsx)("div",{className:"absolute top-2 left-2 text-[14px] text-[#888888]",style:{zIndex:1},children:e.data.label})})},e.id):e._type===r.w$.FURNITURE?(0,s.jsx)("div",{"data-room-element":"true",className:"absolute cursor-move z-200",style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height},children:(0,s.jsx)(c.default,{draggable:"false",className:(null==l?void 0:l.id)===e.id?"ring-2 ring-red-500":"",style:{transform:e.rotation?"rotate(".concat(e.rotation,"deg)"):"none",transformOrigin:"center"},src:e.activeIcon,alt:"Furniture",width:e.size.width,height:e.size.height})},e.id):void 0)})})})}),(0,s.jsxs)("div",{style:{transform:"rotate(".concat(y,"deg)"),transition:"transform 0.3s ease-out"},className:"absolute flex flex-col items-center top-5 right-5",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"N"}),(0,s.jsx)(c.default,{src:"/images/compass.png",alt:"方向",width:40,height:40})]}),(0,s.jsxs)("div",{className:"absolute flex items-center gap-2 px-3 py-2 bg-white rounded-full shadow-lg top-120 right-5",children:[(0,s.jsx)("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-100",onClick:e=>S("out"),disabled:w<=50,children:(0,s.jsx)(n.A,{className:"w-4 h-4"})}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-600 min-w-[48px] text-center",children:[w,"%"]}),(0,s.jsx)("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-100",onClick:e=>S("in"),disabled:w>=120,children:(0,s.jsx)(d.A,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{onClick:()=>D(!0),className:"absolute z-20 flex items-center justify-center w-10 h-10 text-xs rounded-full shadow-lg cursor-pointer top-120 left-5",children:[k&&(0,s.jsx)("div",{className:"absolute left-0 w-20 px-4 py-4 overflow-y-auto text-sm bg-white rounded-lg shadow-lg bottom-10 report-menu max-h-110",children:z.map((e,t)=>(0,s.jsx)("div",{className:"text-sm mb-4 cursor-pointer ".concat((null==l?void 0:l.id)===e.id?"text-[#20B580]":""),onClick:()=>F(e),children:e.data.label},t))}),(0,s.jsx)("span",{children:h("catelog")})]})]})}},89369:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>j});var s=l(95155),i=l(12115),a=l(35695);l(91247);var o=l(34477);let r=(0,o.createServerReference)("00dfb535fbad3f830ee2265286f3e54c04c6e3d2f4",o.callServer,void 0,o.findSourceMapURL,"getReportDocData");l(40054);var n=l(66766),d=l(17652),c=l(60388);l(25446),l(76142);var x=l(32502);x.t1.register(x.Bs,x.m_,x.s$);var m=l(69303);function u(e){let{roomType:t,direction:l,data:a}=e,o=(0,d.c3)("freeChapter3"),[r,x]=(0,i.useState)(null),[u,p]=(0,i.useState)(null),[h,f]=(0,i.useState)("base"),[g,b]=(0,i.useState)(0),{preview:v}=(0,m.l)(),w=[{label:o("tabs.base"),key:"base"},{label:o("tabs.furniture"),key:"furniture"},{label:o("tabs.taboo"),key:"taboo"},{label:o("tabs.wuxing"),key:"wuxing"}],j=[{title:o("risks.career"),content:o("careerContent"),titleColor:"text-blue-600",contentColor:"text-blue-700",bgColor:"bg-blue-50"},{title:o("risks.relationship"),content:o("relationshipContent"),titleColor:"text-red-600",contentColor:"text-red-700",bgColor:"bg-red-50"},{title:o("risks.wealth"),content:o("wealthContent"),titleColor:"text-yellow-600",contentColor:"text-yellow-700",bgColor:"bg-yellow-50"}];return((0,i.useEffect)(()=>{if(!a)return;let e=a.zhData||a.twData;x(null==e?void 0:e.jiajuData)},[a]),(0,i.useEffect)(()=>{if(r&&r[t]&&r[t][l]){let e=Object.entries(r[t][l]);if(e.length>0){let t=Math.floor(Math.random()*e.length);p(e[t])}}},[r,t,l]),r&&r[t]&&r[t][l])?u?(0,s.jsx)("div",{className:"flex items-start justify-center w-full min-h-screen px-2 mx-auto sm:px-4 lg:px-0",style:{fontFamily:'"Noto Serif TC", serif'},children:(0,s.jsx)("div",{className:"w-full max-w-full p-2 mt-4 sm:p-4 sm:mt-6 lg:p-8 lg:mt-10 rounded-xl",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex flex-row items-start justify-center mb-3 sm:mb-4 lg:mb-6 pt-0 px-1 sm:px-2 lg:px-3.5 text-[#25826c] pb-4 sm:pb-6 lg:pb-[40px] box-border",children:(0,s.jsx)("h1",{className:"relative h-auto m-0 text-xl font-bold leading-tight text-center sm:text-2xl lg:text-4xl",children:o("title")})}),(0,s.jsxs)("div",{className:"flex-1 rounded-2xl sm:mb-8 lg:mb-13 bg-[#f5faf7] flex flex-col items-start justify-start pt-4 sm:pt-6 lg:pt-[40px] px-3 sm:px-4 lg:px-[30px] pb-4 sm:pb-6 lg:pb-[37px] box-border gap-3 sm:gap-4 lg:gap-8 z-[1] shadow-[0_8px_32px_rgba(0,0,0,0.15)]",children:[(0,s.jsx)("div",{className:"flex flex-col items-center w-full gap-2 mx-auto",children:v&&(0,s.jsx)("img",{src:v,alt:o("uploadedImage"),className:"object-cover w-full h-auto max-w-full mb-2 rounded-lg",style:{aspectRatio:"4/3"}})}),(0,s.jsxs)("div",{className:"flex flex-row items-start justify-start h-auto gap-2 text-base sm:text-lg lg:text-xl",children:[(0,s.jsx)(n.default,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 relative overflow-hidden shrink-0 z-[2] bg-transparent",loading:"lazy",width:100,height:100,sizes:"100vw",alt:"",src:"/images/room-icon/bedroom.png"}),(0,s.jsx)("h3",{className:"m-0 relative top-0.5 leading-6 sm:leading-8 font-[400] font-[inherit] z-[2] text-sm sm:text-base lg:text-xl",children:o("roomAnalysis")})]}),(0,s.jsx)("div",{className:"flex flex-col items-start justify-start w-full max-w-full gap-2 px-0 pt-0 pb-2",children:(0,s.jsx)("div",{className:"flex flex-row items-start justify-between w-full gap-1 overflow-x-auto border-b sm:gap-2 lg:gap-5",children:w.map(e=>(0,s.jsx)("button",{className:"relative leading-4 z-[2] px-1 sm:px-2 py-1 focus:outline-none whitespace-nowrap text-xs sm:text-sm lg:text-base ".concat(h===e.key?"border-b-2 border-blue-500 font-bold text-blue-600":"text-gray-500"),onClick:()=>f(e.key),style:{minWidth:"wuxing"===e.key?"auto":"3rem"},children:e.label},e.key))})}),(0,s.jsxs)("div",{className:"w-full",children:["base"===h&&(0,s.jsx)("div",{children:u&&("object"==typeof u[1]&&null!==u[1]?Object.entries(u[1]).map(e=>{let[t,l]=e;return(0,s.jsxs)("p",{className:"flex flex-col mb-2 text-sm leading-6 sm:flex-row sm:leading-8 sm:text-base",children:[(0,s.jsxs)("span",{className:"font-bold whitespace-nowrap min-w-0 sm:min-w-22.5 mb-1 sm:mb-0",children:[t,"："]}),(0,s.jsx)("span",{className:"whitespace-pre-wrap",children:String(l)})]},u[0]+"-"+t)}):(0,s.jsxs)("p",{className:"flex flex-col text-sm leading-6 sm:flex-row sm:leading-8 sm:text-base",children:[(0,s.jsxs)("span",{className:"font-bold whitespace-nowrap min-w-0 sm:min-w-22.5 mb-1 sm:mb-0",children:[u[0],"："]}),(0,s.jsx)("span",{className:"whitespace-pre-wrap",children:String(u[1])})]},u[0]))}),["furniture","taboo","wuxing"].includes(h)&&(0,s.jsx)("div",{className:"relative w-full",children:(0,s.jsxs)("div",{className:"bg-[#e6f3fa] rounded-2xl p-4 sm:p-6 min-h-[150px] sm:min-h-[180px] overflow-hidden",children:[(0,s.jsxs)("div",{className:"space-y-2 text-sm leading-relaxed sm:text-base",children:[(0,s.jsx)("p",{children:o("enhancementFocus")}),(0,s.jsx)("p",{children:o("suggestion1")}),(0,s.jsx)("p",{children:o("suggestion2")})]}),(0,s.jsx)("div",{className:"absolute top-0 left-0 z-10 flex items-center justify-center w-full h-full rounded-2xl bg-[#f5faf7]/80 backdrop-blur-xs",children:(0,s.jsx)(c.N_,{href:"/price",children:(0,s.jsx)("button",{className:"pointer-events-auto px-4 sm:px-6 py-2 rounded-full bg-[rgba(49,129,97)] text-white font-bold text-sm sm:text-lg shadow-[0_8px_16px_rgba(0,0,0,0.25)] hover:shadow-[0_12px_24px_rgba(0,0,0,0.3)] transition-shadow duration-300",children:o("unlockButton")})})})]})})]})]}),(0,s.jsxs)("section",{className:"self-stretch flex flex-col items-center justify-center gap-2 sm:gap-3 mb-4 sm:mb-5 text-left text-lg sm:text-2xl lg:text-[40px] text-[#25826c] font-[ABeeZee]",children:[(0,s.jsx)("div",{className:"self-stretch flex flex-row items-center justify-start pl-0.5 box-border max-w-full mt-8 sm:mt-4 lg:mt-0",children:(0,s.jsxs)("div",{className:"flex flex-row items-center justify-center flex-1 gap-2",children:[(0,s.jsx)("div",{className:"flex flex-row items-start justify-start",children:(0,s.jsx)(n.default,{className:"relative object-cover w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12",loading:"lazy",width:50,height:50,alt:"",src:"/images/image-206@2x.jpeg"})}),(0,s.jsx)("h2",{className:"m-0 justify-center font-semibold leading-6 sm:leading-8 font-[400] z-[1] text-sm sm:text-lg lg:text-[32px] lg:leading-[26px]",style:{fontFamily:'"Noto Serif TC", serif'},children:o("riskDetected")})]})}),(0,s.jsx)("div",{className:"w-full rounded-2xl mb-3 sm:mb-5 flex flex-col items-center justify-center pt-0 sm:pt-[31px] lg:pt-[41px] px-0 pb-3 sm:pb-5 box-border relative gap-2 sm:gap-4 lg:gap-[26px] max-w-full z-[2] text-xs sm:text-sm text-[#0a58a6] font-Font-Family",children:(0,s.jsx)("div",{className:"relative w-full max-w-sm sm:max-w-2xl md:max-w-4xl lg:max-w-6xl xl:max-w-7xl 2xl:max-w-full",children:(0,s.jsxs)("div",{className:"relative px-2 overflow-hidden rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>{b(e=>(e-1+j.length)%j.length)},className:"absolute left-0 sm:left-0 lg:left-2 z-20 p-1.5 sm:p-2 transition-all duration-200 transform -translate-y-1/2 rounded-full shadow-[0_8px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_12px_10px_rgba(0,0,0,0.35)] top-1/2 bg-white/90 hover:bg-white hover:scale-110",disabled:0===g,children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-600 sm:w-5 sm:h-5 lg:w-6 lg:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsx)("button",{onClick:()=>{b(e=>(e+1)%j.length)},className:"absolute right-0 sm:right-0 lg:right-2 z-20 p-1.5 sm:p-2 transition-all duration-200 transform -translate-y-1/2 rounded-full shadow-[0_8px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_12px_10px_rgba(0,0,0,0.35)] top-1/2 bg-white/90 hover:bg-white hover:scale-110",disabled:g===j.length-1,children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-600 sm:w-5 sm:h-5 lg:w-6 lg:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,s.jsx)("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:"translateX(-".concat(100*g,"%)")},children:j.map((e,t)=>(0,s.jsx)("div",{className:"flex justify-center flex-shrink-0 w-full px-3 py-2 sm:px-6 lg:px-12 sm:py-4",children:(0,s.jsxs)("div",{className:"p-3 sm:p-4 lg:p-6 rounded-lg ".concat(e.bgColor," relative shadow-[0_6px_20px_rgba(0,0,0,0.12)] hover:shadow-[0_8px_25px_rgba(0,0,0,0.18)] transition-shadow duration-300 max-w-full sm:max-w-xl lg:max-w-2xl w-full"),style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,s.jsxs)("div",{className:"mb-2 sm:mb-3 lg:mb-4 text-base sm:text-lg lg:text-xl font-bold ".concat(e.titleColor),style:{fontFamily:'"Noto Serif TC", serif'},children:[e.title,":"]}),(0,s.jsx)("div",{className:"text-sm sm:text-base lg:text-lg leading-relaxed ".concat(e.contentColor," ").concat(e.title===o("risks.relationship")||e.title===o("risks.wealth")?"blur-sm":""),style:{fontFamily:'"Noto Serif TC", serif'},children:e.content}),(e.title===o("risks.relationship")||e.title===o("risks.wealth"))&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/10",children:(0,s.jsx)(c.N_,{href:"/price",children:(0,s.jsx)("button",{className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-bold text-white transition-shadow duration-300 rounded-full bg-[rgba(49,129,97)] hover:shadow-xl",style:{boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},children:o("unlockDetail")})})})]})},t))})]})})})]})]})})}):null:(0,s.jsx)("div",{children:o("noData")})}x.t1.register(x.Bs,x.m_,x.s$);var p=l(40003),h=l(8900),f=l(9731),g=l(45493),b=l(91599);function v(){let e=(0,d.c3)("promo");return(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between rounded-[15px] sm:rounded-[20px] mx-2 sm:mx-6 lg:mx-10 bg-[#f5faf7] pt-4 pb-6 px-4 sm:pt-6 sm:pb-8 sm:px-6 md:pt-8 md:pb-10 md:px-8 lg:pt-10 lg:pb-[72px] lg:pl-[84px] lg:pr-[93px] gap-4 sm:gap-6 md:gap-8 lg:gap-24",style:{boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)",fontFamily:'"Noto Serif TC", serif'},children:[(0,s.jsx)("section",{className:"flex flex-col items-start justify-start flex-1 max-w-full text-left text-Neutral-07-100",children:(0,s.jsxs)("div",{className:"flex flex-col items-start justify-start w-full gap-4 sm:gap-6 md:gap-8 lg:gap-11",children:[(0,s.jsx)("div",{className:"w-full flex flex-col items-start justify-start gap-3 sm:gap-4 md:gap-5 lg:gap-[21px]",children:(0,s.jsxs)("div",{className:"w-full flex flex-col items-start justify-start gap-2 sm:gap-3 md:gap-4 lg:gap-[27px]",children:[(0,s.jsx)("p",{className:"m-0 relative tracking-[-0.2px] sm:tracking-[-0.3px] md:tracking-[-0.4px] leading-6 sm:leading-7 md:leading-8 lg:leading-[44px] font-[500] inline-block text-lg sm:text-xl md:text-2xl lg:text-[32px]",style:{fontFamily:'"Noto Serif TC", serif'},children:e("title")}),(0,s.jsx)("h3",{className:"m-0 relative text-sm sm:text-base md:text-lg lg:text-xl leading-5 sm:leading-6 md:leading-7 lg:leading-8 font-[400] inline-block",style:{fontFamily:'"Noto Serif TC", serif'},children:e("description")})]})}),(0,s.jsx)(c.N_,{href:"/price",className:"w-full max-w-[200px] sm:max-w-[220px] md:max-w-[247px]",children:(0,s.jsxs)("button",{className:"cursor-pointer border-none p-0 bg-transparent w-full h-[40px] sm:h-[44px] md:h-[48px] lg:h-[60px] flex flex-row items-start justify-start relative hover:scale-105 transition-transform duration-300",style:{filter:"drop-shadow(0 4px 15px rgba(0, 0, 0, 0.3))",fontFamily:'"Noto Serif TC", serif'},children:[(0,s.jsx)("div",{className:"h-[35px] sm:h-[38px] md:h-[40px] lg:h-[55px] w-full absolute right-0 bottom-[-6px] sm:bottom-[-7px] md:bottom-[-8px] left-0 filter blur-[8px] sm:blur-[9px] md:blur-[10px] rounded-[50px] bg-[rgba(49,129,97,0.4)]"}),(0,s.jsx)("div",{className:"rounded-[15px] sm:rounded-[18px] md:rounded-[20px] bg-gradient-to-r from-[#318161] to-[#318177] flex flex-row items-center justify-center py-2 sm:py-3 md:py-3 lg:py-4 px-4 sm:px-5 md:px-6 lg:px-[42px] z-[1] w-full hover:from-[#2a6e56] hover:to-[#2a6e62] transition-colors duration-300",children:(0,s.jsx)("div",{className:"relative text-sm sm:text-base md:text-lg lg:text-2xl font-[500] text-[#fff] text-center",style:{fontFamily:'"Noto Serif TC", serif'},children:e("button")})})]})})]})}),(0,s.jsx)("div",{className:"w-full max-w-[280px] sm:max-w-[320px] md:max-w-xs lg:max-w-[348px] flex-shrink-0 mt-4 sm:mt-6 md:mt-8 lg:mt-0 hidden md:block",children:(0,s.jsx)(n.default,{className:"object-cover w-full h-auto max-w-full rounded-lg",style:{height:"auto",width:"100%",maxWidth:348},loading:"lazy",width:348,height:177,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 348px",alt:"",src:"/images/report/fengshui05-1@2x.png"})})]})}function w(e){var t,l,a;let{locale:o}=e,[r,x]=(0,i.useState)(null),m=(0,d.c3)("report"),[u,p]=(0,i.useState)(!0),[h,w]=(0,i.useState)([]),[j,y]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=[{title:m("title1"),children:[{title:"年柱"},{title:"月柱"},{title:"日柱"},{title:m("shizhu")}]},{title:m("title2"),children:[{title:m("title2-1"),color:"#088C6E",bgColor:"#F7FAF9"},{title:m("title2-2"),color:"#00A637",bgColor:"#F5FAF7"},{title:m("title2-3"),color:"#0A58A6",bgColor:"#F5F8FA"},{title:m("title2-4"),color:"#E52E5C",bgColor:"#FAF5F6"},{title:m("title2-5"),color:"#D9B815",bgColor:"#FCFBF5"},{title:m("title2-6"),color:"#066952",bgColor:"#F7FAF9"}]},{title:m("title3")}],t=[{id:"section-0",title:"第一章：个人命理基础分析",isMain:!0},{id:"section-0-0",title:"年柱",isMain:!1},{id:"section-0-1",title:"月柱"},{id:"section-0-2",title:"日柱"},{id:"section-0-3",title:"时柱"},{id:"section-1",title:"第二章：流年运程基础分析",isMain:!0},{id:"section-1-0",title:"整体运势"},{id:"section-1-1",title:"健康运势"},{id:"section-1-2",title:"事业运势"},{id:"section-1-3",title:"感情运势"},{id:"section-1-4",title:"财运运势"},{id:"section-1-5",title:"总结"},{id:"section-2",title:"第三章：流年运程基础分析",isMain:!0},{id:"section-3",isMain:!0}];u?(w([...e,{title:m("title4")}]),y(t)):(w([...e,{title:m("title4")},{title:m("title5")},{title:m("title6")}]),y([...t,{id:"section-4",isMain:!0},{id:"section-5",isMain:!0}]))},[u]);let{loading:N,reportDocData:z,assistantData:C}=(0,f.A)(o,r),{data:k}=(0,g.wV)();return(0,i.useEffect)(()=>{var e;let t=null==k?void 0:null===(e=k.user)||void 0===e?void 0:e.userId;t&&(async()=>{let{status:e,message:l,data:s}=await (0,b.Jt)("/api/users/".concat(t));0==e&&(x(s),p(s.isLock))})()},[null==k?void 0:null===(t=k.user)||void 0===t?void 0:t.userId]),(0,i.useEffect)(()=>{console.log("userInfo",r),console.log("locale",o)},[r,o]),(0,i.useEffect)(()=>{console.log("reportDocData",z)},[z]),(0,s.jsx)("div",{className:"flex items-start justify-center w-full min-h-screen ",children:(0,s.jsxs)("div",{className:"w-full max-w-full p-2 mx-auto bg-white lg:w-full sm:p-1 sm:mt-20 rounded-xl",children:[(0,s.jsxs)("div",{className:"flex flex-col justify-start",children:[(0,s.jsx)("p",{className:" text-lg px-9  text-[#25826c] flex items-center justify-center inline-block mb-5 max-w-full",children:m("pro.scrollInstruction")}),(0,s.jsx)("p",{className:"font-bold text-lg px-9 font-boldsm:text-lg text-[#25826c] flex items-center justify-center inline-block mb-5 max-w-full",children:m("pro.advancedAnalysisTitle")})]}),(0,s.jsx)("div",{className:"flex items-center justify-center mb-5",children:(0,s.jsxs)("p",{className:"text-base font-bold leading-8 tracking-normal text-justify px-9",children:[(0,s.jsx)("span",{className:"text-[#073E31] font-bold",children:m("p2-1")}),m("p2-2")]})}),(0,s.jsxs)("div",{className:"flex-1 rounded-t-none rounded-b-[20px] mb-2 flex flex-col items-start justify-start pt-5 sm:pt-[20px] px-2 sm:px-[35px] pb-5 sm:pb-[37px] box-border gap-4 max-w-full z-[1] ",children:[(0,s.jsx)("section",{className:"flex flex-col bg-[#f5faf7] rounded-[20px] p-3 sm:p-5 w-full shadow-md",children:(0,s.jsx)("div",{className:"grid grid-cols-2 sm:flex sm:flex-row flex-wrap rounded-t-none rounded-b-[20px] mb-6 sm:mb-2 bg-[#f5faf7] items-center justify-between pt-4 sm:pt-[31px] px-1 sm:px-[20px] pb-4 sm:pb-[37px] box-border gap-4 sm:gap-8 z-[1]",children:null==z?void 0:null===(l=z.yunchengData)||void 0===l?void 0:l.slice(0,5).map((e,t)=>{var l,i,a,o,r,d,c,x,m,u,p,f,g,b,v,w;return(0,s.jsxs)("div",{className:"flex flex-col items-center w-full sm:w-[120px] mb-2 sm:mb-0",children:[(0,s.jsxs)("p",{className:"flex items-center mb-2 text-sm font-bold leading-8 sm:text-xl",style:{color:(null==h?void 0:null===(a=h[1])||void 0===a?void 0:null===(i=a.children)||void 0===i?void 0:null===(l=i[t])||void 0===l?void 0:l.color)||"#20B580"},children:[t<5&&(0,s.jsx)(n.default,{src:"/images/report/icon".concat(t,".png"),width:24,height:24,alt:"",className:"mr-1"}),(null==h?void 0:null===(d=h[1])||void 0===d?void 0:null===(r=d.children)||void 0===r?void 0:null===(o=r[t])||void 0===o?void 0:o.title)||"运势".concat(t+1)]}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center w-16 h-16 mb-2 border-4 rounded-full sm:w-24 sm:h-24",style:{borderColor:(null==h?void 0:null===(m=h[1])||void 0===m?void 0:null===(x=m.children)||void 0===x?void 0:null===(c=x[t])||void 0===c?void 0:c.color)||"#20B580",background:"#fff",boxShadow:"0 6px 20px rgba(0, 0, 0, 0.4)"},children:[(0,s.jsx)("span",{className:"text-xl font-extrabold sm:text-4xl",style:{color:(null==h?void 0:null===(f=h[1])||void 0===f?void 0:null===(p=f.children)||void 0===p?void 0:null===(u=p[t])||void 0===u?void 0:u.color)||"#20B580"},children:null===(g=e.zhishu)||void 0===g?void 0:g.split("/")[0]}),(0,s.jsx)("span",{className:"text-xs font-bold sm:text-base",style:{color:(null==h?void 0:null===(w=h[1])||void 0===w?void 0:null===(v=w.children)||void 0===v?void 0:null===(b=v[t])||void 0===b?void 0:b.color)||"#20B580"},children:"/10"})]})]},t)})})}),(0,s.jsx)("div",{className:"flex flex-col w-full gap-4",children:null==z?void 0:null===(a=z.yunchengData)||void 0===a?void 0:a.slice(0,3).map((e,t)=>{var l,i,a,o,r,d,x,u,p,f,g,b,v;return(0,s.jsx)("div",{className:"relative w-full",children:(0,s.jsxs)("section",{style:{backgroundColor:(null==h?void 0:null===(a=h[1])||void 0===a?void 0:null===(i=a.children)||void 0===i?void 0:null===(l=i[t])||void 0===l?void 0:l.bgColor)||"#F7FAF9",overflow:"hidden",position:"relative"},className:"rounded-[20px] p-5 ".concat(0===t?"shadow-md":""),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"flex items-center text-xl font-bold leading-8",style:{color:(null==h?void 0:null===(d=h[1])||void 0===d?void 0:null===(r=d.children)||void 0===r?void 0:null===(o=r[t])||void 0===o?void 0:o.color)||"#20B580"},children:[t<5&&(0,s.jsx)(n.default,{src:"/images/report/icon".concat(t,".png"),width:24,height:24,alt:"",className:"mr-1"}),(null==h?void 0:null===(p=h[1])||void 0===p?void 0:null===(u=p.children)||void 0===u?void 0:null===(x=u[t])||void 0===x?void 0:x.title)||"运势".concat(t+1)]}),t<5&&(0,s.jsxs)("p",{className:"flex items-end leading-8",style:{color:(null==h?void 0:null===(b=h[1])||void 0===b?void 0:null===(g=b.children)||void 0===g?void 0:null===(f=g[t])||void 0===f?void 0:f.color)||"#20B580"},children:[(0,s.jsx)("span",{className:"text-xl font-bold",children:null===(v=e.zhishu)||void 0===v?void 0:v.split("/")[0]}),(0,s.jsx)("span",{className:"text-sm",children:"/10"})]})]}),(0,s.jsx)("p",{className:"leading-8 text-justify",children:1===t?(()=>{let t=e.content.split("。");return t.length>=2?t[0]+"。"+t[1]+"。":t[0]+"。"})():e.content}),2===t&&(0,s.jsx)("div",{className:"absolute left-0 bottom-0 w-full h-full pointer-events-none rounded-b-[20px] bg-gradient-to-t from-white/95 via-white/70 to-transparent backdrop-blur-sm flex items-center justify-center",children:(0,s.jsx)(c.N_,{href:"/price",children:(0,s.jsx)("button",{className:"pointer-events-auto px-6 py-2 rounded-full bg-[rgba(49,129,97)] text-white font-bold text-lg shadow-lg hover:shadow-xl transition-shadow duration-300",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.4)"},children:m("pro.unlockAdvancedAnalysis")})})})]})},t)})})]}),(0,s.jsx)(v,{})]})})}function j(){let e=(0,a.useSearchParams)(),t=(0,a.usePathname)(),l=e.get("roomType"),o=e.get("direction"),n=t.split("/")[1],[d,c]=(0,i.useState)(null),[x,m]=(0,i.useState)(!1),[f,g]=(0,i.useState)(null);return(0,i.useEffect)(()=>{l&&o&&(m(!0),g(null),r().then(e=>c(e)).catch(()=>g("Failed to fetch data")).finally(()=>m(!1)))},[l,o]),(0,s.jsxs)("div",{className:"flex flex-col min-h-screen bg-white",style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,s.jsx)(h.default,{}),(0,s.jsxs)("div",{className:"flex flex-col flex-1 w-full gap-2 px-2 py-2 mx-0 sm:gap-4 sm:px-4 sm:py-4 sm:mx-2 md:mx-5 md:flex-row lg:gap-6 lg:px-6",children:[(0,s.jsx)("div",{className:"flex items-start justify-center w-full mb-4 md:w-2/5 md:mb-0",children:l&&o&&d&&(0,s.jsx)(u,{roomType:l,direction:o,data:d})}),(0,s.jsx)("div",{className:"flex items-start justify-center w-full md:w-3/5",children:(0,s.jsx)(w,{locale:n})})]}),(0,s.jsx)(p.A,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4935,8057,586,5647,6453,8543,5493,1990,3063,2942,2115,6699,3151,6721,8441,1684,7358],()=>t(57232)),_N_E=e.O()}]);