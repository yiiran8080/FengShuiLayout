(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6526],{7742:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>k});var s=l(95155),i=l(12115),a=l(35695);l(91247);var o=l(34477);let r=(0,o.createServerReference)("007aeead8a21b5a6cbbcc86280c904a8bd297a2e78",o.callServer,void 0,o.findSourceMapURL,"getReportDocData");l(40054);var n=l(66766),d=l(17652),x=l(46453),c=l(60388);l(25446),l(76142);var m=l(32502);m.t1.register(m.Bs,m.m_,m.s$);var f=l(69303);function h(e){let{roomType:t,direction:l,data:a}=e,o=(0,d.c3)("freeChapter3"),r=(0,x.Ym)(),[m,h]=(0,i.useState)(null),[u,p]=(0,i.useState)(null),[g,b]=(0,i.useState)("base"),[v,w]=(0,i.useState)(0),{preview:j}=(0,f.l)(),y=[{label:o("tabs.base"),key:"base"},{label:o("tabs.furniture"),key:"furniture"},{label:o("tabs.taboo"),key:"taboo"},{label:o("tabs.wuxing"),key:"wuxing"}],N=[{title:o("risks.career"),content:o("careerContent"),titleColor:"text-blue-600",contentColor:"text-blue-700",bgColor:"bg-blue-50"},{title:o("risks.relationship"),content:o("relationshipContent"),titleColor:"text-red-600",contentColor:"text-red-700",bgColor:"bg-red-50"},{title:o("risks.wealth"),content:o("wealthContent"),titleColor:"text-yellow-600",contentColor:"text-yellow-700",bgColor:"bg-yellow-50"}];return((0,i.useEffect)(()=>{let e;a&&h(null==(e="zh-CN"===r||"zh"===r?a.zhData||a.twData:"zh-TW"===r||"tw"===r?a.twData||a.zhData:a.zhData||a.twData)?void 0:e.jiajuData)},[a,r]),(0,i.useEffect)(()=>{if(m&&m[t]&&m[t][l]){let e=Object.entries(m[t][l]);if(e.length>0){let t=Math.floor(Math.random()*e.length);p(e[t])}}},[m,t,l]),m&&m[t]&&m[t][l])?u?(0,s.jsx)("div",{className:"flex items-start justify-center w-full min-h-screen px-2 mx-auto sm:px-4 lg:px-0",style:{fontFamily:'"Noto Serif TC", serif'},children:(0,s.jsx)("div",{className:"w-full max-w-full p-2 mt-4 sm:p-4 sm:mt-6 lg:p-8 lg:mt-10 rounded-xl",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex flex-row items-start justify-center mb-3 sm:mb-4 lg:mb-6 pt-0 px-1 sm:px-2 lg:px-3.5 text-[#25826c] pb-4 sm:pb-6 lg:pb-[40px] box-border",children:(0,s.jsx)("h1",{className:"relative h-auto m-0 text-xl font-bold leading-tight text-center sm:text-2xl lg:text-4xl",children:o("title")})}),(0,s.jsxs)("div",{className:"flex-1 rounded-2xl sm:mb-8 lg:mb-13 bg-[#f5faf7] flex flex-col items-start justify-start pt-4 sm:pt-6 lg:pt-[40px] px-3 sm:px-4 lg:px-[30px] pb-4 sm:pb-6 lg:pb-[37px] box-border gap-3 sm:gap-4 lg:gap-8 z-[1] shadow-[0_8px_32px_rgba(0,0,0,0.15)]",children:[(0,s.jsx)("div",{className:"flex flex-col items-center w-full gap-2 mx-auto",children:j&&(0,s.jsx)("img",{src:j,alt:o("uploadedImage"),className:"object-cover w-full h-auto max-w-full mb-2 rounded-lg",style:{aspectRatio:"4/3"}})}),(0,s.jsxs)("div",{className:"flex flex-row items-start justify-start h-auto gap-2 text-base sm:text-lg lg:text-xl",children:[(0,s.jsx)(n.default,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 relative overflow-hidden shrink-0 z-[2] bg-transparent",loading:"lazy",width:100,height:100,sizes:"100vw",alt:"",src:"/images/room-icon/bedroom.png"}),(0,s.jsx)("h3",{className:"m-0 relative top-0.5 leading-6 sm:leading-8 font-[400] font-[inherit] z-[2] text-sm sm:text-base lg:text-xl",children:o("roomAnalysis")})]}),(0,s.jsx)("div",{className:"flex flex-col items-start justify-start w-full max-w-full gap-2 px-0 pt-0 pb-2",children:(0,s.jsx)("div",{className:"flex flex-row items-start justify-between w-full gap-1 overflow-x-auto border-b sm:gap-2 lg:gap-5",children:y.map(e=>(0,s.jsx)("button",{className:"relative leading-4 z-[2] px-1 sm:px-2 py-1 focus:outline-none whitespace-nowrap text-xs sm:text-sm lg:text-base ".concat(g===e.key?"border-b-2 border-blue-500 font-bold text-blue-600":"text-gray-500"),onClick:()=>b(e.key),style:{minWidth:"wuxing"===e.key?"auto":"3rem"},children:e.label},e.key))})}),(0,s.jsxs)("div",{className:"w-full",children:["base"===g&&(0,s.jsx)("div",{children:u&&("object"==typeof u[1]&&null!==u[1]?Object.entries(u[1]).map(e=>{let[t,l]=e;return(0,s.jsxs)("p",{className:"flex flex-col mb-2 text-sm leading-6 sm:flex-row sm:leading-8 sm:text-base",children:[(0,s.jsxs)("span",{className:"font-bold whitespace-nowrap min-w-0 sm:min-w-22.5 mb-1 sm:mb-0",children:[t,"："]}),(0,s.jsx)("span",{className:"whitespace-pre-wrap",children:String(l)})]},u[0]+"-"+t)}):(0,s.jsxs)("p",{className:"flex flex-col text-sm leading-6 sm:flex-row sm:leading-8 sm:text-base",children:[(0,s.jsxs)("span",{className:"font-bold whitespace-nowrap min-w-0 sm:min-w-22.5 mb-1 sm:mb-0",children:[u[0],"："]}),(0,s.jsx)("span",{className:"whitespace-pre-wrap",children:String(u[1])})]},u[0]))}),["furniture","taboo","wuxing"].includes(g)&&(0,s.jsx)("div",{className:"relative w-full",children:(0,s.jsxs)("div",{className:"bg-[#e6f3fa] rounded-2xl p-4 sm:p-6 min-h-[150px] sm:min-h-[180px] overflow-hidden",children:[(0,s.jsxs)("div",{className:"space-y-2 text-sm leading-relaxed sm:text-base",children:[(0,s.jsx)("p",{children:o("enhancementFocus")}),(0,s.jsx)("p",{children:o("suggestion1")}),(0,s.jsx)("p",{children:o("suggestion2")})]}),(0,s.jsx)("div",{className:"absolute top-0 left-0 z-10 flex items-center justify-center w-full h-full rounded-2xl bg-[#f5faf7]/80 backdrop-blur-xs",children:(0,s.jsx)(c.N_,{href:"/price",children:(0,s.jsx)("button",{className:"pointer-events-auto px-4 sm:px-6 py-2 rounded-full bg-[rgba(49,129,97)] text-white font-bold text-sm sm:text-lg shadow-[0_8px_16px_rgba(0,0,0,0.25)] hover:shadow-[0_12px_24px_rgba(0,0,0,0.3)] transition-shadow duration-300",children:o("unlockButton")})})})]})})]})]}),(0,s.jsxs)("section",{className:"self-stretch flex flex-col items-center justify-center gap-2 sm:gap-3 mb-4 sm:mb-5 text-left text-lg sm:text-2xl lg:text-[40px] text-[#25826c] font-[ABeeZee]",children:[(0,s.jsx)("div",{className:"self-stretch flex flex-row items-center justify-start pl-0.5 box-border max-w-full mt-8 sm:mt-4 lg:mt-0",children:(0,s.jsxs)("div",{className:"flex flex-row items-center justify-center flex-1 gap-2",children:[(0,s.jsx)("div",{className:"flex flex-row items-start justify-start",children:(0,s.jsx)(n.default,{className:"relative object-cover w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12",loading:"lazy",width:50,height:50,alt:"",src:"/images/image-206@2x.jpeg"})}),(0,s.jsx)("h2",{className:"m-0 justify-center font-semibold leading-6 sm:leading-8 font-[400] z-[1] text-sm sm:text-lg lg:text-[32px] lg:leading-[26px]",style:{fontFamily:'"Noto Serif TC", serif'},children:o("riskDetected")})]})}),(0,s.jsx)("div",{className:"w-full rounded-2xl mb-3 sm:mb-5 flex flex-col items-center justify-center pt-0 sm:pt-[31px] lg:pt-[41px] px-0 pb-3 sm:pb-5 box-border relative gap-2 sm:gap-4 lg:gap-[26px] max-w-full z-[2] text-xs sm:text-sm text-[#0a58a6] font-Font-Family",children:(0,s.jsx)("div",{className:"relative w-full max-w-sm sm:max-w-2xl md:max-w-4xl lg:max-w-6xl xl:max-w-7xl 2xl:max-w-full",children:(0,s.jsxs)("div",{className:"relative px-2 overflow-hidden rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>{w(e=>(e-1+N.length)%N.length)},className:"absolute left-0 sm:left-0 lg:left-2 z-20 p-1.5 sm:p-2 transition-all duration-200 transform -translate-y-1/2 rounded-full shadow-[0_8px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_12px_10px_rgba(0,0,0,0.35)] top-1/2 bg-white/90 hover:bg-white hover:scale-110",disabled:0===v,children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-600 sm:w-5 sm:h-5 lg:w-6 lg:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsx)("button",{onClick:()=>{w(e=>(e+1)%N.length)},className:"absolute right-0 sm:right-0 lg:right-2 z-20 p-1.5 sm:p-2 transition-all duration-200 transform -translate-y-1/2 rounded-full shadow-[0_8px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_12px_10px_rgba(0,0,0,0.35)] top-1/2 bg-white/90 hover:bg-white hover:scale-110",disabled:v===N.length-1,children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-600 sm:w-5 sm:h-5 lg:w-6 lg:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,s.jsx)("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:"translateX(-".concat(100*v,"%)")},children:N.map((e,t)=>(0,s.jsx)("div",{className:"flex justify-center flex-shrink-0 w-full px-3 py-2 sm:px-6 lg:px-12 sm:py-4",children:(0,s.jsxs)("div",{className:"p-3 sm:p-4 lg:p-6 rounded-lg ".concat(e.bgColor," relative shadow-[0_6px_20px_rgba(0,0,0,0.12)] hover:shadow-[0_8px_25px_rgba(0,0,0,0.18)] transition-shadow duration-300 max-w-full sm:max-w-xl lg:max-w-2xl w-full"),style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,s.jsxs)("div",{className:"mb-2 sm:mb-3 lg:mb-4 text-base sm:text-lg lg:text-xl font-bold ".concat(e.titleColor),style:{fontFamily:'"Noto Serif TC", serif'},children:[e.title,":"]}),(0,s.jsx)("div",{className:"text-sm sm:text-base lg:text-lg leading-relaxed ".concat(e.contentColor," ").concat(e.title===o("risks.relationship")||e.title===o("risks.wealth")?"blur-sm":""),style:{fontFamily:'"Noto Serif TC", serif'},children:e.content}),(e.title===o("risks.relationship")||e.title===o("risks.wealth"))&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/10",children:(0,s.jsx)(c.N_,{href:"/price",children:(0,s.jsx)("button",{className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-bold text-white transition-shadow duration-300 rounded-full bg-[rgba(49,129,97)] hover:shadow-xl",style:{boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},children:o("unlockDetail")})})})]})},t))})]})})})]})]})})}):null:(0,s.jsx)("div",{children:o("noData")})}m.t1.register(m.Bs,m.m_,m.s$);var u=l(40003),p=l(8900),g=l(11518),b=l.n(g),v=l(9731),w=l(45493),j=l(91599);function y(){let e=(0,d.c3)("promo");return(0,s.jsxs)("div",{className:" w-full flex flex-col lg:flex-row items-center lg:items-center justify-center lg:justify-between bg-[#f5faf7] px-4 py-6 sm:px-6 sm:py-8 md:px-8 md:py-10 lg:px-12 lg:py-12 xl:px-16 xl:py-16 2xl:px-20 2xl:py-20 gap-6 lg:gap-12 xl:gap-16 ",style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,s.jsx)("section",{className:"flex flex-col items-center justify-center flex-1 max-w-3xl text-center lg:items-start lg:text-left",children:(0,s.jsx)("div",{className:"flex flex-col items-center justify-center w-full gap-3 lg:items-start sm:gap-4 md:gap-5 lg:gap-6 xl:gap-7",children:(0,s.jsx)("div",{className:"flex flex-col items-center justify-start w-full gap-2 lg:items-start sm:gap-3 md:gap-4 lg:gap-5",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-start w-full gap-1 lg:items-start sm:gap-2 md:gap-3 lg:gap-4",children:[(0,s.jsx)("h1",{className:"m-0 relative tracking-[-0.1px] sm:tracking-[-0.2px] md:tracking-[-0.3px] lg:tracking-[-0.4px] leading-tight font-[500] text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl 2xl:text-5xl max-w-full",style:{fontFamily:'"Noto Serif TC", serif',color:"#073E31"},children:e("title")}),(0,s.jsx)("h2",{className:"m-0 relative leading-relaxed font-[400] text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl max-w-3xl opacity-90",style:{fontFamily:'"Noto Serif TC", serif',color:"#088C6E"},children:e("description1")}),(0,s.jsx)("h2",{className:"m-0 relative leading-relaxed font-[400] text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl max-w-3xl opacity-90",style:{fontFamily:'"Noto Serif TC", serif',color:"#088C6E"},children:e("description2")})]})})})}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center flex-shrink-0 lg:items-end",children:(0,s.jsx)(c.N_,{href:"/price",className:"w-full max-w-[240px] sm:max-w-[280px] md:max-w-[320px] lg:max-w-[360px] xl:max-w-[400px]",children:(0,s.jsxs)("button",{className:" cursor-pointer border-none p-0 bg-transparent  w-full  h-[40px] sm:h-[45px] md:h-[50px] lg:h-[55px] xl:h-[60px] 2xl:h-[65px] flex flex-row items-center justify-center  relative  hover:scale-105  transition-all duration-300 ease-in-out group ",style:{filter:"drop-shadow(0 4px 15px rgba(0, 0, 0, 0.2))",fontFamily:'"Noto Serif TC", serif'},children:[(0,s.jsx)("div",{className:" h-[35px] sm:h-[40px] md:h-[45px] lg:h-[50px] xl:h-[55px] 2xl:h-[60px] w-full  absolute  right-0 bottom-[-6px] sm:bottom-[-7px] md:bottom-[-8px] left-0  filter blur-[8px] sm:blur-[9px] md:blur-[10px]  rounded-[20px] sm:rounded-[22px] md:rounded-[25px]  bg-[rgba(49,129,97,0.3)] group-hover:bg-[rgba(49,129,97,0.4)] transition-all duration-300 "}),(0,s.jsx)("div",{className:" rounded-[15px] sm:rounded-[18px] md:rounded-[20px]  bg-gradient-to-r from-[#318161] to-[#318177]  flex flex-row items-center justify-center  py-2 sm:py-3 md:py-3 lg:py-4 xl:py-4 2xl:py-5 px-4 sm:px-6 md:px-8 lg:px-10 xl:px-12 2xl:px-14 z-[1] w-full  hover:from-[#2a6e56] hover:to-[#2a6e62]  group-hover:shadow-xl transition-all duration-300 ",children:(0,s.jsx)("div",{className:" relative  text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl 2xl:text-3xl font-[500]  text-[#fff]  text-center tracking-wide group-hover:scale-105 transition-transform duration-300 ",style:{fontFamily:'"Noto Serif TC", serif'},children:e("button")})})]})})})]})}function N(e){var t,l,a,o,r,x,c;let{locale:m}=e,[f,h]=(0,i.useState)(null),u=(0,d.c3)("report"),[p,g]=(0,i.useState)(!0),[y,N]=(0,i.useState)([]),[C,k]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=[{title:u("title1"),children:[{title:"年柱"},{title:"月柱"},{title:"日柱"},{title:u("shizhu")}]},{title:u("title2"),children:[{title:u("title2-1"),color:"#088C6E",bgColor:"#F7FAF9"},{title:u("title2-2"),color:"#00A637",bgColor:"#F5FAF7"},{title:u("title2-3"),color:"#0A58A6",bgColor:"#F5F8FA"},{title:u("title2-4"),color:"#E52E5C",bgColor:"#FAF5F6"},{title:u("title2-5"),color:"#D9B815",bgColor:"#FCFBF5"},{title:u("title2-6"),color:"#066952",bgColor:"#F7FAF9"}]},{title:u("title3")}],t=[{id:"section-0",title:"第一章：个人命理基础分析",isMain:!0},{id:"section-0-0",title:"年柱",isMain:!1},{id:"section-0-1",title:"月柱"},{id:"section-0-2",title:"日柱"},{id:"section-0-3",title:"时柱"},{id:"section-1",title:"第二章：流年运程基础分析",isMain:!0},{id:"section-1-0",title:"整体运势"},{id:"section-1-1",title:"健康运势"},{id:"section-1-2",title:"事业运势"},{id:"section-1-3",title:"感情运势"},{id:"section-1-4",title:"财运运势"},{id:"section-1-5",title:"总结"},{id:"section-2",title:"第三章：流年运程基础分析",isMain:!0},{id:"section-3",isMain:!0}];p?(N([...e,{title:u("title4")}]),k(t)):(N([...e,{title:u("title4")},{title:u("title5")},{title:u("title6")}]),k([...t,{id:"section-4",isMain:!0},{id:"section-5",isMain:!0}]))},[p]);let{loading:z,reportDocData:D,assistantData:S}=(0,v.A)(m,f),{data:F}=(0,w.wV)();(0,i.useEffect)(()=>{var e;let t=null==F?void 0:null===(e=F.user)||void 0===e?void 0:e.userId;t&&(async()=>{let{status:e,message:l,data:s}=await (0,j.Jt)("/api/users/".concat(t));0==e&&(h(s),g(s.isLock))})()},[null==F?void 0:null===(t=F.user)||void 0===t?void 0:t.userId]),(0,i.useEffect)(()=>{console.log("userInfo",f),console.log("locale",m)},[f,m]),(0,i.useEffect)(()=>{console.log("reportDocData",D)},[D]);let _=e=>{var t,l,i,a,o,r,d,x,c,m,f,h,u,p,g,b;let{item:v,index:w,isMobile:j=!1,containerClass:N=""}=e,C=j?16:18;return(0,s.jsxs)("div",{className:"flex flex-col items-center max-w-full",children:[(0,s.jsxs)("p",{className:"flex items-center mb-1 md:mb-2 font-bold leading-tight text-center ".concat(j?"text-xs":"text-xs md:text-sm lg:text-sm xl:text-base"),style:{color:(null==y?void 0:null===(i=y[1])||void 0===i?void 0:null===(l=i.children)||void 0===l?void 0:null===(t=l[w])||void 0===t?void 0:t.color)||"#20B580"},children:[w<5&&(0,s.jsx)(n.default,{src:"/images/report/icon".concat(w,".png"),width:C,height:C,alt:"",className:"flex-shrink-0 mr-1"}),(0,s.jsx)("span",{className:"max-w-full truncate",children:(null==y?void 0:null===(r=y[1])||void 0===r?void 0:null===(o=r.children)||void 0===o?void 0:null===(a=o[w])||void 0===a?void 0:a.title)||"运势".concat(w+1)})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center border-2 md:border-3 lg:border-4 rounded-full flex-shrink-0 ".concat(j?"w-12 h-12 sm:w-14 sm:h-14":"w-12 h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 xl:w-18 xl:h-18 ".concat(N)),style:{borderColor:(null==y?void 0:null===(c=y[1])||void 0===c?void 0:null===(x=c.children)||void 0===x?void 0:null===(d=x[w])||void 0===d?void 0:d.color)||"#20B580",background:"#fff",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.12), 0 2px 6px rgba(0, 0, 0, 0.08)"},children:[(0,s.jsx)("span",{className:"font-extrabold leading-none ".concat(j?"text-sm sm:text-base":"text-sm md:text-base lg:text-lg xl:text-xl"),style:{color:(null==y?void 0:null===(h=y[1])||void 0===h?void 0:null===(f=h.children)||void 0===f?void 0:null===(m=f[w])||void 0===m?void 0:m.color)||"#20B580"},children:null===(u=v.zhishu)||void 0===u?void 0:u.split("/")[0]}),(0,s.jsx)("span",{className:"font-bold leading-none ".concat(j?"text-xs":"text-xs md:text-xs lg:text-sm xl:text-sm"),style:{color:(null==y?void 0:null===(b=y[1])||void 0===b?void 0:null===(g=b.children)||void 0===g?void 0:null===(p=g[w])||void 0===p?void 0:p.color)||"#20B580"},children:"/10"})]})]})};return(0,s.jsx)("div",{className:"flex items-start justify-center w-full min-h-screen ",children:(0,s.jsxs)("div",{className:"w-full max-w-full p-2 mx-auto bg-white lg:w-full sm:p-1 sm:mt-16 rounded-xl",children:[(0,s.jsx)("div",{className:"flex flex-col justify-start",children:(0,s.jsx)("p",{className:"font-bold text-4xl px-9 font-boldsm:text-lg text-[#25826c] flex items-center justify-center inline-block mb-5 max-w-full",children:u("pro.advancedAnalysisTitle")})}),(0,s.jsx)("div",{className:"flex items-center justify-center mb-5",children:(0,s.jsxs)("p",{className:"text-base font-bold leading-8 tracking-normal text-justify px-9",children:[(0,s.jsx)("span",{className:"text-[#073E31] font-bold",children:u("p2-1")}),u("p2-2")]})}),(0,s.jsxs)("div",{className:"flex-1 rounded-t-none rounded-b-[20px] mb-2 flex flex-col items-start justify-start pt-5 sm:pt-[20px] px-2 sm:px-[35px] pb-5 sm:pb-[37px] box-border gap-4 max-w-full z-[1]",children:[(0,s.jsx)("section",{className:"flex flex-col bg-[#f5faf7] rounded-[20px] p-3 sm:p-5 w-full shadow-lg",children:(0,s.jsxs)("div",{className:"jsx-4b080c2ff309b342 w-full mb-6 sm:mb-2 bg-[#f5faf7] pt-4 sm:pt-[31px] px-2 sm:px-[20px] pb-8 sm:pb-[50px] box-border rounded-t-none rounded-b-[20px] z-[1] overflow-hidden",children:[(0,s.jsxs)("div",{className:"jsx-4b080c2ff309b342 block sm:hidden",children:[(0,s.jsx)("div",{className:"jsx-4b080c2ff309b342 flex items-center justify-between px-1 mb-4",children:null==D?void 0:null===(l=D.yunchengData)||void 0===l?void 0:l.slice(0,3).map((e,t)=>(0,s.jsx)("div",{className:"jsx-4b080c2ff309b342 flex-1 max-w-[30%] px-1",children:(0,s.jsx)(_,{item:e,index:t,isMobile:!0})},t))}),(0,s.jsx)("div",{className:"jsx-4b080c2ff309b342 flex items-center justify-center gap-8",children:null==D?void 0:null===(a=D.yunchengData)||void 0===a?void 0:a.slice(3,5).map((e,t)=>(0,s.jsx)("div",{className:"jsx-4b080c2ff309b342 flex-1 max-w-[40%] px-1",children:(0,s.jsx)(_,{item:e,index:t+3,isMobile:!0})},t+3))})]}),(0,s.jsx)("div",{className:"jsx-4b080c2ff309b342 hidden sm:block",children:(0,s.jsxs)("div",{className:"jsx-4b080c2ff309b342 w-full scores-container",children:[(0,s.jsx)("div",{className:"jsx-4b080c2ff309b342 single-row-layout",children:(0,s.jsx)("div",{className:"jsx-4b080c2ff309b342 flex items-center justify-between gap-2 px-2 py-4 md:gap-3 lg:gap-4 xl:gap-6 md:px-4 md:py-6",children:null==D?void 0:null===(o=D.yunchengData)||void 0===o?void 0:o.slice(0,5).map((e,t)=>(0,s.jsx)("div",{className:"jsx-4b080c2ff309b342 flex-1 min-w-0 max-w-[18%] px-1",children:(0,s.jsx)(_,{item:e,index:t,isMobile:!1,containerClass:"single-row-circle"})},t))})}),(0,s.jsxs)("div",{style:{display:"none"},className:"jsx-4b080c2ff309b342 two-rows-layout",children:[(0,s.jsx)("div",{className:"jsx-4b080c2ff309b342 flex items-center justify-between gap-2 px-2 mb-4 md:gap-4 md:px-4 md:mb-6",children:null==D?void 0:null===(r=D.yunchengData)||void 0===r?void 0:r.slice(0,3).map((e,t)=>(0,s.jsx)("div",{className:"jsx-4b080c2ff309b342 flex-1 min-w-0 max-w-[30%] px-1",children:(0,s.jsx)(_,{item:e,index:t,isMobile:!1,containerClass:"two-row-circle"})},t))}),(0,s.jsx)("div",{className:"jsx-4b080c2ff309b342 flex items-center justify-center gap-8 md:gap-12",children:null==D?void 0:null===(x=D.yunchengData)||void 0===x?void 0:x.slice(3,5).map((e,t)=>(0,s.jsx)("div",{className:"jsx-4b080c2ff309b342 flex-1 min-w-0 max-w-[40%] px-1",children:(0,s.jsx)(_,{item:e,index:t+3,isMobile:!1,containerClass:"two-row-circle"})},t+3))})]})]})}),(0,s.jsx)(b(),{id:"4b080c2ff309b342",children:".scores-container.jsx-4b080c2ff309b342{width:100%;max-width:100%;overflow:hidden}.single-row-layout.jsx-4b080c2ff309b342{display:block}.two-rows-layout.jsx-4b080c2ff309b342{display:none}.single-row-circle.jsx-4b080c2ff309b342{max-width:100%;max-height:100%}.two-row-circle.jsx-4b080c2ff309b342{max-width:100%;max-height:100%}@media(min-width:640px)and (max-width:1199px){.single-row-layout.jsx-4b080c2ff309b342{display:none!important}.two-rows-layout.jsx-4b080c2ff309b342{display:block!important}}@media(min-width:1200px){.single-row-layout.jsx-4b080c2ff309b342{display:block!important}.two-rows-layout.jsx-4b080c2ff309b342{display:none!important}}@media(min-width:640px)and (max-width:768px){.single-row-layout.jsx-4b080c2ff309b342 .flex.jsx-4b080c2ff309b342{gap:.25rem!important}.two-rows-layout.jsx-4b080c2ff309b342 .flex.jsx-4b080c2ff309b342{gap:.5rem!important}}@media(max-width:639px){.scores-container.jsx-4b080c2ff309b342{padding:0 .25rem}}"})]})}),(0,s.jsx)("div",{className:"flex flex-col w-full gap-4",children:null==D?void 0:null===(c=D.yunchengData)||void 0===c?void 0:c.map((e,t)=>{var l,i,a,o,r,d,x,c,m,f,h,u,p;return(0,s.jsx)("div",{className:"relative w-full",children:(0,s.jsxs)("section",{style:{backgroundColor:(null==y?void 0:null===(a=y[1])||void 0===a?void 0:null===(i=a.children)||void 0===i?void 0:null===(l=i[t])||void 0===l?void 0:l.bgColor)||"#F7FAF9",overflow:"hidden",position:"relative",...t>0&&{height:"250px"}},className:"rounded-[20px] p-5 ".concat(0===t?"shadow-lg":"shadow-md"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("p",{className:"flex items-center text-xl font-bold leading-8",style:{color:(null==y?void 0:null===(d=y[1])||void 0===d?void 0:null===(r=d.children)||void 0===r?void 0:null===(o=r[t])||void 0===o?void 0:o.color)||"#20B580"},children:[t<5&&(0,s.jsx)(n.default,{src:"/images/report/icon".concat(t,".png"),width:24,height:24,alt:"",className:"mr-1"}),(null==y?void 0:null===(m=y[1])||void 0===m?void 0:null===(c=m.children)||void 0===c?void 0:null===(x=c[t])||void 0===x?void 0:x.title)||"运势".concat(t+1)]}),t<5&&(0,s.jsxs)("p",{className:"flex items-end leading-8",style:{color:(null==y?void 0:null===(u=y[1])||void 0===u?void 0:null===(h=u.children)||void 0===h?void 0:null===(f=h[t])||void 0===f?void 0:f.color)||"#20B580"},children:[(0,s.jsx)("span",{className:"text-xl font-bold",children:null===(p=e.zhishu)||void 0===p?void 0:p.split("/")[0]}),(0,s.jsx)("span",{className:"text-sm",children:"/10"})]})]}),(0,s.jsx)("p",{className:"leading-8 text-justify",children:e.content}),t>0&&(0,s.jsx)("div",{className:"absolute left-0 bottom-0 w-full pointer-events-none rounded-b-[20px]",style:{height:"60%",background:"linear-gradient(to top, rgba(255,255,255,0.98) 0%, rgba(255,255,255,0.95) 20%, rgba(255,255,255,0.8) 40%, rgba(255,255,255,0.4) 60%, rgba(255,255,255,0.1) 80%, transparent 100%)",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"}})]})},t)})})]})]})})}let C=e=>{let{locale:t}=e,[l,a]=(0,i.useState)(!1);return(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:(0,s.jsxs)("div",{className:"w-full bg-gradient-to-r from-[#f5faf7] via-[#ffffff] to-[#f5faf7] border-t border-gray-200 shadow-2xl",style:{fontFamily:'"Noto Serif TC", serif',boxShadow:"0 -8px 32px rgba(0, 0, 0, 0.12), 0 -4px 16px rgba(0, 0, 0, 0.08)",background:"linear-gradient(135deg, #f5faf7 0%, #ffffff 50%, #f5faf7 100%)"},children:[(0,s.jsx)("div",{className:"w-full h-1 bg-gradient-to-r from-[#318161] via-[#20B580] to-[#318177] animate-pulse"}),(0,s.jsxs)("div",{className:"px-4 py-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-[#318161] to-[#20B580] rounded-full flex items-center justify-center text-white text-lg shadow-lg",children:"\uD83C\uDFE0"})}),(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-[#073E31] truncate",style:{fontFamily:'"Noto Serif TC", serif'},children:"zh-CN"===t?"全面掌握家庭风水运势?":"全面掌握家庭風水運勢?"})]}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-[#088C6E] opacity-90 line-clamp-2",style:{fontFamily:'"Noto Serif TC", serif'},children:"zh-CN"===t?"想要更加精准了解家庭风水, 改善运势状况, 增强生活幸福感? 只需要花点时间, 就可以改变您的长期运势!":"想要更加精準了解家庭風水, 改善運勢狀況, 增強生活幸福感? 只需要花點時間, 就可以改變您的長期運勢!"})]}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("a",{href:"/price",className:"group relative inline-flex items-center px-6 py-3 sm:px-8 sm:py-4 text-sm sm:text-base font-semibold text-white transition-all duration-300 rounded-xl bg-gradient-to-r from-[#318161] to-[#318177] hover:from-[#2a6e56] hover:to-[#2a6e62] hover:scale-105 active:scale-100 shadow-lg hover:shadow-xl",style:{fontFamily:'"Noto Serif TC", serif',boxShadow:"0 8px 24px rgba(49, 129, 97, 0.3)"},children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-[#318161] to-[#318177] opacity-0 group-hover:opacity-20 transition-opacity duration-300 blur-lg"}),(0,s.jsxs)("span",{className:"relative z-10 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"zh-CN"===t?"推荐HarmoniQ":"推薦HarmoniQ"}),(0,s.jsx)("svg",{className:"w-4 h-4 transition-transform duration-300 group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(0,s.jsx)("div",{className:"absolute w-3 h-3 bg-red-500 border-2 border-white rounded-full -top-1 -right-1 animate-pulse"})]})})]}),l&&(0,s.jsx)("div",{className:"pt-4 mt-4 transition-all duration-300 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 text-center sm:grid-cols-3",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"mb-1 text-2xl",children:"\uD83D\uDCCA"}),(0,s.jsx)("p",{className:"text-xs text-[#088C6E]",style:{fontFamily:'"Noto Serif TC", serif'},children:"zh-CN"===t?"专业分析":"專業分析"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"mb-1 text-2xl",children:"⚡"}),(0,s.jsx)("p",{className:"text-xs text-[#088C6E]",style:{fontFamily:'"Noto Serif TC", serif'},children:"快速生成"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"mb-1 text-2xl",children:"\uD83D\uDC8E"}),(0,s.jsx)("p",{className:"text-xs text-[#088C6E]",style:{fontFamily:'"Noto Serif TC", serif'},children:"zh-CN"===t?"个性化建议":"個性化建議"})]})]})})]}),(0,s.jsx)("button",{onClick:()=>a(!l),className:"absolute flex items-center justify-center w-6 h-6 text-gray-500 transition-colors duration-200 bg-white rounded-full shadow-md top-2 right-4 hover:text-gray-700",children:(0,s.jsx)("svg",{className:"w-3 h-3 transition-transform duration-300 ".concat(l?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})})};function k(){let e=(0,a.useSearchParams)(),t=(0,a.usePathname)(),l=e.get("roomType"),o=e.get("direction"),n=t.split("/")[1],[d,x]=(0,i.useState)(null),[c,m]=(0,i.useState)(!1),[f,g]=(0,i.useState)(null),[b,v]=(0,i.useState)(!1),w=(0,i.useRef)(null),j=(0,i.useRef)(null);return(0,i.useEffect)(()=>{l&&o&&(m(!0),g(null),r().then(e=>x(e)).catch(()=>g("Failed to fetch data")).finally(()=>m(!1)))},[l,o]),(0,i.useEffect)(()=>{let e=()=>{if(!w.current)return;let e=w.current.getBoundingClientRect(),t=window.innerHeight;v(!(e.top<t&&e.bottom>0))},t=new IntersectionObserver(e=>{e.forEach(e=>{v(!e.isIntersecting)})},{threshold:.1,rootMargin:"0px 0px -100px 0px"});return w.current&&t.observe(w.current),window.addEventListener("scroll",e),e(),()=>{t.disconnect(),window.removeEventListener("scroll",e)}},[]),(0,s.jsxs)("div",{className:"relative flex flex-col min-h-screen bg-white",style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,s.jsx)(p.default,{}),(0,s.jsxs)("div",{ref:j,className:"flex flex-col flex-1 w-full gap-2 px-2 py-2 mx-0 sm:gap-4 sm:px-4 sm:py-4 sm:mx-2 md:mx-5 md:flex-row lg:gap-6 lg:px-6 ".concat(b?"pb-32 sm:pb-36":"pb-4"," transition-all duration-300"),children:[(0,s.jsx)("div",{className:"flex items-start justify-center w-full mb-4 md:w-2/5 md:mb-0",children:l&&o&&d&&(0,s.jsx)(h,{roomType:l,direction:o,data:d})}),(0,s.jsx)("div",{className:"flex items-start justify-center w-full md:w-3/5",children:(0,s.jsx)(N,{locale:n})})]}),(0,s.jsx)("div",{ref:w,className:"relative",children:(0,s.jsx)(y,{})}),b&&(0,s.jsx)(C,{locale:n}),(0,s.jsx)(u.A,{})]})}},9731:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var s=l(12115),i=l(91599),a=l(40054),o=l.n(a),r=l(60470);function n(e,t){let l=(0,s.useRef)(!0),[a,n]=(0,s.useState)(!0),[d,x]=(0,s.useState)(null),[c,m]=(0,s.useState)({});(0,s.useEffect)(()=>{console.log("renderRef.current",l.current),(async()=>{let l=null==t?void 0:t.userId;if(l&&e){let s=t.birthDateTime;console.log("查询用户已有报告"),n(!0);let{status:a,data:o}=await (0,i.Jt)("/api/reportUserDoc/".concat(l,"/").concat("zh-CN"==e?"zh":"tw"));if(0==a&&o){if(console.log("已有报告"),"done"==t.genStatus&&(!o.mingLiData||!o.liuNianData||!o.jiajuProData)){let{status:t,data:s}=await (0,i.Jt)("/api/reportUserDoc/".concat(l,"/").concat("zh-CN"==e?"tw":"zh"));0==t&&s&&m(s)}x(o)}else{console.log("生成随机报告");let{data:t}=await (0,i.Jt)("/api/reportDoc/zh",{isCached:!0}),{data:a}=await (0,i.Jt)("/api/reportDoc/tw",{isCached:!0});if(t&&a){let{nayin:o,year:n,month:d,day:c,hour:m}=(0,r.Ay)(s),h=Math.floor(3*Math.random()),u=Math.floor(3*Math.random()),p={nianzhuData:t.nianzhuData[n][h],yuezhuData:t.yuezhuData[d][h],rizhuData:t.rizhuData[c][h],shizhuData:t.shizhuData[m][h],yunchengData:t.yunchengData[o][h],jiajuData:f(t.jiajuData,u)},g={nianzhuData:a.nianzhuData[n][h],yuezhuData:a.yuezhuData[d][h],rizhuData:a.rizhuData[c][h],shizhuData:a.shizhuData[m][h],yunchengData:a.yunchengData[o][h],jiajuData:f(a.jiajuData,u)};x("zh-CN"==e?p:g),(0,i.bE)("/api/reportUserDoc/".concat(l,"/zh"),p),(0,i.bE)("/api/reportUserDoc/".concat(l,"/tw"),g)}}n(!1)}})()},[e,t]);let f=(e,t)=>{if(e){let l=o().cloneDeep(e);for(let e in l){let s=l[e];for(let e in s)s[e]=s[e][t]}return l}};return{loading:a,reportDocData:d,assistantData:c}}},57232:(e,t,l)=>{Promise.resolve().then(l.bind(l,7742))},76142:(e,t,l)=>{"use strict";l.d(t,{A:()=>m});var s=l(95155);l(40054);var i=l(12115),a=l(45493),o=l(91599),r=l(48842),n=l(87712),d=l(84616),x=l(66766),c=l(17652);function m(e){var t;let{activeRoom:l,setActiveRoom:m,onChangeDesignData:f,onChangeRoomList:h}=e,u=(0,c.c3)("report"),[p,g]=(0,i.useState)({}),[b,v]=(0,i.useState)({width:0,height:0}),[w,j]=(0,i.useState)(100),[y,N]=(0,i.useState)(0),[C,k]=(0,i.useState)([]),[z,D]=(0,i.useState)(!1),{data:S}=(0,a.wV)();if((0,i.useEffect)(()=>{var e;let t=null==S?void 0:null===(e=S.user)||void 0===e?void 0:e.userId;t&&(async()=>{let{data:e}=await (0,o.Jt)("/api/design/".concat(t));j(e.scale),N(e.compassRotation);let l=e.localItems;if(!l||0===l.length)return;let s=l.filter(e=>"room"===e._type);k(s),m(s[0]);let i=l[0].position.x,a=l[0].position.y,r=l[0].position.x+l[0].size.width,n=l[0].position.y+l[0].size.height;l.forEach(e=>{e.position.x<i&&(i=e.position.x),e.position.y<a&&(a=e.position.y),e.position.x+e.size.width>r&&(r=e.position.x+e.size.width),e.position.y+e.size.height>n&&(n=e.position.y+e.size.height)});let d=l.map(e=>({...e,position:{x:e.position.x-i+100,y:e.position.y-a+100}})),x={...e,localItems:d};g(x),f&&f(x),h&&h(s),v({width:r-i+200,height:n-a+200})})()},[null==S?void 0:null===(t=S.user)||void 0===t?void 0:t.userId]),!p.localItems)return"";function F(e){let t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("in"===e&&w<120)t=w+l;else if("out"===e&&w>50)t=w-l;else{if("reset"!==e)return;t=100}j(t)}let _=e=>{m(e)},E=e=>{m(e)};return(0,s.jsxs)("div",{className:"relative canvasImage",children:[(0,s.jsx)("div",{className:"relative border-1 border-[#E6E6E6] rounded-t-3xl py-[2px] mt-8 overflow-scroll",children:(0,s.jsx)("div",{onClick:()=>D(!1),className:"relative flex justify-center w-full h-135",style:{minWidth:b.width},children:(0,s.jsx)("div",{id:"roomCanvas",className:"absolute cursor-not-allowed",style:{width:"".concat(b.width,"px"),height:"".concat(b.height,"px"),transform:"scale(".concat(w/100,")"),transformOrigin:"top left"},children:(0,s.jsx)("div",{className:"relative",children:p.localItems.map(e=>e._type===r.w$.ROOM?(0,s.jsx)("div",{"data-room-element":"true",className:"absolute ".concat((null==l?void 0:l.id)===e.id?"ring-2 ring-red-500":""," cursor-move z-100"),style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height},onClick:t=>{t.stopPropagation(),E(e)},children:(0,s.jsx)("div",{className:"w-full h-full",style:{border:e._type===r.w$.ROOM?"8px solid":"none",borderColor:e._type===r.w$.ROOM?r.$q[e.data._type]:"transparent",borderRadius:"8px",backgroundColor:r.$q[e.data._type]+"80"},children:(0,s.jsx)("div",{className:"absolute top-2 left-2 text-[14px] text-[#888888]",style:{zIndex:1},children:e.data.label})})},e.id):e._type===r.w$.FURNITURE?(0,s.jsx)("div",{"data-room-element":"true",className:"absolute cursor-move z-200",style:{left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height},children:(0,s.jsx)(x.default,{draggable:"false",className:(null==l?void 0:l.id)===e.id?"ring-2 ring-red-500":"",style:{transform:e.rotation?"rotate(".concat(e.rotation,"deg)"):"none",transformOrigin:"center"},src:e.activeIcon,alt:"Furniture",width:e.size.width,height:e.size.height})},e.id):void 0)})})})}),(0,s.jsxs)("div",{style:{transform:"rotate(".concat(y,"deg)"),transition:"transform 0.3s ease-out"},className:"absolute flex flex-col items-center top-5 right-5",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"N"}),(0,s.jsx)(x.default,{src:"/images/compass.png",alt:"方向",width:40,height:40})]}),(0,s.jsxs)("div",{className:"absolute flex items-center gap-2 px-3 py-2 bg-white rounded-full shadow-lg top-120 right-5",children:[(0,s.jsx)("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-100",onClick:e=>F("out"),disabled:w<=50,children:(0,s.jsx)(n.A,{className:"w-4 h-4"})}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-600 min-w-[48px] text-center",children:[w,"%"]}),(0,s.jsx)("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-100",onClick:e=>F("in"),disabled:w>=120,children:(0,s.jsx)(d.A,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{onClick:()=>D(!0),className:"absolute z-20 flex items-center justify-center w-10 h-10 text-xs rounded-full shadow-lg cursor-pointer top-120 left-5",children:[z&&(0,s.jsx)("div",{className:"absolute left-0 w-20 px-4 py-4 overflow-y-auto text-sm bg-white rounded-lg shadow-lg bottom-10 report-menu max-h-110",children:C.map((e,t)=>(0,s.jsx)("div",{className:"text-sm mb-4 cursor-pointer ".concat((null==l?void 0:l.id)===e.id?"text-[#20B580]":""),onClick:()=>_(e),children:e.data.label},t))}),(0,s.jsx)("span",{children:u("catelog")})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4935,8057,586,5647,6453,8543,5493,534,3063,2942,9724,6699,3151,6721,8441,1684,7358],()=>t(57232)),_N_E=e.O()}]);