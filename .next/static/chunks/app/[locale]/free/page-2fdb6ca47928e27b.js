(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5704],{23449:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var l=s(95155),a=s(12115),o=s(66766),r=s(8900),i=s(40003),n=s(45493),c=s(35695),d=s(17652);function m(e){let{bgColor:t="bg-[#f0f8f6]"}=e,s=(0,d.c3)("theory");return(0,l.jsxs)("section",{className:"w-full max-w-full flex flex-col items-center justify-center ".concat(t," px-4 sm:px-8 md:px-[60px] lg:px-[120px] xl:px-[200px] py-10 sm:py-14 md:py-20"),style:{fontFamily:"Noto Serif TC, serif"},children:[(0,l.jsx)("section",{className:"w-full flex flex-row items-start justify-center max-w-full text-left text-2xl sm:text-3xl md:text-[40px] text-[#073e31] mb-6 sm:mb-10",style:{fontFamily:"Noto Serif TC, serif"},children:(0,l.jsxs)("div",{className:"w-full max-w-[729px] flex flex-col items-start justify-start gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-row flex-wrap items-end justify-start max-w-full gap-4 md:gap-9",children:[(0,l.jsx)("div",{className:"w-[48px] sm:w-[64px] md:w-[84px] flex flex-col items-start justify-end pt-0 px-0 pb-3 sm:pb-5 box-border",children:(0,l.jsx)("div",{className:"self-stretch h-[40px] sm:h-[69px] md:h-[90px] relative overflow-hidden shrink-0 opacity-80",children:(0,l.jsx)(o.default,{className:"absolute top-0 left-0 w-full h-full max-w-full max-h-full overflow-hidden drop-shadow-lg",loading:"lazy",width:100,height:90,sizes:"100vw",alt:"",src:"/images/report/Quotemark.png"})})}),(0,l.jsx)("div",{className:"flex flex-row items-center justify-center p-2.5 box-border max-w-full z-[1]",children:(0,l.jsx)("h2",{className:"m-0 relative text-[length:inherit] leading-8 font-bold text-xl sm:text-2xl md:text-3xl lg:text-[40px] mq925:text-2xl mq925:leading-[19px] mq450:text-[24px] mq450:leading-[26px]",style:{fontFamily:"Noto Serif TC, serif"},children:s("title")})})]}),(0,l.jsx)("div",{className:"self-stretch flex flex-row items-start justify-start py-0 pl-2 pr-0 text-center text-base sm:text-lg md:text-xl text-[#004f44]",style:{fontFamily:"Noto Serif TC, serif"},children:(0,l.jsx)("div",{className:"relative leading-7 sm:leading-8",children:s("description")})})]})}),(0,l.jsxs)("section",{className:"w-full flex flex-col md:flex-row items-stretch justify-center gap-4 sm:gap-6 md:gap-8 text-left text-base sm:text-lg md:text-2xl text-[#fff]",style:{fontFamily:"Noto Serif TC, serif"},children:[(0,l.jsx)("div",{className:"w-full md:w-72 rounded-[10px] bg-[rgba(0,79,68,0.8)] border-[#25826c] border-solid border-[1px] box-border flex flex-col items-center justify-center mb-4 md:mb-0 p-4 sm:p-6",children:(0,l.jsxs)("div",{className:"w-full md:w-60 h-[170px] sm:h-[180px] md:h-[211px] flex flex-col items-start justify-start gap-4 sm:gap-[11px]",children:[(0,l.jsxs)("div",{className:"w-full md:w-[231px] flex flex-col items-start justify-start gap-4 sm:gap-6",children:[(0,l.jsx)(o.default,{className:"w-8 h-8 sm:w-10 sm:h-[40.9px] relative object-contain",loading:"lazy",width:40,height:40.9,sizes:"100vw",alt:"",src:"/images/report/icon-container.svg"}),(0,l.jsx)("div",{className:"flex flex-row items-center justify-center",children:(0,l.jsx)("h3",{className:"m-0 relative text-[length:inherit] tracking-[-0.03em] leading-[150%] font-semibold text-base sm:text-lg md:text-xl",style:{fontFamily:"Noto Serif TC, serif"},children:s("cards.imageRecognition.title")})})]}),(0,l.jsx)("div",{className:"relative self-stretch text-sm leading-6 sm:text-base",style:{fontFamily:"Noto Serif TC, serif"},children:s("cards.imageRecognition.description")})]})}),(0,l.jsx)("div",{className:"w-full md:w-72 rounded-[10px] bg-[rgba(0,79,68,0.8)] border-[#25826c] border-solid border-[1px] box-border flex flex-col items-center justify-center mb-4 md:mb-0 p-4 sm:p-6",children:(0,l.jsxs)("div",{className:"w-full md:w-60 h-[170px] sm:h-[180px] md:h-[211px] flex flex-col items-start justify-start gap-4 sm:gap-[11px]",children:[(0,l.jsxs)("div",{className:"w-full md:w-[231px] flex flex-col items-start justify-start gap-4 sm:gap-6",children:[(0,l.jsx)(o.default,{className:"w-8 h-8 sm:w-10 sm:h-[40.9px] relative object-contain",loading:"lazy",width:40,height:40.9,sizes:"100vw",alt:"",src:"/images/report/icon-container-1.svg"}),(0,l.jsx)("div",{className:"flex flex-row items-center justify-center",children:(0,l.jsx)("h3",{className:"m-0 relative text-[length:inherit] tracking-[-0.03em] leading-[150%] font-semibold text-base sm:text-lg md:text-xl",style:{fontFamily:"Noto Serif TC, serif"},children:s("cards.knowledgeBase.title")})})]}),(0,l.jsx)("div",{className:"relative self-stretch text-sm leading-6 sm:text-base",style:{fontFamily:"Noto Serif TC, serif"},children:s("cards.knowledgeBase.description")})]})}),(0,l.jsx)("div",{className:"w-full md:w-72 rounded-[10px] bg-[rgba(0,79,68,0.8)] border-[#25826c] border-solid border-[1px] box-border flex flex-col items-center justify-center mb-4 md:mb-0 p-4 sm:p-6",children:(0,l.jsxs)("div",{className:"w-full md:w-60 h-[170px] sm:h-[180px] md:h-[211px] flex flex-col items-start justify-start gap-4 sm:gap-[11px]",children:[(0,l.jsxs)("div",{className:"w-full md:w-[231px] flex flex-col items-start justify-start gap-4 sm:gap-6",children:[(0,l.jsx)(o.default,{className:"w-8 h-8 sm:w-10 sm:h-[40.9px] relative object-contain",loading:"lazy",width:40,height:40.9,sizes:"100vw",alt:"",src:"/images/report/icon-container-2.svg"}),(0,l.jsx)("div",{className:"flex flex-row items-center justify-center",children:(0,l.jsx)("h3",{className:"m-0 relative text-[length:inherit] tracking-[-0.03em] leading-[150%] font-semibold text-base sm:text-lg md:text-xl",style:{fontFamily:"Noto Serif TC, serif"},children:s("cards.energyFlow.title")})})]}),(0,l.jsx)("div",{className:"relative self-stretch text-sm leading-6 sm:text-base",style:{fontFamily:"Noto Serif TC, serif"},children:s("cards.energyFlow.description")})]})}),(0,l.jsx)("div",{className:"w-full md:w-72 rounded-[10px] bg-[rgba(0,79,68,0.8)] border-[#25826c] border-solid border-[1px] box-border flex flex-col items-center justify-center p-4 sm:p-6",children:(0,l.jsxs)("div",{className:"w-full md:w-60 h-[170px] sm:h-[180px] md:h-[209px] flex flex-col items-start justify-start gap-4 sm:gap-[11px]",children:[(0,l.jsxs)("div",{className:"w-full md:w-[231px] flex flex-col items-start justify-start gap-4 sm:gap-6",children:[(0,l.jsx)(o.default,{className:"w-8 h-8 sm:w-10 sm:h-[40.9px] relative object-contain",loading:"lazy",width:40,height:40.9,sizes:"100vw",alt:"",src:"/images/report/icon-container-3.svg"}),(0,l.jsx)("div",{className:"flex flex-row items-center justify-center",children:(0,l.jsx)("h3",{className:"m-0 relative text-[length:inherit] tracking-[-0.03em] leading-[150%] font-semibold text-base sm:text-lg md:text-xl",style:{fontFamily:"Noto Serif TC, serif"},children:s("cards.personalizedAdvice.title")})})]}),(0,l.jsx)("div",{className:"relative self-stretch text-sm leading-6 sm:text-base",style:{fontFamily:"Noto Serif TC, serif"},children:s("cards.personalizedAdvice.description")})]})})]})]})}function f(){return(0,a.useEffect)(()=>{let e=()=>{let e=document.querySelectorAll('[class*="fixed"][class*="inset-0"] form');if(e.length>0)return Array.from(e);let t=[];return document.querySelectorAll('div[class*="max-w"], div[class*="space-y"]').forEach(e=>{let s=e.querySelector('select option[value="male"], select option[value="female"]'),l=e.querySelector('select option[value*="19"], select option[value*="20"]'),a=e.querySelector('select option[value="bedroom"], select option[value="livingRoom"]');[s,l,a,e.querySelector('select option[value="north"], select option[value="south"]'),e.querySelector('button[class*="bg-gradient"], button[onclick*="Start"]')].filter(Boolean).length>=2&&t.push(e)}),t},t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.gtag&&(window.gtag("event",e,{event_category:"upload_form",event_label:t.field||"unknown",value:t.progress||0,custom_data:{form_type:t.form_type||"upload",timestamp:Date.now(),...t}}),console.log("\uD83D\uDCCA GA Event: ".concat(e),t))},s=()=>{let s=e();console.log("\uD83C\uDFAF Found ".concat(s.length," upload forms")),s.forEach((e,s)=>{console.log("\uD83C\uDFAF Setting up tracking for upload form ".concat(s+1,":"),e);let l=!1,a=()=>{l||(l=!0,t("upload_form_start",{form_type:"div_based_form",form_index:s}))},o=e.querySelectorAll("select, input, textarea");console.log("\uD83D\uDCDD Found ".concat(o.length," form fields in container ").concat(s+1));let r=new Set;o.forEach(e=>{let s=(e=>{var t;let s=e.closest('div[class*="space-y"]');if(s){let e=s.querySelector("label");if(e)return e.textContent.trim()}let l=null===(t=e.closest("div"))||void 0===t?void 0:t.querySelector("label");if(l)return l.textContent.trim();let a=e.placeholder;if(a)return a;let o=e.name||e.id;if(o)return o;if("SELECT"===e.tagName&&e.options.length>0){let t=e.options[0].textContent;if(t&&!t.includes("选择")&&!t.includes("Select"))return t}return e.tagName.toLowerCase()})(e);console.log('\uD83D\uDD0D Setting up tracking for field: "'.concat(s,'"')),e.addEventListener("focus",()=>{a(),t("upload_field_focus",{field:s,form_type:"div_based_form"})}),e.addEventListener("change",()=>{a(),e.value&&""!==e.value.trim()?(r.add(s),t("upload_field_complete",{field:s,field_value:"select-one"===e.type?e.value:"filled",form_type:"div_based_form",total_completed:r.size})):r.delete(s),t("upload_field_change",{field:s,field_value:"select-one"===e.type?e.value:"filled",form_type:"div_based_form"});let l=Math.round(r.size/o.length*100);l>0&&l%25==0&&t("upload_form_progress",{progress:l,filled_fields:r.size,total_fields:o.length,form_type:"div_based_form"})}),e.addEventListener("blur",()=>{t("upload_field_blur",{field:s,form_type:"div_based_form"})})});let i=e.querySelectorAll('button[class*="bg-gradient"], button:not([type="button"]):not([type="reset"]), button[onclick*="Start"]');console.log("\uD83D\uDD18 Found ".concat(i.length," action buttons")),i.forEach((e,s)=>{let l=()=>e.textContent.trim()||"button_".concat(s);e.addEventListener("click",e=>{let s=l();console.log('\uD83D\uDDB1️ Button clicked: "'.concat(s,'"')),s.includes("开始")||s.includes("開始")||s.includes("Start")||s.includes("分析")||s.includes("測算")||s.includes("测算")||s.includes("免費")||s.includes("免费")?(console.log("✅ Button matches submit criteria - tracking upload_form_submit"),t("upload_form_submit",{filled_fields:r.size,total_fields:o.length,completion_rate:Math.round(r.size/o.length*100),form_type:"div_based_form",button_name:s})):(console.log("❌ Button does NOT match submit criteria - tracking upload_button_click"),t("upload_button_click",{button_name:s,form_type:"div_based_form"}))})})})};console.log("\uD83D\uDE80 UploadFormTracker initializing for div-based forms..."),setTimeout(s,500);let l=(()=>{let e=new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&(e.matches&&e.matches('[class*="fixed"][class*="inset-0"]')?(console.log("\uD83D\uDD0D Modal detected, setting up tracking"),t("upload_modal_open"),setTimeout(s,100)):e.matches&&(e.matches('div[class*="max-w"]')||e.querySelector('select option[value="male"]'))&&(console.log("\uD83D\uDD0D New upload form detected"),setTimeout(s,100)))}),e.removedNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&e.matches&&e.matches('[class*="fixed"][class*="inset-0"]')&&t("upload_modal_close")})})});return e.observe(document.body,{childList:!0,subtree:!0}),e})();return()=>{l.disconnect()}},[]),null}s(29190);var x=s(69303),u=s(91599),p=s(38543);let h=Array.from({length:100},(e,t)=>1926+t),g=Array.from({length:12},(e,t)=>t+1),b=Array.from({length:31},(e,t)=>t+1),y=Array.from({length:24},(e,t)=>t+1),v={bedroom:"bedroom",livingRoom:"living_room",diningRoom:"dining_room",kitchen:"kitchen",bathroom:"bathroom",studyRoom:"study_room",balcony:"balcony",storageRoom:"storage_room"},w={north:"north",northEast:"northEast",east:"east",center:"center",southEast:"southEast",south:"south",southWest:"southWest",west:"west",northWest:"northWest"},j=e=>new Promise((t,s)=>{let l=new FileReader;l.readAsDataURL(e),l.onload=()=>t(l.result),l.onerror=e=>s(e)}),N=(e,t,s)=>{let l=e.split(","),a=l[0].match(/:(.*?);/)[1],o=atob(l[1]),r=o.length,i=new Uint8Array(r);for(;r--;)i[r]=o.charCodeAt(r);return new File([i],t,{type:a})};function S(e){let{onResult:t}=e,s=(0,d.c3)("upload"),[o,r]=(0,a.useState)(null),[i,m]=(0,a.useState)(null),[f,S]=(0,a.useState)(!1),[_,C]=(0,a.useState)(""),[F,k]=(0,a.useState)(""),[T,D]=(0,a.useState)(""),[E,R]=(0,a.useState)(""),[I,z]=(0,a.useState)(""),[A,L]=(0,a.useState)(""),[U,P]=(0,a.useState)(""),[O,q]=(0,a.useState)(""),[W,B]=(0,a.useState)(""),[M,J]=(0,a.useState)(!1),[G,Q]=(0,a.useState)(!1),[V,H]=(0,a.useState)(null),[K,X]=(0,a.useState)(!1);(0,a.useRef)(null);let Y=(0,c.useRouter)(),{setPreview:Z,setFile:$}=(0,x.l)(),{data:ee,status:et}=(0,n.wV)(),es=Object.keys(v),el=Object.keys(w),ea=()=>{try{localStorage.setItem("uploadPicFormData",JSON.stringify({gender:_,year:F,month:T,day:E,hour:I,roomType:A,direction:U,validationError:V})),console.log("Form data saved to localStorage")}catch(e){console.error("Error saving form data:",e)}},eo=()=>{try{let e=localStorage.getItem("uploadPicFormData");if(e){let t=JSON.parse(e);C(t.gender||""),k(t.year||""),D(t.month||""),R(t.day||""),z(t.hour||""),L(t.roomType||""),P(t.direction||""),H(t.validationError||null),console.log("Form data loaded from localStorage")}}catch(e){console.error("Error loading form data:",e)}},er=async e=>{try{if(e){let t={base64:await j(e),name:e.name,size:e.size,type:e.type,lastModified:e.lastModified,timestamp:Date.now()};sessionStorage.setItem("uploadPicFileData",JSON.stringify(t)),console.log("File data saved to sessionStorage:",e.name)}}catch(e){console.error("Error saving file data:",e)}},ei=async()=>{try{let e=sessionStorage.getItem("uploadPicFileData");if(e){let t=JSON.parse(e);if(!t.timestamp||Date.now()-t.timestamp<36e5){let e=N(t.base64,t.name,t.type),s=URL.createObjectURL(e);return r(e),m(s),$(e),Z(s),console.log("File restored from sessionStorage:",t.name),console.log("Preview URL created:",s),!0}sessionStorage.removeItem("uploadPicFileData"),console.log("Cleared old file data from sessionStorage")}}catch(e){console.error("Error loading file data:",e),sessionStorage.removeItem("uploadPicFileData")}return!1},en=()=>{localStorage.removeItem("uploadPicFormData"),sessionStorage.removeItem("uploadPicFileData"),console.log("Saved data cleared")};async function ec(){var e;let t=v[A],l=w[U];if("loading"===et){p.oR.info(s("checkingAuth")||"Checking authentication...");return}if("unauthenticated"===et||!(null==ee?void 0:null===(e=ee.user)||void 0===e?void 0:e.userId)){ea(),o&&await er(o);let e="/freereport?roomType=".concat(encodeURIComponent(t),"&direction=").concat(encodeURIComponent(l)),a="/auth/login?callbackUrl=".concat(encodeURIComponent(e));p.oR.info(s("redirectingToLogin")||"Please log in to continue..."),Y.push(a);return}J(!0);try{let e="".concat(F,"-").concat(T.padStart(2,"0"),"-").concat(E.padStart(2,"0"),"T").concat(I.padStart(2,"0"),":00"),{status:s}=await (0,u.bE)("/api/users/".concat(ee.user.userId),{gender:_,birthDateTime:e});0===s?(await ed(t,l,{gender:_,birthDateTime:e},null),p.oR.success("保存成功！"),en(),Y.push("/freereport?roomType=".concat(encodeURIComponent(t),"&direction=").concat(encodeURIComponent(l)))):p.oR.error("保存失败！")}catch(e){p.oR.error("保存失败："+e),console.error("Error saving user info:",e)}finally{J(!1)}}(0,a.useEffect)(()=>((async()=>{!K&&(console.log("Initializing component, loading saved data..."),console.log("Session status:",et),eo(),await ei()?console.log("File successfully restored from storage"):console.log("No saved file found"),X(!0))})(),()=>{i&&i.startsWith("blob:")&&URL.revokeObjectURL(i)}),[]),(0,a.useEffect)(()=>{"loading"!==et&&K&&(async()=>{o||i||(console.log("Session loaded, rechecking saved file data..."),await ei()&&console.log("File restored after login"))})()},[et,K,o,i]),(0,a.useEffect)(()=>{K&&(_||F||T||E||I||A||U)&&ea()},[_,F,T,E,I,A,U,V,K]);let ed=async(e,t,s,l)=>{try{let s={roomType:e,direction:t,userInfo:{gender:_,birthDateTime:"".concat(F,"-").concat(T.padStart(2,"0"),"-").concat(E.padStart(2,"0"),"T").concat(I.padStart(2,"0"),":00")},hasUploadedImage:!!o,imageFileName:(null==o?void 0:o.name)||null,analysisResult:l,locale:pathname.split("/")[1]||"zh-TW",timeSpentOnPage:Math.round((Date.now()-(window.pageStartTime||Date.now()))/1e3),referrer:document.referrer,sessionId:sessionStorage.getItem("ga_session_id")},a=await fetch("/api/track-free-report-generation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(a.ok){let e=await a.json();console.log("✅ Free report generation tracked:",e),e.totalGenerated>1?p.oR.success("報告生成成功！這是您的第 ".concat(e.totalGenerated," 份免費報告。")):p.oR.success("首份免費報告生成成功！")}}catch(e){console.error("Error tracking free report generation:",e)}};return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-start w-full px-4 py-6 mb-10 text-center sm:px-6 md:px-8 lg:px-0",style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,l.jsx)("h1",{className:"mb-4 text-xl font-normal mt-3 mb-2 text-[#004f44] sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl leading-tight sm:leading-normal",children:s("modalTitle")})," ",(0,l.jsx)("p",{className:"mb-4 text-xl font-normal mt-3 mb-10 text-[#004f44] sm:text-xl md:text-xl lg:text-xl xl:text-xl leading-tight sm:leading-normal",children:s("modalTitle2")}),(0,l.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,l.jsxs)("div",{className:"p-1 bg-white shadow-2xl rounded-xl",children:[(0,l.jsxs)("div",{className:"p-4 space-y-4 sm:p-6 sm:space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-left text-[#004f44] sm:text-base",children:s("gender")}),(0,l.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-base",value:_,onChange:e=>C(e.target.value),children:[(0,l.jsx)("option",{value:"",children:s("genderSelect")}),(0,l.jsx)("option",{value:"male",children:s("male")}),(0,l.jsx)("option",{value:"female",children:s("female")})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-left text-[#004f44] sm:text-base",children:s("birthDateTime")}),(0,l.jsxs)("div",{className:"grid grid-cols-4 gap-2 sm:gap-3",children:[(0,l.jsxs)("select",{className:"px-2 py-2 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-sm",value:F,onChange:e=>k(e.target.value),children:[(0,l.jsx)("option",{value:"",children:s("year")}),h.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),(0,l.jsxs)("select",{className:"px-2 py-2 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-sm",value:T,onChange:e=>D(e.target.value),children:[(0,l.jsx)("option",{value:"",children:s("month")}),g.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),(0,l.jsxs)("select",{className:"px-2 py-2 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-sm",value:E,onChange:e=>R(e.target.value),children:[(0,l.jsx)("option",{value:"",children:s("day")}),b.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),(0,l.jsxs)("select",{className:"px-2 py-2 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-sm",value:I,onChange:e=>z(e.target.value),children:[(0,l.jsx)("option",{value:"",children:s("hour")}),y.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-left text-[#004f44] sm:text-base",children:s("roomType")}),(0,l.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-base",value:A,onChange:e=>L(e.target.value),children:[(0,l.jsx)("option",{value:"",children:s("roomTypeSelect")}),es.map(e=>(0,l.jsx)("option",{value:e,children:s("roomTypes.".concat(e))},e))]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-left text-[#004f44] sm:text-base",children:s("direction")}),(0,l.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#318161] focus:border-transparent sm:text-base",value:U,onChange:e=>P(e.target.value),children:[(0,l.jsx)("option",{value:"",children:s("directionSelect")}),el.map(e=>(0,l.jsx)("option",{value:e,children:s("directions.".concat(e))},e))]})]})]}),(0,l.jsxs)("div",{className:"sticky bottom-0 z-10 p-4 space-y-3 bg-white border-t rounded-b-xl sm:p-6",children:[(0,l.jsx)("button",{className:"w-full py-3 text-base font-bold text-white transition-all duration-200 rounded-lg shadow-lg sm:text-lg bg-gradient-to-r from-[#7BB8A9] to-[#318177] hover:scale-105 hover:shadow-xl active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",onClick:ec,disabled:M||"loading"===et,children:M?s("calculating"):"loading"===et?s("checkingAuth")||"Checking...":s("startAnalysis")}),(0,l.jsx)("button",{className:"w-full px-3 py-2 text-sm text-gray-500 transition-colors bg-transparent rounded hover:text-gray-700 hover:bg-gray-50",onClick:()=>{S(!1)},children:s("back")})]})]})}),W&&(0,l.jsx)("div",{className:"w-full max-w-2xl p-4 mt-6 text-sm text-gray-800 whitespace-pre-line bg-gray-100 rounded-lg sm:text-base",children:W}),M&&(0,l.jsx)("div",{className:"mt-6 text-sm text-blue-500 sm:text-base",children:s("processing")})]})}function _(){let{data:e,status:t}=(0,n.wV)();(0,c.useRouter)();let[s,o]=(0,a.useState)(null),[d,x]=(0,a.useState)(null),[u,p]=(0,a.useState)(""),[h,g]=(0,a.useState)(""),[b,y]=(0,a.useState)(""),[v,w]=(0,a.useState)(""),[j,N]=(0,a.useState)(!1),[_,C]=(0,a.useState)(""),[F,k]=(0,a.useState)("female"),[T,D]=(0,a.useState)("1990-01-01T08:00");return(0,a.useRef)(null),(0,l.jsxs)("div",{children:[(0,l.jsx)(r.default,{}),(0,l.jsx)(f,{}),(0,l.jsx)(S,{}),(0,l.jsx)(m,{}),(0,l.jsx)(i.A,{})]})}},40003:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var l=s(95155),a=s(60388),o=s(66766),r=s(22346),i=s(17652);function n(){let e=(0,i.c3)("home.footer"),t={contact:[{name:e("contact"),href:"/customer/contact"}],law:[{name:e("privacy"),href:"/customer/privacy"},{name:e("terms"),href:"/customer/terms"}],social:[{icon:"/images/footer/Facebook.png",href:"https://www.facebook.com/profile.php?id=61578389876952"},{icon:"/images/footer/Instagram.png",href:"https://www.instagram.com/harmoniq_fengshui/"}]};return(0,l.jsx)("footer",{className:"bg-[#004F44] text-gray-300 px-5 md:px-0",style:{fontFamily:"Noto Serif TC, serif"},children:(0,l.jsxs)("div",{className:"container px-4 mx-auto py-25",children:[(0,l.jsxs)("div",{className:"justify-center item-center text-[50px] font-bold text-white text-center mb-10",children:[(0,l.jsx)("h1",{className:"text-white",style:{fontFamily:"Noto Serif TC, serif",fontWeight:400,fontSize:"46px"},children:e("title")}),(0,l.jsx)("p",{className:"mt-2 text-white",style:{fontFamily:"Noto Serif TC, serif",fontWeight:400,fontSize:"24px"},children:e("subtitle")}),(0,l.jsx)(a.N_,{href:"/price",className:"inline-flex items-center justify-center mt-10 transition-colors hover:bg-gray-50",style:{width:"172px",height:"50px",borderRadius:"20px",backgroundColor:"white",border:"1px solid #ccc",color:"#25826C",textDecoration:"none",fontSize:"18px",fontFamily:"Noto Serif TC, serif"},children:e("button")})]}),(0,l.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-5",children:[(0,l.jsxs)("div",{className:"flex gap-12",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"mb-4 text-xl font-semibold text-white",style:{fontFamily:"Noto Serif TC, serif"},children:e("consult")}),(0,l.jsx)("ul",{className:"space-y-2",children:t.contact.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)(a.N_,{href:e.href,className:"text-xl transition-colors hover:text-white",style:{fontFamily:"Noto Serif TC, serif"},children:e.name})},e.name))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"mb-4 text-xl font-semibold text-white",style:{fontFamily:"Noto Serif TC, serif"},children:e("law")}),(0,l.jsx)("ul",{className:"space-y-2",children:t.law.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)(a.N_,{href:e.href,className:"text-xl transition-colors hover:text-white",style:{fontFamily:"Noto Serif TC, serif"},children:e.name})},e.name))})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"mb-4 text-xl font-semibold text-white min-w-30",style:{fontFamily:"Noto Serif TC, serif"},children:e("focus")}),(0,l.jsx)("div",{className:"flex space-x-4",children:t.social.map(e=>e.href?(0,l.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"transition-opacity hover:opacity-80",children:(0,l.jsx)(o.default,{src:e.icon,alt:"",width:30,height:30})},e.icon):(0,l.jsx)(o.default,{src:e.icon,alt:"",width:30,height:30},e.icon))})]})]}),(0,l.jsx)(r.Separator,{className:"mt-7.5"}),(0,l.jsx)("div",{className:"mt-5 font-semibold text-center border-t border-[#004F44] md:mt-10",style:{fontFamily:"Noto Serif TC, serif"},children:(0,l.jsxs)("p",{children:["\xa9 2025 HarmoniQ. ",e("copyright")]})})]})})}},41390:(e,t,s)=>{Promise.resolve().then(s.bind(s,23449))},69303:(e,t,s)=>{"use strict";s.d(t,{ImageProvider:()=>i,l:()=>n});var l=s(95155),a=s(12115);let o=(0,a.createContext)(),r=(e,t,s)=>{let l=e.split(","),a=l[0].match(/:(.*?);/)[1],o=atob(l[1]),r=o.length,i=new Uint8Array(r);for(;r--;)i[r]=o.charCodeAt(r);return new File([i],t,{type:a})};function i(e){let{children:t}=e,[s,i]=(0,a.useState)(null),[n,c]=(0,a.useState)(null),[d,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>((async()=>{if(!d){try{let e=sessionStorage.getItem("uploadPicFileData");if(e){let t=JSON.parse(e);if(!t.timestamp||Date.now()-t.timestamp<36e5){let e=r(t.base64,t.name,t.type),s=URL.createObjectURL(e);c(e),i(s),console.log("ImageContext: File restored from sessionStorage:",t.name),console.log("ImageContext: Preview URL created:",s)}else sessionStorage.removeItem("uploadPicFileData"),console.log("ImageContext: Cleared old file data from sessionStorage")}}catch(e){console.error("ImageContext: Error loading saved image data:",e),sessionStorage.removeItem("uploadPicFileData")}m(!0)}})(),()=>{s&&s.startsWith("blob:")&&URL.revokeObjectURL(s)}),[]);let f=e=>{s&&s.startsWith("blob:")&&URL.revokeObjectURL(s),i(e)};return(0,l.jsx)(o.Provider,{value:{preview:s,setPreview:f,file:n,setFile:e=>{c(e),!e&&s&&f(null)},isInitialized:d},children:t})}function n(){return(0,a.useContext)(o)}}},e=>{var t=t=>e(e.s=t);e.O(0,[8057,586,6453,5849,5493,534,3063,2942,6699,3151,8441,1684,7358],()=>t(41390)),_N_E=e.O()}]);