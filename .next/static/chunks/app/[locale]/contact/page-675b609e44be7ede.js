(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[257],{2753:(e,r,a)=>{"use strict";a.d(r,{default:()=>h});var t=a(73243),o=a(45323),n=a(82247);let s=(0,a(61390).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var l=a(14041),c=a(40217),i=a(8403),d=a(92387),u=a(71400);let m={name:"姓名",email:"邮箱",category:"类别",otherCategory:"其他类别",message:"留言内容"},h=()=>{let e=(0,c.c3)("home.contact"),r=(0,c.c3)("toast"),a=Array.from([,,,,,]),h=(0,l.useRouter)(),[p,g]=(0,o.useState)({name:"",email:"",category:"",otherCategory:"",message:""}),[y,f]=(0,o.useState)(!1),b=async e=>{e.preventDefault();let a=Object.entries(p).map(e=>{let[r,a]=e;return"<p>".concat(m[r],":").concat(a,"</p>")}),t={content:"<div>".concat(a.join(""),"</div>")};f(!0);try{(await (0,d.bE)("/api/sendEmail",t)).data?(u.oR.success("发送成功，"+r("loading")),f(!1),g({name:"",email:"",category:"",otherCategory:"",message:""}),h.push("/")):(u.oR.error("发送失败"),f(!1))}catch(e){u.oR.error("发送失败"+e.message),f(!1),console.log("submit error",e)}},x=e=>{let{name:r,value:a}=e.target;g(e=>({...e,[r]:a}))};return(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 sm:p-8 shadow-sm",children:[(0,t.jsx)(i.m5,{fullscreen:!0,spinning:y,tip:r("loading2"),className:"bg-[#fff9]"}),(0,t.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block font-lora text-sm font-medium text-brown mb-2",children:e("name.label")}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:p.name,onChange:x,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:e("name.placeholder")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block font-lora text-sm font-medium text-brown mb-2",children:e("email.label")}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:p.email,onChange:x,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:e("email.placeholder")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"category",className:"block font-lora text-sm font-medium text-brown mb-2",children:e("category.label")}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{id:"category",name:"category",value:p.category,onChange:x,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-primary appearance-none",children:[(0,t.jsx)("option",{value:"",children:e("category.placeholder")}),a.map((r,a)=>(0,t.jsx)("option",{value:e("category.option".concat(a+1)),children:e("category.option".concat(a+1))},a))]}),(0,t.jsx)(n.A,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]}),"Other"===p.category&&(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"text",name:"otherCategory",value:p.otherCategory,onChange:x,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:e("category.otherPlaceholder")})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"message",className:"block font-lora text-sm font-medium text-brown mb-2",children:e("message.label")}),(0,t.jsx)("textarea",{id:"message",name:"message",value:p.message,onChange:x,required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-primary resize-none",placeholder:e("message.placeholder")})]}),(0,t.jsxs)("button",{disabled:y,type:"submit",className:"w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary-dark transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(s,{className:"w-5 h-5"}),e("submit")]})]})]})}},3554:(e,r,a)=>{Promise.resolve().then(a.bind(a,49439)),Promise.resolve().then(a.bind(a,2753))},14041:(e,r,a)=>{"use strict";var t=a(52517);a.o(t,"permanentRedirect")&&a.d(r,{permanentRedirect:function(){return t.permanentRedirect}}),a.o(t,"redirect")&&a.d(r,{redirect:function(){return t.redirect}}),a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(r,{useSearchParams:function(){return t.useSearchParams}})},40217:(e,r,a)=>{"use strict";a.d(r,{c3:()=>n});var t=a(32376);function o(e,r){return(...e)=>{try{return r(...e)}catch{throw Error(void 0)}}}let n=o(0,t.c3);o(0,t.kc)},49439:(e,r,a)=>{"use strict";a.d(r,{default:()=>n});var t=a(32376),o=a(73243);function n(e){let{locale:r,...a}=e;if(!r)throw Error(void 0);return(0,o.jsx)(t.Dk,{locale:r,...a})}},61390:(e,r,a)=>{"use strict";a.d(r,{A:()=>d});var t=a(45323);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),s=e=>{let r=n(e);return r.charAt(0).toUpperCase()+r.slice(1)},l=function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return r.filter((e,r,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===r).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)((e,r)=>{let{color:a="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:d,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:r,...c,width:o,height:o,stroke:a,strokeWidth:s?24*Number(n)/Number(o):n,className:l("lucide",i),...m},[...u.map(e=>{let[r,a]=e;return(0,t.createElement)(r,a)}),...Array.isArray(d)?d:[d]])}),d=(e,r)=>{let a=(0,t.forwardRef)((a,n)=>{let{className:c,...d}=a;return(0,t.createElement)(i,{ref:n,iconNode:r,className:l("lucide-".concat(o(s(e))),"lucide-".concat(e),c),...d})});return a.displayName=s(e),a}},82247:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(61390).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},92387:(e,r,a)=>{"use strict";async function t(e){let{url:r,method:a,headers:t={},body:o,isCached:n}=e;try{let e=await fetch(r,{method:a.toUpperCase(),headers:{"Content-Type":"application/json",...t},body:o?JSON.stringify(o):void 0,cache:n?"force-cache":"no-store"});return await e.json()}catch(e){throw console.log("ajax error",e),Error("ajax error ",e.message)}}async function o(e,r){return await t({url:e,method:"GET",...r})}async function n(e,r){return await t({url:e,method:"POST",body:r})}async function s(e,r){return await t({url:e,method:"PATCH",body:r})}a.d(r,{F6:()=>s,Jt:()=>o,bE:()=>n})}},e=>{var r=r=>e(e.s=r);e.O(0,[376,400,403,638,72,358],()=>r(3554)),_N_E=e.O()}]);