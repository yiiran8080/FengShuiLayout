(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[638],{849:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseLengthAndUnit=a,r.cssValue=function(e){var r=a(e);return"".concat(r.value).concat(r.unit)};var t={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function a(e){if("number"==typeof e)return{value:e,unit:"px"};var r,a=(e.match(/^[0-9.]*/)||"").toString();r=a.includes(".")?parseFloat(a):parseInt(a,10);var o=(e.match(/[^0-9]*$/)||"").toString();return t[o]?{value:r,unit:o}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(r,"px.")),{value:r,unit:"px"})}},2705:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createAnimation=void 0,r.createAnimation=function(e,r,t){var a="react-spinners-".concat(e,"-").concat(t);if("undefined"==typeof window||!window.document)return a;var o=document.createElement("style");document.head.appendChild(o);var n=o.sheet,i="\n    @keyframes ".concat(a," {\n      ").concat(r,"\n    }\n  ");return n&&n.insertRule(i,0),a}},3121:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(8985).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4460:(e,r,t)=>{Promise.resolve().then(t.bind(t,4483)),Promise.resolve().then(t.bind(t,4898))},4483:(e,r,t)=>{"use strict";t.d(r,{default:()=>n});var a=t(8052),o=t(8081);function n(e){let{locale:r,...t}=e;if(!r)throw Error(void 0);return(0,o.jsx)(a.Dk,{locale:r,...t})}},4898:(e,r,t)=>{"use strict";t.d(r,{default:()=>h});var a=t(8081),o=t(2149),n=t(3121);let i=(0,t(8985).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var s=t(9651),l=t(5381),c=t(7386),u=t.n(c),d=t(6391),m=t(9026);let p={name:"姓名",email:"邮箱",category:"类别",otherCategory:"其他类别",message:"留言内容"},h=()=>{let e=(0,l.c3)("home.contact"),r=(0,l.c3)("toast"),t=Array.from([,,,,,]),c=(0,s.useRouter)(),[h,f]=(0,o.useState)({name:"",email:"",category:"",otherCategory:"",message:""}),[g,y]=(0,o.useState)(!1),b=async e=>{e.preventDefault();let t=Object.entries(h).map(e=>{let[r,t]=e;return"<p>".concat(p[r],":").concat(t,"</p>")}),a={content:"<div>".concat(t.join(""),"</div>")};y(!0);try{(await (0,d.bE)("/api/sendEmail",a)).data?(m.oR.success("发送成功，"+r("loading")),y(!1),f({name:"",email:"",category:"",otherCategory:"",message:""}),c.push("/")):(m.oR.error("发送失败"),y(!1))}catch(e){m.oR.error("发送失败"+e.message),y(!1),console.log("submit error",e)}},v=e=>{let{name:r,value:t}=e.target;f(e=>({...e,[r]:t}))};return(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 sm:p-8 shadow-sm",children:[(0,a.jsx)(u(),{color:"#666",loading:g,cssOverride:{position:"fixed",left:"50%",top:"50%",zIndex:60},size:30,"aria-label":"loading...","data-testid":"loader"}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block font-lora text-sm font-medium text-brown mb-2",children:e("name.label")}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:h.name,onChange:v,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:e("name.placeholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block font-lora text-sm font-medium text-brown mb-2",children:e("email.label")}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:h.email,onChange:v,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:e("email.placeholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category",className:"block font-lora text-sm font-medium text-brown mb-2",children:e("category.label")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("select",{id:"category",name:"category",value:h.category,onChange:v,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-primary appearance-none",children:[(0,a.jsx)("option",{value:"",children:e("category.placeholder")}),t.map((r,t)=>(0,a.jsx)("option",{value:e("category.option".concat(t+1)),children:e("category.option".concat(t+1))},t))]}),(0,a.jsx)(n.A,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]}),"Other"===h.category&&(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"text",name:"otherCategory",value:h.otherCategory,onChange:v,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:e("category.otherPlaceholder")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"message",className:"block font-lora text-sm font-medium text-brown mb-2",children:e("message.label")}),(0,a.jsx)("textarea",{id:"message",name:"message",value:h.message,onChange:v,required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-primary resize-none",placeholder:e("message.placeholder")})]}),(0,a.jsxs)("button",{disabled:g,type:"submit",className:"w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary-dark transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(i,{className:"w-5 h-5"}),e("submit")]})]})]})}},5381:(e,r,t)=>{"use strict";t.d(r,{c3:()=>n});var a=t(8052);function o(e,r){return(...e)=>{try{return r(...e)}catch{throw Error(void 0)}}}let n=o(0,a.c3);o(0,a.kc)},6391:(e,r,t)=>{"use strict";async function a(e){let{url:r,method:t,headers:a={},body:o,isCached:n}=e;try{let e=await fetch(r,{method:t.toUpperCase(),headers:{"Content-Type":"application/json",...a},body:o?JSON.stringify(o):void 0,cache:n?"force-cache":"no-store"});return await e.json()}catch(e){throw console.log("ajax error",e),Error("ajax error ",e.message)}}async function o(e,r){return await a({url:e,method:"GET",...r})}async function n(e,r){return await a({url:e,method:"POST",body:r})}async function i(e,r){return await a({url:e,method:"PATCH",body:r})}t.d(r,{F6:()=>i,Jt:()=>o,bE:()=>n})},7386:function(e,r,t){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,r,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,a,o)}:function(e,r,t,a){void 0===a&&(a=t),e[a]=r[t]}),n=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&o(r,e,t);return n(r,e),r},s=this&&this.__rest||function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>r.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)0>r.indexOf(a[o])&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]]);return t};Object.defineProperty(r,"__esModule",{value:!0});var l=i(t(2149)),c=t(849),u=(0,t(2705).createAnimation)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");r.default=function(e){var r=e.loading,t=e.color,o=void 0===t?"#000000":t,n=e.speedMultiplier,i=e.cssOverride,d=e.size,m=void 0===d?35:d,p=s(e,["loading","color","speedMultiplier","cssOverride","size"]),h=a({background:"transparent !important",width:(0,c.cssValue)(m),height:(0,c.cssValue)(m),borderRadius:"100%",border:"2px solid",borderTopColor:o,borderBottomColor:"transparent",borderLeftColor:o,borderRightColor:o,display:"inline-block",animation:"".concat(u," ").concat(.75/(void 0===n?1:n),"s 0s infinite linear"),animationFillMode:"both"},void 0===i?{}:i);return void 0===r||r?l.createElement("span",a({style:h},p)):null}},8985:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var a=t(2149);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),i=e=>{let r=n(e);return r.charAt(0).toUpperCase()+r.slice(1)},s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:u,iconNode:d,...m}=e;return(0,a.createElement)("svg",{ref:r,...l,width:o,height:o,stroke:t,strokeWidth:i?24*Number(n)/Number(o):n,className:s("lucide",c),...m},[...d.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(u)?u:[u]])}),u=(e,r)=>{let t=(0,a.forwardRef)((t,n)=>{let{className:l,...u}=t;return(0,a.createElement)(c,{ref:n,iconNode:r,className:s("lucide-".concat(o(i(e))),"lucide-".concat(e),l),...u})});return t.displayName=i(e),t}},9651:(e,r,t)=>{"use strict";var a=t(4571);t.o(a,"permanentRedirect")&&t.d(r,{permanentRedirect:function(){return a.permanentRedirect}}),t.o(a,"redirect")&&t.d(r,{redirect:function(){return a.redirect}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})}},e=>{var r=r=>e(e.s=r);e.O(0,[52,26,497,954,358],()=>r(4460)),_N_E=e.O()}]);