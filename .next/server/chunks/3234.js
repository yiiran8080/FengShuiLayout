"use strict";exports.id=3234,exports.ids=[3234],exports.modules={53234:(e,o,t)=>{t.d(o,{default:()=>v});var n=t(60687),s=t(43210),r=t(25324),i=t(30474);t(4852);var l=t(16189),a=t(21342),c=t(78272),h=t(4780);let d=async()=>{try{console.log("\uD83C\uDF0D Detecting user region...");let e=await fetch("https://ipapi.co/json/",{timeout:5e3});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let o=await e.json();console.log("\uD83C\uDF0D Geolocation data:",o);let t=o.country_code;if("CN"===t)return console.log("\uD83C\uDDE8\uD83C\uDDF3 Detected: China"),"china";if("HK"===t)return console.log("\uD83C\uDDED\uD83C\uDDF0 Detected: Hong Kong"),"hongkong";return console.log("ï¿½ Detected: Other region - using Hong Kong as default"),"hongkong"}catch(e){return console.warn("âš ï¸ Region detection failed:",e.message),console.log("\uD83C\uDDF9\uD83C\uDDFC Falling back to Taiwan as default region"),"taiwan"}},g=()=>{try{for(let e of navigator.languages||[navigator.language||navigator.userLanguage]){let o=e.toLowerCase();if(o.includes("zh-cn")||o.includes("zh-hans"))return console.log("\uD83C\uDE38 Language detected: Simplified Chinese (China)"),"china";if(o.includes("zh-hk"))return console.log("\uD83C\uDE33 Language detected: Hong Kong Chinese"),"hongkong"}return console.log("\uD83C\uDF10 No specific Chinese locale detected, defaulting to Hong Kong"),"hongkong"}catch(e){return console.warn("âš ï¸ Language detection failed:",e.message),"taiwan"}},m=async()=>{console.log("\uD83D\uDE80 Starting region detection...");let e=await d();if("hongkong"===e){let e=g();return console.log("\uD83D\uDCCD Final region selection:",e),e}return console.log("\uD83D\uDCCD Final region selection:",e),e},f=e=>{},u={china:{name:"China",code:"CN",currency:"CNY",symbol:"\xa5",locale:"zh-CN",prices:{basic:688,premium:1288},stripePriceIds:{basic:"price_china_basic_cny",premium:"price_china_premium_cny"},currencyPosition:"before",flag:"\uD83C\uDDE8\uD83C\uDDF3",paymentMethods:["card","alipay","wechat_pay"]},hongkong:{name:"Hong Kong",code:"HK",currency:"HKD",symbol:"HK$",locale:"zh-TW",prices:{basic:888,premium:1588},stripePriceIds:{basic:"price_hk_basic_hkd",premium:"price_hk_premium_hkd"},currencyPosition:"before",flag:"\uD83C\uDDED\uD83C\uDDF0",paymentMethods:["card","alipay_hk","octopus"]}},p=e=>u[e]||u.hongkong,y=(e,o)=>{let t=p(o),n=e.toLocaleString();return"before"===t.currencyPosition?`${t.symbol}${n}`:`${n}${t.symbol}`},x=(e={})=>{let{autoRedirect:o=!1,skipFirstRedirect:t=!0}=e,n=(0,r.rd)(),i=(0,r.a8)(),[l,a]=(0,s.useState)("hongkong"),[c,h]=(0,s.useState)(null),[d,g]=(0,s.useState)(!0),[u,x]=(0,s.useState)(null),[N,b]=(0,s.useState)(!1),k=i.startsWith("/zh-CN")?"zh-CN":"zh-TW",j={china:"zh-CN",hongkong:"zh-TW"};return(0,s.useEffect)(()=>{(async()=>{try{g(!0),console.log("\uD83D\uDE80 Initializing enhanced region detection...");let e=await m(),s=p(e);if(a(e),h(s),x(null),console.log("âœ… Region initialized:",e),o&&!N&&!t){let o=j[e];if(o&&o!==k){console.log(`ðŸ”„ Auto-redirecting from ${k} to ${o}`);let e=`/${i.split("/").slice(2).join("/")}`;n.push(e,{locale:o}),b(!0)}}}catch(o){console.error("âŒ Region detection failed:",o),x(o.message);let e=p("hongkong");a("hongkong"),h(e)}finally{g(!1)}})()},[o,N,t,k,i,n]),{region:l,regionConfig:c,isLoading:d,error:u,currentLocale:k,hasAutoRedirected:N,changeRegion:e=>{if(["china","hongkong"].includes(e)){let o=p(e),t=j[e];if(a(e),h(o),f(e),console.log("\uD83D\uDD04 Region changed to:",e),t&&t!==k){let e=`/${i.split("/").slice(2).join("/")}`;n.push(e,{locale:t})}}},formatPriceForRegion:e=>y(e,l),getStripePriceId:(e="basic")=>c?.stripePriceIds?.[e]||null,currency:c?.currency||"HKD",symbol:c?.symbol||"HK$",locale:c?.locale||"zh-TW",flag:c?.flag||"\uD83C\uDDED\uD83C\uDDF0"}};function N({className:e,navTextColor:o="#fff"}){let t=(0,l.usePathname)(),i=(0,r.rd)(),{region:d,changeRegion:g,isLoading:m,currentLocale:f}=x({autoRedirect:!0,skipFirstRedirect:!0}),[u,p]=(0,s.useState)(!1),y=t.startsWith("/zh-CN")?"zh-CN":"zh-TW",N=[{key:"china",name:"ä¸­å›½å¤§é™†",flag:"\uD83C\uDDE8\uD83C\uDDF3",locale:"zh-CN",currency:"CNY",symbol:"\xa5",displayText:"\uD83C\uDDE8\uD83C\uDDF3 ç®€ä½“ä¸­æ–‡"},{key:"hongkong",name:"é¦™æ¸¯",flag:"\uD83C\uDDED\uD83C\uDDF0",locale:"zh-TW",currency:"HKD",symbol:"HK$",displayText:"\uD83C\uDDED\uD83C\uDDF0 ç¹é«”ä¸­æ–‡"}],b=N.find(e=>e.key===d)||N[1],k=e=>{let o=N.find(o=>o.key===e);if(!o)return;g(e);let n=`/${t.split("/").slice(2).join("/")}`;i.push(n,{locale:o.locale})};return u?(0,n.jsxs)(a.rI,{children:[(0,n.jsx)(a.ty,{asChild:!0,className:(0,h.cn)("cursor-pointer flex items-center space-x-1 hover:opacity-80",e),children:(0,n.jsxs)("div",{style:{color:o},children:[(()=>{if(!u)return"\uD83C\uDF0D Loading...";if(m)return"\uD83C\uDF0D Detecting...";let e=N.find(e=>e.locale===y);return e?e.displayText:b.displayText})(),(0,n.jsx)(c.A,{className:"w-4 h-4 ml-1 inline"})]})}),(0,n.jsxs)(a.SQ,{className:"bg-white rounded-lg shadow-lg p-1 min-w-[160px]",children:[N.map(e=>(0,n.jsx)(a._2,{className:"focus:bg-inherit",children:(0,n.jsxs)("button",{onClick:()=>k(e.key),className:(0,h.cn)("w-full text-left px-4 py-2 text-sm hover:text-primary rounded text-foreground flex items-center justify-between",d===e.key&&y===e.locale?"bg-green-50 text-green-600 font-medium":""),children:[(0,n.jsx)("span",{children:e.displayText}),(0,n.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:e.symbol})]})},e.key)),!1]})]}):(0,n.jsx)("div",{className:(0,h.cn)("cursor-pointer flex items-center space-x-1 opacity-50",e),children:(0,n.jsx)("span",{style:{color:o},children:"\uD83C\uDF0D Loading..."})})}var b=t(63733),k=t(99208);t(35950);var j=t(77618);t(72402);var C=t(54337);function v({from:e,backgroundColor:o="transparent"}){let t=(0,j.c3)("Navigation"),l=(0,j.c3)("home.hero"),a=(0,r.rd)(),c=(0,r.a8)(),h=(0,b.A)(),{data:d,status:g}=(0,k.wV)(),[m,f]=(0,s.useState)(!1),u="authenticated"===g&&d?.user?.userId,p="/home"===c,y=p?"#fff":"#000",x=e=>{let o=document.getElementById(e);o&&o.scrollIntoView({behavior:"smooth"})},v=e=>{"/home"===c?x(e):a.push(`/home#${e}`)};return(0,n.jsxs)("nav",{className:`absolute top-0 left-0 right-0 z-[70] h-16 ${p?"":"bg-white shadow-sm"}`,style:{fontFamily:"Noto Serif TC, serif",backgroundColor:"transparent"===o?"transparent":`#${o.replace("#","")}`},children:[(0,n.jsx)("div",{className:"h-full px-4",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between h-full",children:[(0,n.jsxs)("div",{className:"flex items-center gap-6",children:[(0,n.jsxs)(r.N_,{href:"/home",className:"flex items-center gap-2",children:[(0,n.jsx)(i.default,{src:p?"/images/logo/logo-white.png":"/images/logo/logo-black.png",alt:"HarmoniQ Logo",width:32,height:32,className:"w-8 h-8 mx-2"}),(0,n.jsx)("span",{className:"text-2xl font-bold mr-15",style:{fontFamily:"Noto Serif TC, serif",color:y},children:"HarmoniQ"})]}),!h&&(0,n.jsxs)("div",{className:"flex items-center gap-10 ml-6",children:[(0,n.jsx)(r.N_,{href:"/home",className:"transition-colors hover:opacity-80",style:{fontFamily:"Noto Serif TC, serif",color:y},children:t("home")}),(0,n.jsx)(r.N_,{href:"/",className:"transition-colors hover:opacity-80",style:{fontFamily:"Noto Serif TC, serif",color:y},children:t("smartChat")}),(0,n.jsx)(r.N_,{href:"/price",className:"transition-colors hover:opacity-80",style:{fontFamily:"Noto Serif TC, serif",color:y},children:t("pricing")}),(0,n.jsx)("button",{onClick:()=>v("faq"),className:"transition-colors cursor-pointer hover:opacity-80",style:{fontFamily:"Noto Serif TC, serif",color:y},children:t("faq")})]})]}),(0,n.jsxs)("div",{className:"flex items-center md:space-x-6",children:[h&&(0,n.jsx)("button",{onClick:()=>f(!m),className:"p-2 rounded-md hover:bg-gray-100 mr-2",style:{color:y},children:m?(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),!h&&(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsx)(N,{navTextColor:y})}),"loading"===g?(0,n.jsx)("div",{className:"w-6 h-6 border-2 rounded-full border-t-transparent animate-spin",style:{borderColor:y}}):u&&"login"!==e?(0,n.jsx)(C.A,{}):(0,n.jsx)(r.N_,{className:"block text-base focus:text-primary",href:"/auth/login",style:{fontFamily:"Noto Serif TC, serif",color:y},children:l("login")})]})]})}),h&&m&&(0,n.jsx)("div",{className:"absolute top-16 left-0 right-0 bg-white border-b shadow-lg z-[80]",children:(0,n.jsxs)("div",{className:"px-4 py-2 space-y-2",children:[(0,n.jsx)(r.N_,{href:"/home",className:"block py-2 px-4 text-gray-800 hover:bg-gray-100 rounded transition-colors",onClick:()=>f(!1),style:{fontFamily:"Noto Serif TC, serif"},children:t("home")}),(0,n.jsx)(r.N_,{href:"/",className:"block py-2 px-4 text-gray-800 hover:bg-gray-100 rounded transition-colors",onClick:()=>f(!1),style:{fontFamily:"Noto Serif TC, serif"},children:t("smartChat")}),(0,n.jsx)(r.N_,{href:"/price",className:"block py-2 px-4 text-gray-800 hover:bg-gray-100 rounded transition-colors",onClick:()=>f(!1),style:{fontFamily:"Noto Serif TC, serif"},children:t("pricing")}),(0,n.jsx)("button",{onClick:()=>{v("faq"),f(!1)},className:"block w-full text-left py-2 px-4 text-gray-800 hover:bg-gray-100 rounded transition-colors",style:{fontFamily:"Noto Serif TC, serif"},children:t("faq")}),(0,n.jsx)("div",{className:"border-t pt-2 mt-2",children:(0,n.jsx)(N,{navTextColor:"#000"})})]})}),h&&m&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-[75]",onClick:()=>f(!1)})]})}},72402:(e,o,t)=>{t(60687),t(43210),t(25324),t(4780),t(93853),t(99208)}};