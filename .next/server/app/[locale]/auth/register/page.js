(()=>{var e={};e.id=768,e.ids=[768],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26093:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=s(65239),t=s(48088),i=s(88170),o=s.n(i),n=s(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(r,l);let d={children:["",{children:["[locale]",{children:["auth",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,56202)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/auth/register/page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,11434)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,66196)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/error.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,54413)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/auth/register/page.jsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/[locale]/auth/register/page",pathname:"/[locale]/auth/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34220:(e,r,s)=>{Promise.resolve().then(s.bind(s,57556))},47372:(e,r,s)=>{Promise.resolve().then(s.bind(s,56202))},56202:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/auth/register/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/auth/register/page.jsx","default")},57556:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>p});var a=s(60687),t=s(43210),i=s(99208),o=s(16189),n=s(85814),l=s.n(n),d=s(53234),c=s(89964),m=s(93853),u=s(77618);function p(){let e=(0,o.useRouter)(),r=(0,u.c3)("register"),s=(0,u.c3)("toast"),[n,p]=(0,t.useState)(!1),[g,h]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:""}),[x,f]=(0,t.useState)({}),b=e=>{let{name:r,value:s}=e.target;h(e=>({...e,[r]:s})),x[r]&&f(e=>({...e,[r]:""}))},v=()=>{let e={};return g.name.trim()||(e.name=r("validation.nameRequired")),g.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)||(e.email=r("validation.emailInvalid")):e.email=r("validation.emailRequired"),g.password?g.password.length<8?e.password=r("validation.passwordMinLength"):/(?=.*[a-zA-Z])(?=.*\d)/.test(g.password)||(e.password=r("validation.passwordFormat")):e.password=r("validation.passwordRequired"),g.confirmPassword?g.password!==g.confirmPassword&&(e.confirmPassword=r("validation.passwordMismatch")):e.confirmPassword=r("validation.confirmPasswordRequired"),f(e),0===Object.keys(e).length},w=async s=>{if(s.preventDefault(),v()){p(!0);try{let s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g.name,email:g.email,password:g.password})}),a=await s.json();if(s.ok){m.oR.success(r("messages.registerSuccess"));let s=await (0,i.Jv)("credentials",{email:g.email,password:g.password,redirect:!1});s?.error?(m.oR.warning(r("messages.registerSuccessLoginFailed")),e.push("/auth/login")):(m.oR.success(r("messages.registerAndLoginSuccess")),e.push("/"))}else a.message.includes("already exists")?f({email:r("validation.emailExists")}):f({general:a.message||r("messages.registerFailed")}),m.oR.error(a.message||r("messages.registerFailed"))}catch(e){console.error("Registration error:",e),f({general:r("messages.registerFailed")}),m.oR.error(r("messages.registerFailed"))}finally{p(!1)}}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(d.default,{from:"register"}),(0,a.jsx)(c.m5,{spinning:n,fullscreen:!0,tip:s("processing"),className:"bg-[#fff9]"}),(0,a.jsx)("div",{className:"flex flex-col items-center justify-center px-6 py-12 mx-auto bg-secondary md:bg-gray-50",children:(0,a.jsxs)("div",{className:"w-full h-screen p-10 space-y-8 bg-secondary md:w-100 md:shadow-lg md:h-auto",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("h1",{className:"text-5xl font-bold text-primary",children:"HarmoniQ"}),(0,a.jsx)("p",{className:"mt-16 text-[#086E56] text-sm text-center",children:r("title")})]}),(0,a.jsxs)("form",{onSubmit:w,className:"mt-8 space-y-4",children:[x.general&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-600 border border-red-200 rounded-lg bg-red-50",children:x.general}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",name:"name",placeholder:r("form.namePlaceholder"),value:g.name,onChange:b,disabled:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#086E56] focus:border-[#086E56] disabled:opacity-50",required:!0}),x.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"email",name:"email",placeholder:r("form.emailPlaceholder"),value:g.email,onChange:b,disabled:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#086E56] focus:border-[#086E56] disabled:opacity-50",required:!0}),x.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"password",name:"password",placeholder:r("form.passwordPlaceholder"),value:g.password,onChange:b,disabled:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#086E56] focus:border-[#086E56] disabled:opacity-50",required:!0}),x.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.password})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"password",name:"confirmPassword",placeholder:r("form.confirmPasswordPlaceholder"),value:g.confirmPassword,onChange:b,disabled:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#086E56] focus:border-[#086E56] disabled:opacity-50",required:!0}),x.confirmPassword&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.confirmPassword})]}),(0,a.jsx)("button",{type:"submit",disabled:n,className:"w-full px-4 py-3 font-medium text-white bg-[#086E56] transition-colors rounded-full hover:bg-[#25826D] focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50",children:n?r("form.registering"):r("form.register")}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[r("haveAccount")," ",(0,a.jsx)(l(),{href:"/auth/login",className:"text-[#086E56] hover:text-[#25826D] font-medium underline",children:r("loginNow")})]})})]}),(0,a.jsx)("div",{className:"mt-4 text-sm text-center text-gray-400",children:r("termsAgreement")})]})})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[7719,7380,9916,7076,5127,6157,9964,8491,6433,3234],()=>s(26093));module.exports=a})();