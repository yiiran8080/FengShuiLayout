(()=>{var e={};e.id=6526,e.ids=[6526],e.modules={222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return n}});let i=r(4e4);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:a}=(0,i.parsePath)(e);return""+r+t+n+a}},2720:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{AppRenderSpan:function(){return l},AppRouteRouteHandlersSpan:function(){return d},BaseServerSpan:function(){return r},LoadComponentsSpan:function(){return i},LogSpanAllowList:function(){return g},MiddlewareSpan:function(){return f},NextNodeServerSpan:function(){return a},NextServerSpan:function(){return n},NextVanillaSpanAllowlist:function(){return p},NodeSpan:function(){return u},RenderSpan:function(){return o},ResolveMetadataSpan:function(){return h},RouterSpan:function(){return c},StartServerSpan:function(){return s}});var r=function(e){return e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404",e}(r||{}),i=function(e){return e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents",e}(i||{}),n=function(e){return e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer",e}(n||{}),a=function(e){return e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch",e}(a||{}),s=function(e){return e.startServer="startServer.startServer",e}(s||{}),o=function(e){return e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult",e}(o||{}),l=function(e){return e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch",e}(l||{}),c=function(e){return e.executeRoute="Router.executeRoute",e}(c||{}),u=function(e){return e.runHandler="Node.runHandler",e}(u||{}),d=function(e){return e.runHandler="AppRouteRouteHandlers.runHandler",e}(d||{}),h=function(e){return e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport",e}(h||{}),f=function(e){return e.execute="Middleware.execute",e}(f||{});let p=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],g=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3582:(e,t,r)=>{"use strict";let i=r(63033),n=r(29294),a=r(75124),s=r(75659),o=r(66224),l=r(38248),c=new WeakMap;function u(e){let t=new d(e),r=Promise.resolve(t);return Object.defineProperty(r,"isEnabled",{get:()=>t.isEnabled,set(e){Object.defineProperty(r,"isEnabled",{value:e,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0}),r.enable=t.enable.bind(t),r.disable=t.disable.bind(t),r}class d{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){f("draftMode().enable()"),null!==this._provider&&this._provider.enable()}disable(){f("draftMode().disable()"),null!==this._provider&&this._provider.disable()}}let h=(0,s.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})});function f(e){let t=n.workAsyncStorage.getStore(),r=i.workUnitAsyncStorage.getStore();if(t){if(r){if("cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E246",enumerable:!1,configurable:!0});if("unstable-cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E259",enumerable:!1,configurable:!0});if("after"===r.phase)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E348",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(r){if("prerender"===r.type){let i=Object.defineProperty(Error(`Route ${t.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});(0,a.abortAndThrowOnSynchronousRequestDataAccess)(t.route,e,i,r)}else if("prerender-ppr"===r.type)(0,a.postponeWithTracking)(t.route,e,r.dynamicTracking);else if("prerender-legacy"===r.type){r.revalidate=0;let i=Object.defineProperty(new l.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw t.dynamicUsageDescription=e,t.dynamicUsageStack=i.stack,i}}}}},4431:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,s.isNextRouterError)(t)||(0,a.isBailoutToCSRError)(t)||(0,l.isDynamicServerError)(t)||(0,o.isDynamicPostpone)(t)||(0,n.isPostpone)(t)||(0,i.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let i=r(37461),n=r(61794),a=r(97683),s=r(43732),o=r(75124),l=r(38248);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4573:e=>{"use strict";e.exports=require("node:buffer")},6475:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return i.callServer},createServerReference:function(){return a},findSourceMapURL:function(){return n.findSourceMapURL}});let i=r(11264),n=r(11448),a=r(19357).createServerReference},7153:(e,t,r)=>{"use strict";e.exports=r(65239).vendored["react-rsc"].React},10492:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let i=Reflect.get(e,t,r);return"function"==typeof i?i.bind(e):i}static set(e,t,r,i){return Reflect.set(e,t,r,i)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12130:(e,t,r)=>{var i;(()=>{var n={226:function(n,a){!function(s,o){"use strict";var l="function",c="undefined",u="object",d="string",h="major",f="model",p="name",g="type",m="vendor",b="version",y="architecture",_="console",v="mobile",x="tablet",w="smarttv",S="wearable",E="embedded",k="Amazon",O="Apple",A="ASUS",R="BlackBerry",P="Browser",T="Chrome",C="Firefox",M="Google",j="Huawei",D="Microsoft",N="Motorola",I="Opera",L="Samsung",U="Sharp",$="Sony",H="Xiaomi",F="Zebra",B="Facebook",W="Chromium OS",z="Mac OS",V=function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},q=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},K=function(e,t){return typeof e===d&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===c?e:e.substring(0,350)},X=function(e,t){for(var r,i,n,a,s,c,d=0;d<t.length&&!s;){var h=t[d],f=t[d+1];for(r=i=0;r<h.length&&!s&&h[r];)if(s=h[r++].exec(e))for(n=0;n<f.length;n++)c=s[++i],typeof(a=f[n])===u&&a.length>0?2===a.length?typeof a[1]==l?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==l||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):void 0:this[a[0]]=c?a[1].call(this,c,a[2]):void 0:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):o):this[a]=c||o;d+=2}},Y=function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(K(t[r][i],e))return"?"===r?o:r}else if(K(t[r],e))return"?"===r?o:r;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,b],[/opios[\/ ]+([\w\.]+)/i],[b,[p,I+" Mini"]],[/\bopr\/([\w\.]+)/i],[b,[p,I]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,b],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[p,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[b,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[b,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[b,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+P],b],[/\bfocus\/([\w\.]+)/i],[b,[p,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[p,I+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[p,I+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[p,"MIUI "+P]],[/fxios\/([-\w\.]+)/i],[b,[p,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+P]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+P],b],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,b],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,B],b],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[b,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[p,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,T+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[p,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[b,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[p,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,b],[/(cobalt)\/([\w\.]+)/i],[p,[b,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,G]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,L],[g,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,L],[g,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,O],[g,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,O],[g,x]],[/(macintosh);/i],[f,[m,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,U],[g,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[m,j],[g,x]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,j],[g,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[m,H],[g,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[m,H],[g,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,"OPPO"],[g,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[g,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[g,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,N],[g,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,N],[g,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,"LG"],[g,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,"LG"],[g,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[m,"Lenovo"],[g,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[m,"Nokia"],[g,v]],[/(pixel c)\b/i],[f,[m,M],[g,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,M],[g,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,$],[g,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,$],[g,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,"OnePlus"],[g,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,k],[g,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,k],[g,v]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[g,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,R],[g,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,A],[g,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,A],[g,v]],[/(nexus 9)/i],[f,[m,"HTC"],[g,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[g,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[g,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[g,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[g,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[g,x]],[/(surface duo)/i],[f,[m,D],[g,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[g,v]],[/(u304aa)/i],[f,[m,"AT&T"],[g,v]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[g,v]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[g,x]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[g,x]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[g,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[g,x]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[g,x]],[/\b(k88) b/i],[f,[m,"ZTE"],[g,x]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[g,v]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[g,v]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[g,x]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[g,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[g,x]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[g,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[g,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[g,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[g,v]],[/\b(ph-1) /i],[f,[m,"Essential"],[g,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[g,x]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[g,x]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[g,x]],[/(shield[\w ]+) b/i],[f,[m,"Nvidia"],[g,x]],[/(sprint) (\w+)/i],[m,f,[g,v]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,D],[g,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,F],[g,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,F],[g,v]],[/smart-tv.+(samsung)/i],[m,[g,w]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,L],[g,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,"LG"],[g,w]],[/(apple) ?tv/i],[m,[f,O+" TV"],[g,w]],[/crkey/i],[[f,T+"cast"],[m,M],[g,w]],[/droid.+aft(\w)( bui|\))/i],[f,[m,k],[g,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,U],[g,w]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,$],[g,w]],[/(mitv-\w{5}) bui/i],[f,[m,H],[g,w]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[g,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,J],[f,J],[g,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[g,_]],[/droid.+; (shield) bui/i],[f,[m,"Nvidia"],[g,_]],[/(playstation [345portablevi]+)/i],[f,[m,$],[g,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,D],[g,_]],[/((pebble))app/i],[m,f,[g,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,O],[g,S]],[/droid.+; (glass) \d/i],[f,[m,M],[g,S]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,F],[g,S]],[/(quest( 2| pro)?)/i],[f,[m,B],[g,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[g,E]],[/(aeobc)\b/i],[f,[m,k],[g,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[g,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,v]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,b],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[b,Y,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[b,Y,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,z],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,b],[/\(bb(10);/i],[b,[p,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[p,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[b,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[b,[p,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,W],b],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,b],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,b]]},ee=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof s!==c&&s.navigator?s.navigator:o,i=e||(r&&r.userAgent?r.userAgent:""),n=r&&r.userAgentData?r.userAgentData:o,a=t?V(Q,t):Q,_=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[p]=o,t[b]=o,X.call(t,i,a.browser),t[h]=typeof(e=t[b])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:o,_&&r&&r.brave&&typeof r.brave.isBrave==l&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[y]=o,X.call(e,i,a.cpu),e},this.getDevice=function(){var e={};return e[m]=o,e[f]=o,e[g]=o,X.call(e,i,a.device),_&&!e[g]&&n&&n.mobile&&(e[g]=v),_&&"Macintosh"==e[f]&&r&&typeof r.standalone!==c&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[f]="iPad",e[g]=x),e},this.getEngine=function(){var e={};return e[p]=o,e[b]=o,X.call(e,i,a.engine),e},this.getOS=function(){var e={};return e[p]=o,e[b]=o,X.call(e,i,a.os),_&&!e[p]&&n&&"Unknown"!=n.platform&&(e[p]=n.platform.replace(/chrome os/i,W).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===d&&e.length>350?J(e,350):e,this},this.setUA(i),this};ee.VERSION="1.0.35",ee.BROWSER=q([p,b,h]),ee.CPU=q([y]),ee.DEVICE=q([f,m,g,_,v,w,x,S,E]),ee.ENGINE=ee.OS=q([p,b]),typeof a!==c?(n.exports&&(a=n.exports=ee),a.UAParser=ee):r.amdO?void 0!==(i=(function(){return ee}).call(t,r,t,e))&&(e.exports=i):typeof s!==c&&(s.UAParser=ee);var et=typeof s!==c&&(s.jQuery||s.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}},i=!0;try{n[e].call(r.exports,r,r.exports,s),i=!1}finally{i&&delete a[e]}return r.exports}s.ab=__dirname+"/",e.exports=s(226)})()},13944:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DetachedPromise",{enumerable:!0,get:function(){return r}});class r{constructor(){let e,t;this.promise=new Promise((r,i)=>{e=r,t=i}),this.resolve=e,this.reject=t}}},14659:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return i.RequestCookies},ResponseCookies:function(){return i.ResponseCookies},stringifyCookie:function(){return i.stringifyCookie}});let i=r(90036)},16296:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isRequestAPICallableInsideAfter:function(){return l},throwForSearchParamsAccessInUseCache:function(){return o},throwWithStaticGenerationBailoutError:function(){return a},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return s}});let i=r(66224),n=r(3295);function a(e,t){throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E576",enumerable:!1,configurable:!0})}function s(e,t){throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function o(e){throw Object.defineProperty(Error(`Route ${e} used "searchParams" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "searchParams" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E634",enumerable:!1,configurable:!0})}function l(){let e=n.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}},18389:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}});var r=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},18463:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return n}});let i=r(4e4);function n(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,i.parsePath)(e);return r===t||r.startsWith(t+"/")}},20464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"after",{enumerable:!0,get:function(){return n}});let i=r(29294);function n(e){let t=i.workAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:r}=t;return r.after(e)}},20814:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/freereport/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/freereport/page.jsx","default")},23302:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"InvariantError",{enumerable:!0,get:function(){return r}});class r extends Error{constructor(e,t){super("Invariant: "+(e.endsWith(".")?e:e+".")+" This is a bug in Next.js.",t),this.name="InvariantError"}}},23794:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return i.ImageResponse},NextRequest:function(){return n.NextRequest},NextResponse:function(){return a.NextResponse},URLPattern:function(){return o.URLPattern},after:function(){return l.after},connection:function(){return c.connection},unstable_rootParams:function(){return u.unstable_rootParams},userAgent:function(){return s.userAgent},userAgentFromString:function(){return s.userAgentFromString}});let i=r(91339),n=r(81661),a=r(39999),s=r(64043),o=r(70388),l=r(44234),c=r(40193),u=r(61096)},23874:(e,t,r)=>{"use strict";Object.defineProperty(t,"U",{enumerable:!0,get:function(){return h}});let i=r(82362),n=r(14659),a=r(29294),s=r(63033),o=r(75124),l=r(66224),c=r(37461),u=r(75659),d=(r(97748),r(16296));function h(){let e="cookies",t=a.workAsyncStorage.getStore(),r=s.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,d.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(t.forceStatic)return p(i.RequestCookiesAdapter.seal(new n.RequestCookies(new Headers({}))));if(r){if("cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});if("unstable-cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new l.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(r){if("prerender"===r.type)return function(e,t){let r=f.get(t);if(r)return r;let i=(0,c.makeHangingPromise)(t.renderSignal,"`cookies()`");return f.set(t,i),Object.defineProperties(i,{[Symbol.iterator]:{value:function(){let r="`cookies()[Symbol.iterator]()`",i=b(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},size:{get(){let r="`cookies().size`",i=b(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},get:{value:function(){let r;r=0==arguments.length?"`cookies().get()`":`\`cookies().get(${g(arguments[0])})\``;let i=b(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},getAll:{value:function(){let r;r=0==arguments.length?"`cookies().getAll()`":`\`cookies().getAll(${g(arguments[0])})\``;let i=b(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},has:{value:function(){let r;r=0==arguments.length?"`cookies().has()`":`\`cookies().has(${g(arguments[0])})\``;let i=b(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},set:{value:function(){let r;if(0==arguments.length)r="`cookies().set()`";else{let e=arguments[0];r=e?`\`cookies().set(${g(e)}, ...)\``:"`cookies().set(...)`"}let i=b(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},delete:{value:function(){let r;r=0==arguments.length?"`cookies().delete()`":1==arguments.length?`\`cookies().delete(${g(arguments[0])})\``:`\`cookies().delete(${g(arguments[0])}, ...)\``;let i=b(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},clear:{value:function(){let r="`cookies().clear()`",i=b(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},toString:{value:function(){let r="`cookies().toString()`",i=b(e,r);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}}}),i}(t.route,r);"prerender-ppr"===r.type?(0,o.postponeWithTracking)(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&(0,o.throwToInterruptStaticGeneration)(e,t,r)}(0,o.trackDynamicDataInDynamicRender)(t,r)}let u=(0,s.getExpectedRequestStore)(e);return p((0,i.areCookiesMutableInCurrentPhase)(u)?u.userspaceMutableCookies:u.cookies)}let f=new WeakMap;function p(e){let t=f.get(e);if(t)return t;let r=Promise.resolve(e);return f.set(e,r),Object.defineProperties(r,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):y.bind(e)},size:{get:()=>e.size},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:"function"==typeof e.clear?e.clear.bind(e):_.bind(e,r)},toString:{value:e.toString.bind(e)}}),r}function g(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name?`'${e.name}'`:"string"==typeof e?`'${e}'`:"..."}let m=(0,u.createDedupedByCallsiteServerErrorLoggerDev)(b);function b(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})}function y(){return this.getAll().map(e=>[e.name,e]).values()}function _(e){for(let e of this.getAll())this.delete(e.name);return e}},23879:(e,t)=>{"use strict";function r(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isThenable",{enumerable:!0,get:function(){return r}})},24796:(e,t,r)=>{"use strict";function i(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return i}}),r(32913).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},25104:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},25220:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return i},RemovedUAError:function(){return n}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class i extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class n extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},27031:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(43210);function n(e,t){(0,i.useRef)(!0);let[r,n]=(0,i.useState)(!0),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)({});return{loading:r,reportDocData:a,assistantData:o}}r(72879),r(91842),r(29200)},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HTTPAccessErrorStatus:function(){return r},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return n},getAccessFallbackErrorTypeByStatus:function(){return o},getAccessFallbackHTTPStatus:function(){return s},isHTTPAccessFallbackError:function(){return a}});let r={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},i=new Set(Object.values(r)),n="NEXT_HTTP_ERROR_FALLBACK";function a(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===n&&i.has(Number(r))}function s(e){return Number(e.digest.split(";")[1])}function o(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},33331:(e,t)=>{"use strict";function r(e){for(let t=0;t<e.length;t++){let r=e[t];if("function"!=typeof r)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof r}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(t,"D",{enumerable:!0,get:function(){return r}})},33873:e=>{"use strict";e.exports=require("path")},34360:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{chainStreams:function(){return d},continueDynamicHTMLResume:function(){return O},continueDynamicPrerender:function(){return E},continueFizzStream:function(){return S},continueStaticPrerender:function(){return k},createBufferedTransformStream:function(){return m},createDocumentClosingStream:function(){return A},createRootLayoutValidatorStream:function(){return w},renderToInitialFizzStream:function(){return b},streamFromBuffer:function(){return f},streamFromString:function(){return h},streamToBuffer:function(){return p},streamToString:function(){return g}});let i=r(44334),n=r(2720),a=r(13944),s=r(97748),o=r(42503),l=r(88477);function c(){}let u=new TextEncoder;function d(...e){if(0===e.length)throw Object.defineProperty(Error("Invariant: chainStreams requires at least one stream"),"__NEXT_ERROR_CODE",{value:"E437",enumerable:!1,configurable:!0});if(1===e.length)return e[0];let{readable:t,writable:r}=new TransformStream,i=e[0].pipeTo(r,{preventClose:!0}),n=1;for(;n<e.length-1;n++){let t=e[n];i=i.then(()=>t.pipeTo(r,{preventClose:!0}))}let a=e[n];return(i=i.then(()=>a.pipeTo(r))).catch(c),t}function h(e){return new ReadableStream({start(t){t.enqueue(u.encode(e)),t.close()}})}function f(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}async function p(e){let t=e.getReader(),r=[];for(;;){let{done:e,value:i}=await t.read();if(e)break;r.push(i)}return Buffer.concat(r)}async function g(e,t){let r=new TextDecoder("utf-8",{fatal:!0}),i="";for await(let n of e){if(null==t?void 0:t.aborted)return i;i+=r.decode(n,{stream:!0})}return i+r.decode()}function m(){let e,t=[],r=0,i=i=>{if(e)return;let n=new a.DetachedPromise;e=n,(0,s.scheduleImmediate)(()=>{try{let e=new Uint8Array(r),n=0;for(let r=0;r<t.length;r++){let i=t[r];e.set(i,n),n+=i.byteLength}t.length=0,r=0,i.enqueue(e)}catch{}finally{e=void 0,n.resolve()}})};return new TransformStream({transform(e,n){t.push(e),r+=e.byteLength,i(n)},flush(){if(e)return e.promise}})}function b({ReactDOMServer:e,element:t,streamOptions:r}){return(0,i.getTracer)().trace(n.AppRenderSpan.renderToReadableStream,async()=>e.renderToReadableStream(t,r))}function y(e){let t=!1,r=!1;return new TransformStream({async transform(i,n){r=!0;let a=await e();if(t){if(a){let e=u.encode(a);n.enqueue(e)}n.enqueue(i)}else{let e=(0,l.indexOfUint8Array)(i,o.ENCODED_TAGS.CLOSED.HEAD);if(-1!==e){if(a){let t=u.encode(a),r=new Uint8Array(i.length+t.length);r.set(i.slice(0,e)),r.set(t,e),r.set(i.slice(e),e+t.length),n.enqueue(r)}else n.enqueue(i);t=!0}else a&&n.enqueue(u.encode(a)),n.enqueue(i),t=!0}},async flush(t){if(r){let r=await e();r&&t.enqueue(u.encode(r))}}})}function _(e){let t=null,r=!1;async function i(i){if(t)return;let n=e.getReader();await (0,s.atLeastOneTask)();try{for(;;){let{done:e,value:t}=await n.read();if(e){r=!0;return}i.enqueue(t)}}catch(e){i.error(e)}}return new TransformStream({transform(e,r){r.enqueue(e),t||(t=i(r))},flush(e){if(!r)return t||i(e)}})}let v="</body></html>";function x(){let e=!1;return new TransformStream({transform(t,r){if(e)return r.enqueue(t);let i=(0,l.indexOfUint8Array)(t,o.ENCODED_TAGS.CLOSED.BODY_AND_HTML);if(i>-1){if(e=!0,t.length===o.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length)return;let n=t.slice(0,i);if(r.enqueue(n),t.length>o.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length+i){let e=t.slice(i+o.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length);r.enqueue(e)}}else r.enqueue(t)},flush(e){e.enqueue(o.ENCODED_TAGS.CLOSED.BODY_AND_HTML)}})}function w(){let e=!1,t=!1;return new TransformStream({async transform(r,i){!e&&(0,l.indexOfUint8Array)(r,o.ENCODED_TAGS.OPENING.HTML)>-1&&(e=!0),!t&&(0,l.indexOfUint8Array)(r,o.ENCODED_TAGS.OPENING.BODY)>-1&&(t=!0),i.enqueue(r)},flush(r){let i=[];e||i.push("html"),t||i.push("body"),i.length&&r.enqueue(u.encode(`<script>self.__next_root_layout_missing_tags=${JSON.stringify(i)}</script>`))}})}async function S(e,{suffix:t,inlinedDataStream:r,isStaticGeneration:i,getServerInsertedHTML:n,getServerInsertedMetadata:o,validateRootLayout:l}){let c=t?t.split(v,1)[0]:null;return i&&"allReady"in e&&await e.allReady,function(e,t){let r=e;for(let e of t)e&&(r=r.pipeThrough(e));return r}(e,[m(),y(o),null!=c&&c.length>0?function(e){let t,r=!1,i=r=>{let i=new a.DetachedPromise;t=i,(0,s.scheduleImmediate)(()=>{try{r.enqueue(u.encode(e))}catch{}finally{t=void 0,i.resolve()}})};return new TransformStream({transform(e,t){t.enqueue(e),r||(r=!0,i(t))},flush(i){if(t)return t.promise;r||i.enqueue(u.encode(e))}})}(c):null,r?_(r):null,l?w():null,x(),y(n)])}async function E(e,{getServerInsertedHTML:t,getServerInsertedMetadata:r}){return e.pipeThrough(m()).pipeThrough(new TransformStream({transform(e,t){!((0,l.isEquivalentUint8Arrays)(e,o.ENCODED_TAGS.CLOSED.BODY_AND_HTML)||(0,l.isEquivalentUint8Arrays)(e,o.ENCODED_TAGS.CLOSED.BODY)||(0,l.isEquivalentUint8Arrays)(e,o.ENCODED_TAGS.CLOSED.HTML))&&(e=(0,l.removeFromUint8Array)(e,o.ENCODED_TAGS.CLOSED.BODY),e=(0,l.removeFromUint8Array)(e,o.ENCODED_TAGS.CLOSED.HTML),t.enqueue(e))}})).pipeThrough(y(t)).pipeThrough(y(r))}async function k(e,{inlinedDataStream:t,getServerInsertedHTML:r,getServerInsertedMetadata:i}){return e.pipeThrough(m()).pipeThrough(y(r)).pipeThrough(y(i)).pipeThrough(_(t)).pipeThrough(x())}async function O(e,{inlinedDataStream:t,getServerInsertedHTML:r,getServerInsertedMetadata:i}){return e.pipeThrough(m()).pipeThrough(y(r)).pipeThrough(y(i)).pipeThrough(_(t)).pipeThrough(x())}function A(){return h(v)}},34821:(e,t,r)=>{"use strict";var i=r(68790),n={stream:!0},a=new Map;function s(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function o(){}function l(e){for(var t=e[1],i=[],n=0;n<t.length;){var l=t[n++];t[n++];var c=a.get(l);if(void 0===c){c=r.e(l),i.push(c);var u=a.set.bind(a,l,null);c.then(u,o),a.set(l,c)}else null!==c&&i.push(c)}return 4===e.length?0===i.length?s(e[0]):Promise.all(i).then(function(){return s(e[0])}):0<i.length?Promise.all(i):null}function c(e){var t=globalThis.__next_require__(e[0]);if(4===e.length&&"function"==typeof t.then){if("fulfilled"===t.status)t=t.value;else throw t.reason}return"*"===e[2]?t:""===e[2]?t.__esModule?t.default:t:t[e[2]]}var u=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,d=Symbol.for("react.transitional.element"),h=Symbol.for("react.lazy"),f=Symbol.iterator,p=Symbol.asyncIterator,g=Array.isArray,m=Object.getPrototypeOf,b=Object.prototype,y=new WeakMap;function _(e,t,r,i,n){function a(e,r){r=new Blob([new Uint8Array(r.buffer,r.byteOffset,r.byteLength)]);var i=l++;return null===u&&(u=new FormData),u.append(t+i,r),"$"+e+i.toString(16)}function s(e,x){if(null===x)return null;if("object"==typeof x){switch(x.$$typeof){case d:if(void 0!==r&&-1===e.indexOf(":")){var w,S,E,k,O,A=_.get(this);if(void 0!==A)return r.set(A+":"+e,x),"$T"}throw Error("React Element cannot be passed to Server Functions from the Client without a temporary reference set. Pass a TemporaryReferenceSet to the options.");case h:A=x._payload;var R=x._init;null===u&&(u=new FormData),c++;try{var P=R(A),T=l++,C=o(P,T);return u.append(t+T,C),"$"+T.toString(16)}catch(e){if("object"==typeof e&&null!==e&&"function"==typeof e.then){c++;var M=l++;return A=function(){try{var e=o(x,M),r=u;r.append(t+M,e),c--,0===c&&i(r)}catch(e){n(e)}},e.then(A,A),"$"+M.toString(16)}return n(e),null}finally{c--}}if("function"==typeof x.then){null===u&&(u=new FormData),c++;var j=l++;return x.then(function(e){try{var r=o(e,j);(e=u).append(t+j,r),c--,0===c&&i(e)}catch(e){n(e)}},n),"$@"+j.toString(16)}if(void 0!==(A=_.get(x))){if(v!==x)return A;v=null}else -1===e.indexOf(":")&&void 0!==(A=_.get(this))&&(e=A+":"+e,_.set(x,e),void 0!==r&&r.set(e,x));if(g(x))return x;if(x instanceof FormData){null===u&&(u=new FormData);var D=u,N=t+(e=l++)+"_";return x.forEach(function(e,t){D.append(N+t,e)}),"$K"+e.toString(16)}if(x instanceof Map)return e=l++,A=o(Array.from(x),e),null===u&&(u=new FormData),u.append(t+e,A),"$Q"+e.toString(16);if(x instanceof Set)return e=l++,A=o(Array.from(x),e),null===u&&(u=new FormData),u.append(t+e,A),"$W"+e.toString(16);if(x instanceof ArrayBuffer)return e=new Blob([x]),A=l++,null===u&&(u=new FormData),u.append(t+A,e),"$A"+A.toString(16);if(x instanceof Int8Array)return a("O",x);if(x instanceof Uint8Array)return a("o",x);if(x instanceof Uint8ClampedArray)return a("U",x);if(x instanceof Int16Array)return a("S",x);if(x instanceof Uint16Array)return a("s",x);if(x instanceof Int32Array)return a("L",x);if(x instanceof Uint32Array)return a("l",x);if(x instanceof Float32Array)return a("G",x);if(x instanceof Float64Array)return a("g",x);if(x instanceof BigInt64Array)return a("M",x);if(x instanceof BigUint64Array)return a("m",x);if(x instanceof DataView)return a("V",x);if("function"==typeof Blob&&x instanceof Blob)return null===u&&(u=new FormData),e=l++,u.append(t+e,x),"$B"+e.toString(16);if(e=null===(w=x)||"object"!=typeof w?null:"function"==typeof(w=f&&w[f]||w["@@iterator"])?w:null)return(A=e.call(x))===x?(e=l++,A=o(Array.from(A),e),null===u&&(u=new FormData),u.append(t+e,A),"$i"+e.toString(16)):Array.from(A);if("function"==typeof ReadableStream&&x instanceof ReadableStream)return function(e){try{var r,a,o,d,h,f,p,g=e.getReader({mode:"byob"})}catch(d){return r=e.getReader(),null===u&&(u=new FormData),a=u,c++,o=l++,r.read().then(function e(l){if(l.done)a.append(t+o,"C"),0==--c&&i(a);else try{var u=JSON.stringify(l.value,s);a.append(t+o,u),r.read().then(e,n)}catch(e){n(e)}},n),"$R"+o.toString(16)}return d=g,null===u&&(u=new FormData),h=u,c++,f=l++,p=[],d.read(new Uint8Array(1024)).then(function e(r){r.done?(r=l++,h.append(t+r,new Blob(p)),h.append(t+f,'"$o'+r.toString(16)+'"'),h.append(t+f,"C"),0==--c&&i(h)):(p.push(r.value),d.read(new Uint8Array(1024)).then(e,n))},n),"$r"+f.toString(16)}(x);if("function"==typeof(e=x[p]))return S=x,E=e.call(x),null===u&&(u=new FormData),k=u,c++,O=l++,S=S===E,E.next().then(function e(r){if(r.done){if(void 0===r.value)k.append(t+O,"C");else try{var a=JSON.stringify(r.value,s);k.append(t+O,"C"+a)}catch(e){n(e);return}0==--c&&i(k)}else try{var o=JSON.stringify(r.value,s);k.append(t+O,o),E.next().then(e,n)}catch(e){n(e)}},n),"$"+(S?"x":"X")+O.toString(16);if((e=m(x))!==b&&(null===e||null!==m(e))){if(void 0===r)throw Error("Only plain objects, and a few built-ins, can be passed to Server Functions. Classes or null prototypes are not supported.");return"$T"}return x}if("string"==typeof x)return"Z"===x[x.length-1]&&this[e]instanceof Date?"$D"+x:e="$"===x[0]?"$"+x:x;if("boolean"==typeof x)return x;if("number"==typeof x)return Number.isFinite(x)?0===x&&-1/0==1/x?"$-0":x:1/0===x?"$Infinity":-1/0===x?"$-Infinity":"$NaN";if(void 0===x)return"$undefined";if("function"==typeof x){if(void 0!==(A=y.get(x)))return e=JSON.stringify(A,s),null===u&&(u=new FormData),A=l++,u.set(t+A,e),"$F"+A.toString(16);if(void 0!==r&&-1===e.indexOf(":")&&void 0!==(A=_.get(this)))return r.set(A+":"+e,x),"$T";throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof x){if(void 0!==r&&-1===e.indexOf(":")&&void 0!==(A=_.get(this)))return r.set(A+":"+e,x),"$T";throw Error("Symbols cannot be passed to a Server Function without a temporary reference set. Pass a TemporaryReferenceSet to the options.")}if("bigint"==typeof x)return"$n"+x.toString(10);throw Error("Type "+typeof x+" is not supported as an argument to a Server Function.")}function o(e,t){return"object"==typeof e&&null!==e&&(t="$"+t.toString(16),_.set(e,t),void 0!==r&&r.set(t,e)),v=e,JSON.stringify(e,s)}var l=1,c=0,u=null,_=new WeakMap,v=e,x=o(e,0);return null===u?i(x):(u.set(t+"0",x),0===c&&i(u)),function(){0<c&&(c=0,null===u?i(x):i(u))}}var v=new WeakMap;function x(e){var t=y.get(this);if(!t)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var r=null;if(null!==t.bound){if((r=v.get(t))||(i=t,s=new Promise(function(e,t){n=e,a=t}),_(i,"",void 0,function(e){if("string"==typeof e){var t=new FormData;t.append("0",e),e=t}s.status="fulfilled",s.value=e,n(e)},function(e){s.status="rejected",s.reason=e,a(e)}),r=s,v.set(t,r)),"rejected"===r.status)throw r.reason;if("fulfilled"!==r.status)throw r;t=r.value;var i,n,a,s,o=new FormData;t.forEach(function(t,r){o.append("$ACTION_"+e+":"+r,t)}),r=o,t="$ACTION_REF_"+e}else t="$ACTION_ID_"+t.id;return{name:t,method:"POST",encType:"multipart/form-data",data:r}}function w(e,t){var r=y.get(this);if(!r)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(r.id!==e)return!1;var i=r.bound;if(null===i)return 0===t;switch(i.status){case"fulfilled":return i.value.length===t;case"pending":throw i;case"rejected":throw i.reason;default:throw"string"!=typeof i.status&&(i.status="pending",i.then(function(e){i.status="fulfilled",i.value=e},function(e){i.status="rejected",i.reason=e})),i}}function S(e,t,r,i){Object.defineProperties(e,{$$FORM_ACTION:{value:void 0===i?x:function(){var e=y.get(this);if(!e)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var t=e.bound;return null===t&&(t=Promise.resolve([])),i(e.id,t)}},$$IS_SIGNATURE_EQUAL:{value:w},bind:{value:O}}),y.set(e,{id:t,bound:r})}var E=Function.prototype.bind,k=Array.prototype.slice;function O(){var e=E.apply(this,arguments),t=y.get(this);if(t){var r=k.call(arguments,1),i=null;i=null!==t.bound?Promise.resolve(t.bound).then(function(e){return e.concat(r)}):Promise.resolve(r),Object.defineProperties(e,{$$FORM_ACTION:{value:this.$$FORM_ACTION},$$IS_SIGNATURE_EQUAL:{value:w},bind:{value:O}}),y.set(e,{id:t.id,bound:i})}return e}function A(e,t,r,i){this.status=e,this.value=t,this.reason=r,this._response=i}function R(e){switch(e.status){case"resolved_model":U(e);break;case"resolved_module":$(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":throw e;default:throw e.reason}}function P(e){return new A("pending",null,null,e)}function T(e,t){for(var r=0;r<e.length;r++)(0,e[r])(t)}function C(e,t,r){switch(e.status){case"fulfilled":T(t,e.value);break;case"pending":case"blocked":if(e.value)for(var i=0;i<t.length;i++)e.value.push(t[i]);else e.value=t;if(e.reason){if(r)for(t=0;t<r.length;t++)e.reason.push(r[t])}else e.reason=r;break;case"rejected":r&&T(r,e.reason)}}function M(e,t){if("pending"!==e.status&&"blocked"!==e.status)e.reason.error(t);else{var r=e.reason;e.status="rejected",e.reason=t,null!==r&&T(r,t)}}function j(e,t,r){return new A("resolved_model",(r?'{"done":true,"value":':'{"done":false,"value":')+t+"}",null,e)}function D(e,t,r){N(e,(r?'{"done":true,"value":':'{"done":false,"value":')+t+"}")}function N(e,t){if("pending"!==e.status)e.reason.enqueueModel(t);else{var r=e.value,i=e.reason;e.status="resolved_model",e.value=t,null!==r&&(U(e),C(e,r,i))}}function I(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.value,i=e.reason;e.status="resolved_module",e.value=t,null!==r&&($(e),C(e,r,i))}}A.prototype=Object.create(Promise.prototype),A.prototype.then=function(e,t){switch(this.status){case"resolved_model":U(this);break;case"resolved_module":$(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t&&t(this.reason)}};var L=null;function U(e){var t=L;L=null;var r=e.value;e.status="blocked",e.value=null,e.reason=null;try{var i=JSON.parse(r,e._response._fromJSON),n=e.value;if(null!==n&&(e.value=null,e.reason=null,T(n,i)),null!==L){if(L.errored)throw L.value;if(0<L.deps){L.value=i,L.chunk=e;return}}e.status="fulfilled",e.value=i}catch(t){e.status="rejected",e.reason=t}finally{L=t}}function $(e){try{var t=c(e.value);e.status="fulfilled",e.value=t}catch(t){e.status="rejected",e.reason=t}}function H(e,t){e._closed=!0,e._closedReason=t,e._chunks.forEach(function(e){"pending"===e.status&&M(e,t)})}function F(e){return{$$typeof:h,_payload:e,_init:R}}function B(e,t){var r=e._chunks,i=r.get(t);return i||(i=e._closed?new A("rejected",null,e._closedReason,e):P(e),r.set(t,i)),i}function W(e,t,r,i,n,a){function s(e){if(!o.errored){o.errored=!0,o.value=e;var t=o.chunk;null!==t&&"blocked"===t.status&&M(t,e)}}if(L){var o=L;o.deps++}else o=L={parent:null,chunk:null,value:null,deps:1,errored:!1};return e.then(function e(l){for(var c=1;c<a.length;c++){for(;l.$$typeof===h;)if((l=l._payload)===o.chunk)l=o.value;else if("fulfilled"===l.status)l=l.value;else{a.splice(0,c-1),l.then(e,s);return}l=l[a[c]]}c=n(i,l,t,r),t[r]=c,""===r&&null===o.value&&(o.value=c),t[0]===d&&"object"==typeof o.value&&null!==o.value&&o.value.$$typeof===d&&(l=o.value,"3"===r)&&(l.props=c),o.deps--,0===o.deps&&null!==(c=o.chunk)&&"blocked"===c.status&&(l=c.value,c.status="fulfilled",c.value=o.value,null!==l&&T(l,o.value))},s),null}function z(e,t,r,i){if(!e._serverReferenceConfig)return function(e,t,r){function i(){var e=Array.prototype.slice.call(arguments);return a?"fulfilled"===a.status?t(n,a.value.concat(e)):Promise.resolve(a).then(function(r){return t(n,r.concat(e))}):t(n,e)}var n=e.id,a=e.bound;return S(i,n,a,r),i}(t,e._callServer,e._encodeFormAction);var n=function(e,t){var r="",i=e[t];if(i)r=i.name;else{var n=t.lastIndexOf("#");if(-1!==n&&(r=t.slice(n+1),i=e[t.slice(0,n)]),!i)throw Error('Could not find the module "'+t+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return i.async?[i.id,i.chunks,r,1]:[i.id,i.chunks,r]}(e._serverReferenceConfig,t.id),a=l(n);if(a)t.bound&&(a=Promise.all([a,t.bound]));else{if(!t.bound)return S(a=c(n),t.id,t.bound,e._encodeFormAction),a;a=Promise.resolve(t.bound)}if(L){var s=L;s.deps++}else s=L={parent:null,chunk:null,value:null,deps:1,errored:!1};return a.then(function(){var a=c(n);if(t.bound){var o=t.bound.value.slice(0);o.unshift(null),a=a.bind.apply(a,o)}S(a,t.id,t.bound,e._encodeFormAction),r[i]=a,""===i&&null===s.value&&(s.value=a),r[0]===d&&"object"==typeof s.value&&null!==s.value&&s.value.$$typeof===d&&(o=s.value,"3"===i)&&(o.props=a),s.deps--,0===s.deps&&null!==(a=s.chunk)&&"blocked"===a.status&&(o=a.value,a.status="fulfilled",a.value=s.value,null!==o&&T(o,s.value))},function(e){if(!s.errored){s.errored=!0,s.value=e;var t=s.chunk;null!==t&&"blocked"===t.status&&M(t,e)}}),null}function V(e,t,r,i,n){var a=parseInt((t=t.split(":"))[0],16);switch((a=B(e,a)).status){case"resolved_model":U(a);break;case"resolved_module":$(a)}switch(a.status){case"fulfilled":var s=a.value;for(a=1;a<t.length;a++){for(;s.$$typeof===h;)if("fulfilled"!==(s=s._payload).status)return W(s,r,i,e,n,t.slice(a-1));else s=s.value;s=s[t[a]]}return n(e,s,r,i);case"pending":case"blocked":return W(a,r,i,e,n,t);default:return L?(L.errored=!0,L.value=a.reason):L={parent:null,chunk:null,value:a.reason,deps:0,errored:!0},null}}function q(e,t){return new Map(t)}function K(e,t){return new Set(t)}function G(e,t){return new Blob(t.slice(1),{type:t[0]})}function J(e,t){e=new FormData;for(var r=0;r<t.length;r++)e.append(t[r][0],t[r][1]);return e}function X(e,t){return t[Symbol.iterator]()}function Y(e,t){return t}function Z(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function Q(e,t,r,i,n,a,s){var o,l=new Map;this._bundlerConfig=e,this._serverReferenceConfig=t,this._moduleLoading=r,this._callServer=void 0!==i?i:Z,this._encodeFormAction=n,this._nonce=a,this._chunks=l,this._stringDecoder=new TextDecoder,this._fromJSON=null,this._rowLength=this._rowTag=this._rowID=this._rowState=0,this._buffer=[],this._closed=!1,this._closedReason=null,this._tempRefs=s,this._fromJSON=(o=this,function(e,t){if("string"==typeof t)return function(e,t,r,i){if("$"===i[0]){if("$"===i)return null!==L&&"0"===r&&(L={parent:L,chunk:null,value:null,deps:0,errored:!1}),d;switch(i[1]){case"$":return i.slice(1);case"L":return F(e=B(e,t=parseInt(i.slice(2),16)));case"@":if(2===i.length)return new Promise(function(){});return B(e,t=parseInt(i.slice(2),16));case"S":return Symbol.for(i.slice(2));case"F":return V(e,i=i.slice(2),t,r,z);case"T":if(t="$"+i.slice(2),null==(e=e._tempRefs))throw Error("Missing a temporary reference set but the RSC response returned a temporary reference. Pass a temporaryReference option with the set that was used with the reply.");return e.get(t);case"Q":return V(e,i=i.slice(2),t,r,q);case"W":return V(e,i=i.slice(2),t,r,K);case"B":return V(e,i=i.slice(2),t,r,G);case"K":return V(e,i=i.slice(2),t,r,J);case"Z":return ea();case"i":return V(e,i=i.slice(2),t,r,X);case"I":return 1/0;case"-":return"$-0"===i?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(i.slice(2)));case"n":return BigInt(i.slice(2));default:return V(e,i=i.slice(1),t,r,Y)}}return i}(o,this,e,t);if("object"==typeof t&&null!==t){if(t[0]===d){if(e={$$typeof:d,type:t[1],key:t[2],ref:null,props:t[3]},null!==L){if(L=(t=L).parent,t.errored)e=F(e=new A("rejected",null,t.value,o));else if(0<t.deps){var r=new A("blocked",null,null,o);t.value=e,t.chunk=r,e=F(r)}}}else e=t;return e}return t})}function ee(e,t,r){var i=e._chunks,n=i.get(t);n&&"pending"!==n.status?n.reason.enqueueValue(r):i.set(t,new A("fulfilled",r,null,e))}function et(e,t,r,i){var n=e._chunks,a=n.get(t);a?"pending"===a.status&&(e=a.value,a.status="fulfilled",a.value=r,a.reason=i,null!==e&&T(e,a.value)):n.set(t,new A("fulfilled",r,i,e))}function er(e,t,r){var i=null;r=new ReadableStream({type:r,start:function(e){i=e}});var n=null;et(e,t,r,{enqueueValue:function(e){null===n?i.enqueue(e):n.then(function(){i.enqueue(e)})},enqueueModel:function(t){if(null===n){var r=new A("resolved_model",t,null,e);U(r),"fulfilled"===r.status?i.enqueue(r.value):(r.then(function(e){return i.enqueue(e)},function(e){return i.error(e)}),n=r)}else{r=n;var a=P(e);a.then(function(e){return i.enqueue(e)},function(e){return i.error(e)}),n=a,r.then(function(){n===a&&(n=null),N(a,t)})}},close:function(){if(null===n)i.close();else{var e=n;n=null,e.then(function(){return i.close()})}},error:function(e){if(null===n)i.error(e);else{var t=n;n=null,t.then(function(){return i.error(e)})}}})}function ei(){return this}function en(e,t,r){var i=[],n=!1,a=0,s={};s[p]=function(){var t,r=0;return(t={next:t=function(t){if(void 0!==t)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(r===i.length){if(n)return new A("fulfilled",{done:!0,value:void 0},null,e);i[r]=P(e)}return i[r++]}})[p]=ei,t},et(e,t,r?s[p]():s,{enqueueValue:function(t){if(a===i.length)i[a]=new A("fulfilled",{done:!1,value:t},null,e);else{var r=i[a],n=r.value,s=r.reason;r.status="fulfilled",r.value={done:!1,value:t},null!==n&&C(r,n,s)}a++},enqueueModel:function(t){a===i.length?i[a]=j(e,t,!1):D(i[a],t,!1),a++},close:function(t){for(n=!0,a===i.length?i[a]=j(e,t,!0):D(i[a],t,!0),a++;a<i.length;)D(i[a++],'"$undefined"',!0)},error:function(t){for(n=!0,a===i.length&&(i[a]=P(e));a<i.length;)M(i[a++],t)}})}function ea(){var e=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.");return e.stack="Error: "+e.message,e}function es(e,t){for(var r=e.length,i=t.length,n=0;n<r;n++)i+=e[n].byteLength;i=new Uint8Array(i);for(var a=n=0;a<r;a++){var s=e[a];i.set(s,n),n+=s.byteLength}return i.set(t,n),i}function eo(e,t,r,i,n,a){ee(e,t,n=new n((r=0===r.length&&0==i.byteOffset%a?i:es(r,i)).buffer,r.byteOffset,r.byteLength/a))}function el(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function ec(e){return new Q(e.serverConsumerManifest.moduleMap,e.serverConsumerManifest.serverModuleMap,e.serverConsumerManifest.moduleLoading,el,e.encodeFormAction,"string"==typeof e.nonce?e.nonce:void 0,e&&e.temporaryReferences?e.temporaryReferences:void 0)}function eu(e,t){function r(t){H(e,t)}var i=t.getReader();i.read().then(function t(a){var s=a.value;if(a.done)H(e,Error("Connection closed."));else{var o=0,c=e._rowState;a=e._rowID;for(var d=e._rowTag,h=e._rowLength,f=e._buffer,p=s.length;o<p;){var g=-1;switch(c){case 0:58===(g=s[o++])?c=1:a=a<<4|(96<g?g-87:g-48);continue;case 1:84===(c=s[o])||65===c||79===c||111===c||85===c||83===c||115===c||76===c||108===c||71===c||103===c||77===c||109===c||86===c?(d=c,c=2,o++):64<c&&91>c||35===c||114===c||120===c?(d=c,c=3,o++):(d=0,c=3);continue;case 2:44===(g=s[o++])?c=4:h=h<<4|(96<g?g-87:g-48);continue;case 3:g=s.indexOf(10,o);break;case 4:(g=o+h)>s.length&&(g=-1)}var m=s.byteOffset+o;if(-1<g)(function(e,t,r,i,a){switch(r){case 65:ee(e,t,es(i,a).buffer);return;case 79:eo(e,t,i,a,Int8Array,1);return;case 111:ee(e,t,0===i.length?a:es(i,a));return;case 85:eo(e,t,i,a,Uint8ClampedArray,1);return;case 83:eo(e,t,i,a,Int16Array,2);return;case 115:eo(e,t,i,a,Uint16Array,2);return;case 76:eo(e,t,i,a,Int32Array,4);return;case 108:eo(e,t,i,a,Uint32Array,4);return;case 71:eo(e,t,i,a,Float32Array,4);return;case 103:eo(e,t,i,a,Float64Array,8);return;case 77:eo(e,t,i,a,BigInt64Array,8);return;case 109:eo(e,t,i,a,BigUint64Array,8);return;case 86:eo(e,t,i,a,DataView,1);return}for(var s=e._stringDecoder,o="",c=0;c<i.length;c++)o+=s.decode(i[c],n);switch(i=o+=s.decode(a),r){case 73:!function(e,t,r){var i=e._chunks,n=i.get(t);r=JSON.parse(r,e._fromJSON);var a=function(e,t){if(e){var r=e[t[0]];if(e=r&&r[t[2]])r=e.name;else{if(!(e=r&&r["*"]))throw Error('Could not find the module "'+t[0]+'" in the React Server Consumer Manifest. This is probably a bug in the React Server Components bundler.');r=t[2]}return 4===t.length?[e.id,e.chunks,r,1]:[e.id,e.chunks,r]}return t}(e._bundlerConfig,r);if(function(e,t,r){if(null!==e)for(var i=1;i<t.length;i+=2){var n=u.d,a=n.X,s=e.prefix+t[i],o=e.crossOrigin;o="string"==typeof o?"use-credentials"===o?o:"":void 0,a.call(n,s,{crossOrigin:o,nonce:r})}}(e._moduleLoading,r[1],e._nonce),r=l(a)){if(n){var s=n;s.status="blocked"}else s=new A("blocked",null,null,e),i.set(t,s);r.then(function(){return I(s,a)},function(e){return M(s,e)})}else n?I(n,a):i.set(t,new A("resolved_module",a,null,e))}(e,t,i);break;case 72:switch(t=i[0],e=JSON.parse(i=i.slice(1),e._fromJSON),i=u.d,t){case"D":i.D(e);break;case"C":"string"==typeof e?i.C(e):i.C(e[0],e[1]);break;case"L":t=e[0],r=e[1],3===e.length?i.L(t,r,e[2]):i.L(t,r);break;case"m":"string"==typeof e?i.m(e):i.m(e[0],e[1]);break;case"X":"string"==typeof e?i.X(e):i.X(e[0],e[1]);break;case"S":"string"==typeof e?i.S(e):i.S(e[0],0===e[1]?void 0:e[1],3===e.length?e[2]:void 0);break;case"M":"string"==typeof e?i.M(e):i.M(e[0],e[1])}break;case 69:r=JSON.parse(i),(i=ea()).digest=r.digest,(a=(r=e._chunks).get(t))?M(a,i):r.set(t,new A("rejected",null,i,e));break;case 84:(a=(r=e._chunks).get(t))&&"pending"!==a.status?a.reason.enqueueValue(i):r.set(t,new A("fulfilled",i,null,e));break;case 78:case 68:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");case 82:er(e,t,void 0);break;case 114:er(e,t,"bytes");break;case 88:en(e,t,!1);break;case 120:en(e,t,!0);break;case 67:(e=e._chunks.get(t))&&"fulfilled"===e.status&&e.reason.close(""===i?'"$undefined"':i);break;default:(a=(r=e._chunks).get(t))?N(a,i):r.set(t,new A("resolved_model",i,null,e))}})(e,a,d,f,h=new Uint8Array(s.buffer,m,g-o)),o=g,3===c&&o++,h=a=d=c=0,f.length=0;else{s=new Uint8Array(s.buffer,m,s.byteLength-o),f.push(s),h-=s.byteLength;break}}return e._rowState=c,e._rowID=a,e._rowTag=d,e._rowLength=h,i.read().then(t).catch(r)}}).catch(r)}t.createFromFetch=function(e,t){var r=ec(t);return e.then(function(e){eu(r,e.body)},function(e){H(r,e)}),B(r,0)},t.createFromReadableStream=function(e,t){return eu(t=ec(t),e),B(t,0)},t.createServerReference=function(e){return function(e,t,r){function i(){var r=Array.prototype.slice.call(arguments);return t(e,r)}return S(i,e,null,r),i}(e,el)},t.createTemporaryReferenceSet=function(){return new Map},t.encodeReply=function(e,t){return new Promise(function(r,i){var n=_(e,"",t&&t.temporaryReferences?t.temporaryReferences:void 0,r,i);if(t&&t.signal){var a=t.signal;if(a.aborted)n(a.reason);else{var s=function(){n(a.reason),a.removeEventListener("abort",s)};a.addEventListener("abort",s)}}})},t.registerServerReference=function(e,t,r){return S(e,t,null,r),e}},35333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return n}});let i=r(4e4);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:a}=(0,i.parsePath)(e);return""+t+r+n+a}},36376:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_SUFFIX:function(){return d},APP_DIR_ALIAS:function(){return C},CACHE_ONE_YEAR:function(){return S},DOT_NEXT_ALIAS:function(){return P},ESLINT_DEFAULT_DIRS:function(){return X},GSP_NO_RETURNED_VALUE:function(){return z},GSSP_COMPONENT_MEMBER_ERROR:function(){return K},GSSP_NO_RETURNED_VALUE:function(){return V},INFINITE_CACHE:function(){return E},INSTRUMENTATION_HOOK_FILENAME:function(){return A},MATCHED_PATH_HEADER:function(){return n},MIDDLEWARE_FILENAME:function(){return k},MIDDLEWARE_LOCATION_REGEXP:function(){return O},NEXT_BODY_SUFFIX:function(){return p},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return w},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return m},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return b},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return x},NEXT_CACHE_TAGS_HEADER:function(){return g},NEXT_CACHE_TAG_MAX_ITEMS:function(){return _},NEXT_CACHE_TAG_MAX_LENGTH:function(){return v},NEXT_DATA_SUFFIX:function(){return h},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return i},NEXT_META_SUFFIX:function(){return f},NEXT_QUERY_PARAM_PREFIX:function(){return r},NEXT_RESUME_HEADER:function(){return y},NON_STANDARD_NODE_ENV:function(){return G},PAGES_DIR_ALIAS:function(){return R},PRERENDER_REVALIDATE_HEADER:function(){return a},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return s},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return U},ROOT_DIR_ALIAS:function(){return T},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return L},RSC_ACTION_ENCRYPTION_ALIAS:function(){return I},RSC_ACTION_PROXY_ALIAS:function(){return D},RSC_ACTION_VALIDATE_ALIAS:function(){return j},RSC_CACHE_WRAPPER_ALIAS:function(){return N},RSC_MOD_REF_PROXY_ALIAS:function(){return M},RSC_PREFETCH_SUFFIX:function(){return o},RSC_SEGMENTS_DIR_SUFFIX:function(){return l},RSC_SEGMENT_SUFFIX:function(){return c},RSC_SUFFIX:function(){return u},SERVER_PROPS_EXPORT_ERROR:function(){return W},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return H},SERVER_PROPS_SSG_CONFLICT:function(){return F},SERVER_RUNTIME:function(){return Y},SSG_FALLBACK_EXPORT_ERROR:function(){return J},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return $},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return B},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return q},WEBPACK_LAYERS:function(){return Q},WEBPACK_RESOURCE_QUERIES:function(){return ee}});let r="nxtP",i="nxtI",n="x-matched-path",a="x-prerender-revalidate",s="x-prerender-revalidate-if-generated",o=".prefetch.rsc",l=".segments",c=".segment.rsc",u=".rsc",d=".action",h=".json",f=".meta",p=".body",g="x-next-cache-tags",m="x-next-revalidated-tags",b="x-next-revalidate-tag-token",y="next-resume",_=128,v=256,x=1024,w="_N_T_",S=31536e3,E=0xfffffffe,k="middleware",O=`(?:src/)?${k}`,A="instrumentation",R="private-next-pages",P="private-dot-next",T="private-next-root-dir",C="private-next-app-dir",M="next/dist/build/webpack/loaders/next-flight-loader/module-proxy",j="private-next-rsc-action-validate",D="private-next-rsc-server-reference",N="private-next-rsc-cache-wrapper",I="private-next-rsc-action-encryption",L="private-next-rsc-action-client-wrapper",U="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",$="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",H="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",F="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",B="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",W="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",z="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",V="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",q="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",K="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",G='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',J="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",X=["app","pages","components","lib","src"],Y={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},Z={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},Q={...Z,GROUP:{builtinReact:[Z.reactServerComponents,Z.actionBrowser],serverOnly:[Z.reactServerComponents,Z.actionBrowser,Z.instrument,Z.middleware],neutralTarget:[Z.apiNode,Z.apiEdge],clientOnly:[Z.serverSideRendering,Z.appPagesBrowser],bundled:[Z.reactServerComponents,Z.actionBrowser,Z.serverSideRendering,Z.appPagesBrowser,Z.shared,Z.instrument,Z.middleware],appPages:[Z.reactServerComponents,Z.serverSideRendering,Z.appPagesBrowser,Z.actionBrowser]}},ee={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},37461:(e,t)=>{"use strict";function r(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===i}Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isHangingPromiseRejectionError:function(){return r},makeHangingPromise:function(){return a}});let i="HANGING_PROMISE_REJECTION";class n extends Error{constructor(e){super(`During prerendering, ${e} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${e} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`),this.expression=e,this.digest=i}}function a(e,t){let r=new Promise((r,i)=>{e.addEventListener("abort",()=>{i(new n(t))},{once:!0})});return r.catch(s),r}function s(){}},38248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return i},isDynamicServerError:function(){return n}});let r="DYNAMIC_SERVER_USAGE";class i extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return d}});let i=r(14659),n=r(49761),a=r(40857),s=r(10492),o=r(14659),l=Symbol("internal response"),c=new Set([301,302,303,307,308]);function u(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[i,n]of e.request.headers)t.set("x-middleware-request-"+i,n),r.push(i);t.set("x-middleware-override-headers",r.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);let r=this.headers,c=new Proxy(new o.ResponseCookies(r),{get(e,n,a){switch(n){case"delete":case"set":return(...a)=>{let s=Reflect.apply(e[n],e,a),l=new Headers(r);return s instanceof o.ResponseCookies&&r.set("x-middleware-set-cookie",s.getAll().map(e=>(0,i.stringifyCookie)(e)).join(",")),u(t,l),s};default:return s.ReflectAdapter.get(e,n,a)}}});this[l]={cookies:c,url:t.url?new n.NextURL(t.url,{headers:(0,a.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let r=Response.json(e,t);return new d(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!c.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let i="object"==typeof t?t:{},n=new Headers(null==i?void 0:i.headers);return n.set("Location",(0,a.validateURL)(e)),new d(null,{...i,headers:n,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,a.validateURL)(e)),u(t,r),new d(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),u(e,t),new d(null,{...e,headers:t})}}},4e4:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),i=r>-1&&(t<0||r<t);return i||t>-1?{pathname:e.substring(0,i?r:t),query:i?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},40193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connection",{enumerable:!0,get:function(){return c}});let i=r(29294),n=r(63033),a=r(75124),s=r(66224),o=r(37461),l=r(16296);function c(){let e=i.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E186",enumerable:!1,configurable:!0});if(e.forceStatic)return Promise.resolve(void 0);if(t){if("cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E111",enumerable:!1,configurable:!0});if("unstable-cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E1",enumerable:!1,configurable:!0})}if(e.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E562",enumerable:!1,configurable:!0});if(t){if("prerender"===t.type)return(0,o.makeHangingPromise)(t.renderSignal,"`connection()`");"prerender-ppr"===t.type?(0,a.postponeWithTracking)(e.route,"connection",t.dynamicTracking):"prerender-legacy"===t.type&&(0,a.throwToInterruptStaticGeneration)("connection",e,t)}(0,a.trackDynamicDataInDynamicRender)(e,t)}return Promise.resolve(void 0)}},40857:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return n},normalizeNextQueryParam:function(){return l},splitCookiesString:function(){return a},toNodeOutgoingHttpHeaders:function(){return s},validateURL:function(){return o}});let i=r(36376);function n(e){let t=new Headers;for(let[r,i]of Object.entries(e))for(let e of Array.isArray(i)?i:[i])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function a(e){var t,r,i,n,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(i=o,o+=1,l(),n=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=n,s.push(e.substring(t,i)),t=o):o=i+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function s(e){let t={},r=[];if(e)for(let[i,n]of e.entries())"set-cookie"===i.toLowerCase()?(r.push(...a(n)),t[i]=1===r.length?r[0]:r):t[i]=n;return t}function o(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function l(e){for(let t of[i.NEXT_QUERY_PARAM_PREFIX,i.NEXT_INTERCEPTION_MARKER_PREFIX])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}},40943:(e,t)=>{"use strict";t.q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var r={},i=e.length;if(i<2)return r;var n=t&&t.decode||c,a=0,s=0,u=0;do{if(-1===(s=e.indexOf("=",a)))break;if(-1===(u=e.indexOf(";",a)))u=i;else if(s>u){a=e.lastIndexOf(";",s-1)+1;continue}var d=o(e,a,s),h=l(e,s,d),f=e.slice(d,h);if(!r.hasOwnProperty(f)){var p=o(e,s+1,u),g=l(e,u,p);34===e.charCodeAt(p)&&34===e.charCodeAt(g-1)&&(p++,g--);var m=e.slice(p,g);r[f]=function(e,t){try{return t(e)}catch(t){return e}}(m,n)}a=u+1}while(a<i);return r},t.l=function(e,t,o){var l=o&&o.encode||encodeURIComponent;if("function"!=typeof l)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var c=l(t);if(!n.test(c))throw TypeError("argument val is invalid");var u=e+"="+c;if(!o)return u;if(null!=o.maxAge){var d=Math.floor(o.maxAge);if(!isFinite(d))throw TypeError("option maxAge is invalid");u+="; Max-Age="+d}if(o.domain){if(!a.test(o.domain))throw TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!s.test(o.path))throw TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){var h,f=o.expires;if(h=f,"[object Date]"!==r.call(h)||isNaN(f.valueOf()))throw TypeError("option expires is invalid");u+="; Expires="+f.toUTCString()}if(o.httpOnly&&(u+="; HttpOnly"),o.secure&&(u+="; Secure"),o.partitioned&&(u+="; Partitioned"),o.priority)switch("string"==typeof o.priority?o.priority.toLowerCase():o.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var r=Object.prototype.toString,i=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,n=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/;function o(e,t,r){do{var i=e.charCodeAt(t);if(32!==i&&9!==i)return t}while(++t<r);return r}function l(e,t,r){for(;t>r;){var i=e.charCodeAt(--t);if(32!==i&&9!==i)return t+1}return r}function c(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},42087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{decryptActionBoundArgs:function(){return g},encryptActionBoundArgs:function(){return p}}),r(54387);let i=r(74932),n=r(64390),a=r(34360),s=r(46295),o=r(63033),l=r(75124),c=function(e){return e&&e.__esModule?e:{default:e}}(r(7153)),u=new TextEncoder,d=new TextDecoder;async function h(e,t){let r=await (0,s.getActionEncryptionKey)();if(void 0===r)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let i=atob(t),n=i.slice(0,16),a=i.slice(16),o=d.decode(await (0,s.decrypt)(r,(0,s.stringToUint8Array)(n),(0,s.stringToUint8Array)(a)));if(!o.startsWith(e))throw Object.defineProperty(Error("Invalid Server Action payload: failed to decrypt."),"__NEXT_ERROR_CODE",{value:"E191",enumerable:!1,configurable:!0});return o.slice(e.length)}async function f(e,t){let r=await (0,s.getActionEncryptionKey)();if(void 0===r)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let i=new Uint8Array(16);o.workUnitAsyncStorage.exit(()=>crypto.getRandomValues(i));let n=(0,s.arrayBufferToString)(i.buffer),a=await (0,s.encrypt)(r,i,u.encode(e+t));return btoa(n+(0,s.arrayBufferToString)(a))}let p=c.default.cache(async function e(t,...r){let{clientModules:n}=(0,s.getClientReferenceManifestForRsc)(),c=Error();Error.captureStackTrace(c,e);let u=!1,d=o.workUnitAsyncStorage.getStore(),h=(null==d?void 0:d.type)==="prerender"?(0,l.createHangingInputAbortSignal)(d):void 0,p=await (0,a.streamToString)((0,i.renderToReadableStream)(r,n,{signal:h,onError(e){(null==h||!h.aborted)&&!u&&(u=!0,c.message=e instanceof Error?e.message:String(e))}}),h);if(u)throw c;if(!d)return f(t,p);let g=(0,o.getPrerenderResumeDataCache)(d),m=(0,o.getRenderResumeDataCache)(d),b=t+p,y=(null==g?void 0:g.encryptedBoundArgs.get(b))??(null==m?void 0:m.encryptedBoundArgs.get(b));if(y)return y;let _="prerender"===d.type?d.cacheSignal:void 0;null==_||_.beginRead();let v=await f(t,p);return null==_||_.endRead(),null==g||g.encryptedBoundArgs.set(b,v),v});async function g(e,t){let r;let i=await t,a=o.workUnitAsyncStorage.getStore();if(a){let t="prerender"===a.type?a.cacheSignal:void 0,n=(0,o.getPrerenderResumeDataCache)(a),s=(0,o.getRenderResumeDataCache)(a);(r=(null==n?void 0:n.decryptedBoundArgs.get(i))??(null==s?void 0:s.decryptedBoundArgs.get(i)))||(null==t||t.beginRead(),r=await h(e,i),null==t||t.endRead(),null==n||n.decryptedBoundArgs.set(i,r))}else r=await h(e,i);let{edgeRscModuleMapping:l,rscModuleMapping:c}=(0,s.getClientReferenceManifestForRsc)();return await (0,n.createFromReadableStream)(new ReadableStream({start(e){e.enqueue(u.encode(r)),(null==a?void 0:a.type)==="prerender"?a.renderSignal.aborted?e.close():a.renderSignal.addEventListener("abort",()=>e.close(),{once:!0}):e.close()}}),{serverConsumerManifest:{moduleLoading:null,moduleMap:c,serverModuleMap:(0,s.getServerModuleMap)()}})}},42383:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let i=r(62736),n=r(68002),a=r(19186);function s(e,t){var r,s;let{basePath:o,i18n:l,trailingSlash:c}=null!=(r=t.nextConfig)?r:{},u={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):c};o&&(0,a.pathHasPrefix)(u.pathname,o)&&(u.pathname=(0,n.removePathPrefix)(u.pathname,o),u.basePath=o);let d=u.pathname;if(u.pathname.startsWith("/_next/data/")&&u.pathname.endsWith(".json")){let e=u.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");u.buildId=e[0],d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(u.pathname=d)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(u.pathname):(0,i.normalizeLocalePath)(u.pathname,l.locales);u.locale=e.detectedLocale,u.pathname=null!=(s=e.pathname)?s:u.pathname,!e.detectedLocale&&u.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,i.normalizeLocalePath)(d,l.locales)).detectedLocale&&(u.locale=e.detectedLocale)}return u}},42503:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ENCODED_TAGS",{enumerable:!0,get:function(){return r}});let r={OPENING:{HTML:new Uint8Array([60,104,116,109,108]),BODY:new Uint8Array([60,98,111,100,121])},CLOSED:{HEAD:new Uint8Array([60,47,104,101,97,100,62]),BODY:new Uint8Array([60,47,98,111,100,121,62]),HTML:new Uint8Array([60,47,104,116,109,108,62]),BODY_AND_HTML:new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])}}},43218:(e,t,r)=>{"use strict";let i;r.r(t),r.d(t,{default:()=>n9});var n=r(60687),a=r(76180),s=r.n(a),o=r(43210),l=r(16189);r(93121);var c=r(6475);c.callServer,c.findSourceMapURL,r(91842);var u=r(30474),d=r(77618),h=r(8610),f=r(25324);function p(e){return e+.5|0}r(72402),r(96448);let g=(e,t,r)=>Math.max(Math.min(e,r),t);function m(e){return g(p(2.55*e),0,255)}function b(e){return g(p(255*e),0,255)}function y(e){return g(p(e/2.55)/100,0,1)}function _(e){return g(p(100*e),0,100)}let v={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},x=[..."0123456789ABCDEF"],w=e=>x[15&e],S=e=>x[(240&e)>>4]+x[15&e],E=e=>(240&e)>>4==(15&e),k=e=>E(e.r)&&E(e.g)&&E(e.b)&&E(e.a),O=(e,t)=>e<255?t(e):"",A=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function R(e,t,r){let i=t*Math.min(r,1-r),n=(t,n=(t+e/30)%12)=>r-i*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function P(e,t,r){let i=(i,n=(i+e/60)%6)=>r-r*t*Math.max(Math.min(n,4-n,1),0);return[i(5),i(3),i(1)]}function T(e,t,r){let i;let n=R(e,1,.5);for(t+r>1&&(i=1/(t+r),t*=i,r*=i),i=0;i<3;i++)n[i]*=1-t-r,n[i]+=t;return n}function C(e){let t,r,i;let n=e.r/255,a=e.g/255,s=e.b/255,o=Math.max(n,a,s),l=Math.min(n,a,s),c=(o+l)/2;if(o!==l)i=o-l,r=c>.5?i/(2-o-l):i/(o+l),t=60*(t=n===o?(a-s)/i+6*(a<s):a===o?(s-n)/i+2:(n-a)/i+4)+.5;return[0|t,r||0,c]}function M(e,t,r,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,i)).map(b)}function j(e){return(e%360+360)%360}let D={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},N={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},I=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,L=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,U=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function $(e,t,r){if(e){let i=C(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*r,0===t?360:1)),e.r=(i=M(R,i,void 0,void 0))[0],e.g=i[1],e.b=i[2]}}function H(e,t){return e?Object.assign(t||{},e):e}function F(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=b(e[3]))):(t=H(e,{r:0,g:0,b:0,a:1})).a=b(t.a),t}class B{constructor(e){let t;if(e instanceof B)return e;let r=typeof e;"object"===r?t=F(e):"string"===r&&(t=function(e){var t,r=e.length;return"#"===e[0]&&(4===r||5===r?t={r:255&17*v[e[1]],g:255&17*v[e[2]],b:255&17*v[e[3]],a:5===r?17*v[e[4]]:255}:(7===r||9===r)&&(t={r:v[e[1]]<<4|v[e[2]],g:v[e[3]]<<4|v[e[4]],b:v[e[5]]<<4|v[e[6]],a:9===r?v[e[7]]<<4|v[e[8]]:255})),t}(e)||function(e){i||((i=function(){let e,t,r,i,n;let a={},s=Object.keys(N),o=Object.keys(D);for(e=0;e<s.length;e++){for(t=0,i=n=s[e];t<o.length;t++)r=o[t],n=n.replace(r,D[r]);r=parseInt(N[i],16),a[n]=[r>>16&255,r>>8&255,255&r]}return a}()).transparent=[0,0,0,0]);let t=i[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||function(e){return"r"===e.charAt(0)?function(e){let t,r,i;let n=I.exec(e),a=255;if(n){if(n[7]!==t){let e=+n[7];a=n[8]?m(e):g(255*e,0,255)}return t=+n[1],r=+n[3],i=+n[5],t=255&(n[2]?m(t):g(t,0,255)),{r:t,g:r=255&(n[4]?m(r):g(r,0,255)),b:i=255&(n[6]?m(i):g(i,0,255)),a:a}}}(e):function(e){let t;let r=A.exec(e),i=255;if(!r)return;r[5]!==t&&(i=r[6]?m(+r[5]):b(+r[5]));let n=j(+r[2]),a=+r[3]/100,s=+r[4]/100;return{r:(t="hwb"===r[1]?M(T,n,a,s):"hsv"===r[1]?M(P,n,a,s):M(R,n,a,s))[0],g:t[1],b:t[2],a:i}}(e)}(e)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var e=H(this._rgb);return e&&(e.a=y(e.a)),e}set rgb(e){this._rgb=F(e)}rgbString(){var e;return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${y(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0}hexString(){var e,t;return this._valid?(t=k(e=this._rgb)?w:S,e?"#"+t(e.r)+t(e.g)+t(e.b)+O(e.a,t):void 0):void 0}hslString(){return this._valid?function(e){if(!e)return;let t=C(e),r=t[0],i=_(t[1]),n=_(t[2]);return e.a<255?`hsla(${r}, ${i}%, ${n}%, ${y(e.a)})`:`hsl(${r}, ${i}%, ${n}%)`}(this._rgb):void 0}mix(e,t){if(e){let r;let i=this.rgb,n=e.rgb,a=t===r?.5:t,s=2*a-1,o=i.a-n.a,l=((s*o==-1?s:(s+o)/(1+s*o))+1)/2;r=1-l,i.r=255&l*i.r+r*n.r+.5,i.g=255&l*i.g+r*n.g+.5,i.b=255&l*i.b+r*n.b+.5,i.a=a*i.a+(1-a)*n.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,r){let i=U(y(e.r)),n=U(y(e.g)),a=U(y(e.b));return{r:b(L(i+r*(U(y(t.r))-i))),g:b(L(n+r*(U(y(t.g))-n))),b:b(L(a+r*(U(y(t.b))-a))),a:e.a+r*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new B(this.rgb)}alpha(e){return this._rgb.a=b(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=p(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $(this._rgb,2,e),this}darken(e){return $(this._rgb,2,-e),this}saturate(e){return $(this._rgb,1,e),this}desaturate(e){return $(this._rgb,1,-e),this}rotate(e){var t,r;return(r=C(t=this._rgb))[0]=j(r[0]+e),t.r=(r=M(R,r,void 0,void 0))[0],t.g=r[1],t.b=r[2],this}}function W(){}let z=(()=>{let e=0;return()=>e++})();function V(e){return null==e}function q(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function K(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function G(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function J(e,t){return G(e)?e:t}function X(e,t){return void 0===e?t:e}let Y=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t,Z=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Q(e,t,r){if(e&&"function"==typeof e.call)return e.apply(r,t)}function ee(e,t,r,i){let n,a,s;if(q(e)){if(a=e.length,i)for(n=a-1;n>=0;n--)t.call(r,e[n],n);else for(n=0;n<a;n++)t.call(r,e[n],n)}else if(K(e))for(n=0,a=(s=Object.keys(e)).length;n<a;n++)t.call(r,e[s[n]],s[n])}function et(e,t){let r,i,n,a;if(!e||!t||e.length!==t.length)return!1;for(r=0,i=e.length;r<i;++r)if(n=e[r],a=t[r],n.datasetIndex!==a.datasetIndex||n.index!==a.index)return!1;return!0}function er(e){if(q(e))return e.map(er);if(K(e)){let t=Object.create(null),r=Object.keys(e),i=r.length,n=0;for(;n<i;++n)t[r[n]]=er(e[r[n]]);return t}return e}function ei(e){return -1===["__proto__","prototype","constructor"].indexOf(e)}function en(e,t,r,i){if(!ei(e))return;let n=t[e],a=r[e];K(n)&&K(a)?ea(n,a,i):t[e]=er(a)}function ea(e,t,r){let i;let n=q(t)?t:[t],a=n.length;if(!K(e))return e;let s=(r=r||{}).merger||en;for(let t=0;t<a;++t){if(!K(i=n[t]))continue;let a=Object.keys(i);for(let t=0,n=a.length;t<n;++t)s(a[t],e,i,r)}return e}function es(e,t){return ea(e,t,{merger:eo})}function eo(e,t,r){if(!ei(e))return;let i=t[e],n=r[e];K(i)&&K(n)?es(i,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=er(n))}let el={"":e=>e,x:e=>e.x,y:e=>e.y};function ec(e,t){return(el[t]||(el[t]=function(e){let t=function(e){let t=e.split("."),r=[],i="";for(let e of t)(i+=e).endsWith("\\")?i=i.slice(0,-1)+".":(r.push(i),i="");return r}(e);return e=>{for(let r of t){if(""===r)break;e=e&&e[r]}return e}}(t)))(e)}function eu(e){return e.charAt(0).toUpperCase()+e.slice(1)}let ed=e=>void 0!==e,eh=e=>"function"==typeof e,ef=(e,t)=>{if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0},ep=Math.PI,eg=2*ep,em=eg+ep,eb=Number.POSITIVE_INFINITY,ey=ep/180,e_=ep/2,ev=ep/4,ex=2*ep/3,ew=Math.log10,eS=Math.sign;function eE(e,t,r){return Math.abs(e-t)<r}function ek(e){let t=Math.round(e),r=Math.pow(10,Math.floor(ew(e=eE(e,t,e/1e3)?t:e))),i=e/r;return(i<=1?1:i<=2?2:i<=5?5:10)*r}function eO(e){return"symbol"!=typeof e&&("object"!=typeof e||null===e||!!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e))&&!isNaN(parseFloat(e))&&isFinite(e)}function eA(e,t,r){let i,n,a;for(i=0,n=e.length;i<n;i++)isNaN(a=e[i][r])||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function eR(e){return ep/180*e}function eP(e){if(!G(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function eT(e,t){let r=t.x-e.x,i=t.y-e.y,n=Math.sqrt(r*r+i*i),a=Math.atan2(i,r);return a<-.5*ep&&(a+=eg),{angle:a,distance:n}}function eC(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function eM(e,t){return(e-t+em)%eg-ep}function ej(e){return(e%eg+eg)%eg}function eD(e,t,r,i){let n=ej(e),a=ej(t),s=ej(r),o=ej(a-n),l=ej(s-n),c=ej(n-a),u=ej(n-s);return n===a||n===s||i&&a===s||o>l&&c<u}function eN(e,t,r){return Math.max(t,Math.min(r,e))}function eI(e,t,r,i=1e-6){return e>=Math.min(t,r)-i&&e<=Math.max(t,r)+i}function eL(e,t,r){let i;r=r||(r=>e[r]<t);let n=e.length-1,a=0;for(;n-a>1;)r(i=a+n>>1)?a=i:n=i;return{lo:a,hi:n}}let eU=(e,t,r,i)=>eL(e,r,i?i=>{let n=e[i][t];return n<r||n===r&&e[i+1][t]===r}:i=>e[i][t]<r),e$=(e,t,r)=>eL(e,r,i=>e[i][t]>=r),eH=["push","pop","shift","splice","unshift"];function eF(e,t){let r=e._chartjs;if(!r)return;let i=r.listeners,n=i.indexOf(t);-1!==n&&i.splice(n,1),!(i.length>0)&&(eH.forEach(t=>{delete e[t]}),delete e._chartjs)}function eB(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}let eW="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function ez(e,t){let r=[],i=!1;return function(...n){r=n,i||(i=!0,eW.call(window,()=>{i=!1,e.apply(t,r)}))}}let eV=e=>"start"===e?"left":"end"===e?"right":"center",eq=(e,t,r)=>"start"===e?t:"end"===e?r:(t+r)/2,eK=(e,t,r,i)=>e===(i?"left":"right")?r:"center"===e?(t+r)/2:t;function eG(e,t,r){let i=t.length,n=0,a=i;if(e._sorted){let{iScale:s,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=s.axis,{min:d,max:h,minDefined:f,maxDefined:p}=s.getUserBounds();if(f){if(n=Math.min(eU(l,u,d).lo,r?i:eU(t,u,s.getPixelForValue(d)).lo),c){let e=l.slice(0,n+1).reverse().findIndex(e=>!V(e[o.axis]));n-=Math.max(0,e)}n=eN(n,0,i-1)}if(p){let e=Math.max(eU(l,s.axis,h,!0).hi+1,r?0:eU(t,u,s.getPixelForValue(h),!0).hi+1);if(c){let t=l.slice(e-1).findIndex(e=>!V(e[o.axis]));e+=Math.max(0,t)}a=eN(e,n,i)-n}else a=i-n}return{start:n,count:a}}function eJ(e){let{xScale:t,yScale:r,_scaleRanges:i}=e,n={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!i)return e._scaleRanges=n,!0;let a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==r.min||i.ymax!==r.max;return Object.assign(i,n),a}let eX=e=>0===e||1===e,eY=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*eg/r)),eZ=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*eg/r)+1,eQ={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*e_)+1,easeOutSine:e=>Math.sin(e*e_),easeInOutSine:e=>-.5*(Math.cos(ep*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>eX(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(-Math.pow(2,-10*(2*e-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>eX(e)?e:eY(e,.075,.3),easeOutElastic:e=>eX(e)?e:eZ(e,.075,.3),easeInOutElastic:e=>eX(e)?e:e<.5?.5*eY(2*e,.1125,.45):.5+.5*eZ(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-eQ.easeOutBounce(1-e),easeOutBounce:e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,easeInOutBounce:e=>e<.5?.5*eQ.easeInBounce(2*e):.5*eQ.easeOutBounce(2*e-1)+.5};function e0(e){if(e&&"object"==typeof e){let t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function e1(e){return e0(e)?e:new B(e)}function e2(e){return e0(e)?e:new B(e).saturate(.5).darken(.1).hexString()}let e5=["x","y","borderWidth","radius","tension"],e3=["color","borderColor","backgroundColor"],e4=new Map;function e6(e,t,r){return(function(e,t){let r=e+JSON.stringify(t=t||{}),i=e4.get(r);return i||(i=new Intl.NumberFormat(e,t),e4.set(r,i)),i})(t,r).format(e)}let e8={values:e=>q(e)?e:""+e,numeric(e,t,r){let i;if(0===e)return"0";let n=this.chart.options.locale,a=e;if(r.length>1){var s,o;let t,n=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(n<1e-4||n>1e15)&&(i="scientific"),s=e,Math.abs(t=(o=r).length>3?o[2].value-o[1].value:o[1].value-o[0].value)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),a=t}let l=ew(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),e6(e,n,u)},logarithmic(e,t,r){return 0===e?"0":[1,2,3,5,10,15].includes(r[t].significand||e/Math.pow(10,Math.floor(ew(e))))||t>.8*r.length?e8.numeric.call(this,e,t,r):""}};var e9={formatters:e8};let e7=Object.create(null),te=Object.create(null);function tt(e,t){if(!t)return e;let r=t.split(".");for(let t=0,i=r.length;t<i;++t){let i=r[t];e=e[i]||(e[i]=Object.create(null))}return e}function tr(e,t,r){return"string"==typeof t?ea(tt(e,t),r):ea(tt(e,""),t)}class ti{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>e2(t.backgroundColor),this.hoverBorderColor=(e,t)=>e2(t.borderColor),this.hoverColor=(e,t)=>e2(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return tr(this,e,t)}get(e){return tt(this,e)}describe(e,t){return tr(te,e,t)}override(e,t){return tr(e7,e,t)}route(e,t,r,i){let n=tt(this,e),a=tt(this,r),s="_"+t;Object.defineProperties(n,{[s]:{value:n[t],writable:!0},[t]:{enumerable:!0,get(){let e=this[s],t=a[i];return K(e)?Object.assign({},t,e):X(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach(e=>e(this))}}var tn=new ti({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:e3},numbers:{type:"number",properties:e5}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:e9.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function ta(e,t,r,i,n){let a=t[n];return a||(a=t[n]=e.measureText(n).width,r.push(n)),a>i&&(i=a),i}function ts(e,t,r){let i=e.currentDevicePixelRatio,n=0!==r?Math.max(r/2,.5):0;return Math.round((t-n)*i)/i+n}function to(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function tl(e,t,r,i){tc(e,t,r,i,null)}function tc(e,t,r,i,n){let a,s,o,l,c,u,d,h;let f=t.pointStyle,p=t.rotation,g=t.radius,m=(p||0)*ey;if(f&&"object"==typeof f&&("[object HTMLImageElement]"===(a=f.toString())||"[object HTMLCanvasElement]"===a)){e.save(),e.translate(r,i),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!isNaN(g)&&!(g<=0)){switch(e.beginPath(),f){default:n?e.ellipse(r,i,n/2,g,0,0,eg):e.arc(r,i,g,0,eg),e.closePath();break;case"triangle":u=n?n/2:g,e.moveTo(r+Math.sin(m)*u,i-Math.cos(m)*g),m+=ex,e.lineTo(r+Math.sin(m)*u,i-Math.cos(m)*g),m+=ex,e.lineTo(r+Math.sin(m)*u,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,s=Math.cos(m+ev)*(l=g-c),d=Math.cos(m+ev)*(n?n/2-c:l),o=Math.sin(m+ev)*l,h=Math.sin(m+ev)*(n?n/2-c:l),e.arc(r-d,i-o,c,m-ep,m-e_),e.arc(r+h,i-s,c,m-e_,m),e.arc(r+d,i+o,c,m,m+e_),e.arc(r-h,i+s,c,m+e_,m+ep),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=n?n/2:l,e.rect(r-u,i-l,2*u,2*l);break}m+=ev;case"rectRot":d=Math.cos(m)*(n?n/2:g),s=Math.cos(m)*g,o=Math.sin(m)*g,h=Math.sin(m)*(n?n/2:g),e.moveTo(r-d,i-o),e.lineTo(r+h,i-s),e.lineTo(r+d,i+o),e.lineTo(r-h,i+s),e.closePath();break;case"crossRot":m+=ev;case"cross":d=Math.cos(m)*(n?n/2:g),s=Math.cos(m)*g,o=Math.sin(m)*g,h=Math.sin(m)*(n?n/2:g),e.moveTo(r-d,i-o),e.lineTo(r+d,i+o),e.moveTo(r+h,i-s),e.lineTo(r-h,i+s);break;case"star":d=Math.cos(m)*(n?n/2:g),s=Math.cos(m)*g,o=Math.sin(m)*g,h=Math.sin(m)*(n?n/2:g),e.moveTo(r-d,i-o),e.lineTo(r+d,i+o),e.moveTo(r+h,i-s),e.lineTo(r-h,i+s),m+=ev,d=Math.cos(m)*(n?n/2:g),s=Math.cos(m)*g,o=Math.sin(m)*g,h=Math.sin(m)*(n?n/2:g),e.moveTo(r-d,i-o),e.lineTo(r+d,i+o),e.moveTo(r+h,i-s),e.lineTo(r-h,i+s);break;case"line":s=n?n/2:Math.cos(m)*g,o=Math.sin(m)*g,e.moveTo(r-s,i-o),e.lineTo(r+s,i+o);break;case"dash":e.moveTo(r,i),e.lineTo(r+Math.cos(m)*(n?n/2:g),i+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function tu(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function td(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function th(e){e.restore()}function tf(e,t,r,i,n){if(!t)return e.lineTo(r.x,r.y);if("middle"===n){let i=(t.x+r.x)/2;e.lineTo(i,t.y),e.lineTo(i,r.y)}else"after"===n!=!!i?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function tp(e,t,r,i){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?r.cp2x:r.cp1x,i?r.cp2y:r.cp1y,r.x,r.y)}function tg(e,t,r,i,n,a={}){let s,o;let l=q(t)?t:[t],c=a.strokeWidth>0&&""!==a.strokeColor;for(e.save(),e.font=n.string,a.translation&&e.translate(a.translation[0],a.translation[1]),V(a.rotation)||e.rotate(a.rotation),a.color&&(e.fillStyle=a.color),a.textAlign&&(e.textAlign=a.textAlign),a.textBaseline&&(e.textBaseline=a.textBaseline),s=0;s<l.length;++s)o=l[s],a.backdrop&&function(e,t){let r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),V(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(o,r,i,a.maxWidth)),e.fillText(o,r,i,a.maxWidth),function(e,t,r,i,n){if(n.strikethrough||n.underline){let a=e.measureText(i),s=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=r-a.actualBoundingBoxAscent,c=r+a.actualBoundingBoxDescent,u=n.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(s,u),e.lineTo(o,u),e.stroke()}}(e,r,i,o,a),i+=Number(n.lineHeight);e.restore()}function tm(e,t){let{x:r,y:i,w:n,h:a,radius:s}=t;e.arc(r+s.topLeft,i+s.topLeft,s.topLeft,1.5*ep,ep,!0),e.lineTo(r,i+a-s.bottomLeft),e.arc(r+s.bottomLeft,i+a-s.bottomLeft,s.bottomLeft,ep,e_,!0),e.lineTo(r+n-s.bottomRight,i+a),e.arc(r+n-s.bottomRight,i+a-s.bottomRight,s.bottomRight,e_,0,!0),e.lineTo(r+n,i+s.topRight),e.arc(r+n-s.topRight,i+s.topRight,s.topRight,0,-e_,!0),e.lineTo(r+s.topLeft,i)}let tb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ty=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/,t_=e=>+e||0;function tv(e,t){let r={},i=K(t),n=i?Object.keys(t):t,a=K(e)?i?r=>X(e[r],e[t[r]]):t=>e[t]:()=>e;for(let e of n)r[e]=t_(a(e));return r}function tx(e){return tv(e,{top:"y",right:"x",bottom:"y",left:"x"})}function tw(e){return tv(e,["topLeft","topRight","bottomLeft","bottomRight"])}function tS(e){let t=tx(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function tE(e,t){e=e||{},t=t||tn.font;let r=X(e.size,t.size);"string"==typeof r&&(r=parseInt(r,10));let i=X(e.style,t.style);i&&!(""+i).match(ty)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let n={family:X(e.family,t.family),lineHeight:function(e,t){let r=(""+e).match(tb);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e}(X(e.lineHeight,t.lineHeight),r),size:r,style:i,weight:X(e.weight,t.weight),string:""};return n.string=!n||V(n.size)||V(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family,n}function tk(e,t,r,i){let n,a,s,o=!0;for(n=0,a=e.length;n<a;++n)if(void 0!==(s=e[n])&&(void 0!==t&&"function"==typeof s&&(s=s(t),o=!1),void 0!==r&&q(s)&&(s=s[r%s.length],o=!1),void 0!==s))return i&&!o&&(i.cacheable=!1),s}function tO(e,t){return Object.assign(Object.create(e),t)}function tA(e,t=[""],r,i,n=()=>e[0]){let a=r||e;return void 0===i&&(i=tI("_fallback",e)),new Proxy({[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:i,_getTarget:n,override:r=>tA([r,...e],t,a,i)},{deleteProperty:(t,r)=>(delete t[r],delete t._keys,delete e[0][r],!0),get:(r,i)=>tM(r,i,()=>(function(e,t,r,i){let n;for(let a of t)if(void 0!==(n=tI(tT(a,e),r)))return tC(e,n)?tD(r,i,e,n):n})(i,t,e,r)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>tL(e).includes(t),ownKeys:e=>tL(e),set(e,t,r){let i=e._storage||(e._storage=n());return e[t]=i[t]=r,delete e._keys,!0}})}function tR(e,t,r,i){return new Proxy({_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:tP(e,i),setContext:t=>tR(e,t,r,i),override:n=>tR(e.override(n),t,r,i)},{deleteProperty:(t,r)=>(delete t[r],delete e[r],!0),get:(e,t,r)=>tM(e,t,()=>(function(e,t,r){let{_proxy:i,_context:n,_subProxy:a,_descriptors:s}=e,o=i[t];return eh(o)&&s.isScriptable(t)&&(o=function(e,t,r,i){let{_proxy:n,_context:a,_subProxy:s,_stack:o}=r;if(o.has(e))throw Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,s||i);return o.delete(e),tC(e,l)&&(l=tD(n._scopes,n,e,l)),l}(t,o,e,r)),q(o)&&o.length&&(o=function(e,t,r,i){let{_proxy:n,_context:a,_subProxy:s,_descriptors:o}=r;if(void 0!==a.index&&i(e))return t[a.index%t.length];if(K(t[0])){let r=t,i=n._scopes.filter(e=>e!==r);for(let l of(t=[],r)){let r=tD(i,n,e,l);t.push(tR(r,a,s&&s[e],o))}}return t}(t,o,e,s.isIndexable)),tC(t,o)&&(o=tR(o,n,a&&a[t],s)),o})(e,t,r)),getOwnPropertyDescriptor:(t,r)=>t._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,r)=>Reflect.has(e,r),ownKeys:()=>Reflect.ownKeys(e),set:(t,r,i)=>(e[r]=i,delete t[r],!0)})}function tP(e,t={scriptable:!0,indexable:!0}){let{_scriptable:r=t.scriptable,_indexable:i=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:r,indexable:i,isScriptable:eh(r)?r:()=>r,isIndexable:eh(i)?i:()=>i}}let tT=(e,t)=>e?e+eu(t):t,tC=(e,t)=>K(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function tM(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];let i=r();return e[t]=i,i}let tj=(e,t)=>!0===e?t:"string"==typeof e?ec(t,e):void 0;function tD(e,t,r,i){var n;let a=t._rootScopes,s=eh(n=t._fallback)?n(r,i):n,o=[...e,...a],l=new Set;l.add(i);let c=tN(l,o,r,s||r,i);return null!==c&&(void 0===s||s===r||null!==(c=tN(l,o,s,c,i)))&&tA(Array.from(l),[""],a,s,()=>(function(e,t,r){let i=e._getTarget();t in i||(i[t]={});let n=i[t];return q(n)&&K(r)?r:n||{}})(t,r,i))}function tN(e,t,r,i,n){for(;r;)r=function(e,t,r,i,n){for(let s of t){let t=tj(r,s);if(t){var a;e.add(t);let s=eh(a=t._fallback)?a(r,n):a;if(void 0!==s&&s!==r&&s!==i)return s}else if(!1===t&&void 0!==i&&r!==i)return null}return!1}(e,t,r,i,n);return r}function tI(e,t){for(let r of t){if(!r)continue;let t=r[e];if(void 0!==t)return t}}function tL(e){let t=e._keys;return t||(t=e._keys=function(e){let t=new Set;for(let r of e)for(let e of Object.keys(r).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function tU(e,t,r,i){let n,a,s;let{iScale:o}=e,{key:l="r"}=this._parsing,c=Array(i);for(n=0;n<i;++n)s=t[a=n+r],c[n]={r:o.parse(ec(s,l),a)};return c}let t$=Number.EPSILON||1e-14,tH=(e,t)=>t<e.length&&!e[t].skip&&e[t],tF=e=>"x"===e?"y":"x";function tB(e,t,r){return Math.max(Math.min(e,r),t)}function tW(){return"undefined"!=typeof window&&"undefined"!=typeof document}function tz(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function tV(e,t,r){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[r])):i=e,i}let tq=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),tK=["top","right","bottom","left"];function tG(e,t,r){let i={};r=r?"-"+r:"";for(let n=0;n<4;n++){let a=tK[n];i[a]=parseFloat(e[t+"-"+a+r])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}let tJ=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function tX(e,t){if("native"in e)return e;let{canvas:r,currentDevicePixelRatio:i}=t,n=tq(r),a="border-box"===n.boxSizing,s=tG(n,"padding"),o=tG(n,"border","width"),{x:l,y:c,box:u}=function(e,t){let r,i;let n=e.touches,a=n&&n.length?n[0]:e,{offsetX:s,offsetY:o}=a,l=!1;if(tJ(s,o,e.target))r=s,i=o;else{let e=t.getBoundingClientRect();r=a.clientX-e.left,i=a.clientY-e.top,l=!0}return{x:r,y:i,box:l}}(e,r),d=s.left+(u&&o.left),h=s.top+(u&&o.top),{width:f,height:p}=t;return a&&(f-=s.width+o.width,p-=s.height+o.height),{x:Math.round((l-d)/f*r.width/i),y:Math.round((c-h)/p*r.height/i)}}let tY=e=>Math.round(10*e)/10;function tZ(e,t,r){let i=t||1,n=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let s=e.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||s.height!==n||s.width!==a)&&(e.currentDevicePixelRatio=i,s.height=n,s.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0)}let tQ=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};tW()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(e){}return e}();function t0(e,t){let r=tq(e).getPropertyValue(t),i=r&&r.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function t1(e,t,r,i){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function t2(e,t,r,i){return{x:e.x+r*(t.x-e.x),y:"middle"===i?r<.5?e.y:t.y:"after"===i?r<1?e.y:t.y:r>0?t.y:e.y}}function t5(e,t,r,i){let n={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},s=t1(e,n,r),o=t1(n,a,r),l=t1(a,t,r),c=t1(s,o,r),u=t1(o,l,r);return t1(c,u,r)}function t3(e,t,r){var i;return e?(i=r,{x:e=>t+t+i-e,setWidth(e){i=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function t4(e,t){let r,i;("ltr"===t||"rtl"===t)&&(i=[(r=e.canvas.style).getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=i)}function t6(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function t8(e){return"angle"===e?{between:eD,compare:eM,normalize:ej}:{between:eI,compare:(e,t)=>e-t,normalize:e=>e}}function t9({start:e,end:t,count:r,loop:i,style:n}){return{start:e%r,end:t%r,loop:i&&(t-e+1)%r==0,style:n}}function t7(e,t,r){let i,n,a;if(!r)return[e];let{property:s,start:o,end:l}=r,c=t.length,{compare:u,between:d,normalize:h}=t8(s),{start:f,end:p,loop:g,style:m}=function(e,t,r){let i;let{property:n,start:a,end:s}=r,{between:o,normalize:l}=t8(n),c=t.length,{start:u,end:d,loop:h}=e;if(h){for(u+=c,d+=c,i=0;i<c&&o(l(t[u%c][n]),a,s);++i)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:e.style}}(e,t,r),b=[],y=!1,_=null,v=()=>d(o,a,i)&&0!==u(o,a),x=()=>0===u(l,i)||d(l,a,i),w=()=>y||v(),S=()=>!y||x();for(let e=f,r=f;e<=p;++e)!(n=t[e%c]).skip&&(i=h(n[s]))!==a&&(y=d(i,o,l),null===_&&w()&&(_=0===u(i,o)?e:r),null!==_&&S()&&(b.push(t9({start:_,end:e,loop:g,count:c,style:m})),_=null),r=e,a=i);return null!==_&&b.push(t9({start:_,end:p,loop:g,count:c,style:m})),b}function re(e,t){let r=[],i=e.segments;for(let n=0;n<i.length;n++){let a=t7(i[n],e.points,t);a.length&&r.push(...a)}return r}function rt(e,t,r,i){return i&&i.setContext&&r?function(e,t,r,i){let n=e._chart.getContext(),a=rr(e.options),{_datasetIndex:s,options:{spanGaps:o}}=e,l=r.length,c=[],u=a,d=t[0].start,h=d;function f(e,t,i,n){let a=o?-1:1;if(e!==t){for(e+=l;r[e%l].skip;)e-=a;for(;r[t%l].skip;)t+=a;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:i,style:n}),u=n,d=t%l)}}for(let e of t){let t;let a=r[(d=o?d:e.start)%l];for(h=d+1;h<=e.end;h++){let o=r[h%l];(function(e,t){if(!t)return!1;let r=[],i=function(e,t){return e0(t)?(r.includes(t)||r.push(t),r.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)})(t=rr(i.setContext(tO(n,{type:"segment",p0:a,p1:o,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),u)&&f(d,h-1,e.loop,u),a=o,u=t}d<h-1&&f(d,h-1,e.loop,u)}return c}(e,t,r,i):t}function rr(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ri(e,t,r){return e.options.clip?e[r]:t[r]}function rn(e,t){let r=t._clip;if(r.disabled)return!1;let i=function(e,t){let{xScale:r,yScale:i}=e;return r&&i?{left:ri(r,t,"left"),right:ri(r,t,"right"),top:ri(i,t,"top"),bottom:ri(i,t,"bottom")}:t}(t,e.chartArea);return{left:!1===r.left?0:i.left-(!0===r.left?0:r.left),right:!1===r.right?e.width:i.right+(!0===r.right?0:r.right),top:!1===r.top?0:i.top-(!0===r.top?0:r.top),bottom:!1===r.bottom?e.height:i.bottom+(!0===r.bottom?0:r.bottom)}}class ra{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){let n=t.listeners[i],a=t.duration;n.forEach(i=>i({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){!this._request&&(this._running=!0,this._request=eW.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{let n;if(!r.running||!r.items.length)return;let a=r.items,s=a.length-1,o=!1;for(;s>=0;--s)(n=a[s])._active?(n._total>r.duration&&(r.duration=n._total),n.tick(e),o=!0):(a[s]=a[a.length-1],a.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),a.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){let t=this._charts,r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!!t&&!!t.running&&!!t.items.length}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let r=t.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var rs=new ra;let ro="transparent",rl={boolean:(e,t,r)=>r>.5?t:e,color(e,t,r){let i=e1(e||ro),n=i.valid&&e1(t||ro);return n&&n.valid?n.mix(i,r).hexString():t},number:(e,t,r)=>e+(t-e)*r};class rc{constructor(e,t,r,i){let n=t[r];i=tk([e.to,i,n,e.from]);let a=tk([e.from,n,i]);this._active=!0,this._fn=e.fn||rl[e.type||typeof a],this._easing=eQ[e.easing]||eQ.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);let i=this._target[this._prop],n=r-this._start,a=this._duration-n;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=n,this._loop=!!e.loop,this._to=tk([e.to,t,i,e.from]),this._from=tk([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t;let r=e-this._start,i=this._duration,n=this._prop,a=this._from,s=this._loop,o=this._to;if(this._active=a!==o&&(s||r<i),!this._active){this._target[n]=o,this._notify(!0);return}if(r<0){this._target[n]=a;return}t=r/i%2,t=s&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[n]=this._fn(a,o,t)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){let t=e?"res":"rej",r=this._promises||[];for(let e=0;e<r.length;e++)r[e][t]()}}class ru{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!K(e))return;let t=Object.keys(tn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let n=e[i];if(!K(n))return;let a={};for(let e of t)a[e]=n[e];(q(n.properties)&&n.properties||[i]).forEach(e=>{e!==i&&r.has(e)||r.set(e,a)})})}_animateOptions(e,t){let r=t.options,i=function(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}(e,r);if(!i)return[];let n=this._createAnimations(i,r);return r.$shared&&(function(e,t){let r=[],i=Object.keys(t);for(let t=0;t<i.length;t++){let n=e[i[t]];n&&n.active()&&r.push(n.wait())}return Promise.all(r)})(e.options.$animations,r).then(()=>{e.options=r},()=>{}),n}_createAnimations(e,t){let r;let i=this._properties,n=[],a=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();for(r=s.length-1;r>=0;--r){let l=s[r];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}let c=t[l],u=a[l],d=i.get(l);if(u){if(d&&u.active()){u.update(d,c,o);continue}u.cancel()}if(!d||!d.duration){e[l]=c;continue}a[l]=u=new rc(d,e,l,c),n.push(u)}return n}update(e,t){if(0===this._properties.size){Object.assign(e,t);return}let r=this._createAnimations(e,t);if(r.length)return rs.add(this._chart,r),!0}}function rd(e,t){let r=e&&e.options||{},i=r.reverse,n=void 0===r.min?t:0,a=void 0===r.max?t:0;return{start:i?a:n,end:i?n:a}}function rh(e,t){let r,i;let n=[],a=e._getSortedDatasetMetas(t);for(r=0,i=a.length;r<i;++r)n.push(a[r].index);return n}function rf(e,t,r,i={}){let n,a,s,o;let l=e.keys,c="single"===i.mode;if(null===t)return;let u=!1;for(n=0,a=l.length;n<a;++n){if((s=+l[n])===r){if(u=!0,i.all)continue;break}G(o=e.values[s])&&(c||0===t||eS(t)===eS(o))&&(t+=o)}return u||i.all?t:0}function rp(e,t){let r=e&&e.options.stacked;return r||void 0===r&&void 0!==t.stack}function rg(e,t,r,i){for(let n of t.getMatchingVisibleMetas(i).reverse()){let t=e[n.index];if(r&&t>0||!r&&t<0)return n.index}return null}function rm(e,t){let r;let{chart:i,_cachedMeta:n}=e,a=i._stacks||(i._stacks={}),{iScale:s,vScale:o,index:l}=n,c=s.axis,u=o.axis,d=`${s.id}.${o.id}.${n.stack||n.type}`,h=t.length;for(let e=0;e<h;++e){let i=t[e],{[c]:s,[u]:h}=i;(r=(i._stacks||(i._stacks={}))[u]=function(e,t,r){let i=e[t]||(e[t]={});return i[r]||(i[r]={})}(a,d,s))[l]=h,r._top=rg(r,o,!0,n.type),r._bottom=rg(r,o,!1,n.type),(r._visualValues||(r._visualValues={}))[l]=h}}function rb(e,t){let r=e.scales;return Object.keys(r).filter(e=>r[e].axis===t).shift()}function ry(e,t){let r=e.controller.index,i=e.vScale&&e.vScale.axis;if(i)for(let n of t=t||e._parsed){let e=n._stacks;if(!e||void 0===e[i]||void 0===e[i][r])return;delete e[i][r],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[r]&&delete e[i]._visualValues[r]}}let r_=e=>"reset"===e||"none"===e,rv=(e,t)=>t?e:Object.assign({},e),rx=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:rh(r,!0),values:null};class rw{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=rp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ry(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(e,t,r,i)=>"x"===e?t:"r"===e?i:r,n=t.xAxisID=X(r.xAxisID,rb(e,"x")),a=t.yAxisID=X(r.yAxisID,rb(e,"y")),s=t.rAxisID=X(r.rAxisID,rb(e,"r")),o=t.indexAxis,l=t.iAxisID=i(o,n,a,s),c=t.vAxisID=i(o,a,n,s);t.xScale=this.getScaleForId(n),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&eF(this._data,this),e._stacked&&ry(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(K(t)){let e=this._cachedMeta;this._data=function(e,t){let r,i,n;let{iScale:a,vScale:s}=t,o="x"===a.axis?"x":"y",l="x"===s.axis?"x":"y",c=Object.keys(e),u=Array(c.length);for(r=0,i=c.length;r<i;++r)n=c[r],u[r]={[o]:n,[l]:e[n]};return u}(t,e)}else if(r!==t){if(r){eF(r,this);let e=this._cachedMeta;ry(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),eH.forEach(t=>{let r="_onData"+eu(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){let n=i.apply(this,t);return e._chartjs.listeners.forEach(e=>{"function"==typeof e[r]&&e[r](...t)}),n}})})}(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,r=this.getDataset(),i=!1;this._dataCheck();let n=t._stacked;t._stacked=rp(t.vScale,t),t.stack!==r.stack&&(i=!0,ry(t),t.stack=r.stack),this._resyncElements(e),(i||n!==t._stacked)&&(rm(this,t._parsed),t._stacked=rp(t.vScale,t))}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let r,i,n;let{_cachedMeta:a,_data:s}=this,{iScale:o,_stacked:l}=a,c=o.axis,u=0===e&&t===s.length||a._sorted,d=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=s,a._sorted=!0,n=s;else{n=q(s[e])?this.parseArrayData(a,s,e,t):K(s[e])?this.parseObjectData(a,s,e,t):this.parsePrimitiveData(a,s,e,t);let o=()=>null===i[c]||d&&i[c]<d[c];for(r=0;r<t;++r)a._parsed[r+e]=i=n[r],u&&(o()&&(u=!1),d=i);a._sorted=u}l&&rm(this,n)}parsePrimitiveData(e,t,r,i){let n,a;let{iScale:s,vScale:o}=e,l=s.axis,c=o.axis,u=s.getLabels(),d=s===o,h=Array(i);for(n=0;n<i;++n)a=n+r,h[n]={[l]:d||s.parse(u[a],a),[c]:o.parse(t[a],a)};return h}parseArrayData(e,t,r,i){let n,a,s;let{xScale:o,yScale:l}=e,c=Array(i);for(n=0;n<i;++n)s=t[a=n+r],c[n]={x:o.parse(s[0],a),y:l.parse(s[1],a)};return c}parseObjectData(e,t,r,i){let n,a,s;let{xScale:o,yScale:l}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=Array(i);for(n=0;n<i;++n)s=t[a=n+r],d[n]={x:o.parse(ec(s,c),a),y:l.parse(ec(s,u),a)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){let i=this.chart,n=this._cachedMeta,a=t[e.axis];return rf({keys:rh(i,!0),values:t._stacks[e.axis]._visualValues},a,n.index,{mode:r})}updateRangeFromParsed(e,t,r,i){let n=r[t.axis],a=null===n?NaN:n,s=i&&r._stacks[t.axis];i&&s&&(i.values=s,a=rf(i,n,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){let r,i;let n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,o=a.length,l=this._getOtherScale(e),c=rx(t,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=function(e){let{min:t,max:r,minDefined:i,maxDefined:n}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:n?r:Number.POSITIVE_INFINITY}}(l);function f(){let t=(i=a[r])[l.axis];return!G(i[e.axis])||d>t||h<t}for(r=0;r<o&&(f()||(this.updateRangeFromParsed(u,e,i,c),!s));++r);if(s){for(r=o-1;r>=0;--r)if(!f()){this.updateRangeFromParsed(u,e,i,c);break}}return u}getAllParsedValues(e){let t,r,i;let n=this._cachedMeta._parsed,a=[];for(t=0,r=n.length;t<r;++t)G(i=n[t][e.axis])&&a.push(i);return a}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,r=t.iScale,i=t.vScale,n=this.getParsed(e);return{label:r?""+r.getLabelForValue(n[r.axis]):"",value:i?""+i.getLabelForValue(n[i.axis]):""}}_update(e){var t;let r,i,n,a;let s=this._cachedMeta;this.update(e||"default"),K(t=X(this.options.clip,function(e,t,r){if(!1===r)return!1;let i=rd(e,r),n=rd(t,r);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}(s.xScale,s.yScale,this.getMaxOverflow())))?(r=t.top,i=t.right,n=t.bottom,a=t.left):r=i=n=a=t,s._clip={top:r,right:i,bottom:n,left:a,disabled:!1===t}}update(e){}draw(){let e;let t=this._ctx,r=this.chart,i=this._cachedMeta,n=i.data||[],a=r.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||n.length-o,c=this.options.drawActiveElementsOnTop;for(i.dataset&&i.dataset.draw(t,a,o,l),e=o;e<o+l;++e){let r=n[e];!r.hidden&&(r.active&&c?s.push(r):r.draw(t,a))}for(e=0;e<s.length;++e)s[e].draw(t,a)}getStyle(e,t){let r=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){var i;let n;let a=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){let t=this._cachedMeta.data[e];(n=t.$context||(t.$context=tO(this.getContext(),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"}))).parsed=this.getParsed(e),n.raw=a.data[e],n.index=n.dataIndex=e}else(n=this.$context||(this.$context=tO(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:i=this.index,index:i,mode:"default",type:"dataset"}))).dataset=a,n.index=n.datasetIndex=this.index;return n.active=!!t,n.mode=r,n}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){let i="active"===t,n=this._cachedDataOpts,a=e+"-"+t,s=n[a],o=this.enableOptionSharing&&ed(r);if(s)return rv(s,o);let l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=i?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(tn.elements[e]),f=l.resolveNamedOptions(d,h,()=>this.getContext(r,i,t),u);return f.$shared&&(f.$shared=o,n[a]=Object.freeze(rv(f,o))),f}_resolveAnimations(e,t,r){let i;let n=this.chart,a=this._cachedDataOpts,s=`animation-${t}`,o=a[s];if(o)return o;if(!1!==n.options.animation){let n=this.chart.config,a=n.datasetAnimationScopeKeys(this._type,t),s=n.getOptionScopes(this.getDataset(),a);i=n.createResolver(s,this.getContext(e,r,t))}let l=new ru(n,i&&i.animations);return i&&i._cacheable&&(a[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||r_(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,n=this.getSharedOptions(r),a=this.includeOptions(t,n)||n!==i;return this.updateSharedOptions(n,t,r),{sharedOptions:n,includeOptions:a}}updateElement(e,t,r,i){r_(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!r_(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;let n=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(n)||n})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,r=this._cachedMeta.data;for(let[e,t,r]of this._syncList)this[e](t,r);this._syncList=[];let i=r.length,n=t.length,a=Math.min(n,i);a&&this.parse(0,a),n>i?this._insertElements(i,n-i,e):n<i&&this._removeElements(n,i-n)}_insertElements(e,t,r=!0){let i;let n=this._cachedMeta,a=n.data,s=e+t,o=e=>{for(e.length+=t,i=e.length-1;i>=s;i--)e[i]=e[i-t]};for(o(a),i=e;i<s;++i)a[i]=new this.dataElementType;this._parsing&&o(n._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){let r=this._cachedMeta;if(this._parsing){let i=r._parsed.splice(e,t);r._stacked&&ry(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function rS(e,t,r,i){return q(e)?function(e,t,r,i){let n=r.parse(e[0],i),a=r.parse(e[1],i),s=Math.min(n,a),o=Math.max(n,a),l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:n,end:a,min:s,max:o}}(e,t,r,i):t[r.axis]=r.parse(e,i),t}function rE(e,t,r,i){let n,a,s,o;let l=e.iScale,c=e.vScale,u=l.getLabels(),d=l===c,h=[];for(n=r,a=r+i;n<a;++n)o=t[n],(s={})[l.axis]=d||l.parse(u[n],n),h.push(rS(o,s,c,n));return h}function rk(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function rO(e,t,r,i){var n,a,s;return e=i?rA((n=e,a=t,s=r,e=n===a?s:n===s?a:n),r,t):rA(e,t,r)}function rA(e,t,r){return"start"===e?t:"end"===e?r:e}class rR extends rw{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,i){return rE(e,t,r,i)}parseArrayData(e,t,r,i){return rE(e,t,r,i)}parseObjectData(e,t,r,i){let n,a,s,o;let{iScale:l,vScale:c}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,h="x"===l.axis?u:d,f="x"===c.axis?u:d,p=[];for(n=r,a=r+i;n<a;++n)o=t[n],(s={})[l.axis]=l.parse(ec(o,h),n),p.push(rS(ec(o,f),s,c,n));return p}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);let n=r._custom;n&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,n.min),e.max=Math.max(e.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let{iScale:t,vScale:r}=this._cachedMeta,i=this.getParsed(e),n=i._custom,a=rk(n)?"["+n.start+", "+n.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+t.getLabelForValue(i[t.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){let n="reset"===i,{index:a,_cachedMeta:{vScale:s}}=this,o=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,i);for(let h=t;h<t+r;h++){let t=this.getParsed(h),r=n||V(t[s.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),f=this._calculateBarIndexPixels(h,c),p=(t._stacks||{})[s.axis],g={horizontal:l,base:r.base,enableBorderRadius:!p||rk(t._custom)||a===p._top||a===p._bottom,x:l?r.head:f.center,y:l?f.center:r.head,height:l?f.size:Math.abs(r.size),width:l?Math.abs(r.size):f.size};d&&(g.options=u||this.resolveDataElementOptions(h,e[h].active?"active":i));let m=g.options||e[h].options;(function(e,t,r,i){let n,a,s,o,l,c=t.borderSkipped,u={};if(!c){e.borderSkipped=u;return}if(!0===c){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:d,end:h,reverse:f,top:p,bottom:g}=(e.horizontal?(n=e.base>e.x,a="left",s="right"):(n=e.base<e.y,a="bottom",s="top"),n?(o="end",l="start"):(o="start",l="end"),{start:a,end:s,reverse:n,top:o,bottom:l});"middle"===c&&r&&(e.enableBorderRadius=!0,(r._top||0)===i?c=p:(r._bottom||0)===i?c=g:(u[rO(g,d,h,f)]=!0,c=p)),u[rO(c,d,h,f)]=!0,e.borderSkipped=u})(g,m,p,a),function(e,{inflateAmount:t},r){e.inflateAmount="auto"===t?.33*(1===r):t}(g,m,c.ratio),this.updateElement(e[h],h,g,i)}}_getStacks(e,t){let{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),n=r.options.stacked,a=[],s=this._cachedMeta.controller.getParsed(t),o=s&&s[r.axis],l=e=>{let t=e._parsed.find(e=>e[r.axis]===o),i=t&&t[e.vScale.axis];if(V(i)||isNaN(i))return!0};for(let r of i)if(!(void 0!==t&&l(r))&&((!1===n||-1===a.indexOf(r.stack)||void 0===n&&void 0===r.stack)&&a.push(r.stack),r.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){let e={},t=this.getFirstScaleIdForIndexAxis();for(let r of this.chart.data.datasets)e[X("x"===this.chart.options.indexAxis?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){let i=this._getStacks(e,r),n=void 0!==t?i.indexOf(t):-1;return -1===n?i.length-1:n}_getRuler(){let e,t;let r=this.options,i=this._cachedMeta,n=i.iScale,a=[];for(e=0,t=i.data.length;e<t;++e)a.push(n.getPixelForValue(this.getParsed(e)[n.axis],e));let s=r.barThickness;return{min:s||function(e){let t,r,i,n;let a=e.iScale,s=function(e,t){if(!e._cache.$bar){let r=e.getMatchingVisibleMetas(t),i=[];for(let t=0,n=r.length;t<n;t++)i=i.concat(r[t].controller.getAllParsedValues(e));e._cache.$bar=eB(i.sort((e,t)=>e-t))}return e._cache.$bar}(a,e.type),o=a._length,l=()=>{32767!==i&&-32768!==i&&(ed(n)&&(o=Math.min(o,Math.abs(i-n)||o)),n=i)};for(t=0,r=s.length;t<r;++t)i=a.getPixelForValue(s[t]),l();for(t=0,n=void 0,r=a.ticks.length;t<r;++t)i=a.getPixelForTick(t),l();return o}(i),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:r.grouped,ratio:s?1:r.categoryPercentage*r.barPercentage}}_calculateBarValuePixels(e){let t,r;let{_cachedMeta:{vScale:i,_stacked:n,index:a},options:{base:s,minBarLength:o}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=rk(u),h=c[i.axis],f=0,p=n?this.applyStack(i,c,n):h;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,0!==h&&eS(h)!==eS(u.barEnd)&&(f=0),f+=h);let g=V(s)||d?f:s,m=i.getPixelForValue(g);if(Math.abs(r=(t=this.chart.getDataVisibility(e)?i.getPixelForValue(f+p):m)-m)<o){var b;r=(0!==(b=r)?eS(b):(i.isHorizontal()?1:-1)*(i.min>=l?1:-1))*o,h===l&&(m-=r/2);let e=i.getPixelForDecimal(0),s=i.getPixelForDecimal(1),u=Math.min(e,s);t=(m=Math.max(Math.min(m,Math.max(e,s)),u))+r,n&&!d&&(c._stacks[i.axis]._visualValues[a]=i.getValueForPixel(t)-i.getValueForPixel(m))}if(m===i.getPixelForValue(l)){let e=eS(r)*i.getLineWidthForValue(l)/2;m+=e,r-=e}return{size:r,base:m,head:t,center:t+r/2}}_calculateBarIndexPixels(e,t){let r,i;let n=t.scale,a=this.options,s=a.skipNull,o=X(a.maxBarThickness,1/0),l=this._getAxisCount();if(t.grouped){let n=s?this._getStackCount(e):t.stackCount,c="flex"===a.barThickness?function(e,t,r,i){let n=t.pixels,a=n[e],s=e>0?n[e-1]:null,o=e<n.length-1?n[e+1]:null,l=r.categoryPercentage;null===s&&(s=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-s);let c=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/i,ratio:r.barPercentage,start:c}}(e,t,a,n*l):function(e,t,r,i){let n,a;let s=r.barThickness;return V(s)?(n=t.min*r.categoryPercentage,a=r.barPercentage):(n=s*i,a=1),{chunk:n/i,ratio:a,start:t.pixels[e]-n/2}}(e,t,a,n*l),u="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(X(u,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+d;r=c.start+c.chunk*h+c.chunk/2,i=Math.min(o,c.chunk*c.ratio)}else r=n.getPixelForValue(this.getParsed(e)[n.axis],e),i=Math.min(o,t.min*t.ratio);return{base:r-i/2,head:r+i/2,center:r,size:i}}draw(){let e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length,n=0;for(;n<i;++n)null===this.getParsed(n)[t.axis]||r[n].hidden||r[n].draw(this._ctx)}}class rP extends rw{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,i){let n=super.parsePrimitiveData(e,t,r,i);for(let e=0;e<n.length;e++)n[e]._custom=this.resolveDataElementOptions(e+r).radius;return n}parseArrayData(e,t,r,i){let n=super.parseArrayData(e,t,r,i);for(let e=0;e<n.length;e++){let i=t[r+e];n[e]._custom=X(i[2],this.resolveDataElementOptions(e+r).radius)}return n}parseObjectData(e,t,r,i){let n=super.parseObjectData(e,t,r,i);for(let e=0;e<n.length;e++){let i=t[r+e];n[e]._custom=X(i&&i.r&&+i.r,this.resolveDataElementOptions(e+r).radius)}return n}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:n}=t,a=this.getParsed(e),s=i.getLabelForValue(a.x),o=n.getLabelForValue(a.y),l=a._custom;return{label:r[e]||"",value:"("+s+", "+o+(l?", "+l:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,i){let n="reset"===i,{iScale:a,vScale:s}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,i),c=a.axis,u=s.axis;for(let d=t;d<t+r;d++){let t=e[d],r=!n&&this.getParsed(d),h={},f=h[c]=n?a.getPixelForDecimal(.5):a.getPixelForValue(r[c]),p=h[u]=n?s.getBasePixel():s.getPixelForValue(r[u]);h.skip=isNaN(f)||isNaN(p),l&&(h.options=o||this.resolveDataElementOptions(d,t.active?"active":i),n&&(h.options.radius=0)),this.updateElement(t,d,h,i)}}resolveDataElementOptions(e,t){let r=this.getParsed(e),i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));let n=i.radius;return"active"!==t&&(i.radius=0),i.radius+=X(r&&r._custom,n),i}}class rT extends rw{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((t,n)=>{let a=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let r=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=r;else{let n,a,s=e=>+r[e];if(K(r[e])){let{key:e="value"}=this._parsing;s=t=>+ec(r[t],e)}for(n=e,a=e+t;n<a;++n)i._parsed[n]=s(n)}}_getRotation(){return eR(this.options.rotation-90)}_getCircumference(){return eR(this.options.circumference)}_getRotationExtents(){let e=eg,t=-eg;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let i=this.chart.getDatasetMeta(r).controller,n=i._getRotation(),a=i._getCircumference();e=Math.min(e,n),t=Math.max(t,n+a)}return{rotation:e,circumference:t-e}}update(e){let{chartArea:t}=this.chart,r=this._cachedMeta,i=r.data,n=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(t.width,t.height)-n)/2,0),s=Math.min(Y(this.options.cutout,a),1),o=this._getRingWeight(this.index),{circumference:l,rotation:c}=this._getRotationExtents(),{ratioX:u,ratioY:d,offsetX:h,offsetY:f}=function(e,t,r){let i=1,n=1,a=0,s=0;if(t<eg){let o=e+t,l=Math.cos(e),c=Math.sin(e),u=Math.cos(o),d=Math.sin(o),h=(t,i,n)=>eD(t,e,o,!0)?1:Math.max(i,i*r,n,n*r),f=(t,i,n)=>eD(t,e,o,!0)?-1:Math.min(i,i*r,n,n*r),p=h(0,l,u),g=h(e_,c,d),m=f(ep,l,u),b=f(ep+e_,c,d);i=(p-m)/2,n=(g-b)/2,a=-(p+m)/2,s=-(g+b)/2}return{ratioX:i,ratioY:n,offsetX:a,offsetY:s}}(c,l,s),p=Math.max(Math.min((t.width-n)/u,(t.height-n)/d)/2,0),g=Z(this.options.radius,p),m=Math.max(g*s,0),b=(g-m)/this._getVisibleDatasetWeightTotal();this.offsetX=h*g,this.offsetY=f*g,r.total=this.calculateTotal(),this.outerRadius=g-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*o,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){let r=this.options,i=this._cachedMeta,n=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*n/eg)}updateElements(e,t,r,i){let n;let a="reset"===i,s=this.chart,o=s.chartArea,l=s.options.animation,c=(o.left+o.right)/2,u=(o.top+o.bottom)/2,d=a&&l.animateScale,h=d?0:this.innerRadius,f=d?0:this.outerRadius,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(t,i),m=this._getRotation();for(n=0;n<t;++n)m+=this._circumference(n,a);for(n=t;n<t+r;++n){let t=this._circumference(n,a),r=e[n],s={x:c+this.offsetX,y:u+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:f,innerRadius:h};g&&(s.options=p||this.resolveDataElementOptions(n,r.active?"active":i)),m+=t,this.updateElement(r,n,s,i)}}calculateTotal(){let e;let t=this._cachedMeta,r=t.data,i=0;for(e=0;e<r.length;e++){let n=t._parsed[e];null!==n&&!isNaN(n)&&this.chart.getDataVisibility(e)&&!r[e].hidden&&(i+=Math.abs(n))}return i}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?Math.abs(e)/t*eg:0}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart,i=r.data.labels||[],n=e6(t._parsed[e],r.options.locale);return{label:i[e]||"",value:n}}getMaxBorderWidth(e){let t,r,i,n,a,s=0,o=this.chart;if(!e){for(t=0,r=o.data.datasets.length;t<r;++t)if(o.isDatasetVisible(t)){e=(i=o.getDatasetMeta(t)).data,n=i.controller;break}}if(!e)return 0;for(t=0,r=e.length;t<r;++t)"inner"!==(a=n.resolveDataElementOptions(t)).borderAlign&&(s=Math.max(s,a.borderWidth||0,a.hoverBorderWidth||0));return s}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){let e=this.resolveDataElementOptions(r);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(X(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class rC extends rw{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:r,data:i=[],_dataset:n}=t,a=this.chart._animationsDisabled,{start:s,count:o}=eG(t,i,a);this._drawStart=s,this._drawCount=o,eJ(t)&&(s=0,o=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!n._decimated,r.points=i;let l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:l},e),this.updateElements(i,s,o,e)}updateElements(e,t,r,i){let n="reset"===i,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),d=a.axis,h=s.axis,{spanGaps:f,segment:p}=this.options,g=eO(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||n||"none"===i,b=t+r,y=e.length,_=t>0&&this.getParsed(t-1);for(let r=0;r<y;++r){let f=e[r],y=m?f:{};if(r<t||r>=b){y.skip=!0;continue}let v=this.getParsed(r),x=V(v[h]),w=y[d]=a.getPixelForValue(v[d],r),S=y[h]=n||x?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,v,o):v[h],r);y.skip=isNaN(w)||isNaN(S)||x,y.stop=r>0&&Math.abs(v[d]-_[d])>g,p&&(y.parsed=v,y.raw=l.data[r]),u&&(y.options=c||this.resolveDataElementOptions(r,f.active?"active":i)),m||this.updateElement(f,r,y,i),_=v}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];return i.length?Math.max(r,i[0].size(this.resolveDataElementOptions(0)),i[i.length-1].size(this.resolveDataElementOptions(i.length-1)))/2:r}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class rM extends rw{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((t,n)=>{let a=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart,i=r.data.labels||[],n=e6(t._parsed[e].r,r.options.locale);return{label:i[e]||"",value:n}}parseObjectData(e,t,r,i){return tU.bind(this)(e,t,r,i)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,r)=>{let i=this.getParsed(r).r;!isNaN(i)&&this.chart.getDataVisibility(r)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,r=e.options,i=Math.max(Math.min(t.right-t.left,t.bottom-t.top)/2,0),n=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),a=(i-n)/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,r,i){let n;let a="reset"===i,s=this.chart,o=s.options.animation,l=this._cachedMeta.rScale,c=l.xCenter,u=l.yCenter,d=l.getIndexAngle(0)-.5*ep,h=d,f=360/this.countVisibleElements();for(n=0;n<t;++n)h+=this._computeAngle(n,i,f);for(n=t;n<t+r;n++){let t=e[n],r=h,p=h+this._computeAngle(n,i,f),g=s.getDataVisibility(n)?l.getDistanceFromCenterForValue(this.getParsed(n).r):0;h=p,a&&(o.animateScale&&(g=0),o.animateRotate&&(r=p=d));let m={x:c,y:u,innerRadius:0,outerRadius:g,startAngle:r,endAngle:p,options:this.resolveDataElementOptions(n,t.active?"active":i)};this.updateElement(t,n,m,i)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((e,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?eR(this.resolveDataElementOptions(e,t).angle||r):0}}class rj extends rT{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class rD extends rw{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,i){return tU.bind(this)(e,t,r,i)}update(e){let t=this._cachedMeta,r=t.dataset,i=t.data||[],n=t.iScale.getLabels();if(r.points=i,"resize"!==e){let t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);let a={_loop:!0,_fullLoop:n.length===i.length,options:t};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,r,i){let n=this._cachedMeta.rScale,a="reset"===i;for(let s=t;s<t+r;s++){let t=e[s],r=this.resolveDataElementOptions(s,t.active?"active":i),o=n.getPointPositionForValue(s,this.getParsed(s).r),l=a?n.xCenter:o.x,c=a?n.yCenter:o.y,u={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:r};this.updateElement(t,s,u,i)}}}class rN extends rw{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:n}=t,a=this.getParsed(e),s=i.getLabelForValue(a.x),o=n.getLabelForValue(a.y);return{label:r[e]||"",value:"("+s+", "+o+")"}}update(e){let t=this._cachedMeta,{data:r=[]}=t,i=this.chart._animationsDisabled,{start:n,count:a}=eG(t,r,i);if(this._drawStart=n,this._drawCount=a,eJ(t)&&(n=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:n,_dataset:a}=t;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=r;let s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:s},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,n,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,i){let n="reset"===i,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),d=this.includeOptions(i,u),h=a.axis,f=s.axis,{spanGaps:p,segment:g}=this.options,m=eO(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||n||"none"===i,y=t>0&&this.getParsed(t-1);for(let c=t;c<t+r;++c){let t=e[c],r=this.getParsed(c),p=b?t:{},_=V(r[f]),v=p[h]=a.getPixelForValue(r[h],c),x=p[f]=n||_?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,r,o):r[f],c);p.skip=isNaN(v)||isNaN(x)||_,p.stop=c>0&&Math.abs(r[h]-y[h])>m,g&&(p.parsed=r,p.raw=l.data[c]),d&&(p.options=u||this.resolveDataElementOptions(c,t.active?"active":i)),b||this.updateElement(t,c,p,i),y=r}this.updateSharedOptions(u,i,c)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let r=t.length-1;r>=0;--r)e=Math.max(e,t[r].size(this.resolveDataElementOptions(r))/2);return e>0&&e}let r=e.dataset,i=r.options&&r.options.borderWidth||0;return t.length?Math.max(i,t[0].size(this.resolveDataElementOptions(0)),t[t.length-1].size(this.resolveDataElementOptions(t.length-1)))/2:i}}function rI(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}class rL{static override(e){Object.assign(rL.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return rI()}parse(){return rI()}format(){return rI()}add(){return rI()}diff(){return rI()}startOf(){return rI()}endOf(){return rI()}}var rU={_date:rL};function r$(e,t,r,i,n){let a=e.getSortedVisibleDatasetMetas(),s=r[t];for(let e=0,r=a.length;e<r;++e){let{index:r,data:o}=a[e],{lo:l,hi:c}=function(e,t,r,i){let{controller:n,data:a,_sorted:s}=e,o=n._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&s&&a.length){let s=o._reversePixels?e$:eU;if(i){if(n._sharedOptions){let e=a[0],i="function"==typeof e.getRange&&e.getRange(t);if(i){let e=s(a,t,r-i),n=s(a,t,r+i);return{lo:e.lo,hi:n.hi}}}}else{let i=s(a,t,r);if(l){let{vScale:t}=n._cachedMeta,{_parsed:r}=e,a=r.slice(0,i.lo+1).reverse().findIndex(e=>!V(e[t.axis]));i.lo-=Math.max(0,a);let s=r.slice(i.hi).findIndex(e=>!V(e[t.axis]));i.hi+=Math.max(0,s)}return i}}return{lo:0,hi:a.length-1}}(a[e],t,s,n);for(let e=l;e<=c;++e){let t=o[e];t.skip||i(t,r,e)}}}function rH(e,t,r,i,n){let a=[];return(n||e.isPointInArea(t))&&r$(e,r,t,function(r,s,o){(n||tu(r,e.chartArea,0))&&r.inRange(t.x,t.y,i)&&a.push({element:r,datasetIndex:s,index:o})},!0),a}function rF(e,t,r,i,n,a){let s;return a||e.isPointInArea(t)?"r"!==r||i?function(e,t,r,i,n,a){let s=[],o=function(e){let t=-1!==e.indexOf("x"),r=-1!==e.indexOf("y");return function(e,i){return Math.sqrt(Math.pow(t?Math.abs(e.x-i.x):0,2)+Math.pow(r?Math.abs(e.y-i.y):0,2))}}(r),l=Number.POSITIVE_INFINITY;return r$(e,r,t,function(r,c,u){let d=r.inRange(t.x,t.y,n);if(i&&!d)return;let h=r.getCenterPoint(n);if(!(a||e.isPointInArea(h))&&!d)return;let f=o(t,h);f<l?(s=[{element:r,datasetIndex:c,index:u}],l=f):f===l&&s.push({element:r,datasetIndex:c,index:u})}),s}(e,t,r,i,n,a):(s=[],r$(e,r,t,function(e,r,i){let{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],n),{angle:l}=eT(e,{x:t.x,y:t.y});eD(l,a,o)&&s.push({element:e,datasetIndex:r,index:i})}),s):[]}function rB(e,t,r,i,n){let a=[],s="x"===r?"inXRange":"inYRange",o=!1;return(r$(e,r,t,(e,i,l)=>{e[s]&&e[s](t[r],n)&&(a.push({element:e,datasetIndex:i,index:l}),o=o||e.inRange(t.x,t.y,n))}),i&&!o)?[]:a}var rW={modes:{index(e,t,r,i){let n=tX(t,e),a=r.axis||"x",s=r.includeInvisible||!1,o=r.intersect?rH(e,n,a,i,s):rF(e,n,a,!1,i,s),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{let t=o[0].index,r=e.data[t];r&&!r.skip&&l.push({element:r,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,r,i){let n=tX(t,e),a=r.axis||"xy",s=r.includeInvisible||!1,o=r.intersect?rH(e,n,a,i,s):rF(e,n,a,!1,i,s);if(o.length>0){let t=o[0].datasetIndex,r=e.getDatasetMeta(t).data;o=[];for(let e=0;e<r.length;++e)o.push({element:r[e],datasetIndex:t,index:e})}return o},point(e,t,r,i){let n=tX(t,e);return rH(e,n,r.axis||"xy",i,r.includeInvisible||!1)},nearest(e,t,r,i){let n=tX(t,e),a=r.axis||"xy",s=r.includeInvisible||!1;return rF(e,n,a,r.intersect,i,s)},x(e,t,r,i){let n=tX(t,e);return rB(e,n,"x",r.intersect,i)},y(e,t,r,i){let n=tX(t,e);return rB(e,n,"y",r.intersect,i)}}};let rz=["left","top","right","bottom"];function rV(e,t){return e.filter(e=>e.pos===t)}function rq(e,t){return e.filter(e=>-1===rz.indexOf(e.pos)&&e.box.axis===t)}function rK(e,t){return e.sort((e,r)=>{let i=t?r:e,n=t?e:r;return i.weight===n.weight?i.index-n.index:i.weight-n.weight})}function rG(e,t,r,i){return Math.max(e[r],t[r])+Math.max(e[i],t[i])}function rJ(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function rX(e,t,r,i){let n,a,s,o,l,c;let u=[];for(n=0,a=e.length,l=0;n<a;++n){(o=(s=e[n]).box).update(s.width||t.w,s.height||t.h,function(e,t){let r=t.maxPadding;return function(e){let i={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{i[e]=Math.max(t[e],r[e])}),i}(e?["left","right"]:["top","bottom"])}(s.horizontal,t));let{same:a,other:d}=function(e,t,r,i){let{pos:n,box:a}=r,s=e.maxPadding;if(!K(n)){r.size&&(e[n]-=r.size);let t=i[r.stack]||{size:0,count:1};t.size=Math.max(t.size,r.horizontal?a.height:a.width),r.size=t.size/t.count,e[n]+=r.size}a.getPadding&&rJ(s,a.getPadding());let o=Math.max(0,t.outerWidth-rG(s,e,"left","right")),l=Math.max(0,t.outerHeight-rG(s,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}(t,r,s,i);l|=a&&u.length,c=c||d,o.fullSize||u.push(s)}return l&&rX(u,t,r,i)||c}function rY(e,t,r,i,n){e.top=r,e.left=t,e.right=t+i,e.bottom=r+n,e.width=i,e.height=n}function rZ(e,t,r,i){let n=r.padding,{x:a,y:s}=t;for(let o of e){let e=o.box,l=i[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){let i=t.w*c,a=l.size||e.height;ed(l.start)&&(s=l.start),e.fullSize?rY(e,n.left,s,r.outerWidth-n.right-n.left,a):rY(e,t.left+l.placed,s,i,a),l.start=s,l.placed+=i,s=e.bottom}else{let i=t.h*c,s=l.size||e.width;ed(l.start)&&(a=l.start),e.fullSize?rY(e,a,n.top,s,r.outerHeight-n.bottom-n.top):rY(e,a,t.top+l.placed,s,i),l.start=a,l.placed+=i,a=e.right}}t.x=a,t.y=s}var rQ={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){let r=e.boxes?e.boxes.indexOf(t):-1;-1!==r&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,i){if(!e)return;let n=tS(e.options.layout.padding),a=Math.max(t-n.width,0),s=Math.max(r-n.height,0),o=function(e){let t=function(e){let t,r,i,n,a,s;let o=[];for(t=0,r=(e||[]).length;t<r;++t)i=e[t],({position:n,options:{stack:a,stackWeight:s=1}}=i),o.push({index:t,box:i,pos:n,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&n+a,stackWeight:s});return o}(e),r=rK(t.filter(e=>e.box.fullSize),!0),i=rK(rV(t,"left"),!0),n=rK(rV(t,"right")),a=rK(rV(t,"top"),!0),s=rK(rV(t,"bottom")),o=rq(t,"x"),l=rq(t,"y");return{fullSize:r,leftAndTop:i.concat(a),rightAndBottom:n.concat(l).concat(s).concat(o),chartArea:rV(t,"chartArea"),vertical:i.concat(n).concat(l),horizontal:a.concat(s).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;ee(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});let u=Object.freeze({outerWidth:t,outerHeight:r,padding:n,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/(l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1),hBoxMaxHeight:s/2}),d=Object.assign({},n);rJ(d,tS(i));let h=Object.assign({maxPadding:d,w:a,h:s,x:n.left,y:n.top},n),f=function(e,t){let r,i,n;let a=function(e){let t={};for(let r of e){let{stack:e,pos:i,stackWeight:n}=r;if(!e||!rz.includes(i))continue;let a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=n}return t}(e),{vBoxMaxWidth:s,hBoxMaxHeight:o}=t;for(r=0,i=e.length;r<i;++r){let{fullSize:i}=(n=e[r]).box,l=a[n.stack],c=l&&n.stackWeight/l.weight;n.horizontal?(n.width=c?c*s:i&&t.availableWidth,n.height=o):(n.width=s,n.height=c?c*o:i&&t.availableHeight)}return a}(l.concat(c),u);rX(o.fullSize,h,u,f),rX(l,h,u,f),rX(c,h,u,f)&&rX(l,h,u,f),function(e){let t=e.maxPadding;function r(r){let i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}(h),rZ(o.leftAndTop,h,u,f),h.x+=h.w,h.y+=h.h,rZ(o.rightAndBottom,h,u,f),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},ee(o.chartArea,t=>{let r=t.box;Object.assign(r,e.chartArea),r.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class r0{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class r1 extends r0{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}let r2="$chartjs",r5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},r3=e=>null===e||""===e,r4=!!tQ&&{passive:!0};function r6(e,t){for(let r of e)if(r===t||r.contains(t))return!0}function r8(e,t,r){let i=e.canvas,n=new MutationObserver(e=>{let t=!1;for(let r of e)t=(t=t||r6(r.addedNodes,i))&&!r6(r.removedNodes,i);t&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}function r9(e,t,r){let i=e.canvas,n=new MutationObserver(e=>{let t=!1;for(let r of e)t=(t=t||r6(r.removedNodes,i))&&!r6(r.addedNodes,i);t&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}let r7=new Map,ie=0;function it(){let e=window.devicePixelRatio;e!==ie&&(ie=e,r7.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function ir(e,t,r){let i=e.canvas,n=i&&tz(i);if(!n)return;let a=ez((e,t)=>{let i=n.clientWidth;r(e,t),i<n.clientWidth&&r()},window),s=new ResizeObserver(e=>{let t=e[0],r=t.contentRect.width,i=t.contentRect.height;(0!==r||0!==i)&&a(r,i)});return s.observe(n),r7.size||window.addEventListener("resize",it),r7.set(e,a),s}function ii(e,t,r){if(r&&r.disconnect(),"resize"===t)r7.delete(e),r7.size||window.removeEventListener("resize",it)}function ia(e,t,r){let i=e.canvas,n=ez(t=>{null!==e.ctx&&r(function(e,t){let r=r5[e.type]||e.type,{x:i,y:n}=tX(e,t);return{type:r,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==n?n:null}}(t,e))},e);return i&&i.addEventListener(t,n,r4),n}class is extends r0{acquireContext(e,t){let r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function(e,t){let r=e.style,i=e.getAttribute("height"),n=e.getAttribute("width");if(e[r2]={initial:{height:i,width:n,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",r3(n)){let t=t0(e,"width");void 0!==t&&(e.width=t)}if(r3(i)){if(""===e.style.height)e.height=e.width/(t||2);else{let t=t0(e,"height");void 0!==t&&(e.height=t)}}}(e,t),r):null}releaseContext(e){let t=e.canvas;if(!t[r2])return!1;let r=t[r2].initial;["height","width"].forEach(e=>{let i=r[e];V(i)?t.removeAttribute(e):t.setAttribute(e,i)});let i=r.style||{};return Object.keys(i).forEach(e=>{t.style[e]=i[e]}),t.width=t.width,delete t[r2],!0}addEventListener(e,t,r){this.removeEventListener(e,t);let i=e.$proxies||(e.$proxies={}),n={attach:r8,detach:r9,resize:ir}[t]||ia;i[t]=n(e,t,r)}removeEventListener(e,t){let r=e.$proxies||(e.$proxies={}),i=r[t];i&&((({attach:ii,detach:ii,resize:ii})[t]||function(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,r4)})(e,t,i),r[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return function(e,t,r,i){let n=tq(e),a=tG(n,"margin"),s=tV(n.maxWidth,e,"clientWidth")||eb,o=tV(n.maxHeight,e,"clientHeight")||eb,l=function(e,t,r){let i,n;if(void 0===t||void 0===r){let a=e&&tz(e);if(a){let e=a.getBoundingClientRect(),s=tq(a),o=tG(s,"border","width"),l=tG(s,"padding");t=e.width-l.width-o.width,r=e.height-l.height-o.height,i=tV(s.maxWidth,a,"clientWidth"),n=tV(s.maxHeight,a,"clientHeight")}else t=e.clientWidth,r=e.clientHeight}return{width:t,height:r,maxWidth:i||eb,maxHeight:n||eb}}(e,t,r),{width:c,height:u}=l;if("content-box"===n.boxSizing){let e=tG(n,"border","width"),t=tG(n,"padding");c-=t.width+e.width,u-=t.height+e.height}return c=Math.max(0,c-a.width),u=Math.max(0,i?c/i:u-a.height),c=tY(Math.min(c,s,l.maxWidth)),u=tY(Math.min(u,o,l.maxHeight)),c&&!u&&(u=tY(c/2)),(void 0!==t||void 0!==r)&&i&&l.height&&u>l.height&&(c=tY(Math.floor((u=l.height)*i))),{width:c,height:u}}(e,t,r,i)}isAttached(e){let t=e&&tz(e);return!!(t&&t.isConnected)}}class io{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return eO(this.x)&&eO(this.y)}getProps(e,t){let r=this.$animations;if(!t||!r)return this;let i={};return e.forEach(e=>{i[e]=r[e]&&r[e].active()?r[e]._to:this[e]}),i}}function il(e,t,r,i,n){let a,s,o;let l=X(i,0),c=Math.min(X(n,e.length),e.length),u=0;for(r=Math.ceil(r),n&&(r=(a=n-i)/Math.floor(a/r)),o=l;o<0;)o=Math.round(l+ ++u*r);for(s=Math.max(l,0);s<c;s++)s===o&&(t.push(e[s]),o=Math.round(l+ ++u*r))}let ic=e=>"left"===e?"right":"right"===e?"left":e,iu=(e,t,r)=>"top"===t||"left"===t?e[t]+r:e[t]-r,id=(e,t)=>Math.min(t||e,e);function ih(e,t){let r=[],i=e.length/t,n=e.length,a=0;for(;a<n;a+=i)r.push(e[Math.floor(a)]);return r}function ip(e){return e.drawTicks?e.tickLength:0}function ig(e,t){if(!e.display)return 0;let r=tE(e.font,t),i=tS(e.padding);return(q(e.text)?e.text.length:1)*r.lineHeight+i.height}class im extends io{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=J(e,Number.POSITIVE_INFINITY),t=J(t,Number.NEGATIVE_INFINITY),r=J(r,Number.POSITIVE_INFINITY),i=J(i,Number.NEGATIVE_INFINITY),{min:J(e,r),max:J(t,i),minDefined:G(e),maxDefined:G(t)}}getMinMax(e){let t,{min:r,max:i,minDefined:n,maxDefined:a}=this.getUserBounds();if(n&&a)return{min:r,max:i};let s=this.getMatchingVisibleMetas();for(let o=0,l=s.length;o<l;++o)t=s[o].controller.getMinMax(this,e),n||(r=Math.min(r,t.min)),a||(i=Math.max(i,t.max));return r=a&&r>i?i:r,i=n&&r>i?r:i,{min:J(r,J(i,r)),max:J(i,J(r,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Q(this.options.beforeUpdate,[this])}update(e,t,r){let{beginAtZero:i,grace:n,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,r){let{min:i,max:n}=e,a=Z(t,(n-i)/2),s=(e,t)=>r&&0===e?0:e+t;return{min:s(i,-Math.abs(a)),max:s(n,a)}}(this,n,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let o=s<this.ticks.length;this._convertTicksToLabels(o?ih(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function(e,t){let r=e.options.ticks,i=function(e){let t=e.options.offset,r=e._tickSize();return Math.floor(Math.min(e._length/r+ +!t,e._maxLength/r))}(e),n=Math.min(r.maxTicksLimit||i,i),a=r.major.enabled?function(e){let t,r;let i=[];for(t=0,r=e.length;t<r;t++)e[t].major&&i.push(t);return i}(t):[],s=a.length,o=a[0],l=a[s-1],c=[];if(s>n)return function(e,t,r,i){let n,a=0,s=r[0];for(n=0,i=Math.ceil(i);n<e.length;n++)n===s&&(t.push(e[n]),s=r[++a*i])}(t,c,a,s/n),c;let u=function(e,t,r){let i=function(e){let t,r;let i=e.length;if(i<2)return!1;for(r=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==r)return!1;return r}(e),n=t.length/r;if(!i)return Math.max(n,1);let a=function(e){let t;let r=[],i=Math.sqrt(e);for(t=1;t<i;t++)e%t==0&&(r.push(t),r.push(e/t));return i===(0|i)&&r.push(i),r.sort((e,t)=>e-t).pop(),r}(i);for(let e=0,t=a.length-1;e<t;e++){let t=a[e];if(t>n)return t}return Math.max(n,1)}(a,t,n);if(s>0){let e,r;let i=s>1?Math.round((l-o)/(s-1)):null;for(il(t,c,u,V(i)?0:o-i,o),e=0,r=s-1;e<r;e++)il(t,c,u,a[e],a[e+1]);return il(t,c,u,l,V(i)?t.length:l+i),c}return il(t,c,u),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,r=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,r=!r),this._startPixel=e,this._endPixel=t,this._reversePixels=r,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Q(this.options.afterUpdate,[this])}beforeSetDimensions(){Q(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Q(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Q(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Q(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t,r,i;let n=this.options.ticks;for(t=0,r=e.length;t<r;t++)(i=e[t]).label=Q(n.callback,[i.value,t,e],this)}afterTickToLabelConversion(){Q(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Q(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e,t,r;let i=this.options,n=i.ticks,a=id(this.ticks.length,i.ticks.maxTicksLimit),s=n.minRotation||0,o=n.maxRotation,l=s;if(!this._isVisible()||!n.display||s>=o||a<=1||!this.isHorizontal()){this.labelRotation=s;return}let c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=eN(this.chart.width-u,0,this.maxWidth);u+6>(e=i.offset?this.maxWidth/a:h/(a-1))&&(e=h/(a-(i.offset?.5:1)),t=this.maxHeight-ip(i.grid)-n.padding-ig(i.title,this.chart.options.font),r=Math.sqrt(u*u+d*d),l=Math.max(s,Math.min(o,l=180/ep*Math.min(Math.asin(eN((c.highest.height+6)/e,-1,1)),Math.asin(eN(t/r,-1,1))-Math.asin(eN(d/r,-1,1)))))),this.labelRotation=l}afterCalculateLabelRotation(){Q(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Q(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:n}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){let a=ig(i,t.options.font);if(s?(e.width=this.maxWidth,e.height=ip(n)+a):(e.height=this.maxHeight,e.width=ip(n)+a),r.display&&this.ticks.length){let{first:t,last:i,widest:n,highest:a}=this._getLabelSizes(),o=2*r.padding,l=eR(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){let t=r.mirror?0:u*n.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{let t=r.mirror?0:c*n.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,i,u,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){let{ticks:{align:n,padding:a},position:s}=this.options,o=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){let s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1),u=0,d=0;o?l?(u=i*e.width,d=r*t.height):(u=r*e.height,d=i*t.width):"start"===n?d=t.width:"end"===n?u=e.width:"inner"!==n&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-s+a)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-c+a)*this.width/(this.width-c),0)}else{let r=t.height/2,i=e.height/2;"start"===n?(r=0,i=e.height):"end"===n&&(r=t.height,i=0),this.paddingTop=r+a,this.paddingBottom=i+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Q(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)V(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,r=this.ticks;t<r.length&&(r=ih(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){let i,n,a,s,o,l,c,u,d,h,f;let{ctx:p,_longestTextCache:g}=this,m=[],b=[],y=Math.floor(t/id(t,r)),_=0,v=0;for(i=0;i<t;i+=y){if(s=e[i].label,p.font=l=(o=this._resolveTickFontOptions(i)).string,c=g[l]=g[l]||{data:{},gc:[]},u=o.lineHeight,d=h=0,V(s)||q(s)){if(q(s))for(n=0,a=s.length;n<a;++n)V(f=s[n])||q(f)||(d=ta(p,c.data,c.gc,d,f),h+=u)}else d=ta(p,c.data,c.gc,d,s),h=u;m.push(d),b.push(h),_=Math.max(d,_),v=Math.max(h,v)}ee(g,e=>{let r;let i=e.gc,n=i.length/2;if(n>t){for(r=0;r<n;++r)delete e.data[i[r]];i.splice(0,n)}});let x=m.indexOf(_),w=b.indexOf(v),S=e=>({width:m[e]||0,height:b[e]||0});return{first:S(0),last:S(t-1),widest:S(x),highest:S(w),widths:m,heights:b}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return eN(this._alignToPixels?ts(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let r=t[e];return r.$context||(r.$context=tO(this.getContext(),{tick:r,index:e,type:"tick"}))}return this.$context||(this.$context=tO(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){let e=this.options.ticks,t=eR(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),n=this._getLabelSizes(),a=e.autoSkipPadding||0,s=n?n.widest.width+a:0,o=n?n.highest.height+a:0;return this.isHorizontal()?o*r>s*i?s/r:o/i:o*i<s*r?o/r:s/i}_isVisible(){let e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t,r,i,n,a,s,o,l,c,u,d,h;let f=this.axis,p=this.chart,g=this.options,{grid:m,position:b,border:y}=g,_=m.offset,v=this.isHorizontal(),x=this.ticks.length+ +!!_,w=ip(m),S=[],E=y.setContext(this.getContext()),k=E.display?E.width:0,O=k/2,A=function(e){return ts(p,e,k)};if("top"===b)t=A(this.bottom),s=this.bottom-w,l=t-O,u=A(e.top)+O,h=e.bottom;else if("bottom"===b)t=A(this.top),u=e.top,h=A(e.bottom)-O,s=t+O,l=this.top+w;else if("left"===b)t=A(this.right),a=this.right-w,o=t-O,c=A(e.left)+O,d=e.right;else if("right"===b)t=A(this.left),c=e.left,d=A(e.right)-O,a=t+O,o=this.left+w;else if("x"===f){if("center"===b)t=A((e.top+e.bottom)/2+.5);else if(K(b)){let e=Object.keys(b)[0],r=b[e];t=A(this.chart.scales[e].getPixelForValue(r))}u=e.top,h=e.bottom,l=(s=t+O)+w}else if("y"===f){if("center"===b)t=A((e.left+e.right)/2);else if(K(b)){let e=Object.keys(b)[0],r=b[e];t=A(this.chart.scales[e].getPixelForValue(r))}o=(a=t-O)-w,c=e.left,d=e.right}let R=X(g.ticks.maxTicksLimit,x),P=Math.max(1,Math.ceil(x/R));for(r=0;r<x;r+=P){let e=this.getContext(r),t=m.setContext(e),f=y.setContext(e),g=t.lineWidth,b=t.color,x=f.dash||[],w=f.dashOffset,E=t.tickWidth,k=t.tickColor,O=t.tickBorderDash||[],A=t.tickBorderDashOffset;void 0!==(i=function(e,t,r){let i;let n=e.ticks.length,a=Math.min(t,n-1),s=e._startPixel,o=e._endPixel,l=e.getPixelForTick(a);if(!r||(i=1===n?Math.max(l-s,o-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(a-1))/2,!((l+=a<t?i:-i)<s-1e-6)&&!(l>o+1e-6)))return l}(this,r,_))&&(n=ts(p,i,g),v?a=o=c=d=n:s=l=u=h=n,S.push({tx1:a,ty1:s,tx2:o,ty2:l,x1:c,y1:u,x2:d,y2:h,width:g,color:b,borderDash:x,borderDashOffset:w,tickWidth:E,tickColor:k,tickBorderDash:O,tickBorderDashOffset:A}))}return this._ticksLength=x,this._borderValue=t,S}_computeLabelItems(e){let t,r,i,n,a,s,o,l,c,u,d;let h=this.axis,f=this.options,{position:p,ticks:g}=f,m=this.isHorizontal(),b=this.ticks,{align:y,crossAlign:_,padding:v,mirror:x}=g,w=ip(f.grid),S=w+v,E=x?-v:S,k=-eR(this.labelRotation),O=[],A="middle";if("top"===p)a=this.bottom-E,s=this._getXAxisLabelAlignment();else if("bottom"===p)a=this.top+E,s=this._getXAxisLabelAlignment();else if("left"===p){let e=this._getYAxisLabelAlignment(w);s=e.textAlign,n=e.x}else if("right"===p){let e=this._getYAxisLabelAlignment(w);s=e.textAlign,n=e.x}else if("x"===h){if("center"===p)a=(e.top+e.bottom)/2+S;else if(K(p)){let e=Object.keys(p)[0],t=p[e];a=this.chart.scales[e].getPixelForValue(t)+S}s=this._getXAxisLabelAlignment()}else if("y"===h){if("center"===p)n=(e.left+e.right)/2-S;else if(K(p)){let e=Object.keys(p)[0],t=p[e];n=this.chart.scales[e].getPixelForValue(t)}s=this._getYAxisLabelAlignment(w).textAlign}"y"===h&&("start"===y?A="top":"end"===y&&(A="bottom"));let R=this._getLabelSizes();for(t=0,r=b.length;t<r;++t){let e;i=b[t].label;let h=g.setContext(this.getContext(t));o=this.getPixelForTick(t)+g.labelOffset,c=(l=this._resolveTickFontOptions(t)).lineHeight;let f=(u=q(i)?i.length:1)/2,y=h.color,v=h.textStrokeColor,w=h.textStrokeWidth,S=s;if(m?(n=o,"inner"===s&&(S=t===r-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),d="top"===p?"near"===_||0!==k?-u*c+c/2:"center"===_?-R.highest.height/2-f*c+c:-R.highest.height+c/2:"near"===_||0!==k?c/2:"center"===_?R.highest.height/2-f*c:R.highest.height-u*c,x&&(d*=-1),0===k||h.showLabelBackdrop||(n+=c/2*Math.sin(k))):(a=o,d=(1-u)*c/2),h.showLabelBackdrop){let i=tS(h.backdropPadding),n=R.heights[t],a=R.widths[t],o=d-i.top,l=0-i.left;switch(A){case"middle":o-=n/2;break;case"bottom":o-=n}switch(s){case"center":l-=a/2;break;case"right":l-=a;break;case"inner":t===r-1?l-=a:t>0&&(l-=a/2)}e={left:l,top:o,width:a+i.width,height:n+i.height,color:h.backdropColor}}O.push({label:i,font:l,textOffset:d,options:{rotation:k,color:y,strokeColor:v,strokeWidth:w,textAlign:S,textBaseline:A,translation:[n,a],backdrop:e}})}return O}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-eR(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){let t,r;let{position:i,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,o=this._getLabelSizes(),l=e+s,c=o.widest.width;return"left"===i?a?(r=this.right+s,"near"===n?t="left":"center"===n?(t="center",r+=c/2):(t="right",r+=c)):(r=this.right-l,"near"===n?t="right":"center"===n?(t="center",r-=c/2):(t="left",r=this.left)):"right"===i?a?(r=this.left+s,"near"===n?t="right":"center"===n?(t="center",r-=c/2):(t="left",r-=c)):(r=this.left+l,"near"===n?t="left":"center"===n?(t="center",r+=c/2):(t="right",r=this.right)):t="right",{textAlign:t,x:r}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:r,top:i,width:n,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,n,a),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let r=this.ticks.findIndex(t=>t.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let t,r;let i=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(i.display)for(t=0,r=a.length;t<r;++t){let e=a[t];i.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),i.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){let e,t,r,i;let{chart:n,ctx:a,options:{border:s,grid:o}}=this,l=s.setContext(this.getContext()),c=s.display?l.width:0;if(!c)return;let u=o.setContext(this.getContext(0)).lineWidth,d=this._borderValue;this.isHorizontal()?(e=ts(n,this.left,c)-c/2,t=ts(n,this.right,u)+u/2,r=i=d):(r=ts(n,this.top,c)-c/2,i=ts(n,this.bottom,u)+u/2,e=t=d),a.save(),a.lineWidth=l.width,a.strokeStyle=l.color,a.beginPath(),a.moveTo(e,r),a.lineTo(t,i),a.stroke(),a.restore()}drawLabels(e){if(!this.options.ticks.display)return;let t=this.ctx,r=this._computeLabelArea();for(let i of(r&&td(t,r),this.getLabelItems(e))){let e=i.options,r=i.font;tg(t,i.label,0,i.textOffset,r,e)}r&&th(t)}drawTitle(){let e;let{ctx:t,options:{position:r,title:i,reverse:n}}=this;if(!i.display)return;let a=tE(i.font),s=tS(i.padding),o=i.align,l=a.lineHeight/2;"bottom"===r||"center"===r||K(r)?(l+=s.bottom,q(i.text)&&(l+=a.lineHeight*(i.text.length-1))):l+=s.top;let{titleX:c,titleY:u,maxWidth:d,rotation:h}=function(e,t,r,i){let n,a,s;let{top:o,left:l,bottom:c,right:u,chart:d}=e,{chartArea:h,scales:f}=d,p=0,g=c-o,m=u-l;if(e.isHorizontal()){if(a=eq(i,l,u),K(r)){let e=Object.keys(r)[0],i=r[e];s=f[e].getPixelForValue(i)+g-t}else s="center"===r?(h.bottom+h.top)/2+g-t:iu(e,r,t);n=u-l}else{if(K(r)){let e=Object.keys(r)[0],i=r[e];a=f[e].getPixelForValue(i)-m+t}else a="center"===r?(h.left+h.right)/2-m+t:iu(e,r,t);s=eq(i,c,o),p="left"===r?-e_:e_}return{titleX:a,titleY:s,maxWidth:n,rotation:p}}(this,l,r,o);tg(t,i.text,0,0,a,{color:i.color,maxWidth:d,rotation:h,textAlign:(e=eV(o),(n&&"right"!==r||!n&&"right"===r)&&(e=ic(e)),e),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,r=X(e.grid&&e.grid.z,-1),i=X(e.border&&e.border.z,0);return this._isVisible()&&this.draw===im.prototype.draw?[{z:r,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){let t,r;let i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];for(t=0,r=i.length;t<r;++t){let r=i[t];r[n]!==this.id||e&&r.type!==e||a.push(r)}return a}_resolveTickFontOptions(e){return tE(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ib{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){var t;let r;let i=Object.getPrototypeOf(e);"id"in(t=i)&&"defaults"in t&&(r=this.register(i));let n=this.items,a=e.id,s=this.scope+"."+a;if(!a)throw Error("class does not have id: "+e);return a in n||(n[a]=e,function(e,t,r){let i=ea(Object.create(null),[r?tn.get(r):{},tn.get(t),e.defaults]);tn.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(r=>{let i=r.split("."),n=i.pop(),a=[e].concat(i).join("."),s=t[r].split("."),o=s.pop(),l=s.join(".");tn.route(a,n,l,o)})}(t,e.defaultRoutes),e.descriptors&&tn.describe(t,e.descriptors)}(e,s,r),this.override&&tn.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){let t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in tn[i]&&(delete tn[i][r],this.override&&delete e7[r])}}class iy{constructor(){this.controllers=new ib(rw,"datasets",!0),this.elements=new ib(io,"elements"),this.plugins=new ib(Object,"plugins"),this.scales=new ib(im,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(t=>{let i=r||this._getRegistryForType(t);r||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):ee(t,t=>{let i=r||this._getRegistryForType(t);this._exec(e,i,t)})})}_exec(e,t,r){let i=eu(e);Q(r["before"+i],[],r),t[e](r),Q(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){let i=t.get(e);if(void 0===i)throw Error('"'+e+'" is not a registered '+r+".");return i}}var i_=new iy;class iv{constructor(){this._init=[]}notify(e,t,r,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let n=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(n,e,t,r);return"afterDestroy"===t&&(this._notify(n,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,i){for(let n of(i=i||{},e)){let e=n.plugin;if(!1===Q(e[r],[t,i,n.options],e)&&i.cancelable)return!1}return!0}invalidate(){V(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let r=e&&e.config,i=X(r.options&&r.options.plugins,{}),n=function(e){let t={},r=[],i=Object.keys(i_.plugins.items);for(let e=0;e<i.length;e++)r.push(i_.getPlugin(i[e]));let n=e.plugins||[];for(let e=0;e<n.length;e++){let i=n[e];-1===r.indexOf(i)&&(r.push(i),t[i.id]=!0)}return{plugins:r,localIds:t}}(r);return!1!==i||t?function(e,{plugins:t,localIds:r},i,n){let a=[],s=e.getContext();for(let l of t){var o;let t=l.id,c=(o=i[t],n||!1!==o?!0===o?{}:o:null);null!==c&&a.push({plugin:l,options:function(e,{plugin:t,local:r},i,n){let a=e.pluginScopeKeys(t),s=e.getOptionScopes(i,a);return r&&t.defaults&&s.push(t.defaults),e.createResolver(s,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(e.config,{plugin:l,local:r[t]},c,s)})}return a}(e,n,i,t):[]}_notifyStateChanges(e){let t=this._oldCache||[],r=this._cache,i=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function ix(e,t){let r=tn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function iw(e){if("x"===e||"y"===e||"r"===e)return e}function iS(e,...t){if(iw(e))return e;for(let i of t){var r;let t=i.axis||("top"===(r=i.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||e.length>1&&iw(e[0].toLowerCase());if(t)return t}throw Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function iE(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function ik(e){let t=e.options||(e.options={});t.plugins=X(t.plugins,{}),t.scales=function(e,t){let r=e7[e.type]||{scales:{}},i=t.scales||{},n=ix(e.type,t),a=Object.create(null);return Object.keys(i).forEach(t=>{let s=i[t];if(!K(s))return console.error(`Invalid scale configuration for scale: ${t}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);let o=iS(t,s,function(e,t){if(t.data&&t.data.datasets){let r=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(r.length)return iE(e,"x",r[0])||iE(e,"y",r[0])}return{}}(t,e),tn.scales[s.type]),l=o===n?"_index_":"_value_",c=r.scales||{};a[t]=es(Object.create(null),[{axis:o},s,c[o],c[l]])}),e.data.datasets.forEach(r=>{let n=r.type||e.type,s=r.indexAxis||ix(n,t),o=(e7[n]||{}).scales||{};Object.keys(o).forEach(e=>{let t;let n=(t=e,"_index_"===e?t=s:"_value_"===e&&(t="x"===s?"y":"x"),t),l=r[n+"AxisID"]||n;a[l]=a[l]||Object.create(null),es(a[l],[{axis:n},i[l],o[e]])})}),Object.keys(a).forEach(e=>{let t=a[e];es(t,[tn.scales[t.type],tn.scale])}),a}(e,t)}function iO(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}let iA=new Map,iR=new Set;function iP(e,t){let r=iA.get(e);return r||(r=t(),iA.set(e,r),iR.add(r)),r}let iT=(e,t,r)=>{let i=ec(t,r);void 0!==i&&e.add(i)};class iC{constructor(e){this._config=function(e){return(e=e||{}).data=iO(e.data),ik(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=iO(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),ik(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return iP(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return iP(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return iP(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,r=this.type;return iP(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let r=this._scopeCache,i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){let{options:i,type:n}=this,a=this._cachedScopes(e,r),s=a.get(t);if(s)return s;let o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>iT(o,e,t))),t.forEach(e=>iT(o,i,e)),t.forEach(e=>iT(o,e7[n]||{},e)),t.forEach(e=>iT(o,tn,e)),t.forEach(e=>iT(o,te,e))});let l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),iR.has(t)&&a.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,e7[t]||{},tn.datasets[t]||{},{type:t},tn,te]}resolveNamedOptions(e,t,r,i=[""]){let n={$shared:!0},{resolver:a,subPrefixes:s}=iM(this._resolverCache,e,i),o=a;if(function(e,t){let{isScriptable:r,isIndexable:i}=tP(e);for(let n of t){let t=r(n),a=i(n),s=(a||t)&&e[n];if(t&&(eh(s)||ij(s))||a&&q(s))return!0}return!1}(a,t)){n.$shared=!1,r=eh(r)?r():r;let t=this.createResolver(e,r,s);o=tR(a,r,t)}for(let e of t)n[e]=o[e];return n}createResolver(e,t,r=[""],i){let{resolver:n}=iM(this._resolverCache,e,r);return K(t)?tR(n,t,void 0,i):n}}function iM(e,t,r){let i=e.get(t);i||(i=new Map,e.set(t,i));let n=r.join(),a=i.get(n);return a||(a={resolver:tA(t,r),subPrefixes:r.filter(e=>!e.toLowerCase().includes("hover"))},i.set(n,a)),a}let ij=e=>K(e)&&Object.getOwnPropertyNames(e).some(t=>eh(e[t])),iD=["top","bottom","left","right","chartArea"];function iN(e,t){return"top"===e||"bottom"===e||-1===iD.indexOf(e)&&"x"===t}function iI(e,t){return function(r,i){return r[e]===i[e]?r[t]-i[t]:r[e]-i[e]}}function iL(e){let t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Q(r&&r.onComplete,[e],t)}function iU(e){let t=e.chart,r=t.options.animation;Q(r&&r.onProgress,[e],t)}function i$(e){return tW()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}let iH={},iF=e=>{let t=i$(e);return Object.values(iH).filter(e=>e.canvas===t).pop()};class iB{static defaults=tn;static instances=iH;static overrides=e7;static registry=i_;static version="4.5.0";static getChart=iF;static register(...e){i_.add(...e),iW()}static unregister(...e){i_.remove(...e),iW()}constructor(e,t){let r=this.config=new iC(t),i=i$(e),n=iF(i);if(n)throw Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||(!tW()||"undefined"!=typeof OffscreenCanvas&&i instanceof OffscreenCanvas?r1:is)),this.platform.updateConfig(r);let s=this.platform.acquireContext(i,a.aspectRatio),o=s&&s.canvas,l=o&&o.height,c=o&&o.width;if(this.id=z(),this.ctx=s,this.canvas=o,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new iv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let r;return function(...i){return t?(clearTimeout(r),r=setTimeout(e,t,i)):e.apply(this,i),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],iH[this.id]=this,!s||!o){console.error("Failed to create chart: can't acquire context from the given item");return}rs.listen(this,"complete",iL),rs.listen(this,"progress",iU),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:n}=this;return V(e)?t&&n?n:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return i_}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tZ(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return to(this.canvas,this.ctx),this}stop(){return rs.stop(this),this}resize(e,t){rs.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let r=this.options,i=this.canvas,n=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,n),s=r.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,tZ(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),Q(r.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){ee(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){let e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((e,t)=>(e[t]=!1,e),{}),n=[];t&&(n=n.concat(Object.keys(t).map(e=>{let r=t[e],i=iS(e,r),n="r"===i,a="x"===i;return{options:r,dposition:n?"chartArea":a?"bottom":"left",dtype:n?"radialLinear":a?"category":"linear"}}))),ee(n,t=>{let n=t.options,a=n.id,s=iS(a,n),o=X(n.type,t.dtype);(void 0===n.position||iN(n.position,s)!==iN(t.dposition))&&(n.position=t.dposition),i[a]=!0;let l=null;a in r&&r[a].type===o?l=r[a]:r[(l=new(i_.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this})).id]=l,l.init(n,e)}),ee(i,(e,t)=>{e||delete r[t]}),ee(r,e=>{rQ.configure(this,e,e.options),rQ.addBox(this,e)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((e,t)=>e.index-t.index),r>t){for(let e=t;e<r;++e)this._destroyDatasetMeta(e);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(iI("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,r)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e,t;let r=[],i=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=i.length;e<t;e++){let t=i[e],n=this.getDatasetMeta(e),a=t.type||this.config.type;if(n.type&&n.type!==a&&(this._destroyDatasetMeta(e),n=this.getDatasetMeta(e)),n.type=a,n.indexAxis=t.indexAxis||ix(a,this.options),n.order=t.order||0,n.index=e,n.label=""+t.label,n.visible=this.isDatasetVisible(e),n.controller)n.controller.updateIndex(e),n.controller.linkScales();else{let t=i_.getController(a),{datasetElementType:i,dataElementType:s}=tn.datasets[a];Object.assign(t,{dataElementType:i_.getElement(s),datasetElementType:i&&i_.getElement(i)}),n.controller=new t(this,e),r.push(n.controller)}}return this._updateMetasets(),r}_resetElements(){ee(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;let n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let e=0,t=this.data.datasets.length;e<t;e++){let{controller:t}=this.getDatasetMeta(e),r=!i&&-1===n.indexOf(t);t.buildOrUpdateElements(r),a=Math.max(+t.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||ee(n,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(iI("z","_idx"));let{_active:s,_lastEvent:o}=this;o?this._eventHandler(o,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){ee(this.scales,e=>{rQ.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options;ef(new Set(Object.keys(this._listeners)),new Set(e.events))&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this;for(let{method:t,start:r,count:i}of this._getUniformDataChanges()||[])!function(e,t,r){for(let i of Object.keys(e)){let n=+i;if(n>=t){let a=e[i];delete e[i],(r>0||n>t)&&(e[n+r]=a)}}}(e,r,"_removeElements"===t?-i:i)}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,r=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),i=r(0);for(let e=1;e<t;e++)if(!ef(i,r(e)))return;return Array.from(i).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;rQ.update(this,this.width,this.height,e);let t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],ee(this.boxes,e=>{(!r||"chartArea"!==e.position)&&(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,eh(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(rs.has(this)?this.attached&&!rs.running(this)&&rs.start(this):(this.draw(),iL({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t,r;let i=this._sortedMetasets,n=[];for(t=0,r=i.length;t<r;++t){let r=i[t];(!e||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=rn(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(i&&td(t,i),e.controller.draw(),i&&th(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return tu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){let n=rW.modes[t];return"function"==typeof n?n(this,e,r,i):[]}getDatasetMeta(e){let t=this.data.datasets[e],r=this._metasets,i=r.filter(e=>e&&e._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=tO(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){let i=r?"show":"hide",n=this.getDatasetMeta(e),a=n.controller._resolveAnimations(void 0,i);ed(t)?(n.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(n,{visible:r}),this.update(t=>t.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),rs.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),to(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete iH[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,r=(r,i)=>{t.addEventListener(this,r,i),e[r]=i},i=(e,t,r)=>{e.offsetX=t,e.offsetY=r,this._eventHandler(e)};ee(this.options.events,e=>r(e,i))}bindResponsiveEvents(){let e;this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,r=this.platform,i=(e,i)=>{r.addEventListener(this,e,i),t[e]=i},n=(e,i)=>{t[e]&&(r.removeEventListener(this,e,i),delete t[e])},a=(e,t)=>{this.canvas&&this.resize(e,t)},s=()=>{n("attach",s),this.attached=!0,this.resize(),i("resize",a),i("detach",e)};e=()=>{this.attached=!1,n("resize",a),this._stop(),this._resize(0,0),i("attach",s)},r.isAttached(this.canvas)?s():e()}unbindEvents(){ee(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ee(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){let i,n,a;let s=r?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+s+"DatasetHoverStyle"](),n=0,a=e.length;n<a;++n){let t=(i=e[n])&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[s+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],r=e.map(({datasetIndex:e,index:t})=>{let r=this.getDatasetMeta(e);if(!r)throw Error("No dataset found at index "+e);return{datasetIndex:e,element:r.data[t],index:t}});et(r,t)||(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,r){let i=this.options.hover,n=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=n(t,e),s=r?e:n(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),s.length&&i.mode&&this.updateHoverStyle(s,i.mode,!0)}_eventHandler(e,t){let r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,i))return;let n=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(n||r.changed)&&this.render(),this}_handleEvent(e,t,r){var i;let{_active:n=[],options:a}=this,s=this._getActiveElements(e,n,r,t),o="mouseup"===e.type||"click"===e.type||"contextmenu"===e.type,l=(i=this._lastEvent,r&&"mouseout"!==e.type?o?i:e:null);r&&(this._lastEvent=null,Q(a.onHover,[e,s,this],this),o&&Q(a.onClick,[e,s,this],this));let c=!et(s,n);return(c||t)&&(this._active=s,this._updateHoverStyles(s,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,r,i){if("mouseout"===e.type)return[];if(!r)return t;let n=this.options.hover;return this.getElementsAtEventForMode(e,n.mode,n,i)}}function iW(){return ee(iB.instances,e=>e._plugins.invalidate())}function iz(e,t,r,i){return{x:r+e*Math.cos(t),y:i+e*Math.sin(t)}}function iV(e,t,r,i,n,a){let{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+i+r-c,0),h=u>0?u+i+r+c:0,f=0,p=n-l;if(i){let e=d>0?d-i:0,t=((u>0?u-i:0)+e)/2;f=(p-(0!==t?p*t/(t+i):p))/2}let g=Math.max(.001,p*d-r/ep)/d,m=(p-g)/2,b=l+m+f,y=n-m-f,{outerStart:_,outerEnd:v,innerStart:x,innerEnd:w}=function(e,t,r,i){let n=tv(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),a=(r-t)/2,s=Math.min(a,i*t/2),o=e=>{let t=(r-Math.min(a,e))*i/2;return eN(e,0,Math.min(a,t))};return{outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:eN(n.innerStart,0,s),innerEnd:eN(n.innerEnd,0,s)}}(t,h,d,y-b),S=d-_,E=d-v,k=b+_/S,O=y-v/E,A=h+x,R=h+w,P=b+x/A,T=y-w/R;if(e.beginPath(),a){let t=(k+O)/2;if(e.arc(s,o,d,k,t),e.arc(s,o,d,t,O),v>0){let t=iz(E,O,s,o);e.arc(t.x,t.y,v,O,y+e_)}let r=iz(R,y,s,o);if(e.lineTo(r.x,r.y),w>0){let t=iz(R,T,s,o);e.arc(t.x,t.y,w,y+e_,T+Math.PI)}let i=(y-w/h+(b+x/h))/2;if(e.arc(s,o,h,y-w/h,i,!0),e.arc(s,o,h,i,b+x/h,!0),x>0){let t=iz(A,P,s,o);e.arc(t.x,t.y,x,P+Math.PI,b-e_)}let n=iz(S,b,s,o);if(e.lineTo(n.x,n.y),_>0){let t=iz(S,k,s,o);e.arc(t.x,t.y,_,b-e_,k)}}else{e.moveTo(s,o);let t=Math.cos(k)*d+s,r=Math.sin(k)*d+o;e.lineTo(t,r);let i=Math.cos(O)*d+s,n=Math.sin(O)*d+o;e.lineTo(i,n)}e.closePath()}class iq extends io{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){let{angle:i,distance:n}=eT(this.getProps(["x","y"],r),{x:e,y:t}),{startAngle:a,endAngle:s,innerRadius:o,outerRadius:l,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),u=(this.options.spacing+this.options.borderWidth)/2,d=X(c,s-a),h=eD(i,a,s)&&a!==s,f=d>=eg||h,p=eI(n,o+u,l+u);return f&&p}getCenterPoint(e){let{x:t,y:r,startAngle:i,endAngle:n,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(i+n)/2,u=(a+s+l+o)/2;return{x:t+Math.cos(c)*u,y:r+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:r}=this,i=(t.offset||0)/4,n=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin=.33*("inner"===t.borderAlign),this.fullCircles=r>eg?Math.floor(r/eg):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();let s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*i,Math.sin(s)*i);let o=i*(1-Math.sin(Math.min(ep,r||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,r,i,n){let{fullCircles:a,startAngle:s,circumference:o}=t,l=t.endAngle;if(a){iV(e,t,r,i,l,n);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=s+(o%eg||eg))}iV(e,t,r,i,l,n),e.fill()}(e,this,o,n,a),function(e,t,r,i,n){let{fullCircles:a,startAngle:s,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:f}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=t.endAngle;if(a){iV(e,t,r,i,g,n);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(g=s+(o%eg||eg))}p&&function(e,t,r){let{startAngle:i,pixelMargin:n,x:a,y:s,outerRadius:o,innerRadius:l}=t,c=n/o;e.beginPath(),e.arc(a,s,o,i-c,r+c),l>n?(c=n/l,e.arc(a,s,l,r+c,i-c,!0)):e.arc(a,s,n,r+e_,i-e_),e.closePath(),e.clip()}(e,t,g),l.selfJoin&&g-s>=ep&&0===f&&"miter"!==u&&function(e,t,r){let{startAngle:i,x:n,y:a,outerRadius:s,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/s,ej(i-r));if(e.beginPath(),e.arc(n,a,s-c/2,i+d/2,r-d/2),o>0){let t=Math.min(c/o,ej(i-r));e.arc(n,a,o+c/2,r-t/2,i+t/2,!0)}else{let t=Math.min(c/2,s*ej(i-r));if("round"===u)e.arc(n,a,t,r-ep/2,i+ep/2,!0);else if("bevel"===u){let s=2*t*t,o=-s*Math.cos(r+ep/2)+n,l=-s*Math.sin(r+ep/2)+a,c=s*Math.cos(i+ep/2)+n,u=s*Math.sin(i+ep/2)+a;e.lineTo(o,l),e.lineTo(c,u)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,g),a||(iV(e,t,r,i,g,n),e.stroke())}(e,this,o,n,a),e.restore()}}function iK(e,t,r=t){e.lineCap=X(r.borderCapStyle,t.borderCapStyle),e.setLineDash(X(r.borderDash,t.borderDash)),e.lineDashOffset=X(r.borderDashOffset,t.borderDashOffset),e.lineJoin=X(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=X(r.borderWidth,t.borderWidth),e.strokeStyle=X(r.borderColor,t.borderColor)}function iG(e,t,r){e.lineTo(r.x,r.y)}function iJ(e,t,r={}){let i=e.length,{start:n=0,end:a=i-1}=r,{start:s,end:o}=t,l=Math.max(n,s),c=Math.min(a,o);return{count:i,start:l,loop:t.loop,ilen:c<l&&!(n<s&&a<s||n>o&&a>o)?i+c-l:c-l}}function iX(e,t,r,i){let n,a,s;let{points:o,options:l}=t,{count:c,start:u,loop:d,ilen:h}=iJ(o,r,i),f=l.stepped?tf:l.tension||"monotone"===l.cubicInterpolationMode?tp:iG,{move:p=!0,reverse:g}=i||{};for(n=0;n<=h;++n)!(a=o[(u+(g?h-n:n))%c]).skip&&(p?(e.moveTo(a.x,a.y),p=!1):f(e,s,a,g,l.stepped),s=a);return d&&f(e,s,a=o[(u+(g?h:0))%c],g,l.stepped),!!d}function iY(e,t,r,i){let n,a,s,o,l,c;let u=t.points,{count:d,start:h,ilen:f}=iJ(u,r,i),{move:p=!0,reverse:g}=i||{},m=0,b=0,y=e=>(h+(g?f-e:e))%d,_=()=>{o!==l&&(e.lineTo(m,l),e.lineTo(m,o),e.lineTo(m,c))};for(p&&(a=u[y(0)],e.moveTo(a.x,a.y)),n=0;n<=f;++n){if((a=u[y(n)]).skip)continue;let t=a.x,r=a.y,i=0|t;i===s?(r<o?o=r:r>l&&(l=r),m=(b*m+t)/++b):(_(),e.lineTo(t,r),s=i,b=0,o=l=r),c=r}_()}function iZ(e){let t=e.options,r=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||r?iX:iY}let iQ="function"==typeof Path2D;class i0 extends io{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let r=this.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!this._pointsUpdated){let i=r.spanGaps?this._loop:this._fullLoop;(function(e,t,r,i,n){let a,s,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){let r,i,n;let a=tF(t),s=e.length,o=Array(s).fill(0),l=Array(s),c=tH(e,0);for(r=0;r<s;++r)if(i=n,n=c,c=tH(e,r+1),n){if(c){let e=c[t]-n[t];o[r]=0!==e?(c[a]-n[a])/e:0}l[r]=i?c?eS(o[r-1])!==eS(o[r])?0:(o[r-1]+o[r])/2:o[r-1]:o[r]}(function(e,t,r){let i,n,a,s,o;let l=e.length,c=tH(e,0);for(let u=0;u<l-1;++u){if(o=c,c=tH(e,u+1),o&&c){if(eE(t[u],0,t$)){r[u]=r[u+1]=0;continue}!((s=Math.pow(i=r[u]/t[u],2)+Math.pow(n=r[u+1]/t[u],2))<=9)&&(a=3/Math.sqrt(s),r[u]=i*a*t[u],r[u+1]=n*a*t[u])}}})(e,o,l),function(e,t,r="x"){let i,n,a;let s=tF(r),o=e.length,l=tH(e,0);for(let c=0;c<o;++c){if(n=a,a=l,l=tH(e,c+1),!a)continue;let o=a[r],u=a[s];n&&(i=(o-n[r])/3,a[`cp1${r}`]=o-i,a[`cp1${s}`]=u-i*t[c]),l&&(i=(l[r]-o)/3,a[`cp2${r}`]=o+i,a[`cp2${s}`]=u+i*t[c])}}(e,l,t)}(e,n);else{let r=i?e[e.length-1]:e[0];for(a=0,s=e.length;a<s;++a)l=function(e,t,r,i){let n=e.skip?t:e,a=r.skip?t:r,s=eC(t,n),o=eC(a,t),l=s/(s+o),c=o/(s+o);l=isNaN(l)?0:l,c=isNaN(c)?0:c;let u=i*l,d=i*c;return{previous:{x:t.x-u*(a.x-n.x),y:t.y-u*(a.y-n.y)},next:{x:t.x+d*(a.x-n.x),y:t.y+d*(a.y-n.y)}}}(r,o=e[a],e[Math.min(a+1,s-+!i)%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,r=o}t.capBezierPoints&&function(e,t){let r,i,n,a,s;let o=tu(e[0],t);for(r=0,i=e.length;r<i;++r)s=a,a=o,o=r<i-1&&tu(e[r+1],t),a&&(n=e[r],s&&(n.cp1x=tB(n.cp1x,t.left,t.right),n.cp1y=tB(n.cp1y,t.top,t.bottom)),o&&(n.cp2x=tB(n.cp2x,t.left,t.right),n.cp2y=tB(n.cp2y,t.top,t.bottom)))}(e,r)})(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){let r=e.points,i=e.options.spanGaps,n=r.length;if(!n)return[];let a=!!e._loop,{start:s,end:o}=function(e,t,r,i){let n=0,a=t-1;if(r&&!i)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,r&&(a+=n);a>n&&e[a%t].skip;)a--;return{start:n,end:a%=t}}(r,n,a,i);if(!0===i)return rt(e,[{start:s,end:o,loop:a}],r,t);let l=o<s?o+n:o,c=!!e._fullLoop&&0===s&&o===n-1;return rt(e,function(e,t,r,i){let n;let a=e.length,s=[],o=t,l=e[t];for(n=t+1;n<=r;++n){let r=e[n%a];r.skip||r.stop?l.skip||(i=!1,s.push({start:t%a,end:(n-1)%a,loop:i}),t=o=r.stop?n:null):(o=n,l.skip&&(t=n)),l=r}return null!==o&&s.push({start:t%a,end:o%a,loop:i}),s}(r,s,l,c),r,t)}(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){let r,i;let n=this.options,a=e[t],s=this.points,o=re(this,{property:t,start:a,end:a});if(!o.length)return;let l=[],c=n.stepped?t2:n.tension||"monotone"===n.cubicInterpolationMode?t5:t1;for(r=0,i=o.length;r<i;++r){let{start:i,end:u}=o[r],d=s[i],h=s[u];if(d===h){l.push(d);continue}let f=Math.abs((a-d[t])/(h[t]-d[t])),p=c(d,h,f,n.stepped);p[t]=e[t],l.push(p)}return 1===l.length?l[0]:l}pathSegment(e,t,r){return iZ(this)(e,this,t,r)}path(e,t,r){let i=this.segments,n=iZ(this),a=this._loop;for(let s of(t=t||0,r=r||this.points.length-t,i))a&=n(e,this,s,{start:t,end:t+r-1});return!!a}draw(e,t,r,i){let n=this.options||{};(this.points||[]).length&&n.borderWidth&&(e.save(),function(e,t,r,i){if(iQ&&!t.options.segment){let n;(n=t._path)||(n=t._path=new Path2D,t.path(n,r,i)&&n.closePath()),iK(e,t.options),e.stroke(n)}else!function(e,t,r,i){let{segments:n,options:a}=t,s=iZ(t);for(let o of n)iK(e,a,o.style),e.beginPath(),s(e,t,o,{start:r,end:r+i-1})&&e.closePath(),e.stroke()}(e,t,r,i)}(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function i1(e,t,r,i){let n=e.options,{[r]:a}=e.getProps([r],i);return Math.abs(t-a)<n.radius+n.hitRadius}class i2 extends io{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){let i=this.options,{x:n,y:a}=this.getProps(["x","y"],r);return Math.pow(e-n,2)+Math.pow(t-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return i1(this,e,"x",t)}inYRange(e,t){return i1(this,e,"y",t)}getCenterPoint(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){let t=(e=e||this.options||{}).radius||0,r=(t=Math.max(t,t&&e.hoverRadius||0))&&e.borderWidth||0;return(t+r)*2}draw(e,t){let r=this.options;!this.skip&&!(r.radius<.1)&&tu(this,t,this.size(r)/2)&&(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,tl(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}function i5(e,t){let r,i,n,a,s;let{x:o,y:l,base:c,width:u,height:d}=e.getProps(["x","y","base","width","height"],t);return e.horizontal?(s=d/2,r=Math.min(o,c),i=Math.max(o,c),n=l-s,a=l+s):(r=o-(s=u/2),i=o+s,n=Math.min(l,c),a=Math.max(l,c)),{left:r,top:n,right:i,bottom:a}}function i3(e,t,r,i){return e?0:eN(t,r,i)}function i4(e,t,r,i){let n=null===t,a=null===r,s=e&&!(n&&a)&&i5(e,i);return s&&(n||eI(t,s.left,s.right))&&(a||eI(r,s.top,s.bottom))}function i6(e,t){e.rect(t.x,t.y,t.w,t.h)}function i8(e,t,r={}){let i=e.x!==r.x?-t:0,n=e.y!==r.y?-t:0,a=(e.x+e.w!==r.x+r.w?t:0)-i,s=(e.y+e.h!==r.y+r.h?t:0)-n;return{x:e.x+i,y:e.y+n,w:e.w+a,h:e.h+s,radius:e.radius}}class i9 extends io{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){var t;let{inflateAmount:r,options:{borderColor:i,backgroundColor:n}}=this,{inner:a,outer:s}=function(e){let t=i5(e),r=t.right-t.left,i=t.bottom-t.top,n=function(e,t,r){let i=e.options.borderWidth,n=e.borderSkipped,a=tx(i);return{t:i3(n.top,a.top,0,r),r:i3(n.right,a.right,0,t),b:i3(n.bottom,a.bottom,0,r),l:i3(n.left,a.left,0,t)}}(e,r/2,i/2),a=function(e,t,r){let{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,a=tw(n),s=Math.min(t,r),o=e.borderSkipped,l=i||K(n);return{topLeft:i3(!l||o.top||o.left,a.topLeft,0,s),topRight:i3(!l||o.top||o.right,a.topRight,0,s),bottomLeft:i3(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:i3(!l||o.bottom||o.right,a.bottomRight,0,s)}}(e,r/2,i/2);return{outer:{x:t.left,y:t.top,w:r,h:i,radius:a},inner:{x:t.left+n.l,y:t.top+n.t,w:r-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}(this),o=(t=s.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?tm:i6;e.save(),(s.w!==a.w||s.h!==a.h)&&(e.beginPath(),o(e,i8(s,r,a)),e.clip(),o(e,i8(a,-r,s)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),o(e,i8(a,r)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,r){return i4(this,e,t,r)}inXRange(e,t){return i4(this,e,null,t)}inYRange(e,t){return i4(this,null,e,t)}getCenterPoint(e){let{x:t,y:r,base:i,horizontal:n}=this.getProps(["x","y","base","horizontal"],e);return{x:n?(t+i)/2:t,y:n?r:(r+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}let i7=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ne=i7.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function nt(e,t,r,i){if(i)return;let n=t[e],a=r[e];return"angle"===e&&(n=ej(n),a=ej(a)),{property:e,start:n,end:a}}function nr(e,t,r){for(;t>e;t--){let e=r[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function ni(e,t,r,i){return e&&t?i(e[r],t[r]):e?e[r]:t?t[r]:0}function nn(e,t){let r=[],i=!1;return q(e)?(i=!0,r=e):r=function(e,t){let{x:r=null,y:i=null}=e||{},n=t.points,a=[];return t.segments.forEach(({start:e,end:t})=>{t=nr(e,t,n);let s=n[e],o=n[t];null!==i?(a.push({x:s.x,y:i}),a.push({x:o.x,y:i})):null!==r&&(a.push({x:r,y:s.y}),a.push({x:r,y:o.y}))}),a}(e,t),r.length?new i0({points:r,options:{tension:0},_loop:i,_fullLoop:i}):null}class na{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){let{x:i,y:n,radius:a}=this;return t=t||{start:0,end:eg},e.arc(i,n,a,t.end,t.start,!0),!r.bounds}interpolate(e){let{x:t,y:r,radius:i}=this,n=e.angle;return{x:t+Math.cos(n)*i,y:r+Math.sin(n)*i,angle:n}}}function ns(e,t,r){let{segments:i,points:n}=t,a=!0,s=!1;for(let o of(e.beginPath(),i)){let{start:i,end:l}=o,c=n[i],u=n[nr(i,l,n)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(c.x,r),e.lineTo(c.x,c.y)),(s=!!t.pathSegment(e,o,{move:s}))?e.closePath():e.lineTo(u.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function no(e,t,r){let{segments:i,points:n}=t,a=!0,s=!1;for(let o of(e.beginPath(),i)){let{start:i,end:l}=o,c=n[i],u=n[nr(i,l,n)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(r,c.y),e.lineTo(c.x,c.y)),(s=!!t.pathSegment(e,o,{move:s}))?e.closePath():e.lineTo(r,u.y)}e.lineTo(r,t.first().y),e.closePath(),e.clip()}function nl(e,t){let{line:r,target:i,property:n,color:a,scale:s,clip:o}=t;for(let{source:t,target:l,start:c,end:u}of function(e,t,r){let i=e.segments,n=e.points,a=t.points,s=[];for(let e of i){let{start:i,end:o}=e;o=nr(i,o,n);let l=nt(r,n[i],n[o],e.loop);if(!t.segments){s.push({source:e,target:l,start:n[i],end:n[o]});continue}for(let i of re(t,l)){let t=nt(r,a[i.start],a[i.end],i.loop);for(let a of t7(e,n,t))s.push({source:a,target:i,start:{[r]:ni(l,t,"start",Math.max)},end:{[r]:ni(l,t,"end",Math.min)}})}}return s}(r,i,n)){let d;let{style:{backgroundColor:h=a}={}}=t,f=!0!==i;e.save(),e.fillStyle=h,function(e,t,r,i){let n=t.chart.chartArea,{property:a,start:s,end:o}=i||{};if("x"===a||"y"===a){let t,i,l,c;"x"===a?(t=s,i=n.top,l=o,c=n.bottom):(t=n.left,i=s,l=n.right,c=o),e.beginPath(),r&&(t=Math.max(t,r.left),l=Math.min(l,r.right),i=Math.max(i,r.top),c=Math.min(c,r.bottom)),e.rect(t,i,l-t,c-i),e.clip()}}(e,s,o,f&&nt(n,c,u)),e.beginPath();let p=!!r.pathSegment(e,t);if(f){p?e.closePath():nc(e,i,u,n);let t=!!i.pathSegment(e,l,{move:p,reverse:!0});(d=p&&t)||nc(e,i,c,n)}e.closePath(),e.fill(d?"evenodd":"nonzero"),e.restore()}}function nc(e,t,r,i){let n=t.interpolate(r,i);n&&e.lineTo(n.x,n.y)}let nu=(e,t)=>{let{boxHeight:r=t,boxWidth:i=t}=e;return e.usePointStyle&&(r=Math.min(r,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:r,itemHeight:Math.max(t,r)}},nd=(e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class nh extends io{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Q(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,r)=>e.sort(t,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let e,t;let{options:r,ctx:i}=this;if(!r.display){this.width=this.height=0;return}let n=r.labels,a=tE(n.font),s=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=nu(n,s);i.font=a.string,this.isHorizontal()?(e=this.maxWidth,t=this._fitRows(o,s,l,c)+10):(t=this.maxHeight,e=this._fitCols(o,a,l,c)+10),this.width=Math.min(e,r.maxWidth||this.maxWidth),this.height=Math.min(t,r.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){let{ctx:n,maxWidth:a,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+s,u=e;n.textAlign="left",n.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach((e,f)=>{let p=r+t/2+n.measureText(e.text).width;(0===f||l[l.length-1]+p+2*s>a)&&(u+=c,l[l.length-(f>0?0:1)]=0,h+=c,d++),o[f]={left:0,top:h,row:d,width:p,height:i},l[l.length-1]+=p+s}),u}_fitCols(e,t,r,i){let{ctx:n,maxHeight:a,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e,u=s,d=0,h=0,f=0,p=0;return this.legendItems.forEach((e,a)=>{var g,m,b,y,_,v,x,w,S,E,k,O;let A,R;let{itemWidth:P,itemHeight:T}=(g=r,m=t,b=n,y=e,_=i,{itemWidth:(v=y,x=g,w=m,S=b,(A=v.text)&&"string"!=typeof A&&(A=A.reduce((e,t)=>e.length>t.length?e:t)),x+w.size/2+S.measureText(A).width),itemHeight:(E=_,k=y,O=m.lineHeight,R=E,"string"!=typeof k.text&&(R=nf(k,O)),R)});a>0&&h+T+2*s>c&&(u+=d+s,l.push({width:d,height:h}),f+=d+s,p++,d=h=0),o[a]={left:f,top:h,col:p,width:P,height:T},d=Math.max(d,P),h+=T+s}),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:n}}=this,a=t3(n,this.left,this.width);if(this.isHorizontal()){let n=0,s=eq(r,this.left+i,this.right-this.lineWidths[n]);for(let o of t)n!==o.row&&(n=o.row,s=eq(r,this.left+i,this.right-this.lineWidths[n])),o.top+=this.top+e+i,o.left=a.leftForLtr(a.x(s),o.width),s+=o.width+i}else{let n=0,s=eq(r,this.top+e+i,this.bottom-this.columnSizes[n].height);for(let o of t)o.col!==n&&(n=o.col,s=eq(r,this.top+e+i,this.bottom-this.columnSizes[n].height)),o.top=s,o.left+=this.left+i,o.left=a.leftForLtr(a.x(o.left),o.width),s+=o.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){let e=this.ctx;td(e,this),this._draw(),th(e)}}_draw(){let e;let{options:t,columnSizes:r,lineWidths:i,ctx:n}=this,{align:a,labels:s}=t,o=tn.color,l=t3(t.rtl,this.left,this.width),c=tE(s.font),{padding:u}=s,d=c.size,h=d/2;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;let{boxWidth:f,boxHeight:p,itemHeight:g}=nu(s,d),m=function(e,t,r){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;n.save();let i=X(r.lineWidth,1);if(n.fillStyle=X(r.fillStyle,o),n.lineCap=X(r.lineCap,"butt"),n.lineDashOffset=X(r.lineDashOffset,0),n.lineJoin=X(r.lineJoin,"miter"),n.lineWidth=i,n.strokeStyle=X(r.strokeStyle,o),n.setLineDash(X(r.lineDash,[])),s.usePointStyle){let a={radius:p*Math.SQRT2/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:i};tc(n,a,l.xPlus(e,f/2),t+h,s.pointStyleWidth&&f)}else{let a=t+Math.max((d-p)/2,0),s=l.leftForLtr(e,f),o=tw(r.borderRadius);n.beginPath(),Object.values(o).some(e=>0!==e)?tm(n,{x:s,y:a,w:f,h:p,radius:o}):n.rect(s,a,f,p),n.fill(),0!==i&&n.stroke()}n.restore()},b=function(e,t,r){tg(n,r.text,e,t+g/2,c,{strikethrough:r.hidden,textAlign:l.textAlign(r.textAlign)})},y=this.isHorizontal(),_=this._computeTitleHeight();e=y?{x:eq(a,this.left+u,this.right-i[0]),y:this.top+u+_,line:0}:{x:this.left+u,y:eq(a,this.top+_+u,this.bottom-r[0].height),line:0},t4(this.ctx,t.textDirection);let v=g+u;this.legendItems.forEach((o,d)=>{n.strokeStyle=o.fontColor,n.fillStyle=o.fontColor;let p=n.measureText(o.text).width,g=l.textAlign(o.textAlign||(o.textAlign=s.textAlign)),x=f+h+p,w=e.x,S=e.y;if(l.setWidth(this.width),y?d>0&&w+x+u>this.right&&(S=e.y+=v,e.line++,w=e.x=eq(a,this.left+u,this.right-i[e.line])):d>0&&S+v>this.bottom&&(w=e.x=w+r[e.line].width+u,e.line++,S=e.y=eq(a,this.top+_+u,this.bottom-r[e.line].height)),m(l.x(w),S,o),w=eK(g,w+f+h,y?w+x:this.right,t.rtl),b(l.x(w),S,o),y)e.x+=x+u;else if("string"!=typeof o.text){let t=c.lineHeight;e.y+=nf(o,t)+u}else e.y+=v}),t6(this.ctx,t.textDirection)}drawTitle(){let e;let t=this.options,r=t.title,i=tE(r.font),n=tS(r.padding);if(!r.display)return;let a=t3(t.rtl,this.left,this.width),s=this.ctx,o=r.position,l=i.size/2,c=n.top+l,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),e=this.top+c,u=eq(t.align,u,this.right-d);else{let r=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);e=c+eq(t.align,this.top,this.bottom-r-t.labels.padding-this._computeTitleHeight())}let h=eq(o,u,u+d);s.textAlign=a.textAlign(eV(o)),s.textBaseline="middle",s.strokeStyle=r.color,s.fillStyle=r.color,s.font=i.string,tg(s,r.text,h,e,i)}_computeTitleHeight(){let e=this.options.title,t=tE(e.font),r=tS(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,n;if(eI(e,this.left,this.right)&&eI(t,this.top,this.bottom)){for(r=0,n=this.legendHitBoxes;r<n.length;++r)if(eI(e,(i=n[r]).left,i.left+i.width)&&eI(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){var t,r;let i=this.options;if(t=e.type,r=i,("mousemove"!==t&&"mouseout"!==t||!r.onHover&&!r.onLeave)&&(!r.onClick||"click"!==t&&"mouseup"!==t))return;let n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){let t=this._hoveredItem,r=nd(t,n);t&&!r&&Q(i.onLeave,[e,t,this],this),this._hoveredItem=n,n&&!r&&Q(i.onHover,[e,n,this],this)}else n&&Q(i.onClick,[e,n,this],this)}}function nf(e,t){return t*(e.text?e.text.length:0)}var np={id:"legend",_element:nh,start(e,t,r){let i=e.legend=new nh({ctx:e.ctx,options:r,chart:e});rQ.configure(e,i,r),rQ.addBox(e,i)},stop(e){rQ.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){let i=e.legend;rQ.configure(e,i,r),i.options=r},afterUpdate(e){let t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){let i=t.datasetIndex,n=r.chart;n.isDatasetVisible(i)?(n.hide(i),t.hidden=!0):(n.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:i,textAlign:n,color:a,useBorderRadius:s,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{let l=e.controller.getStyle(r?0:void 0),c=tS(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:n||l.textAlign,borderRadius:s&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};new WeakMap;let ng={average(e){let t,r;if(!e.length)return!1;let i=new Set,n=0,a=0;for(t=0,r=e.length;t<r;++t){let r=e[t].element;if(r&&r.hasValue()){let e=r.tooltipPosition();i.add(e.x),n+=e.y,++a}}return 0!==a&&0!==i.size&&{x:[...i].reduce((e,t)=>e+t)/i.size,y:n/a}},nearest(e,t){let r,i,n;if(!e.length)return!1;let a=t.x,s=t.y,o=Number.POSITIVE_INFINITY;for(r=0,i=e.length;r<i;++r){let i=e[r].element;if(i&&i.hasValue()){let e=eC(t,i.getCenterPoint());e<o&&(o=e,n=i)}}if(n){let e=n.tooltipPosition();a=e.x,s=e.y}return{x:a,y:s}}};function nm(e,t){return t&&(q(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function nb(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function ny(e,t){let r=e.chart.ctx,{body:i,footer:n,title:a}=e,{boxWidth:s,boxHeight:o}=t,l=tE(t.bodyFont),c=tE(t.titleFont),u=tE(t.footerFont),d=a.length,h=n.length,f=i.length,p=tS(t.padding),g=p.height,m=0,b=i.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);b+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),b&&(g+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(b-f)*l.lineHeight+(b-1)*t.bodySpacing),h&&(g+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let y=0,_=function(e){m=Math.max(m,r.measureText(e).width+y)};return r.save(),r.font=c.string,ee(e.title,_),r.font=l.string,ee(e.beforeBody.concat(e.afterBody),_),y=t.displayColors?s+2+t.boxPadding:0,ee(i,e=>{ee(e.before,_),ee(e.lines,_),ee(e.after,_)}),y=0,r.font=u.string,ee(e.footer,_),r.restore(),{width:m+=p.width,height:g}}function n_(e,t,r){let i=r.yAlign||t.yAlign||function(e,t){let{y:r,height:i}=t;return r<i/2?"top":r>e.height-i/2?"bottom":"center"}(e,r);return{xAlign:r.xAlign||t.xAlign||function(e,t,r,i){let{x:n,width:a}=r,{width:s,chartArea:{left:o,right:l}}=e,c="center";return"center"===i?c=n<=(o+l)/2?"left":"right":n<=a/2?c="left":n>=s-a/2&&(c="right"),function(e,t,r,i){let{x:n,width:a}=i,s=r.caretSize+r.caretPadding;if("left"===e&&n+a+s>t.width||"right"===e&&n-a-s<0)return!0}(c,e,t,r)&&(c="center"),c}(e,t,r,i),yAlign:i}}function nv(e,t,r,i){let{caretSize:n,caretPadding:a,cornerRadius:s}=e,{xAlign:o,yAlign:l}=r,c=n+a,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=tw(s),p=function(e,t){let{x:r,width:i}=e;return"right"===t?r-=i:"center"===t&&(r-=i/2),r}(t,o),g=function(e,t,r){let{y:i,height:n}=e;return"top"===t?i+=r:"bottom"===t?i-=n+r:i-=n/2,i}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(u,h)+n:"right"===o&&(p+=Math.max(d,f)+n),{x:eN(p,0,i.width-t.width),y:eN(g,0,i.height-t.height)}}function nx(e,t,r){let i=tS(r.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function nw(e,t){let r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}let nS={beforeTitle:W,title(e){if(e.length>0){let t=e[0],r=t.chart.data.labels,i=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return r[t.dataIndex]}return""},afterTitle:W,beforeBody:W,beforeLabel:W,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let r=e.formattedValue;return V(r)||(t+=r),t},labelColor(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:W,afterBody:W,beforeFooter:W,footer:W,afterFooter:W};function nE(e,t,r,i){let n=e[t].call(r,i);return void 0===n?nS[t].call(r,i):n}class nk extends io{static positioners=ng;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,n=new ru(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=tO(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(e,t){let{callbacks:r}=t,i=nE(r,"beforeTitle",this,e),n=nE(r,"title",this,e),a=nE(r,"afterTitle",this,e),s=[];return s=nm(s,nb(i)),s=nm(s,nb(n)),s=nm(s,nb(a))}getBeforeBody(e,t){return nm([],nb(nE(t.callbacks,"beforeBody",this,e)))}getBody(e,t){let{callbacks:r}=t,i=[];return ee(e,e=>{let t={before:[],lines:[],after:[]},n=nw(r,e);nm(t.before,nb(nE(n,"beforeLabel",this,e))),nm(t.lines,nE(n,"label",this,e)),nm(t.after,nb(nE(n,"afterLabel",this,e))),i.push(t)}),i}getAfterBody(e,t){return nm([],nb(nE(t.callbacks,"afterBody",this,e)))}getFooter(e,t){let{callbacks:r}=t,i=nE(r,"beforeFooter",this,e),n=nE(r,"footer",this,e),a=nE(r,"afterFooter",this,e),s=[];return s=nm(s,nb(i)),s=nm(s,nb(n)),s=nm(s,nb(a))}_createItems(e){let t,r;let i=this._active,n=this.chart.data,a=[],s=[],o=[],l=[];for(t=0,r=i.length;t<r;++t)l.push(function(e,t){let{element:r,datasetIndex:i,index:n}=t,a=e.getDatasetMeta(i).controller,{label:s,value:o}=a.getLabelAndValue(n);return{chart:e,label:s,parsed:a.getParsed(n),raw:e.data.datasets[i].data[n],formattedValue:o,dataset:a.getDataset(),dataIndex:n,datasetIndex:i,element:r}}(this.chart,i[t]));return e.filter&&(l=l.filter((t,r,i)=>e.filter(t,r,i,n))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,n))),ee(l,t=>{let r=nw(e.callbacks,t);a.push(nE(r,"labelColor",this,t)),s.push(nE(r,"labelPointStyle",this,t)),o.push(nE(r,"labelTextColor",this,t))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){let r;let i=this.options.setContext(this.getContext()),n=this._active,a=[];if(n.length){let e=ng[i.position].call(this,n,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let t=this._size=ny(this,i),s=Object.assign({},e,t),o=n_(this.chart,i,s),l=nv(i,s,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){let n=this.getCaretPosition(e,r,i);t.lineTo(n.x1,n.y1),t.lineTo(n.x2,n.y2),t.lineTo(n.x3,n.y3)}getCaretPosition(e,t,r){let i,n,a,s,o,l;let{xAlign:c,yAlign:u}=this,{caretSize:d,cornerRadius:h}=r,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:m}=tw(h),{x:b,y:y}=e,{width:_,height:v}=t;return"center"===u?(o=y+v/2,"left"===c?(n=(i=b)-d,s=o+d,l=o-d):(n=(i=b+_)+d,s=o-d,l=o+d),a=i):(n="left"===c?b+Math.max(f,g)+d:"right"===c?b+_-Math.max(p,m)-d:this.caretX,"top"===u?(o=(s=y)-d,i=n-d,a=n+d):(o=(s=y+v)+d,i=n+d,a=n-d),l=s),{x1:i,x2:n,x3:a,y1:s,y2:o,y3:l}}drawTitle(e,t,r){let i,n,a;let s=this.title,o=s.length;if(o){let l=t3(r.rtl,this.x,this.width);for(a=0,e.x=nx(this,r.titleAlign,r),t.textAlign=l.textAlign(r.titleAlign),t.textBaseline="middle",i=tE(r.titleFont),n=r.titleSpacing,t.fillStyle=r.titleColor,t.font=i.string;a<o;++a)t.fillText(s[a],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n,a+1===o&&(e.y+=r.titleMarginBottom-n)}}_drawColorBox(e,t,r,i,n){let a=this.labelColors[r],s=this.labelPointStyles[r],{boxHeight:o,boxWidth:l}=n,c=tE(n.bodyFont),u=nx(this,"left",n),d=i.x(u),h=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+h;if(n.usePointStyle){let t={radius:Math.min(l,o)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},r=i.leftForLtr(d,l)+l/2,c=f+o/2;e.strokeStyle=n.multiKeyBackground,e.fillStyle=n.multiKeyBackground,tl(e,t,r,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,tl(e,t,r,c)}else{e.lineWidth=K(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let t=i.leftForLtr(d,l),r=i.leftForLtr(i.xPlus(d,1),l-2),s=tw(a.borderRadius);Object.values(s).some(e=>0!==e)?(e.beginPath(),e.fillStyle=n.multiKeyBackground,tm(e,{x:t,y:f,w:l,h:o,radius:s}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),tm(e,{x:r,y:f+1,w:l-2,h:o-2,radius:s}),e.fill()):(e.fillStyle=n.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=a.backgroundColor,e.fillRect(r,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){let i,n,a,s,o,l;let{body:c}=this,{bodySpacing:u,bodyAlign:d,displayColors:h,boxHeight:f,boxWidth:p,boxPadding:g}=r,m=tE(r.bodyFont),b=m.lineHeight,y=0,_=t3(r.rtl,this.x,this.width),v=function(r){t.fillText(r,_.x(e.x+y),e.y+b/2),e.y+=b+u},x=_.textAlign(d);for(t.textAlign=d,t.textBaseline="middle",t.font=m.string,e.x=nx(this,x,r),t.fillStyle=r.bodyColor,ee(this.beforeBody,v),y=h&&"right"!==x?"center"===d?p/2+g:p+2+g:0,a=0,o=c.length;a<o;++a){for(i=c[a],t.fillStyle=this.labelTextColors[a],ee(i.before,v),n=i.lines,h&&n.length&&(this._drawColorBox(t,e,a,_,r),b=Math.max(m.lineHeight,f)),s=0,l=n.length;s<l;++s)v(n[s]),b=m.lineHeight;ee(i.after,v)}y=0,b=m.lineHeight,ee(this.afterBody,v),e.y-=u}drawFooter(e,t,r){let i,n;let a=this.footer,s=a.length;if(s){let o=t3(r.rtl,this.x,this.width);for(e.x=nx(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=o.textAlign(r.footerAlign),t.textBaseline="middle",i=tE(r.footerFont),t.fillStyle=r.footerColor,t.font=i.string,n=0;n<s;++n)t.fillText(a[n],o.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){let{xAlign:n,yAlign:a}=this,{x:s,y:o}=e,{width:l,height:c}=r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=tw(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(s+u,o),"top"===a&&this.drawCaret(e,t,r,i),t.lineTo(s+l-d,o),t.quadraticCurveTo(s+l,o,s+l,o+d),"center"===a&&"right"===n&&this.drawCaret(e,t,r,i),t.lineTo(s+l,o+c-f),t.quadraticCurveTo(s+l,o+c,s+l-f,o+c),"bottom"===a&&this.drawCaret(e,t,r,i),t.lineTo(s+h,o+c),t.quadraticCurveTo(s,o+c,s,o+c-h),"center"===a&&"left"===n&&this.drawCaret(e,t,r,i),t.lineTo(s,o+u),t.quadraticCurveTo(s,o,s+u,o),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,r=this.$animations,i=r&&r.x,n=r&&r.y;if(i||n){let r=ng[e.position].call(this,this._active,this._eventPosition);if(!r)return;let a=this._size=ny(this,e),s=Object.assign({},r,this._size),o=n_(t,e,s),l=nv(e,s,o,t);(i._to!==l.x||n._to!==l.y)&&(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){let t=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(t);let i={width:this.width,height:this.height},n={x:this.x,y:this.y};r=.001>Math.abs(r)?0:r;let a=tS(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=r,this.drawBackground(n,e,i,t),t4(e,t.textDirection),n.y+=a.top,this.drawTitle(n,e,t),this.drawBody(n,e,t),this.drawFooter(n,e,t),t6(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let r=this._active,i=e.map(({datasetIndex:e,index:t})=>{let r=this.chart.getDatasetMeta(e);if(!r)throw Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:r.data[t],index:t}}),n=!et(r,i),a=this._positionChanged(i,t);(n||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let i=this.options,n=this._active||[],a=this._getActiveElements(e,n,t,r),s=this._positionChanged(a,e),o=t||!et(a,n)||s;return o&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,r,i){let n=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));let a=this.chart.getElementsAtEventForMode(e,n.mode,n,r);return n.reverse&&a.reverse(),a}_positionChanged(e,t){let{caretX:r,caretY:i,options:n}=this,a=ng[n.position].call(this,e,t);return!1!==a&&(r!==a.x||i!==a.y)}}var nO={id:"tooltip",_element:nk,positioners:ng,afterInit(e,t,r){r&&(e.tooltip=new nk({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){let t=e.tooltip;if(t&&t._willRender()){let r={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){let r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};let nA=(e,t,r,i)=>("string"==typeof t?(r=e.push(t)-1,i.unshift({index:r,label:t})):isNaN(t)&&(r=null),r),nR=(e,t)=>null===e?null:eN(Math.round(e),0,t);function nP(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class nT extends im{static id="category";static defaults={ticks:{callback:nP}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let e=this.getLabels();for(let{index:r,label:i}of t)e[r]===i&&e.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(V(e))return null;let r=this.getLabels();return nR(t=isFinite(t)&&r[t]===e?t:function(e,t,r,i){let n=e.indexOf(t);return -1===n?nA(e,t,r,i):n!==e.lastIndexOf(t)?r:n}(r,e,X(t,e),this._addedLabels),r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:r,max:i}=this.getMinMax(!0);"ticks"!==this.options.bounds||(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){let e=this.min,t=this.max,r=this.options.offset,i=[],n=this.getLabels();n=0===e&&t===n.length-1?n:n.slice(e,t+1),this._valueRange=Math.max(n.length-+!r,1),this._startValue=this.min-.5*!!r;for(let r=e;r<=t;r++)i.push({value:r});return i}getLabelForValue(e){return nP.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function nC(e,t,{horizontal:r,minRotation:i}){let n=eR(i),a=(r?Math.sin(n):Math.cos(n))||.001,s=.75*t*(""+e).length;return Math.min(t/a,s)}class nM extends im{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return V(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:n}=this,a=e=>i=t?i:e,s=e=>n=r?n:e;if(e){let e=eS(i),t=eS(n);e<0&&t<0?s(0):e>0&&t>0&&a(0)}if(i===n){let t=0===n?1:Math.abs(.05*n);s(n+t),e||a(i-t)}this.min=i,this.max=n}getTickLimit(){let e;let{maxTicksLimit:t,stepSize:r}=this.options.ticks;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3):(e=this.computeTickLimit(),t=t||11),t&&(e=Math.min(t,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,r=this.getTickLimit(),i=function(e,t){let r,i,n,a;let s=[],{bounds:o,step:l,min:c,max:u,precision:d,count:h,maxTicks:f,maxDigits:p,includeBounds:g}=e,m=l||1,b=f-1,{min:y,max:_}=t,v=!V(c),x=!V(u),w=!V(h),S=(_-y)/(p+1),E=ek((_-y)/b/m)*m;if(E<1e-14&&!v&&!x)return[{value:y},{value:_}];(a=Math.ceil(_/E)-Math.floor(y/E))>b&&(E=ek(a*E/b/m)*m),V(d)||(E=Math.ceil(E*(r=Math.pow(10,d)))/r),"ticks"===o?(i=Math.floor(y/E)*E,n=Math.ceil(_/E)*E):(i=y,n=_),v&&x&&l&&function(e,t){let r=Math.round(e);return r-t<=e&&r+t>=e}((u-c)/l,E/1e3)?(a=Math.round(Math.min((u-c)/E,f)),E=(u-c)/a,i=c,n=u):w?(i=v?c:i,E=((n=x?u:n)-i)/(a=h-1)):a=eE(a=(n-i)/E,Math.round(a),E/1e3)?Math.round(a):Math.ceil(a);let k=Math.max(eP(E),eP(i));i=Math.round(i*(r=Math.pow(10,V(d)?k:d)))/r,n=Math.round(n*r)/r;let O=0;for(v&&(g&&i!==c?(s.push({value:c}),i<c&&O++,eE(Math.round((i+O*E)*r)/r,c,nC(c,S,e))&&O++):i<c&&O++);O<a;++O){let e=Math.round((i+O*E)*r)/r;if(x&&e>u)break;s.push({value:e})}return x&&g&&n!==u?s.length&&eE(s[s.length-1].value,u,nC(u,S,e))?s[s.length-1].value=u:s.push({value:u}):x&&n!==u||s.push({value:n}),s}({maxTicks:r=Math.max(2,r),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&eA(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){let e=this.ticks,t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){let i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return e6(e,this.chart.options.locale,this.options.ticks.format)}}class nj extends nM{static id="linear";static defaults={ticks:{callback:e9.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=G(e)?e:0,this.max=G(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,r=eR(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001;return Math.ceil(t/Math.min(40,this._resolveTickFontOptions(0).lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}let nD=e=>Math.floor(ew(e)),nN=(e,t)=>Math.pow(10,nD(e)+t);function nI(e){return 1==e/Math.pow(10,nD(e))}function nL(e,t,r){let i=Math.pow(10,r),n=Math.floor(e/i);return Math.ceil(t/i)-n}class nU extends im{static id="logarithmic";static defaults={ticks:{callback:e9.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let r=nM.prototype.parse.apply(this,[e,t]);if(0===r){this._zero=!0;return}return G(r)&&r>0?r:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=G(e)?Math.max(0,e):null,this.max=G(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!G(this._userMin)&&(this.min=e===nN(this.min,0)?nN(this.min,-1):nN(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),r=this.min,i=this.max,n=t=>r=e?r:t,a=e=>i=t?i:e;r===i&&(r<=0?(n(1),a(10)):(n(nN(r,-1)),a(nN(i,1)))),r<=0&&n(nN(i,-1)),i<=0&&a(nN(r,1)),this.min=r,this.max=i}buildTicks(){let e=this.options,t=function(e,{min:t,max:r}){t=J(e.min,t);let i=[],n=nD(t),a=function(e,t){let r=nD(t-e);for(;nL(e,t,r)>10;)r++;for(;10>nL(e,t,r);)r--;return Math.min(r,nD(e))}(t,r),s=a<0?Math.pow(10,Math.abs(a)):1,o=Math.pow(10,a),l=n>a?Math.pow(10,n):0,c=Math.round((t-l)*s)/s,u=Math.floor((t-l)/o/10)*o*10,d=Math.floor((c-u)/Math.pow(10,a)),h=J(e.min,Math.round((l+u+d*Math.pow(10,a))*s)/s);for(;h<r;)i.push({value:h,major:nI(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(d=2,s=++a>=0?1:s),h=Math.round((l+u+d*Math.pow(10,a))*s)/s;let f=J(e.max,h);return i.push({value:f,major:nI(f),significand:d}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&eA(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":e6(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=ew(e),this._valueRange=ew(this.max)-ew(e)}getPixelForValue(e){return((void 0===e||0===e)&&(e=this.min),null===e||isNaN(e))?NaN:this.getPixelForDecimal(e===this.min?0:(ew(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function n$(e){let t=e.ticks;if(t.display&&e.display){let e=tS(t.backdropPadding);return X(t.font&&t.font.size,tn.font.size)+e.height}return 0}function nH(e,t,r,i,n){return e===i||e===n?{start:t-r/2,end:t+r/2}:e<i||e>n?{start:t-r,end:t}:{start:t,end:t+r}}function nF(e,t,r,i){let{ctx:n}=e;if(r)n.arc(e.xCenter,e.yCenter,t,0,eg);else{let r=e.getPointPosition(0,t);n.moveTo(r.x,r.y);for(let a=1;a<i;a++)r=e.getPointPosition(a,t),n.lineTo(r.x,r.y)}}class nB extends nM{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:e9.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=tS(n$(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=G(e)&&!isNaN(e)?e:0,this.max=G(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/n$(this.options))}generateTickLabels(e){nM.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{let r=Q(this.options.pointLabels.callback,[e,t],this);return r||0===r?r:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){let e=this.options;e.display&&e.pointLabels.display?function(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),i=[],n=[],a=e._pointLabels.length,s=e.options.pointLabels,o=s.centerPointLabels?ep/a:0;for(let u=0;u<a;u++){var l,c;let a=s.setContext(e.getPointLabelContext(u));n[u]=a.padding;let d=e.getPointPosition(u,e.drawingArea+n[u],o),h=tE(a.font),f=(l=e.ctx,c=q(c=e._pointLabels[u])?c:[c],{w:function(e,t,r,i){let n,a,s,o,l;let c=(i=i||{}).data=i.data||{},u=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(c=i.data={},u=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let d=0,h=r.length;for(n=0;n<h;n++)if(null==(o=r[n])||q(o)){if(q(o))for(a=0,s=o.length;a<s;a++)null==(l=o[a])||q(l)||(d=ta(e,c,u,d,l))}else d=ta(e,c,u,d,o);e.restore();let f=u.length/2;if(f>r.length){for(n=0;n<f;n++)delete c[u[n]];u.splice(0,f)}return d}(l,h.string,c),h:c.length*h.lineHeight});i[u]=f;let p=ej(e.getIndexAngle(u)+o),g=Math.round(180/ep*p);(function(e,t,r,i,n){let a=Math.abs(Math.sin(r)),s=Math.abs(Math.cos(r)),o=0,l=0;i.start<t.l?(o=(t.l-i.start)/a,e.l=Math.min(e.l,t.l-o)):i.end>t.r&&(o=(i.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),n.start<t.t?(l=(t.t-n.start)/s,e.t=Math.min(e.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/s,e.b=Math.max(e.b,t.b+l))})(r,t,p,nH(g,d.x,f.w,0,180),nH(g,d.y,f.h,90,270))}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=function(e,t,r){let i;let n=[],a=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:l}=s.pointLabels,c={extra:n$(s)/2,additionalAngle:o?ep/a:0};for(let s=0;s<a;s++){c.padding=r[s],c.size=t[s];let a=function(e,t,r){var i,n,a,s,o,l,c;let u=e.drawingArea,{extra:d,additionalAngle:h,padding:f,size:p}=r,g=e.getPointPosition(t,u+d+f,h),m=Math.round(180/ep*ej(g.angle+e_)),b=(i=g.y,n=p.h,90===(a=m)||270===a?i-=n/2:(a>270||a<90)&&(i-=n),i),y=0===(s=m)||180===s?"center":s<180?"left":"right",_=(o=g.x,l=p.w,"right"===(c=y)?o-=l:"center"===c&&(o-=l/2),o);return{visible:!0,x:g.x,y:b,textAlign:y,left:_,top:b,right:_+p.w,bottom:b+p.h}}(e,s,c);n.push(a),"auto"===l&&(a.visible=function(e,t){if(!t)return!0;let{left:r,top:i,right:n,bottom:a}=e;return!(tu({x:r,y:i},t)||tu({x:r,y:a},t)||tu({x:n,y:i},t)||tu({x:n,y:a},t))}(a,i),a.visible&&(i=a))}return n}(e,i,n)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){return ej(e*(eg/(this._pointLabels.length||1))+eR(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(V(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(V(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let r=t[e];return tO(this.getContext(),{label:r,index:e,type:"pointLabel"})}}getPointPosition(e,t,r=0){let i=this.getIndexAngle(e)-e_+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:r,right:i,bottom:n}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:n}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let r=this.ctx;r.save(),r.beginPath(),nF(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){let e,t,r;let i=this.ctx,n=this.options,{angleLines:a,grid:s,border:o}=n,l=this._pointLabels.length;if(n.pointLabels.display&&function(e,t){let{ctx:r,options:{pointLabels:i}}=e;for(let n=t-1;n>=0;n--){let t=e._pointLabelItems[n];if(!t.visible)continue;let a=i.setContext(e.getPointLabelContext(n));!function(e,t,r){let{left:i,top:n,right:a,bottom:s}=r,{backdropColor:o}=t;if(!V(o)){let r=tw(t.borderRadius),l=tS(t.backdropPadding);e.fillStyle=o;let c=i-l.left,u=n-l.top,d=a-i+l.width,h=s-n+l.height;Object.values(r).some(e=>0!==e)?(e.beginPath(),tm(e,{x:c,y:u,w:d,h:h,radius:r}),e.fill()):e.fillRect(c,u,d,h)}}(r,a,t);let s=tE(a.font),{x:o,y:l,textAlign:c}=t;tg(r,e._pointLabels[n],o,l+s.lineHeight/2,s,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,l),s.display&&this.ticks.forEach((e,r)=>{if(0!==r||0===r&&this.min<0){t=this.getDistanceFromCenterForValue(e.value);let i=this.getContext(r),n=s.setContext(i),a=o.setContext(i);!function(e,t,r,i,n){let a=e.ctx,s=t.circular,{color:o,lineWidth:l}=t;(s||i)&&o&&l&&!(r<0)&&(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(n.dash||[]),a.lineDashOffset=n.dashOffset,a.beginPath(),nF(e,r,s,i),a.closePath(),a.stroke(),a.restore())}(this,n,t,l,a)}}),a.display){for(i.save(),e=l-1;e>=0;e--){let s=a.setContext(this.getPointLabelContext(e)),{color:o,lineWidth:l}=s;l&&o&&(i.lineWidth=l,i.strokeStyle=o,i.setLineDash(s.borderDash),i.lineDashOffset=s.borderDashOffset,t=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),r=this.getPointPosition(e,t),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(r.x,r.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){let e,t;let r=this.ctx,i=this.options,n=i.ticks;if(!n.display)return;let a=this.getIndexAngle(0);r.save(),r.translate(this.xCenter,this.yCenter),r.rotate(a),r.textAlign="center",r.textBaseline="middle",this.ticks.forEach((a,s)=>{if(0===s&&this.min>=0&&!i.reverse)return;let o=n.setContext(this.getContext(s)),l=tE(o.font);if(e=this.getDistanceFromCenterForValue(this.ticks[s].value),o.showLabelBackdrop){r.font=l.string,t=r.measureText(a.label).width,r.fillStyle=o.backdropColor;let i=tS(o.backdropPadding);r.fillRect(-t/2-i.left,-e-l.size/2-i.top,t+i.width,l.size+i.height)}tg(r,a.label,0,-e,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),r.restore()}drawTitle(){}}let nW={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nz=Object.keys(nW);function nV(e,t){return e-t}function nq(e,t){if(V(t))return null;let r=e._adapter,{parser:i,round:n,isoWeekday:a}=e._parseOpts,s=t;return("function"==typeof i&&(s=i(s)),G(s)||(s="string"==typeof i?r.parse(s,i):r.parse(s)),null===s)?null:(n&&(s="week"===n&&(eO(a)||!0===a)?r.startOf(s,"isoWeek",a):r.startOf(s,n)),+s)}function nK(e,t,r,i){let n=nz.length;for(let a=nz.indexOf(e);a<n-1;++a){let e=nW[nz[a]],n=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((r-t)/(n*e.size))<=i)return nz[a]}return nz[n-1]}function nG(e,t,r){if(r){if(r.length){let{lo:i,hi:n}=eL(r,t);e[r[i]>=t?r[i]:r[n]]=!0}}else e[t]=!0}function nJ(e,t,r){let i,n;let a=[],s={},o=t.length;for(i=0;i<o;++i)s[n=t[i]]=i,a.push({value:n,major:!1});return 0!==o&&r?function(e,t,r,i){let n,a;let s=e._adapter,o=+s.startOf(t[0].value,i),l=t[t.length-1].value;for(n=o;n<=l;n=+s.add(n,1,i))(a=r[n])>=0&&(t[a].major=!0);return t}(e,a,s,r):a}class nX extends im{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let r=e.time||(e.time={}),i=this._adapter=new rU._date(e.adapters.date);i.init(t),es(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:nq(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,r=e.time.unit||"day",{min:i,max:n,minDefined:a,maxDefined:s}=this.getUserBounds();function o(e){a||isNaN(e.min)||(i=Math.min(i,e.min)),s||isNaN(e.max)||(n=Math.max(n,e.max))}a&&s||(o(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&o(this.getMinMax(!1))),i=G(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),n=G(n)&&!isNaN(n)?n:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,n-1),this.max=Math.max(i+1,n)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){let e=this.options,t=e.time,r=e.ticks,i="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);let n=this.min,a=function(e,t,r){let i=0,n=e.length;for(;i<n&&e[i]<t;)i++;for(;n>i&&e[n-1]>r;)n--;return i>0||n<e.length?e.slice(i,n):e}(i,n,this.max);return this._unit=t.unit||(r.autoSkip?nK(t.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(e,t,r,i,n){for(let a=nz.length-1;a>=nz.indexOf(r);a--){let r=nz[a];if(nW[r].common&&e._adapter.diff(n,i,r)>=t-1)return r}return nz[r?nz.indexOf(r):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(e){for(let t=nz.indexOf(e)+1,r=nz.length;t<r;++t)if(nW[nz[t]].common)return nz[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&a.reverse(),nJ(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t,r,i=0,n=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,r=this.getDecimalForValue(e[e.length-1]),n=1===e.length?r:(r-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;i=eN(i,0,a),n=eN(n,0,a),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){let e,t;let r=this._adapter,i=this.min,n=this.max,a=this.options,s=a.time,o=s.unit||nK(s.minUnit,i,n,this._getLabelCapacity(i)),l=X(a.ticks.stepSize,1),c="week"===o&&s.isoWeekday,u=eO(c)||!0===c,d={},h=i;if(u&&(h=+r.startOf(h,"isoWeek",c)),h=+r.startOf(h,u?"day":o),r.diff(n,i,o)>1e5*l)throw Error(i+" and "+n+" are too far apart with stepSize of "+l+" "+o);let f="data"===a.ticks.source&&this.getDataTimestamps();for(e=h,t=0;e<n;e=+r.add(e,l,o),t++)nG(d,e,f);return(e===n||"ticks"===a.bounds||1===t)&&nG(d,e,f),Object.keys(d).sort(nV).map(e=>+e)}getLabelForValue(e){let t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){let r=this.options.time.displayFormats,i=this._unit,n=t||r[i];return this._adapter.format(e,n)}_tickFormatFunction(e,t,r,i){let n=this.options,a=n.ticks.callback;if(a)return Q(a,[e,t,r],this);let s=n.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&s[o],u=l&&s[l],d=r[t],h=l&&u&&d&&d.major;return this._adapter.format(e,i||(h?u:c))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)(i=e[t]).label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,r=this.ctx.measureText(e).width,i=eR(this.isHorizontal()?t.maxRotation:t.minRotation),n=Math.cos(i),a=Math.sin(i),s=this._resolveTickFontOptions(0).size;return{w:r*n+s*a,h:r*a+s*n}}_getLabelCapacity(e){let t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,n=this._tickFormatFunction(e,0,nJ(this,[e],this._majorUnit),i),a=this._getLabelSize(n),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,r=this._cache.data||[];if(r.length)return r;let i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)r=r.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){let e,t;let r=this._cache.labels||[];if(r.length)return r;let i=this.getLabels();for(e=0,t=i.length;e<t;++e)r.push(nq(this,i[e]));return this._cache.labels=this._normalized?r:this.normalize(r)}normalize(e){return eB(e.sort(nV))}}function nY(e,t,r){let i,n,a,s,o=0,l=e.length-1;r?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=eU(e,"pos",t)),{pos:i,time:a}=e[o],{pos:n,time:s}=e[l]):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=eU(e,"time",t)),{time:i,pos:a}=e[o],{time:n,pos:s}=e[l]);let c=n-i;return c?a+(s-a)*(t-i)/c:a}class nZ extends nX{static id="timeseries";static defaults=nX.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=nY(t,this.min),this._tableRange=nY(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let t,r,i;let{min:n,max:a}=this,s=[],o=[];for(t=0,r=e.length;t<r;++t)(i=e[t])>=n&&i<=a&&s.push(i);if(s.length<2)return[{time:n,pos:0},{time:a,pos:1}];for(t=0,r=s.length;t<r;++t)Math.round((s[t+1]+s[t-1])/2)!==(i=s[t])&&o.push({time:i,pos:t/(r-1)});return o}_generate(){let e=this.min,t=this.max,r=super.getDataTimestamps();return r.includes(e)&&r.length||r.splice(0,0,e),r.includes(t)&&1!==r.length||r.push(t),r.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e}getDecimalForValue(e){return(nY(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return nY(this._table,r*this._tableRange+this._minPos,!0)}}iB.register(iq,nO,np);var nQ=r(95383);function n0({roomType:e,direction:t,data:r}){let i=(0,d.c3)("freeChapter3");(0,h.Ym)();let[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(null),[p,g]=(0,o.useState)("base"),[m,b]=(0,o.useState)(0),{preview:y}=(0,nQ.l)(),_=[{label:i("tabs.base"),key:"base"},{label:i("tabs.furniture"),key:"furniture"},{label:i("tabs.taboo"),key:"taboo"},{label:i("tabs.wuxing"),key:"wuxing"}],v=[{title:i("risks.career"),content:i("careerContent"),titleColor:"text-blue-600",contentColor:"text-blue-700",bgColor:"bg-blue-50"},{title:i("risks.relationship"),content:i("relationshipContent"),titleColor:"text-red-600",contentColor:"text-red-700",bgColor:"bg-red-50"},{title:i("risks.wealth"),content:i("wealthContent"),titleColor:"text-yellow-600",contentColor:"text-yellow-700",bgColor:"bg-yellow-50"}];return a&&a[e]&&a[e][t]?l?(0,n.jsx)("div",{className:"flex items-start justify-center w-full min-h-screen px-2 mx-auto sm:px-4 lg:px-0",style:{fontFamily:'"Noto Serif TC", serif'},children:(0,n.jsx)("div",{className:"w-full max-w-full p-2 mt-4 sm:p-4 sm:mt-6 lg:p-8 lg:mt-10 rounded-xl",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex flex-row items-start justify-center mb-3 sm:mb-4 lg:mb-6 pt-0 px-1 sm:px-2 lg:px-3.5 text-[#25826c] pb-4 sm:pb-6 lg:pb-[40px] box-border",children:(0,n.jsx)("h1",{className:"relative h-auto m-0 text-xl font-bold leading-tight text-center sm:text-2xl lg:text-4xl",children:i("title")})}),(0,n.jsxs)("div",{className:"flex-1 rounded-2xl sm:mb-8 lg:mb-13 bg-[#f5faf7] flex flex-col items-start justify-start pt-4 sm:pt-6 lg:pt-[40px] px-3 sm:px-4 lg:px-[30px] pb-4 sm:pb-6 lg:pb-[37px] box-border gap-3 sm:gap-4 lg:gap-8 z-[1] shadow-[0_8px_32px_rgba(0,0,0,0.15)]",children:[(0,n.jsx)("div",{className:"flex flex-col items-center w-full gap-2 mx-auto",children:y&&(0,n.jsx)("img",{src:y,alt:i("uploadedImage"),className:"object-cover w-full h-auto max-w-full mb-2 rounded-lg",style:{aspectRatio:"4/3"}})}),(0,n.jsxs)("div",{className:"flex flex-row items-start justify-start h-auto gap-2 text-base sm:text-lg lg:text-xl",children:[(0,n.jsx)(u.default,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 relative overflow-hidden shrink-0 z-[2] bg-transparent",loading:"lazy",width:100,height:100,sizes:"100vw",alt:"",src:"/images/room-icon/bedroom.png"}),(0,n.jsx)("h3",{className:"m-0 relative top-0.5 leading-6 sm:leading-8 font-[400] font-[inherit] z-[2] text-sm sm:text-base lg:text-xl",children:i("roomAnalysis")})]}),(0,n.jsx)("div",{className:"flex flex-col items-start justify-start w-full max-w-full gap-2 px-0 pt-0 pb-2",children:(0,n.jsx)("div",{className:"flex flex-row items-start justify-between w-full gap-1 overflow-x-auto border-b sm:gap-2 lg:gap-5",children:_.map(e=>(0,n.jsx)("button",{className:`relative leading-4 z-[2] px-1 sm:px-2 py-1 focus:outline-none whitespace-nowrap text-xs sm:text-sm lg:text-base ${p===e.key?"border-b-2 border-blue-500 font-bold text-blue-600":"text-gray-500"}`,onClick:()=>g(e.key),style:{minWidth:"wuxing"===e.key?"auto":"3rem"},children:e.label},e.key))})}),(0,n.jsxs)("div",{className:"w-full",children:["base"===p&&(0,n.jsx)("div",{children:l&&("object"==typeof l[1]&&null!==l[1]?Object.entries(l[1]).map(([e,t])=>(0,n.jsxs)("p",{className:"flex flex-col mb-2 text-sm leading-6 sm:flex-row sm:leading-8 sm:text-base",children:[(0,n.jsxs)("span",{className:"font-bold whitespace-nowrap min-w-0 sm:min-w-22.5 mb-1 sm:mb-0",children:[e,"："]}),(0,n.jsx)("span",{className:"whitespace-pre-wrap",children:String(t)})]},l[0]+"-"+e)):(0,n.jsxs)("p",{className:"flex flex-col text-sm leading-6 sm:flex-row sm:leading-8 sm:text-base",children:[(0,n.jsxs)("span",{className:"font-bold whitespace-nowrap min-w-0 sm:min-w-22.5 mb-1 sm:mb-0",children:[l[0],"："]}),(0,n.jsx)("span",{className:"whitespace-pre-wrap",children:String(l[1])})]},l[0]))}),["furniture","taboo","wuxing"].includes(p)&&(0,n.jsx)("div",{className:"relative w-full",children:(0,n.jsxs)("div",{className:"bg-[#e6f3fa] rounded-2xl p-4 sm:p-6 min-h-[150px] sm:min-h-[180px] overflow-hidden",children:[(0,n.jsxs)("div",{className:"space-y-2 text-sm leading-relaxed sm:text-base",children:[(0,n.jsx)("p",{children:i("enhancementFocus")}),(0,n.jsx)("p",{children:i("suggestion1")}),(0,n.jsx)("p",{children:i("suggestion2")})]}),(0,n.jsx)("div",{className:"absolute top-0 left-0 z-10 flex items-center justify-center w-full h-full rounded-2xl bg-[#f5faf7]/80 backdrop-blur-xs",children:(0,n.jsx)(f.N_,{href:"/price",children:(0,n.jsx)("button",{className:"pointer-events-auto px-4 sm:px-6 py-2 rounded-full bg-[rgba(49,129,97)] text-white font-bold text-sm sm:text-lg shadow-[0_8px_16px_rgba(0,0,0,0.25)] hover:shadow-[0_12px_24px_rgba(0,0,0,0.3)] transition-shadow duration-300",children:i("unlockButton")})})})]})})]})]}),(0,n.jsxs)("section",{className:"self-stretch flex flex-col items-center justify-center gap-2 sm:gap-3 mb-4 sm:mb-5 text-left text-lg sm:text-2xl lg:text-[40px] text-[#25826c] font-[ABeeZee]",children:[(0,n.jsx)("div",{className:"self-stretch flex flex-row items-center justify-start pl-0.5 box-border max-w-full mt-8 sm:mt-4 lg:mt-0",children:(0,n.jsxs)("div",{className:"flex flex-row items-center justify-center flex-1 gap-2",children:[(0,n.jsx)("div",{className:"flex flex-row items-start justify-start",children:(0,n.jsx)(u.default,{className:"relative object-cover w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12",loading:"lazy",width:50,height:50,alt:"",src:"/images/image-206@2x.jpeg"})}),(0,n.jsx)("h2",{className:"m-0 justify-center font-semibold leading-6 sm:leading-8 font-[400] z-[1] text-sm sm:text-lg lg:text-[32px] lg:leading-[26px]",style:{fontFamily:'"Noto Serif TC", serif'},children:i("riskDetected")})]})}),(0,n.jsx)("div",{className:"w-full rounded-2xl mb-3 sm:mb-5 flex flex-col items-center justify-center pt-0 sm:pt-[31px] lg:pt-[41px] px-0 pb-3 sm:pb-5 box-border relative gap-2 sm:gap-4 lg:gap-[26px] max-w-full z-[2] text-xs sm:text-sm text-[#0a58a6] font-Font-Family",children:(0,n.jsx)("div",{className:"relative w-full max-w-sm sm:max-w-2xl md:max-w-4xl lg:max-w-6xl xl:max-w-7xl 2xl:max-w-full",children:(0,n.jsxs)("div",{className:"relative px-2 overflow-hidden rounded-lg",children:[(0,n.jsx)("button",{onClick:()=>{b(e=>(e-1+v.length)%v.length)},className:"absolute left-0 sm:left-0 lg:left-2 z-20 p-1.5 sm:p-2 transition-all duration-200 transform -translate-y-1/2 rounded-full shadow-[0_8px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_12px_10px_rgba(0,0,0,0.35)] top-1/2 bg-white/90 hover:bg-white hover:scale-110",disabled:0===m,children:(0,n.jsx)("svg",{className:"w-4 h-4 text-gray-600 sm:w-5 sm:h-5 lg:w-6 lg:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,n.jsx)("button",{onClick:()=>{b(e=>(e+1)%v.length)},className:"absolute right-0 sm:right-0 lg:right-2 z-20 p-1.5 sm:p-2 transition-all duration-200 transform -translate-y-1/2 rounded-full shadow-[0_8px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_12px_10px_rgba(0,0,0,0.35)] top-1/2 bg-white/90 hover:bg-white hover:scale-110",disabled:m===v.length-1,children:(0,n.jsx)("svg",{className:"w-4 h-4 text-gray-600 sm:w-5 sm:h-5 lg:w-6 lg:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,n.jsx)("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${100*m}%)`},children:v.map((e,t)=>(0,n.jsx)("div",{className:"flex justify-center flex-shrink-0 w-full px-3 py-2 sm:px-6 lg:px-12 sm:py-4",children:(0,n.jsxs)("div",{className:`p-3 sm:p-4 lg:p-6 rounded-lg ${e.bgColor} relative shadow-[0_6px_20px_rgba(0,0,0,0.12)] hover:shadow-[0_8px_25px_rgba(0,0,0,0.18)] transition-shadow duration-300 max-w-full sm:max-w-xl lg:max-w-2xl w-full`,style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,n.jsxs)("div",{className:`mb-2 sm:mb-3 lg:mb-4 text-base sm:text-lg lg:text-xl font-bold ${e.titleColor}`,style:{fontFamily:'"Noto Serif TC", serif'},children:[e.title,":"]}),(0,n.jsx)("div",{className:`text-sm sm:text-base lg:text-lg leading-relaxed ${e.contentColor} ${e.title===i("risks.relationship")||e.title===i("risks.wealth")?"blur-sm":""}`,style:{fontFamily:'"Noto Serif TC", serif'},children:e.content}),(e.title===i("risks.relationship")||e.title===i("risks.wealth"))&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/10",children:(0,n.jsx)(f.N_,{href:"/price",children:(0,n.jsx)("button",{className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-bold text-white transition-shadow duration-300 rounded-full bg-[rgba(49,129,97)] hover:shadow-xl",style:{boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},children:i("unlockDetail")})})})]})},t))})]})})})]})]})})}):null:(0,n.jsx)("div",{children:i("noData")})}iB.register(iq,nO,np);var n1=r(67821),n2=r(53328),n5=r(27031),n3=r(99208);function n4(){let e=(0,d.c3)("promo");return(0,n.jsxs)("div",{className:" w-full flex flex-col lg:flex-row items-center lg:items-center justify-center lg:justify-between bg-[#f5faf7] px-4 py-6 sm:px-6 sm:py-8 md:px-8 md:py-10 lg:px-12 lg:py-12 xl:px-16 xl:py-16 2xl:px-20 2xl:py-20 gap-6 lg:gap-12 xl:gap-16 ",style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,n.jsx)("section",{className:"flex flex-col items-center justify-center flex-1 max-w-3xl text-center lg:items-start lg:text-left",children:(0,n.jsx)("div",{className:"flex flex-col items-center justify-center w-full gap-3 lg:items-start sm:gap-4 md:gap-5 lg:gap-6 xl:gap-7",children:(0,n.jsx)("div",{className:"flex flex-col items-center justify-start w-full gap-2 lg:items-start sm:gap-3 md:gap-4 lg:gap-5",children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-start w-full gap-1 lg:items-start sm:gap-2 md:gap-3 lg:gap-4",children:[(0,n.jsx)("h1",{className:"m-0 relative tracking-[-0.1px] sm:tracking-[-0.2px] md:tracking-[-0.3px] lg:tracking-[-0.4px] leading-tight font-[500] text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl 2xl:text-5xl max-w-full",style:{fontFamily:'"Noto Serif TC", serif',color:"#073E31"},children:e("title")}),(0,n.jsx)("h2",{className:"m-0 relative leading-relaxed font-[400] text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl max-w-3xl opacity-90",style:{fontFamily:'"Noto Serif TC", serif',color:"#088C6E"},children:e("description1")}),(0,n.jsx)("h2",{className:"m-0 relative leading-relaxed font-[400] text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl max-w-3xl opacity-90",style:{fontFamily:'"Noto Serif TC", serif',color:"#088C6E"},children:e("description2")})]})})})}),(0,n.jsx)("div",{className:"flex flex-col items-center justify-center flex-shrink-0 lg:items-end",children:(0,n.jsx)(f.N_,{href:"/price",className:"w-full max-w-[240px] sm:max-w-[280px] md:max-w-[320px] lg:max-w-[360px] xl:max-w-[400px]",children:(0,n.jsxs)("button",{className:" cursor-pointer border-none p-0 bg-transparent  w-full  h-[40px] sm:h-[45px] md:h-[50px] lg:h-[55px] xl:h-[60px] 2xl:h-[65px] flex flex-row items-center justify-center  relative  hover:scale-105  transition-all duration-300 ease-in-out group ",style:{filter:"drop-shadow(0 4px 15px rgba(0, 0, 0, 0.2))",fontFamily:'"Noto Serif TC", serif'},children:[(0,n.jsx)("div",{className:" h-[35px] sm:h-[40px] md:h-[45px] lg:h-[50px] xl:h-[55px] 2xl:h-[60px] w-full  absolute  right-0 bottom-[-6px] sm:bottom-[-7px] md:bottom-[-8px] left-0  filter blur-[8px] sm:blur-[9px] md:blur-[10px]  rounded-[20px] sm:rounded-[22px] md:rounded-[25px]  bg-[rgba(49,129,97,0.3)] group-hover:bg-[rgba(49,129,97,0.4)] transition-all duration-300 "}),(0,n.jsx)("div",{className:" rounded-[15px] sm:rounded-[18px] md:rounded-[20px]  bg-gradient-to-r from-[#318161] to-[#318177]  flex flex-row items-center justify-center  py-2 sm:py-3 md:py-3 lg:py-4 xl:py-4 2xl:py-5 px-4 sm:px-6 md:px-8 lg:px-10 xl:px-12 2xl:px-14 z-[1] w-full  hover:from-[#2a6e56] hover:to-[#2a6e62]  group-hover:shadow-xl transition-all duration-300 ",children:(0,n.jsx)("div",{className:" relative  text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl 2xl:text-3xl font-[500]  text-[#fff]  text-center tracking-wide group-hover:scale-105 transition-transform duration-300 ",style:{fontFamily:'"Noto Serif TC", serif'},children:e("button")})})]})})})]})}function n6({locale:e}){let[t,r]=(0,o.useState)(null),i=(0,d.c3)("report"),[a,l]=(0,o.useState)(!0),[c,h]=(0,o.useState)([]),[p,g]=(0,o.useState)([]),{loading:m,reportDocData:b,assistantData:y}=(0,n5.A)(e,t),{data:_}=(0,n3.wV)(),v=({item:e,index:t,isMobile:r=!1,containerClass:i=""})=>{let a=r?"w-12 h-12 sm:w-14 sm:h-14":`w-12 h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 xl:w-18 xl:h-18 ${i}`,s=r?16:18;return(0,n.jsxs)("div",{className:"flex flex-col items-center max-w-full",children:[(0,n.jsxs)("p",{className:`flex items-center mb-1 md:mb-2 font-bold leading-tight text-center ${r?"text-xs":"text-xs md:text-sm lg:text-sm xl:text-base"}`,style:{color:c?.[1]?.children?.[t]?.color||"#20B580"},children:[t<5&&(0,n.jsx)(u.default,{src:`/images/report/icon${t}.png`,width:s,height:s,alt:"",className:"flex-shrink-0 mr-1"}),(0,n.jsx)("span",{className:"max-w-full truncate",children:c?.[1]?.children?.[t]?.title||`运势${t+1}`})]}),(0,n.jsxs)("div",{className:`flex flex-col items-center justify-center border-2 md:border-3 lg:border-4 rounded-full flex-shrink-0 ${a}`,style:{borderColor:c?.[1]?.children?.[t]?.color||"#20B580",background:"#fff",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.12), 0 2px 6px rgba(0, 0, 0, 0.08)"},children:[(0,n.jsx)("span",{className:`font-extrabold leading-none ${r?"text-sm sm:text-base":"text-sm md:text-base lg:text-lg xl:text-xl"}`,style:{color:c?.[1]?.children?.[t]?.color||"#20B580"},children:e.zhishu?.split("/")[0]}),(0,n.jsx)("span",{className:`font-bold leading-none ${r?"text-xs":"text-xs md:text-xs lg:text-sm xl:text-sm"}`,style:{color:c?.[1]?.children?.[t]?.color||"#20B580"},children:"/10"})]})]})};return(0,n.jsx)("div",{className:"flex items-start justify-center w-full min-h-screen ",children:(0,n.jsxs)("div",{className:"w-full max-w-full p-2 mx-auto bg-white lg:w-full sm:p-1 sm:mt-16 rounded-xl",children:[(0,n.jsx)("div",{className:"flex flex-row justify-between md:mr-10 sm:mr-0",children:(0,n.jsxs)("div",{className:"flex flex-col items-center w-full gap-3 mb-5 sm:flex-row sm:justify-between sm:gap-0",children:[(0,n.jsx)("p",{className:"font-bold text-2xl sm:text-4xl px-4 sm:px-9 text-[#25826c] flex items-center justify-center inline-block max-w-full mb-2 sm:mb-0",children:i("pro.advancedAnalysisTitle")}),(0,n.jsx)(f.N_,{href:"/price",className:"flex justify-center w-full sm:w-auto",children:(0,n.jsx)("button",{className:"w-full sm:w-auto pointer-events-auto px-3 sm:px-3 py-2 rounded-full bg-[rgba(49,129,97)] hover:bg-green-600 text-white font-bold text-sm sm:text-lg shadow-[0_8px_16px_rgba(0,0,0,0.25)] hover:shadow-[0_12px_24px_rgba(0,0,0,0.3)] transition-all duration-300",children:i("unlockButton")})})]})}),(0,n.jsx)("div",{className:"flex items-center justify-center mb-5",children:(0,n.jsxs)("p",{className:"text-base font-bold leading-8 tracking-normal text-justify px-9",children:[(0,n.jsx)("span",{className:"text-[#073E31] font-bold",children:i("p2-1")}),i("p2-2")]})}),(0,n.jsxs)("div",{className:"flex-1 rounded-t-none rounded-b-[20px] mb-2 flex flex-col items-start justify-start pt-5 sm:pt-[20px] px-2 sm:px-[35px] pb-5 sm:pb-[37px] box-border gap-4 max-w-full z-[1]",children:[(0,n.jsx)("section",{className:"flex flex-col bg-[#f5faf7] rounded-[20px] p-3 sm:p-5 w-full shadow-lg",children:(0,n.jsxs)("div",{className:"jsx-4b080c2ff309b342 w-full mb-6 sm:mb-2 bg-[#f5faf7] pt-4 sm:pt-[31px] px-2 sm:px-[20px] pb-8 sm:pb-[50px] box-border rounded-t-none rounded-b-[20px] z-[1] overflow-hidden",children:[(0,n.jsxs)("div",{className:"jsx-4b080c2ff309b342 block sm:hidden",children:[(0,n.jsx)("div",{className:"jsx-4b080c2ff309b342 flex items-center justify-between px-1 mb-4",children:b?.yunchengData?.slice(0,3).map((e,t)=>n.jsx("div",{className:"jsx-4b080c2ff309b342"+" flex-1 max-w-[30%] px-1",children:n.jsx(v,{item:e,index:t,isMobile:!0})},t))}),(0,n.jsx)("div",{className:"jsx-4b080c2ff309b342 flex items-center justify-center gap-8",children:b?.yunchengData?.slice(3,5).map((e,t)=>n.jsx("div",{className:"jsx-4b080c2ff309b342"+" flex-1 max-w-[40%] px-1",children:n.jsx(v,{item:e,index:t+3,isMobile:!0})},t+3))})]}),(0,n.jsx)("div",{className:"jsx-4b080c2ff309b342 hidden sm:block",children:(0,n.jsxs)("div",{className:"jsx-4b080c2ff309b342 w-full scores-container",children:[(0,n.jsx)("div",{className:"jsx-4b080c2ff309b342 single-row-layout",children:(0,n.jsx)("div",{className:"jsx-4b080c2ff309b342 flex items-center justify-between gap-2 px-2 py-4 md:gap-3 lg:gap-4 xl:gap-6 md:px-4 md:py-6",children:b?.yunchengData?.slice(0,5).map((e,t)=>n.jsx("div",{className:"jsx-4b080c2ff309b342"+" flex-1 min-w-0 max-w-[18%] px-1",children:n.jsx(v,{item:e,index:t,isMobile:!1,containerClass:"single-row-circle"})},t))})}),(0,n.jsxs)("div",{style:{display:"none"},className:"jsx-4b080c2ff309b342 two-rows-layout",children:[(0,n.jsx)("div",{className:"jsx-4b080c2ff309b342 flex items-center justify-between gap-2 px-2 mb-4 md:gap-4 md:px-4 md:mb-6",children:b?.yunchengData?.slice(0,3).map((e,t)=>n.jsx("div",{className:"jsx-4b080c2ff309b342"+" flex-1 min-w-0 max-w-[30%] px-1",children:n.jsx(v,{item:e,index:t,isMobile:!1,containerClass:"two-row-circle"})},t))}),(0,n.jsx)("div",{className:"jsx-4b080c2ff309b342 flex items-center justify-center gap-8 md:gap-12",children:b?.yunchengData?.slice(3,5).map((e,t)=>n.jsx("div",{className:"jsx-4b080c2ff309b342"+" flex-1 min-w-0 max-w-[40%] px-1",children:n.jsx(v,{item:e,index:t+3,isMobile:!1,containerClass:"two-row-circle"})},t+3))})]})]})}),(0,n.jsx)(s(),{id:"4b080c2ff309b342",children:".scores-container.jsx-4b080c2ff309b342{width:100%;max-width:100%;overflow:hidden}.single-row-layout.jsx-4b080c2ff309b342{display:block}.two-rows-layout.jsx-4b080c2ff309b342{display:none}.single-row-circle.jsx-4b080c2ff309b342{max-width:100%;max-height:100%}.two-row-circle.jsx-4b080c2ff309b342{max-width:100%;max-height:100%}@media(min-width:640px)and (max-width:1199px){.single-row-layout.jsx-4b080c2ff309b342{display:none!important}.two-rows-layout.jsx-4b080c2ff309b342{display:block!important}}@media(min-width:1200px){.single-row-layout.jsx-4b080c2ff309b342{display:block!important}.two-rows-layout.jsx-4b080c2ff309b342{display:none!important}}@media(min-width:640px)and (max-width:768px){.single-row-layout.jsx-4b080c2ff309b342 .flex.jsx-4b080c2ff309b342{gap:.25rem!important}.two-rows-layout.jsx-4b080c2ff309b342 .flex.jsx-4b080c2ff309b342{gap:.5rem!important}}@media(max-width:639px){.scores-container.jsx-4b080c2ff309b342{padding:0 .25rem}}"})]})}),(0,n.jsx)("div",{className:"flex flex-col w-full gap-4",children:b?.yunchengData?.map((e,t)=>n.jsx("div",{className:"relative w-full",children:n.jsxs("section",{style:{backgroundColor:c?.[1]?.children?.[t]?.bgColor||"#F7FAF9",overflow:"hidden",position:"relative",...t>0&&{height:"250px"}},className:`rounded-[20px] p-5 ${0===t?"shadow-lg":"shadow-md"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("p",{className:"flex items-center text-xl font-bold leading-8",style:{color:c?.[1]?.children?.[t]?.color||"#20B580"},children:[t<5&&n.jsx(u.default,{src:`/images/report/icon${t}.png`,width:24,height:24,alt:"",className:"mr-1"}),c?.[1]?.children?.[t]?.title||`运势${t+1}`]}),t<5&&n.jsxs("p",{className:"flex items-end leading-8",style:{color:c?.[1]?.children?.[t]?.color||"#20B580"},children:[n.jsx("span",{className:"text-xl font-bold",children:e.zhishu?.split("/")[0]}),n.jsx("span",{className:"text-sm",children:"/10"})]})]}),n.jsx("p",{className:"leading-8 text-justify",children:e.content}),t>0&&n.jsx("div",{className:"absolute left-0 bottom-0 w-full pointer-events-none rounded-b-[20px]",style:{height:"60%",background:"linear-gradient(to top, rgba(255,255,255,0.98) 0%, rgba(255,255,255,0.95) 20%, rgba(255,255,255,0.8) 40%, rgba(255,255,255,0.4) 60%, rgba(255,255,255,0.1) 80%, transparent 100%)",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"}})]})},t))})]})]})})}r(72879);let n8=({locale:e,onClose:t})=>{let[r,i]=(0,o.useState)(!1);return(0,n.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:(0,n.jsxs)("div",{style:{fontFamily:'"Noto Serif TC", serif',boxShadow:"0 -8px 32px rgba(0, 0, 0, 0.12), 0 -4px 16px rgba(0, 0, 0, 0.08)",background:"linear-gradient(135deg, #f5faf7 0%, #ffffff 50%, #f5faf7 100%)"},className:"jsx-926eb8717d5e663 w-full bg-gradient-to-r from-[#f5faf7] via-[#ffffff] to-[#f5faf7] border-t border-gray-200 shadow-2xl relative",children:[(0,n.jsx)("div",{className:"jsx-926eb8717d5e663 w-full h-1 bg-gradient-to-r from-[#318161] via-[#20B580] to-[#318177] animate-pulse"}),(0,n.jsx)("div",{className:"jsx-926eb8717d5e663 max-w-full px-2 py-3 mx-auto sm:px-4 sm:py-4 sm:max-w-7xl",children:(0,n.jsxs)("div",{className:"jsx-926eb8717d5e663 flex flex-col items-center justify-between w-full gap-3 sm:flex-row sm:items-center sm:gap-4",children:[(0,n.jsxs)("div",{className:"jsx-926eb8717d5e663 flex flex-col items-center w-full sm:items-start",children:[(0,n.jsx)("h3",{style:{fontFamily:'"Noto Serif TC", serif'},className:"jsx-926eb8717d5e663 text-base sm:text-lg md:text-xl font-bold text-[#073E31] truncate text-center sm:text-left",children:"zh-CN"===e?"全面掌握家庭风水运势?":"全面掌握家庭風水運勢?"}),(0,n.jsx)("p",{style:{fontFamily:'"Noto Serif TC", serif'},className:"jsx-926eb8717d5e663 text-xs sm:text-sm md:text-base text-[#088C6E] opacity-90 line-clamp-2 sm:line-clamp-2 w-full text-center sm:text-left sm:mt-1",children:"zh-CN"===e?"想要更加精准了解家庭风水, 改善运势状况, 增强生活幸福感? 只需要花点时间, 就可以改变您的长期运势!":"想要更加精準了解家庭風水, 改善運勢狀況, 增強生活幸福感? 只需要花點時間, 就可以改變您的長期運勢!"})]}),(0,n.jsx)("div",{className:"jsx-926eb8717d5e663 flex justify-center flex-shrink-0 w-full sm:w-auto sm:justify-end",children:(0,n.jsxs)("a",{href:"/price",style:{fontFamily:'"Noto Serif TC", serif',boxShadow:"0 8px 24px rgba(49, 129, 97, 0.3)"},className:"jsx-926eb8717d5e663 group relative inline-flex items-center justify-center w-full sm:w-auto px-4 py-2 sm:px-6 sm:py-3 text-xs sm:text-sm md:text-base font-semibold text-white transition-all duration-300 rounded-xl bg-gradient-to-r from-[#318161] to-[#318177] hover:from-[#2a6e56] hover:to-[#2a6e62] hover:scale-105 active:scale-100 shadow-lg hover:shadow-xl",children:[(0,n.jsx)("div",{className:"jsx-926eb8717d5e663 absolute inset-0 rounded-xl bg-gradient-to-r from-[#318161] to-[#318177] opacity-0 group-hover:opacity-20 transition-opacity duration-300 blur-lg"}),(0,n.jsxs)("span",{className:"jsx-926eb8717d5e663 relative z-10 flex items-center gap-2",children:[(0,n.jsx)("span",{className:"jsx-926eb8717d5e663",children:"zh-CN"===e?"推荐HarmoniQ":"推薦HarmoniQ"}),(0,n.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-926eb8717d5e663 w-4 h-4 transition-transform duration-300 group-hover:translate-x-1",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7",className:"jsx-926eb8717d5e663"})})]}),(0,n.jsx)("div",{className:"jsx-926eb8717d5e663 absolute w-3 h-3 bg-red-500 border-2 border-white rounded-full -top-1 -right-1 animate-pulse"})]})})]})}),(0,n.jsx)("button",{onClick:t,"aria-label":"Close",className:"jsx-926eb8717d5e663 absolute z-20 flex items-center justify-center w-8 h-8 transition rounded-full top-2 right-2 bg-white/80 hover:bg-gray-200",children:(0,n.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",className:"jsx-926eb8717d5e663 w-5 h-5 text-gray-700",children:[(0,n.jsx)("line",{x1:"5",y1:"5",x2:"15",y2:"15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:"jsx-926eb8717d5e663"}),(0,n.jsx)("line",{x1:"15",y1:"5",x2:"5",y2:"15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:"jsx-926eb8717d5e663"})]})}),(0,n.jsx)(s(),{id:"926eb8717d5e663",children:"@media(max-width:639px){.max-w-full.jsx-926eb8717d5e663{max-width:100vw!important}.px-2.jsx-926eb8717d5e663{padding-left:.5rem!important;padding-right:.5rem!important}.py-3.jsx-926eb8717d5e663{padding-top:.75rem!important;padding-bottom:.75rem!important}.overflow-y-auto.jsx-926eb8717d5e663{overflow-y:auto!important}}"})]})})};function n9(){let e=(0,l.useSearchParams)(),t=(0,l.usePathname)(),r=e.get("roomType"),i=e.get("direction"),a=t.split("/")[1],[s,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(!1),[h,f]=(0,o.useState)(null),[p,g]=(0,o.useState)(!1),[m,b]=(0,o.useState)(!1),y=(0,o.useRef)(null),_=(0,o.useRef)(null);return(0,n.jsxs)("div",{className:"relative flex flex-col min-h-screen bg-white",style:{fontFamily:'"Noto Serif TC", serif'},children:[(0,n.jsx)(n2.default,{}),(0,n.jsxs)("div",{ref:_,className:`flex flex-col flex-1 w-full gap-2 px-2 py-2 mx-0 sm:gap-4 sm:px-4 sm:py-4 sm:mx-2 md:mx-5 md:flex-row lg:gap-6 lg:px-6 ${p?"pb-32 sm:pb-36":"pb-4"} transition-all duration-300`,children:[(0,n.jsx)("div",{className:"flex items-start justify-center w-full mb-4 md:w-2/5 md:mb-0",children:r&&i&&s&&(0,n.jsx)(n0,{roomType:r,direction:i,data:s})}),(0,n.jsx)("div",{className:"flex items-start justify-center w-full md:w-3/5",children:(0,n.jsx)(n6,{locale:a})})]}),(0,n.jsx)("div",{ref:y,className:"relative",children:(0,n.jsx)(n4,{})}),p&&!m&&(0,n.jsx)(n8,{locale:a,onClose:()=>{g(!1),b(!0)}}),(0,n.jsx)(n1.A,{})]})}},43732:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return a}});let i=r(32913),n=r(59311);function a(e){return(0,n.isRedirectError)(e)||(0,i.isHTTPAccessFallbackError)(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},44234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){Object.keys(e).forEach(function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})}(r(20464),t)},44334:(e,t,r)=>{"use strict";let i;Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BubbledError:function(){return h},SpanKind:function(){return u},SpanStatusCode:function(){return c},getTracer:function(){return x},isBubbledError:function(){return f}});let n=r(2720),a=r(23879);try{i=r(73214)}catch(e){i=r(73214)}let{context:s,propagation:o,trace:l,SpanStatusCode:c,SpanKind:u,ROOT_CONTEXT:d}=i;class h extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}function f(e){return"object"==typeof e&&null!==e&&e instanceof h}let p=(e,t)=>{f(t)&&t.bubble?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:c.ERROR,message:null==t?void 0:t.message})),e.end()},g=new Map,m=i.createContextKey("next.rootSpanId"),b=0,y=()=>b++,_={set(e,t,r){e.push({key:t,value:r})}};class v{getTracerInstance(){return l.getTracer("next.js","0.0.1")}getContext(){return s}getTracePropagationData(){let e=s.active(),t=[];return o.inject(e,t,_),t}getActiveScopeSpan(){return l.getSpan(null==s?void 0:s.active())}withPropagatedContext(e,t,r){let i=s.active();if(l.getSpanContext(i))return t();let n=o.extract(i,e,r);return s.with(n,t)}trace(...e){var t;let[r,i,o]=e,{fn:c,options:u}="function"==typeof i?{fn:i,options:{}}:{fn:o,options:{...i}},h=u.spanName??r;if(!n.NextVanillaSpanAllowlist.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||u.hideSpan)return c();let f=this.getSpanContext((null==u?void 0:u.parentSpan)??this.getActiveScopeSpan()),b=!1;f?(null==(t=l.getSpanContext(f))?void 0:t.isRemote)&&(b=!0):(f=(null==s?void 0:s.active())??d,b=!0);let _=y();return u.attributes={"next.span_name":h,"next.span_type":r,...u.attributes},s.with(f.setValue(m,_),()=>this.getTracerInstance().startActiveSpan(h,u,e=>{let t="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,i=()=>{g.delete(_),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&n.LogSpanAllowList.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};b&&g.set(_,new Map(Object.entries(u.attributes??{})));try{if(c.length>1)return c(e,t=>p(e,t));let t=c(e);if((0,a.isThenable)(t))return t.then(t=>(e.end(),t)).catch(t=>{throw p(e,t),t}).finally(i);return e.end(),i(),t}catch(t){throw p(e,t),i(),t}}))}wrap(...e){let t=this,[r,i,a]=3===e.length?e:[e[0],{},e[1]];return n.NextVanillaSpanAllowlist.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=i;"function"==typeof e&&"function"==typeof a&&(e=e.apply(this,arguments));let n=arguments.length-1,o=arguments[n];if("function"!=typeof o)return t.trace(r,e,()=>a.apply(this,arguments));{let i=t.getContext().bind(s.active(),o);return t.trace(r,e,(e,t)=>(arguments[n]=function(e){return null==t||t(e),i.apply(this,arguments)},a.apply(this,arguments)))}}:a}startSpan(...e){let[t,r]=e,i=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,i)}getSpanContext(e){return e?l.setSpan(s.active(),e):void 0}getRootSpanAttributes(){let e=s.active().getValue(m);return g.get(e)}setRootSpanAttribute(e,t){let r=s.active().getValue(m),i=g.get(r);i&&i.set(e,t)}}let x=(()=>{let e=new v;return()=>e})()},46295:(e,t,r)=>{"use strict";let i;Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{arrayBufferToString:function(){return o},decrypt:function(){return u},encrypt:function(){return c},getActionEncryptionKey:function(){return g},getClientReferenceManifestForRsc:function(){return p},getServerModuleMap:function(){return f},setReferenceManifestsSingleton:function(){return h},stringToUint8Array:function(){return l}});let n=r(23302),a=r(79535),s=r(29294);function o(e){let t=new Uint8Array(e),r=t.byteLength;if(r<65535)return String.fromCharCode.apply(null,t);let i="";for(let e=0;e<r;e++)i+=String.fromCharCode(t[e]);return i}function l(e){let t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);return r}function c(e,t,r){return crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,r)}function u(e,t,r){return crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r)}let d=Symbol.for("next.server.action-manifests");function h({page:e,clientReferenceManifest:t,serverActionsManifest:r,serverModuleMap:i}){var n;let s=null==(n=globalThis[d])?void 0:n.clientReferenceManifestsPerPage;globalThis[d]={clientReferenceManifestsPerPage:{...s,[(0,a.normalizeAppPath)(e)]:t},serverActionsManifest:r,serverModuleMap:i}}function f(){let e=globalThis[d];if(!e)throw Object.defineProperty(new n.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});return e.serverModuleMap}function p(){let e=globalThis[d];if(!e)throw Object.defineProperty(new n.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});let{clientReferenceManifestsPerPage:t}=e,r=s.workAsyncStorage.getStore();if(!r)return function(e){let t=Object.values(e),r={clientModules:{},edgeRscModuleMapping:{},rscModuleMapping:{}};for(let e of t)r.clientModules={...r.clientModules,...e.clientModules},r.edgeRscModuleMapping={...r.edgeRscModuleMapping,...e.edgeRscModuleMapping},r.rscModuleMapping={...r.rscModuleMapping,...e.rscModuleMapping};return r}(t);let i=t[r.route];if(!i)throw Object.defineProperty(new n.InvariantError(`Missing Client Reference Manifest for ${r.route}.`),"__NEXT_ERROR_CODE",{value:"E570",enumerable:!1,configurable:!0});return i}async function g(){if(i)return i;let e=globalThis[d];if(!e)throw Object.defineProperty(new n.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});let t=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||e.serverActionsManifest.encryptionKey;if(void 0===t)throw Object.defineProperty(new n.InvariantError("Missing encryption key for Server Actions"),"__NEXT_ERROR_CODE",{value:"E571",enumerable:!1,configurable:!0});return i=await crypto.subtle.importKey("raw",l(atob(t)),"AES-GCM",!0,["encrypt","decrypt"])}},49761:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return u}});let i=r(96197),n=r(71490),a=r(18463),s=r(42383),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let c=Symbol("NextURLInternal");class u{constructor(e,t,r){let i,n;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,n=r||{}):n=r||t||{},this[c]={url:l(e,i??n.base),options:n,basePath:""},this.analyze()}analyze(){var e,t,r,n,o;let l=(0,s.getNextPathnameInfo)(this[c].url.pathname,{nextConfig:this[c].options.nextConfig,parseData:!0,i18nProvider:this[c].options.i18nProvider}),u=(0,a.getHostname)(this[c].url,this[c].options.headers);this[c].domainLocale=this[c].options.i18nProvider?this[c].options.i18nProvider.detectDomainLocale(u):(0,i.detectDomainLocale)(null==(t=this[c].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,u);let d=(null==(r=this[c].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[c].options.nextConfig)?void 0:null==(n=o.i18n)?void 0:n.defaultLocale);this[c].url.pathname=l.pathname,this[c].defaultLocale=d,this[c].basePath=l.basePath??"",this[c].buildId=l.buildId,this[c].locale=l.locale??d,this[c].trailingSlash=l.trailingSlash}formatPathname(){return(0,n.formatNextPathnameInfo)({basePath:this[c].basePath,buildId:this[c].buildId,defaultLocale:this[c].options.forceLocale?void 0:this[c].defaultLocale,locale:this[c].locale,pathname:this[c].url.pathname,trailingSlash:this[c].trailingSlash})}formatSearch(){return this[c].url.search}get buildId(){return this[c].buildId}set buildId(e){this[c].buildId=e}get locale(){return this[c].locale??""}set locale(e){var t,r;if(!this[c].locale||!(null==(r=this[c].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[c].locale=e}get defaultLocale(){return this[c].defaultLocale}get domainLocale(){return this[c].domainLocale}get searchParams(){return this[c].url.searchParams}get host(){return this[c].url.host}set host(e){this[c].url.host=e}get hostname(){return this[c].url.hostname}set hostname(e){this[c].url.hostname=e}get port(){return this[c].url.port}set port(e){this[c].url.port=e}get protocol(){return this[c].url.protocol}set protocol(e){this[c].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[c].url=l(e),this.analyze()}get origin(){return this[c].url.origin}get pathname(){return this[c].url.pathname}set pathname(e){this[c].url.pathname=e}get hash(){return this[c].url.hash}set hash(e){this[c].url.hash=e}get search(){return this[c].url.search}set search(e){this[c].url.search=e}get password(){return this[c].url.password}set password(e){this[c].url.password=e}get username(){return this[c].url.username}set username(e){this[c].url.username=e}get basePath(){return this[c].basePath}set basePath(e){this[c].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new u(String(this),this[c].options)}}},50952:(e,t,r)=>{Promise.resolve().then(r.bind(r,43218))},51078:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{describeHasCheckingStringProperty:function(){return n},describeStringPropertyAccess:function(){return i},wellKnownProperties:function(){return a}});let r=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function i(e,t){return r.test(t)?"`"+e+"."+t+"`":"`"+e+"["+JSON.stringify(t)+"]`"}function n(e,t){let r=JSON.stringify(t);return"`Reflect.has("+e+", "+r+")`, `"+r+" in "+e+"`, or similar"}let a=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])},52516:(e,t,r)=>{"use strict";let i,n,a,s,o;r.r(t),r.d(t,{"007aeead8a21b5a6cbbcc86280c904a8bd297a2e78":()=>sx,"405d1de469f7c27e9ed8d7737f87df5d0925cada62":()=>sw});var l=r(91199);r(42087);var c=r(56037),u=r.n(c);let d=process.env.MONGODB_URI;if(!d)throw Error("Please define the MONGODB_URI environment variable inside .env");let h=global.mongoose;async function f(){if(h.conn)return h.conn;h.promise||(h.promise=u().connect(d,{serverSelectionTimeoutMS:3e4,socketTimeoutMS:3e4}).then(e=>(console.log("MongoDB connected successfully"),e)).catch(e=>{throw console.error("MongoDB connection error:",e),e}));try{h.conn=await h.promise}catch(e){throw console.error("MongoDB connection failed:",e),h.promise=null,e}return h.conn}h||(h=global.mongoose={conn:null,promise:null});let p=new(u()).Schema({language:{type:String,required:!0},nianzhuData:{type:u().Schema.Types.Mixed,required:!0},yuezhuData:{type:u().Schema.Types.Mixed,required:!0},rizhuData:{type:u().Schema.Types.Mixed,required:!0},shizhuData:{type:u().Schema.Types.Mixed,required:!0},yunchengData:{type:u().Schema.Types.Mixed,required:!0},jiajuData:{type:u().Schema.Types.Mixed,required:!0}}),g=u().models.ReportDoc||u().model("ReportDoc",p),m=new(u()).Schema({userId:{type:String,ref:"User",required:!0},language:{type:String,required:!0},isDelete:{type:Number,default:0},nianzhuData:{type:u().Schema.Types.Mixed,required:!0},yuezhuData:{type:u().Schema.Types.Mixed,required:!0},rizhuData:{type:u().Schema.Types.Mixed,required:!0},shizhuData:{type:u().Schema.Types.Mixed,required:!0},yunchengData:{type:u().Schema.Types.Mixed,required:!0},jiajuData:{type:u().Schema.Types.Mixed,required:!0},mingLiData:{type:u().Schema.Types.Mixed},liuNianData:{type:u().Schema.Types.Mixed},jiajuProData:{type:u().Schema.Types.Mixed}},{timestamps:!0}),b=u().models.ReportUserDoc||u().model("ReportUserDoc",m);var y=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},_=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};function v(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class x{constructor(e,t,r){if(rk.add(this),rO.set(this,{}),rA.set(this,void 0),rR.set(this,void 0),y(this,rR,r,"f"),y(this,rA,e,"f"),!t)return;let{name:i}=e;for(let[e,r]of Object.entries(t))e.startsWith(i)&&r&&(_(this,rO,"f")[e]=r)}get value(){return Object.keys(_(this,rO,"f")).sort((e,t)=>parseInt(e.split(".").pop()||"0")-parseInt(t.split(".").pop()||"0")).map(e=>_(this,rO,"f")[e]).join("")}chunk(e,t){let r=_(this,rk,"m",rT).call(this);for(let i of _(this,rk,"m",rP).call(this,{name:_(this,rA,"f").name,value:e,options:{..._(this,rA,"f").options,...t}}))r[i.name]=i;return Object.values(r)}clean(){return Object.values(_(this,rk,"m",rT).call(this))}}rO=new WeakMap,rA=new WeakMap,rR=new WeakMap,rk=new WeakSet,rP=function(e){let t=Math.ceil(e.value.length/3936);if(1===t)return _(this,rO,"f")[e.name]=e.value,[e];let r=[];for(let i=0;i<t;i++){let t=`${e.name}.${i}`,n=e.value.substr(3936*i,3936);r.push({...e,name:t,value:n}),_(this,rO,"f")[t]=n}return _(this,rR,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:e.value.length,chunks:r.map(e=>e.value.length+160)}),r},rT=function(){let e={};for(let t in _(this,rO,"f"))delete _(this,rO,"f")?.[t],e[t]={name:t,value:"",options:{..._(this,rA,"f").options,maxAge:0}};return e};class w extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let r=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${r}`}}class S extends w{}S.kind="signIn";class E extends w{}E.type="AdapterError";class k extends w{}k.type="AccessDenied";class O extends w{}O.type="CallbackRouteError";class A extends w{}A.type="ErrorPageLoop";class R extends w{}R.type="EventError";class P extends w{}P.type="InvalidCallbackUrl";class T extends S{constructor(){super(...arguments),this.code="credentials"}}T.type="CredentialsSignin";class C extends w{}C.type="InvalidEndpoints";class M extends w{}M.type="InvalidCheck";class j extends w{}j.type="JWTSessionError";class D extends w{}D.type="MissingAdapter";class N extends w{}N.type="MissingAdapterMethods";class I extends w{}I.type="MissingAuthorize";class L extends w{}L.type="MissingSecret";class U extends S{}U.type="OAuthAccountNotLinked";class $ extends S{}$.type="OAuthCallbackError";class H extends w{}H.type="OAuthProfileParseError";class F extends w{}F.type="SessionTokenError";class B extends S{}B.type="OAuthSignInError";class W extends S{}W.type="EmailSignInError";class z extends w{}z.type="SignOutError";class V extends w{}V.type="UnknownAction";class q extends w{}q.type="UnsupportedStrategy";class K extends w{}K.type="InvalidProvider";class G extends w{}G.type="UntrustedHost";class J extends w{}J.type="Verification";class X extends S{}X.type="MissingCSRF";let Y=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class Z extends w{}Z.type="DuplicateConditionalUI";class Q extends w{}Q.type="MissingWebAuthnAutocomplete";class ee extends w{}ee.type="WebAuthnVerificationError";class et extends S{}et.type="AccountNotLinked";class er extends w{}er.type="ExperimentalFeatureNotEnabled";let ei=!1;function en(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let ea=!1,es=!1,eo=!1,el=["createVerificationToken","useVerificationToken","getUserByEmail"],ec=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],eu=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];var ed=r(55511);let eh=(e,t,r,i,n)=>{let a=parseInt(e.substr(3),10)>>3||20,s=(0,ed.createHmac)(e,r.byteLength?r:new Uint8Array(a)).update(t).digest(),o=Math.ceil(n/a),l=new Uint8Array(a*o+i.byteLength+1),c=0,u=0;for(let t=1;t<=o;t++)l.set(i,u),l[u+i.byteLength]=t,l.set((0,ed.createHmac)(e,s).update(l.subarray(c,u+i.byteLength+1)).digest(),u),c=u,u+=a;return l.slice(0,n)};"function"!=typeof ed.hkdf||process.versions.electron||(i=async(...e)=>new Promise((t,r)=>{ed.hkdf(...e,(e,i)=>{e?r(e):t(new Uint8Array(i))})}));let ef=async(e,t,r,n,a)=>(i||eh)(e,t,r,n,a);function ep(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function eg(e,t,r,i,n){return ef(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=ep(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),ep(r,"salt"),function(e){let t=ep(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(i),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(n,e))}var em=r(77598);let eb=(e,t)=>(0,em.createHash)(e).update(t).digest();var ey=r(4573);let e_=new TextEncoder,ev=new TextDecoder;function ex(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let i of e)t.set(i,r),r+=i.length;return t}function ew(e,t){return ex(e_.encode(e),new Uint8Array([0]),t)}function eS(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function eE(e){let t=new Uint8Array(4);return eS(t,e),t}function ek(e){return ex(eE(e.length),e)}async function eO(e,t,r){let i=Math.ceil((t>>3)/32),n=new Uint8Array(32*i);for(let t=0;t<i;t++){let i=new Uint8Array(4+e.length+r.length);i.set(eE(t+1)),i.set(e,4),i.set(r,4+e.length),n.set(await eb("sha256",i),32*t)}return n.slice(0,t>>3)}let eA=e=>ey.Buffer.from(e).toString("base64url"),eR=e=>new Uint8Array(ey.Buffer.from(function(e){let t=e;return t instanceof Uint8Array&&(t=ev.decode(t)),t}(e),"base64url"));class eP extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class eT extends eP{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.claim=r,this.reason=i,this.payload=t}}class eC extends eP{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.claim=r,this.reason=i,this.payload=t}}class eM extends eP{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class ej extends eP{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class eD extends eP{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(e="decryption operation failed",t){super(e,t)}}class eN extends eP{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class eI extends eP{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class eL extends eP{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class eU extends eP{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}function e$(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let eH=(e,t)=>{if("string"!=typeof e||!e)throw new eL(`${t} missing or invalid`)};async function eF(e,t){let r;if(!e$(e))throw TypeError("JWK must be an object");if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":eH(e.crv,'"crv" (Curve) Parameter'),eH(e.x,'"x" (X Coordinate) Parameter'),eH(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":eH(e.crv,'"crv" (Subtype of Key Pair) Parameter'),eH(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":eH(e.e,'"e" (Exponent) Parameter'),eH(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":eH(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new ej('"kty" (Key Type) Parameter missing or unsupported')}let i=e_.encode(JSON.stringify(r));return eA(await eb(t,i))}let eB=Symbol();function eW(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new ej(`Unsupported JWE Algorithm: ${e}`)}}let ez=e=>(0,em.randomFillSync)(new Uint8Array(eW(e)>>3)),eV=(e,t)=>{if(t.length<<3!==eW(e))throw new eN("Invalid Initialization Vector length")};var eq=r(57975);let eK=e=>eq.types.isKeyObject(e),eG=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new ej(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let e=t.byteLength<<3;if(e!==r)throw new eN(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}if(eK(t)&&"secret"===t.type){let e=t.symmetricKeySize<<3;if(e!==r)throw new eN(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}throw TypeError("Invalid Content Encryption Key type")};function eJ(e,t,r,i,n,a){let s=ex(e,t,r,function(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return eS(r,t,0),eS(r,e%0x100000000,4),r}(e.length<<3)),o=(0,em.createHmac)(`sha${i}`,n);return o.update(s),o.digest().slice(0,a>>3)}let eX=em.webcrypto,eY=e=>eq.types.isCryptoKey(e);function eZ(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function eQ(e,t){return e.name===t}function e0(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!eQ(e.algorithm,"AES-GCM"))throw eZ("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eZ(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!eQ(e.algorithm,"AES-KW"))throw eZ("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eZ(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw eZ("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!eQ(e.algorithm,"PBKDF2"))throw eZ("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!eQ(e.algorithm,"RSA-OAEP"))throw eZ("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(parseInt(e.algorithm.hash.name.slice(4),10)!==r)throw eZ(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}(function(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}})(e,r)}function e1(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let e2=(e,...t)=>e1("Key must be ",e,...t);function e5(e,t,...r){return e1(`Key for the ${e} algorithm must be `,t,...r)}let e3=e=>(n||=new Set((0,em.getCiphers)())).has(e),e4=e=>eK(e)||eY(e),e6=["KeyObject"];(globalThis.CryptoKey||eX?.CryptoKey)&&e6.push("CryptoKey");let e8=(e,t,r,i,n)=>{let a;if(eY(r))e0(r,e,"encrypt"),a=em.KeyObject.from(r);else if(r instanceof Uint8Array||eK(r))a=r;else throw TypeError(e2(r,...e6,"Uint8Array"));switch(eG(e,a),i?eV(e,i):i=ez(e),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,i,n){let a=parseInt(e.slice(1,4),10);eK(r)&&(r=r.export());let s=r.subarray(a>>3),o=r.subarray(0,a>>3),l=`aes-${a}-cbc`;if(!e3(l))throw new ej(`alg ${e} is not supported by your javascript runtime`);let c=(0,em.createCipheriv)(l,s,i),u=ex(c.update(t),c.final()),d=eJ(n,i,u,parseInt(e.slice(-3),10),o,a);return{ciphertext:u,tag:d,iv:i}}(e,t,a,i,n);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,i,n){let a=parseInt(e.slice(1,4),10),s=`aes-${a}-gcm`;if(!e3(s))throw new ej(`alg ${e} is not supported by your javascript runtime`);let o=(0,em.createCipheriv)(s,r,i,{authTagLength:16});n.byteLength&&o.setAAD(n,{plaintextLength:t.length});let l=o.update(t);return o.final(),{ciphertext:l,tag:o.getAuthTag(),iv:i}}(e,t,a,i,n);default:throw new ej("Unsupported JWE Content Encryption Algorithm")}};function e9(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function e7(e,t,r){if(eK(e))return e;if(e instanceof Uint8Array)return(0,em.createSecretKey)(e);if(eY(e))return e0(e,t,r),em.KeyObject.from(e);throw TypeError(e2(e,...e6,"Uint8Array"))}let te=(e,t,r)=>{let i=parseInt(e.slice(1,4),10),n=`aes${i}-wrap`;if(!e3(n))throw new ej(`alg ${e} is not supported either by JOSE or your javascript runtime`);let a=e7(t,e,"wrapKey");e9(a,e);let s=(0,em.createCipheriv)(n,a,ey.Buffer.alloc(8,166));return ex(s.update(r),s.final())},tt=(e,t,r)=>{let i=parseInt(e.slice(1,4),10),n=`aes${i}-wrap`;if(!e3(n))throw new ej(`alg ${e} is not supported either by JOSE or your javascript runtime`);let a=e7(t,e,"unwrapKey");e9(a,e);let s=(0,em.createDecipheriv)(n,a,ey.Buffer.alloc(8,166));return ex(s.update(r),s.final())};function tr(e){return e$(e)&&"string"==typeof e.kty}new WeakMap;let ti=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new ej("Unsupported key curve for this operation")}},tn=(e,t)=>{let r;if(eY(e))r=em.KeyObject.from(e);else if(eK(e))r=e;else if(tr(e))return e.crv;else throw TypeError(e2(e,...e6));if("secret"===r.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(r.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${r.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${r.asymmetricKeyType.slice(1)}`;case"ec":{let e=r.asymmetricKeyDetails.namedCurve;if(t)return e;return ti(e)}default:throw TypeError("Invalid asymmetric key type for this operation")}},ta=(0,eq.promisify)(em.generateKeyPair);async function ts(e,t,r,i,n=new Uint8Array(0),a=new Uint8Array(0)){let s,o;if(eY(e))e0(e,"ECDH"),s=em.KeyObject.from(e);else if(eK(e))s=e;else throw TypeError(e2(e,...e6));if(eY(t))e0(t,"ECDH","deriveBits"),o=em.KeyObject.from(t);else if(eK(t))o=t;else throw TypeError(e2(t,...e6));let l=ex(ek(e_.encode(r)),ek(n),ek(a),eE(i));return eO((0,em.diffieHellman)({privateKey:o,publicKey:s}),i,l)}async function to(e){let t;if(eY(e))t=em.KeyObject.from(e);else if(eK(e))t=e;else throw TypeError(e2(e,...e6));switch(t.asymmetricKeyType){case"x25519":return ta("x25519");case"x448":return ta("x448");case"ec":return ta("ec",{namedCurve:tn(t)});default:throw new ej("Invalid or unsupported EPK")}}let tl=e=>["P-256","P-384","P-521","X25519","X448"].includes(tn(e));function tc(e){if(!(e instanceof Uint8Array)||e.length<8)throw new eN("PBES2 Salt Input must be 8 or more octets")}let tu=(0,eq.promisify)(em.pbkdf2);function td(e,t){if(eK(e))return e.export();if(e instanceof Uint8Array)return e;if(eY(e))return e0(e,t,"deriveBits","deriveKey"),em.KeyObject.from(e).export();throw TypeError(e2(e,...e6,"Uint8Array"))}let th=async(e,t,r,i=2048,n=(0,em.randomFillSync)(new Uint8Array(16)))=>{tc(n);let a=ew(e,n),s=parseInt(e.slice(13,16),10)>>3,o=td(t,e),l=await tu(o,a,i,s,`sha${e.slice(8,11)}`);return{encryptedKey:await te(e.slice(-6),l,r),p2c:i,p2s:eA(n)}},tf=async(e,t,r,i,n)=>{tc(n);let a=ew(e,n),s=parseInt(e.slice(13,16),10)>>3,o=td(t,e),l=await tu(o,a,i,s,`sha${e.slice(8,11)}`);return tt(e.slice(-6),l,r)},tp=(e,t)=>{let r;try{r=e instanceof em.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof r||r<2048)throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)},tg=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");tp(e,t)},tm=(0,eq.deprecate)(()=>em.constants.RSA_PKCS1_PADDING,'The RSA1_5 "alg" (JWE Algorithm) is deprecated and will be removed in the next major revision.'),tb=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return em.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return tm();default:return}},ty=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function t_(e,t,...r){if(eK(e))return e;if(eY(e))return e0(e,t,...r),em.KeyObject.from(e);throw TypeError(e2(e,...e6))}let tv=(e,t,r)=>{let i=tb(e),n=ty(e),a=t_(t,e,"wrapKey","encrypt");return tg(a,e),(0,em.publicEncrypt)({key:a,oaepHash:n,padding:i},r)},tx=(e,t,r)=>{let i=tb(e),n=ty(e),a=t_(t,e,"unwrapKey","decrypt");return tg(a,e),(0,em.privateDecrypt)({key:a,oaepHash:n,padding:i},r)},tw={};function tS(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new ej(`Unsupported JWE Algorithm: ${e}`)}}let tE=e=>(0,em.randomFillSync)(new Uint8Array(tS(e)>>3)),tk=e=>{let t;if(eY(e)){if(!e.extractable)throw TypeError("CryptoKey is not extractable");t=em.KeyObject.from(e)}else if(eK(e))t=e;else if(e instanceof Uint8Array)return{kty:"oct",k:eA(e)};else throw TypeError(e2(e,...e6,"Uint8Array"));if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new ej("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})};async function tO(e){return tk(e)}let tA=e=>e?.[Symbol.toStringTag],tR=(e,t,r)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(r)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},tP=(e,t,r,i)=>{if(!(t instanceof Uint8Array)){if(i&&tr(t)){if(function(e){return tr(e)&&"oct"===e.kty&&"string"==typeof e.k}(t)&&tR(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!e4(t))throw TypeError(e5(e,t,...e6,"Uint8Array",i?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${tA(t)} instances for symmetric algorithms must be of type "secret"`)}},tT=(e,t,r,i)=>{if(i&&tr(t))switch(r){case"sign":if(function(e){return"oct"!==e.kty&&"string"==typeof e.d}(t)&&tR(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d}(t)&&tR(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!e4(t))throw TypeError(e5(e,t,...e6,i?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${tA(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${tA(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${tA(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${tA(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${tA(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function tC(e,t,r,i){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?tP(t,r,i,e):tT(t,r,i,e)}let tM=tC.bind(void 0,!1);tC.bind(void 0,!0);let tj=em.timingSafeEqual,tD=(e,t,r,i,n,a)=>{let s;if(eY(t))e0(t,e,"decrypt"),s=em.KeyObject.from(t);else if(t instanceof Uint8Array||eK(t))s=t;else throw TypeError(e2(t,...e6,"Uint8Array"));if(!i)throw new eN("JWE Initialization Vector missing");if(!n)throw new eN("JWE Authentication Tag missing");switch(eG(e,s),eV(e,i),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,i,n,a){let s,o;let l=parseInt(e.slice(1,4),10);eK(t)&&(t=t.export());let c=t.subarray(l>>3),u=t.subarray(0,l>>3),d=parseInt(e.slice(-3),10),h=`aes-${l}-cbc`;if(!e3(h))throw new ej(`alg ${e} is not supported by your javascript runtime`);let f=eJ(a,i,r,d,u,l);try{s=tj(n,f)}catch{}if(!s)throw new eD;try{let e=(0,em.createDecipheriv)(h,c,i);o=ex(e.update(r),e.final())}catch{}if(!o)throw new eD;return o}(e,s,r,i,n,a);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,i,n,a){let s=parseInt(e.slice(1,4),10),o=`aes-${s}-gcm`;if(!e3(o))throw new ej(`alg ${e} is not supported by your javascript runtime`);try{let e=(0,em.createDecipheriv)(o,t,i,{authTagLength:16});e.setAuthTag(n),a.byteLength&&e.setAAD(a,{plaintextLength:r.length});let s=e.update(r);return e.final(),s}catch{throw new eD}}(e,s,r,i,n,a);default:throw new ej("Unsupported JWE Content Encryption Algorithm")}};async function tN(e,t,r,i){let n=e.slice(0,7),a=await e8(n,r,t,i,new Uint8Array(0));return{encryptedKey:a.ciphertext,iv:eA(a.iv),tag:eA(a.tag)}}async function tI(e,t,r,i,n){return tD(e.slice(0,7),t,r,i,n,new Uint8Array(0))}async function tL(e,t,r,i,n={}){let a,s,o;switch(tM(e,r,"encrypt"),r=await tw.normalizePublicKey?.(r,e)||r,e){case"dir":o=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!tl(r))throw new ej("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:l,apv:c}=n,{epk:u}=n;u||=(await to(r)).privateKey;let{x:d,y:h,crv:f,kty:p}=await tO(u),g=await ts(r,u,"ECDH-ES"===e?t:e,"ECDH-ES"===e?tS(t):parseInt(e.slice(-5,-2),10),l,c);if(s={epk:{x:d,crv:f,kty:p}},"EC"===p&&(s.epk.y=h),l&&(s.apu=eA(l)),c&&(s.apv=eA(c)),"ECDH-ES"===e){o=g;break}o=i||tE(t);let m=e.slice(-6);a=await te(m,g,o);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o=i||tE(t),a=await tv(e,r,o);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{o=i||tE(t);let{p2c:l,p2s:c}=n;({encryptedKey:a,...s}=await th(e,r,o,l,c));break}case"A128KW":case"A192KW":case"A256KW":o=i||tE(t),a=await te(e,r,o);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{o=i||tE(t);let{iv:l}=n;({encryptedKey:a,...s}=await tN(e,r,o,l));break}default:throw new ej('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:o,encryptedKey:a,parameters:s}}let tU=(...e)=>{let t;let r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0},t$=function(e,t,r,i,n){let a;if(void 0!==n.crit&&i?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,i.crit)){if(!a.has(s))throw new ej(`Extension Header Parameter "${s}" is not recognized`);if(void 0===n[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&void 0===i[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(i.crit)};class tH{_plaintext;_protectedHeader;_sharedUnprotectedHeader;_unprotectedHeader;_aad;_cek;_iv;_keyManagementParameters;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let r,i,n,a,s;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new eN("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!tU(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new eN("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let o={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(t$(eN,new Map,t?.crit,this._protectedHeader,o),void 0!==o.zip)throw new ej('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:c}=o;if("string"!=typeof l||!l)throw new eN('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof c||!c)throw new eN('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===l||"ECDH-ES"===l))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${l}`);{let n;({cek:i,encryptedKey:r,parameters:n}=await tL(l,c,e,this._cek,this._keyManagementParameters)),n&&(t&&eB in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...n}:this.setUnprotectedHeader(n):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...n}:this.setProtectedHeader(n))}a=this._protectedHeader?e_.encode(eA(JSON.stringify(this._protectedHeader))):e_.encode(""),this._aad?(s=eA(this._aad),n=ex(a,e_.encode("."),e_.encode(s))):n=a;let{ciphertext:u,tag:d,iv:h}=await e8(c,this._plaintext,i,this._iv,n),f={ciphertext:eA(u)};return h&&(f.iv=eA(h)),d&&(f.tag=eA(d)),r&&(f.encrypted_key=eA(r)),s&&(f.aad=s),this._protectedHeader&&(f.protected=ev.decode(a)),this._sharedUnprotectedHeader&&(f.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(f.header=this._unprotectedHeader),f}}class tF{_flattened;constructor(e){this._flattened=new tH(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let tB=e=>Math.floor(e.getTime()/1e3),tW=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,tz=e=>{let t;let r=tW.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let i=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(i);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*i);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*i);break;case"day":case"days":case"d":t=Math.round(86400*i);break;case"week":case"weeks":case"w":t=Math.round(604800*i);break;default:t=Math.round(0x1e187e0*i)}return"-"===r[1]||"ago"===r[4]?-t:t};function tV(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class tq{_payload;constructor(e={}){if(!e$(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:tV("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:tV("setNotBefore",tB(e))}:this._payload={...this._payload,nbf:tB(new Date)+tz(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:tV("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:tV("setExpirationTime",tB(e))}:this._payload={...this._payload,exp:tB(new Date)+tz(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:tB(new Date)}:e instanceof Date?this._payload={...this._payload,iat:tV("setIssuedAt",tB(e))}:"string"==typeof e?this._payload={...this._payload,iat:tV("setIssuedAt",tB(new Date)+tz(e))}:this._payload={...this._payload,iat:tV("setIssuedAt",e)},this}}class tK extends tq{_cek;_iv;_keyManagementParameters;_protectedHeader;_replicateIssuerAsHeader;_replicateSubjectAsHeader;_replicateAudienceAsHeader;setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new tF(e_.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}let tG=e=>e.d?(0,em.createPrivateKey)({format:"jwk",key:e}):(0,em.createPublicKey)({format:"jwk",key:e});async function tJ(e,t){if(!e$(e))throw TypeError("JWK must be an object");switch(t||=e.alg,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return eR(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new ej('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return tG({...e,alg:t});default:throw new ej('Unsupported "kty" (Key Type) Parameter value')}}async function tX(e,t,r,i,n){switch(tM(e,t,"decrypt"),t=await tw.normalizePrivateKey?.(t,e)||t,e){case"dir":if(void 0!==r)throw new eN("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new eN("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let n,a;if(!e$(i.epk))throw new eN('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!tl(t))throw new ej("ECDH with the provided key is not allowed or not supported by your javascript runtime");let s=await tJ(i.epk,e);if(void 0!==i.apu){if("string"!=typeof i.apu)throw new eN('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{n=eR(i.apu)}catch{throw new eN("Failed to base64url decode the apu")}}if(void 0!==i.apv){if("string"!=typeof i.apv)throw new eN('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=eR(i.apv)}catch{throw new eN("Failed to base64url decode the apv")}}let o=await ts(s,t,"ECDH-ES"===e?i.enc:e,"ECDH-ES"===e?tS(i.enc):parseInt(e.slice(-5,-2),10),n,a);if("ECDH-ES"===e)return o;if(void 0===r)throw new eN("JWE Encrypted Key missing");return tt(e.slice(-6),o,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new eN("JWE Encrypted Key missing");return tx(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(void 0===r)throw new eN("JWE Encrypted Key missing");if("number"!=typeof i.p2c)throw new eN('JOSE Header "p2c" (PBES2 Count) missing or invalid');let s=n?.maxPBES2Count||1e4;if(i.p2c>s)throw new eN('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof i.p2s)throw new eN('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=eR(i.p2s)}catch{throw new eN("Failed to base64url decode the p2s")}return tf(e,t,r,i.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new eN("JWE Encrypted Key missing");return tt(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let n,a;if(void 0===r)throw new eN("JWE Encrypted Key missing");if("string"!=typeof i.iv)throw new eN('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof i.tag)throw new eN('JOSE Header "tag" (Authentication Tag) missing or invalid');try{n=eR(i.iv)}catch{throw new eN("Failed to base64url decode the iv")}try{a=eR(i.tag)}catch{throw new eN("Failed to base64url decode the tag")}return tI(e,t,r,n,a)}default:throw new ej('Invalid or unsupported "alg" (JWE Algorithm) header value')}}let tY=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function tZ(e,t,r){let i,n,a,s,o,l,c;if(!e$(e))throw new eN("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new eN("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new eN("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new eN("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new eN("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new eN("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new eN("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new eN("JWE AAD incorrect type");if(void 0!==e.header&&!e$(e.header))throw new eN("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!e$(e.unprotected))throw new eN("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=eR(e.protected);i=JSON.parse(ev.decode(t))}catch{throw new eN("JWE Protected Header is invalid")}if(!tU(i,e.header,e.unprotected))throw new eN("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let u={...i,...e.header,...e.unprotected};if(t$(eN,new Map,r?.crit,i,u),void 0!==u.zip)throw new ej('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:h}=u;if("string"!=typeof d||!d)throw new eN("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof h||!h)throw new eN("missing JWE Encryption Algorithm (enc) in JWE Header");let f=r&&tY("keyManagementAlgorithms",r.keyManagementAlgorithms),p=r&&tY("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(f&&!f.has(d)||!f&&d.startsWith("PBES2"))throw new eM('"alg" (Algorithm) Header Parameter value not allowed');if(p&&!p.has(h))throw new eM('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{n=eR(e.encrypted_key)}catch{throw new eN("Failed to base64url decode the encrypted_key")}let g=!1;"function"==typeof t&&(t=await t(i,e),g=!0);try{a=await tX(d,t,n,u,r)}catch(e){if(e instanceof TypeError||e instanceof eN||e instanceof ej)throw e;a=tE(h)}if(void 0!==e.iv)try{s=eR(e.iv)}catch{throw new eN("Failed to base64url decode the iv")}if(void 0!==e.tag)try{o=eR(e.tag)}catch{throw new eN("Failed to base64url decode the tag")}let m=e_.encode(e.protected??"");l=void 0!==e.aad?ex(m,e_.encode("."),e_.encode(e.aad)):m;try{c=eR(e.ciphertext)}catch{throw new eN("Failed to base64url decode the ciphertext")}let b={plaintext:await tD(h,a,c,s,o,l)};if(void 0!==e.protected&&(b.protectedHeader=i),void 0!==e.aad)try{b.additionalAuthenticatedData=eR(e.aad)}catch{throw new eN("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(b.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(b.unprotectedHeader=e.header),g)?{...b,key:t}:b}async function tQ(e,t,r){if(e instanceof Uint8Array&&(e=ev.decode(e)),"string"!=typeof e)throw new eN("Compact JWE must be a string or Uint8Array");let{0:i,1:n,2:a,3:s,4:o,length:l}=e.split(".");if(5!==l)throw new eN("Invalid Compact JWE");let c=await tZ({ciphertext:s,iv:a||void 0,protected:i,tag:o||void 0,encrypted_key:n||void 0},t,r),u={plaintext:c.plaintext,protectedHeader:c.protectedHeader};return"function"==typeof t?{...u,key:c.key}:u}let t0=e=>e.toLowerCase().replace(/^application\//,""),t1=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e))),t2=(e,t,r={})=>{let i,n;try{i=JSON.parse(ev.decode(t))}catch{}if(!e$(i))throw new eI("JWT Claims Set must be a top-level JSON object");let{typ:a}=r;if(a&&("string"!=typeof e.typ||t0(e.typ)!==t0(a)))throw new eT('unexpected "typ" JWT header value',i,"typ","check_failed");let{requiredClaims:s=[],issuer:o,subject:l,audience:c,maxTokenAge:u}=r,d=[...s];for(let e of(void 0!==u&&d.push("iat"),void 0!==c&&d.push("aud"),void 0!==l&&d.push("sub"),void 0!==o&&d.push("iss"),new Set(d.reverse())))if(!(e in i))throw new eT(`missing required "${e}" claim`,i,e,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(i.iss))throw new eT('unexpected "iss" claim value',i,"iss","check_failed");if(l&&i.sub!==l)throw new eT('unexpected "sub" claim value',i,"sub","check_failed");if(c&&!t1(i.aud,"string"==typeof c?[c]:c))throw new eT('unexpected "aud" claim value',i,"aud","check_failed");switch(typeof r.clockTolerance){case"string":n=tz(r.clockTolerance);break;case"number":n=r.clockTolerance;break;case"undefined":n=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:h}=r,f=tB(h||new Date);if((void 0!==i.iat||u)&&"number"!=typeof i.iat)throw new eT('"iat" claim must be a number',i,"iat","invalid");if(void 0!==i.nbf){if("number"!=typeof i.nbf)throw new eT('"nbf" claim must be a number',i,"nbf","invalid");if(i.nbf>f+n)throw new eT('"nbf" claim timestamp check failed',i,"nbf","check_failed")}if(void 0!==i.exp){if("number"!=typeof i.exp)throw new eT('"exp" claim must be a number',i,"exp","invalid");if(i.exp<=f-n)throw new eC('"exp" claim timestamp check failed',i,"exp","check_failed")}if(u){let e=f-i.iat;if(e-n>("number"==typeof u?u:tz(u)))throw new eC('"iat" claim timestamp check failed (too far in the past)',i,"iat","check_failed");if(e<0-n)throw new eT('"iat" claim timestamp check failed (it should be in the past)',i,"iat","check_failed")}return i};async function t5(e,t,r){let i=await tQ(e,t,r),n=t2(i.protectedHeader,i.plaintext,r),{protectedHeader:a}=i;if(void 0!==a.iss&&a.iss!==n.iss)throw new eT('replicated "iss" claim header parameter mismatch',n,"iss","mismatch");if(void 0!==a.sub&&a.sub!==n.sub)throw new eT('replicated "sub" claim header parameter mismatch',n,"sub","mismatch");if(void 0!==a.aud&&JSON.stringify(a.aud)!==JSON.stringify(n.aud))throw new eT('replicated "aud" claim header parameter mismatch',n,"aud","mismatch");let s={payload:n,protectedHeader:a};return"function"==typeof t?{...s,key:i.key}:s}var t3=r(40943);let t4=()=>Date.now()/1e3|0,t6="A256CBC-HS512";async function t8(e){let{token:t={},secret:r,maxAge:i=2592e3,salt:n}=e,a=Array.isArray(r)?r:[r],s=await t7(t6,a[0],n),o=await eF({kty:"oct",k:eA(s)},`sha${s.byteLength<<3}`);return await new tK(t).setProtectedHeader({alg:"dir",enc:t6,kid:o}).setIssuedAt().setExpirationTime(t4()+i).setJti(crypto.randomUUID()).encrypt(s)}async function t9(e){let{token:t,secret:r,salt:i}=e,n=Array.isArray(r)?r:[r];if(!t)return null;let{payload:a}=await t5(t,async({kid:e,enc:t})=>{for(let r of n){let n=await t7(t,r,i);if(void 0===e||e===await eF({kty:"oct",k:eA(n)},`sha${n.byteLength<<3}`))return n}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[t6,"A256GCM"]});return a}async function t7(e,t,r){let i;switch(e){case"A256CBC-HS512":i=64;break;case"A256GCM":i=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await eg("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,i)}async function re({options:e,paramValue:t,cookieValue:r}){let{url:i,callbacks:n}=e,a=i.origin;return t?a=await n.redirect({url:t,baseUrl:i.origin}):r&&(a=await n.redirect({url:r,baseUrl:i.origin})),{callbackUrl:a,callbackUrlCookie:a!==r?a:void 0}}let rt="\x1b[31m",rr="\x1b[0m",ri={error(e){let t=e instanceof w?e.type:e.name;if(console.error(`${rt}[auth][error]${rr} ${t}: ${e.message}`),e.cause&&"object"==typeof e.cause&&"err"in e.cause&&e.cause.err instanceof Error){let{err:t,...r}=e.cause;console.error(`${rt}[auth][cause]${rr}:`,t.stack),r&&console.error(`${rt}[auth][details]${rr}:`,JSON.stringify(r,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){let t=`https://warnings.authjs.dev#${e}`;console.warn(`\x1b[33m[auth][warn][${e}]${rr}`,`Read more: ${t}`)},debug(e,t){console.log(`\x1b[90m[auth][debug]:${rr} ${e}`,JSON.stringify(t,null,2))}};function rn(e){let t={...ri};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let ra=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];async function rs(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function ro(e,t){try{if("GET"!==e.method&&"POST"!==e.method)throw new V("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:i,providerId:n}=function(e,t){let r=e.match(RegExp(`^${t}(.+)`));if(null===r)throw new V(`Cannot parse action at ${e}`);let i=r.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==i.length&&2!==i.length)throw new V(`Cannot parse action at ${e}`);let[n,a]=i;if(!ra.includes(n)||a&&!["signin","callback","webauthn-options"].includes(n))throw new V(`Cannot parse action at ${e}`);return{action:n,providerId:a}}(r.pathname,t.basePath);return{url:r,action:i,providerId:n,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await rs(e):void 0,cookies:(0,t3.q)(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(i){let r=rn(t);r.error(i),r.debug("request",e)}}function rl(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:r,value:i,options:n}=e,a=t3.l(r,i,n);t.has("Set-Cookie")?t.append("Set-Cookie",a):t.set("Set-Cookie",a)});let r=e.body;"application/json"===t.get("content-type")?r=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(r=new URLSearchParams(e.body).toString());let i=new Response(r,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&i.headers.set("Location",e.redirect),i}async function rc(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function ru(e){let t=e=>("0"+e.toString(16)).slice(-2);return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce((e,r)=>e+t(r),"")}async function rd({options:e,cookieValue:t,isPost:r,bodyValue:i}){if(t){let[n,a]=t.split("|");if(a===await rc(`${n}${e.secret}`))return{csrfTokenVerified:r&&n===i,csrfToken:n}}let n=ru(32),a=await rc(`${n}${e.secret}`);return{cookie:`${n}|${a}`,csrfToken:n}}function rh(e,t){if(!t)throw new X(`CSRF token was missing during an action ${e}`)}function rf(e){return null!==e&&"object"==typeof e}function rp(e,...t){if(!t.length)return e;let r=t.shift();if(rf(e)&&rf(r))for(let t in r)rf(r[t])?(rf(e[t])||(e[t]=Array.isArray(r[t])?[]:{}),rp(e[t],r[t])):void 0!==r[t]&&(e[t]=r[t]);return rp(e,...t)}let rg=Symbol("skip-csrf-check"),rm=Symbol("return-type-raw"),rb=Symbol("custom-fetch"),ry=Symbol("conform-internal"),r_=e=>rx({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),rv=e=>rx({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function rx(e){let t={};for(let[r,i]of Object.entries(e))void 0!==i&&(t[r]=i);return t}function rw(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,i]of Object.entries(e.params))"claims"===t&&(i=JSON.stringify(i)),r.searchParams.set(t,String(i));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}let rS={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function rE({authOptions:e,providerId:t,action:r,url:i,cookies:n,callbackUrl:a,csrfToken:s,csrfDisabled:o,isPost:l}){var c,u;let d=rn(e),{providers:h,provider:f}=function(e){let{providerId:t,config:r}=e,i=new URL(r.basePath??"/auth",e.url.origin),n=r.providers.map(e=>{let t="function"==typeof e?e():e,{options:n,...a}=t,s=n?.id??a.id,o=rp(a,n,{signinUrl:`${i}/signin/${s}`,callbackUrl:`${i}/callback/${s}`});if("oauth"===t.type||"oidc"===t.type){o.redirectProxyUrl??(o.redirectProxyUrl=n?.redirectProxyUrl??r.redirectProxyUrl);let e=function(e){e.issuer&&(e.wellKnown??(e.wellKnown=`${e.issuer}/.well-known/openid-configuration`));let t=rw(e.authorization,e.issuer);t&&!t.url?.searchParams.has("scope")&&t.url.searchParams.set("scope","openid profile email");let r=rw(e.token,e.issuer),i=rw(e.userinfo,e.issuer),n=e.checks??["pkce"];return e.redirectProxyUrl&&(n.includes("state")||n.push("state"),e.redirectProxyUrl=`${e.redirectProxyUrl}/callback/${e.id}`),{...e,authorization:t,token:r,checks:n,userinfo:i,profile:e.profile??r_,account:e.account??rv}}(o);return e.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete e.redirectProxyUrl,e[rb]??(e[rb]=n?.[rb]),e}return o});return{providers:n,provider:n.find(({id:e})=>e===t)}}({url:i,providerId:t,config:e}),p=!1;if((f?.type==="oauth"||f?.type==="oidc")&&f.redirectProxyUrl)try{p=new URL(f.redirectProxyUrl).origin===i.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${f.redirectProxyUrl}`)}let g={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:i,action:r,provider:f,cookies:rp(v(e.useSecureCookies??"https:"===i.protocol),e.cookies),providers:h,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:t8,decode:t9,...e.jwt},events:(c=e.events??{},u=d,Object.keys(c).reduce((e,t)=>(e[t]=async(...e)=>{try{let r=c[t];return await r(...e)}catch(e){u.error(new R(e))}},e),{})),adapter:function(e,t){if(e)return Object.keys(e).reduce((r,i)=>(r[i]=async(...r)=>{try{t.debug(`adapter_${i}`,{args:r});let n=e[i];return await n(...r)}catch(r){let e=new E(r);throw t.error(e),e}},r),{})}(e.adapter,d),callbacks:{...rS,...e.callbacks},logger:d,callbackUrl:i.origin,isOnRedirectProxy:p,experimental:{...e.experimental}},m=[];if(o)g.csrfTokenVerified=!0;else{let{csrfToken:e,cookie:t,csrfTokenVerified:r}=await rd({options:g,cookieValue:n?.[g.cookies.csrfToken.name],isPost:l,bodyValue:s});g.csrfToken=e,g.csrfTokenVerified=r,t&&m.push({name:g.cookies.csrfToken.name,value:t,options:g.cookies.csrfToken.options})}let{callbackUrl:b,callbackUrlCookie:y}=await re({options:g,cookieValue:n?.[g.cookies.callbackUrl.name],paramValue:a});return g.callbackUrl=b,y&&m.push({name:g.cookies.callbackUrl.name,value:y,options:g.cookies.callbackUrl.options}),{options:g,cookies:m}}var rk,rO,rA,rR,rP,rT,rC,rM,rj,rD,rN,rI={},rL=[],rU=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function r$(e,t){for(var r in t)e[r]=t[r];return e}function rH(e){var t=e.parentNode;t&&t.removeChild(e)}function rF(e,t,r,i,n){var a={type:e,props:t,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==n?++rj:n};return null==n&&null!=rM.vnode&&rM.vnode(a),a}function rB(e){return e.children}function rW(e,t){this.props=e,this.context=t}function rz(e,t){if(null==t)return e.__?rz(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?rz(e):null}function rV(e){(!e.__d&&(e.__d=!0)&&rD.push(e)&&!rq.__r++||rN!==rM.debounceRendering)&&((rN=rM.debounceRendering)||setTimeout)(rq)}function rq(){for(var e;rq.__r=rD.length;)e=rD.sort(function(e,t){return e.__v.__b-t.__v.__b}),rD=[],e.some(function(e){var t,r,i,n,a;e.__d&&(n=(i=e.__v).__e,(a=e.__P)&&(t=[],(r=r$({},i)).__v=i.__v+1,rQ(a,i,r,e.__n,void 0!==a.ownerSVGElement,null!=i.__h?[n]:null,t,null==n?rz(i):n,i.__h),r0(t,i),i.__e!=n&&function e(t){var r,i;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(i=t.__k[r])&&null!=i.__e){t.__e=t.__c.base=i.__e;break}return e(t)}}(i)))})}function rK(e,t,r,i,n,a,s,o,l,c){var u,d,h,f,p,g,m,b=i&&i.__k||rL,y=b.length;for(r.__k=[],u=0;u<t.length;u++)if(null!=(f=r.__k[u]=null==(f=t[u])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?rF(null,f,null,null,f):Array.isArray(f)?rF(rB,{children:f},null,null,null):f.__b>0?rF(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)){if(f.__=r,f.__b=r.__b+1,null===(h=b[u])||h&&f.key==h.key&&f.type===h.type)b[u]=void 0;else for(d=0;d<y;d++){if((h=b[d])&&f.key==h.key&&f.type===h.type){b[d]=void 0;break}h=null}rQ(e,f,h=h||rI,n,a,s,o,l,c),p=f.__e,(d=f.ref)&&h.ref!=d&&(m||(m=[]),h.ref&&m.push(h.ref,null,f),m.push(d,f.__c||p,f)),null!=p?(null==g&&(g=p),"function"==typeof f.type&&f.__k===h.__k?f.__d=l=function e(t,r,i){for(var n,a=t.__k,s=0;a&&s<a.length;s++)(n=a[s])&&(n.__=t,r="function"==typeof n.type?e(n,r,i):rG(i,n,n,a,n.__e,r));return r}(f,l,e):l=rG(e,f,h,b,p,l),"function"==typeof r.type&&(r.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=rz(h))}for(r.__e=g,u=y;u--;)null!=b[u]&&function e(t,r,i){var n,a;if(rM.unmount&&rM.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||r1(n,null,r)),null!=(n=t.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){rM.__e(e,r)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(a=0;a<n.length;a++)n[a]&&e(n[a],r,i||"function"!=typeof t.type);i||null==t.__e||rH(t.__e),t.__=t.__e=t.__d=void 0}(b[u],b[u]);if(m)for(u=0;u<m.length;u++)r1(m[u],m[++u],m[++u])}function rG(e,t,r,i,n,a){var s,o,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==r||n!=a||null==n.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(n),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<i.length;l+=1)if(o==n)break e;e.insertBefore(n,a),s=a}return void 0!==s?s:n.nextSibling}function rJ(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||rU.test(t)?r:r+"px"}function rX(e,t,r,i,n){var a;e:if("style"===t){if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)r&&t in r||rJ(e.style,t,"");if(r)for(t in r)i&&r[t]===i[t]||rJ(e.style,t,r[t])}}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?i||e.addEventListener(t,a?rZ:rY,a):e.removeEventListener(t,a?rZ:rY,a);else if("dangerouslySetInnerHTML"!==t){if(n)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,r))}}function rY(e){this.l[e.type+!1](rM.event?rM.event(e):e)}function rZ(e){this.l[e.type+!0](rM.event?rM.event(e):e)}function rQ(e,t,r,i,n,a,s,o,l){var c,u,d,h,f,p,g,m,b,y,_,v,x,w,S,E=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(l=r.__h,o=t.__e=r.__e,t.__h=null,a=[o]),(c=rM.__b)&&c(t);try{e:if("function"==typeof E){if(m=t.props,b=(c=E.contextType)&&i[c.__c],y=c?b?b.props.value:c.__:i,r.__c?g=(u=t.__c=r.__c).__=u.__E:("prototype"in E&&E.prototype.render?t.__c=u=new E(m,y):(t.__c=u=new rW(m,y),u.constructor=E,u.render=r2),b&&b.sub(u),u.props=m,u.state||(u.state={}),u.context=y,u.__n=i,d=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=E.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=r$({},u.__s)),r$(u.__s,E.getDerivedStateFromProps(m,u.__s))),h=u.props,f=u.state,d)null==E.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==E.getDerivedStateFromProps&&m!==h&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(m,y),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(m,u.__s,y)||t.__v===r.__v){for(u.props=m,u.state=u.__s,t.__v!==r.__v&&(u.__d=!1),u.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(e){e&&(e.__=t)}),_=0;_<u._sb.length;_++)u.__h.push(u._sb[_]);u._sb=[],u.__h.length&&s.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(m,u.__s,y),null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(h,f,p)})}if(u.context=y,u.props=m,u.__v=t,u.__P=e,v=rM.__r,x=0,"prototype"in E&&E.prototype.render){for(u.state=u.__s,u.__d=!1,v&&v(t),c=u.render(u.props,u.state,u.context),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[]}else do u.__d=!1,v&&v(t),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++x<25);u.state=u.__s,null!=u.getChildContext&&(i=r$(r$({},i),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(p=u.getSnapshotBeforeUpdate(h,f)),S=null!=c&&c.type===rB&&null==c.key?c.props.children:c,rK(e,Array.isArray(S)?S:[S],t,r,i,n,a,s,o,l),u.base=t.__e,t.__h=null,u.__h.length&&s.push(u),g&&(u.__E=u.__=null),u.__e=!1}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,i,n,a,s,o){var l,c,u,d=r.props,h=t.props,f=t.type,p=0;if("svg"===f&&(n=!0),null!=a){for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!f&&(f?l.localName===f:3===l.nodeType)){e=l,a[p]=null;break}}if(null==e){if(null===f)return document.createTextNode(h);e=n?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),a=null,o=!1}if(null===f)d===h||o&&e.data===h||(e.data=h);else{if(a=a&&rC.call(e.childNodes),c=(d=r.props||rI).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!o){if(null!=a)for(d={},p=0;p<e.attributes.length;p++)d[e.attributes[p].name]=e.attributes[p].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,r,i,n){var a;for(a in r)"children"===a||"key"===a||a in t||rX(e,a,null,r[a],i);for(a in t)n&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||r[a]===t[a]||rX(e,a,t[a],r[a],i)}(e,h,d,n,o),u)t.__k=[];else if(rK(e,Array.isArray(p=t.props.children)?p:[p],t,r,i,n&&"foreignObject"!==f,a,s,a?a[0]:r.__k&&rz(r,0),o),null!=a)for(p=a.length;p--;)null!=a[p]&&rH(a[p]);o||("value"in h&&void 0!==(p=h.value)&&(p!==e.value||"progress"===f&&!p||"option"===f&&p!==d.value)&&rX(e,"value",p,d.value,!1),"checked"in h&&void 0!==(p=h.checked)&&p!==e.checked&&rX(e,"checked",p,d.checked,!1))}return e}(r.__e,t,r,i,n,a,s,l);(c=rM.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=a)&&(t.__e=o,t.__h=!!l,a[a.indexOf(o)]=null),rM.__e(e,t,r)}}function r0(e,t){rM.__c&&rM.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){rM.__e(e,t.__v)}})}function r1(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){rM.__e(e,r)}}function r2(e,t,r){return this.constructor(e,r)}function r5(e,t){var r,i,n,a;r=e,rM.__&&rM.__(r,t),n=(i="function"==typeof r5)?null:r5&&r5.__k||t.__k,a=[],rQ(t,r=(!i&&r5||t).__k=function(e,t,r){var i,n,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?n=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?rC.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return rF(e,s,i,n,null)}(rB,null,[r]),n||rI,rI,void 0!==t.ownerSVGElement,!i&&r5?[r5]:n?null:t.firstChild?rC.call(t.childNodes):null,a,!i&&r5?r5:n?n.__e:t.firstChild,i),r0(a,r)}rC=rL.slice,rM={__e:function(e,t,r,i){for(var n,a,s;t=t.__;)if((n=t.__c)&&!n.__)try{if((a=n.constructor)&&null!=a.getDerivedStateFromError&&(n.setState(a.getDerivedStateFromError(e)),s=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e,i||{}),s=n.__d),s)return n.__E=n}catch(t){e=t}throw e}},rj=0,rW.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=r$({},this.state),"function"==typeof e&&(e=e(r$({},r),this.props)),e&&r$(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),rV(this))},rW.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rV(this))},rW.prototype.render=rB,rD=[],rq.__r=0;var r3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,r4=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,r6=/[\s\n\\/='"\0<>]/,r8=/^xlink:?./,r9=/["&<]/;function r7(e){if(!1===r9.test(e+=""))return e;for(var t=0,r=0,i="",n="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;default:continue}r!==t&&(i+=e.slice(t,r)),i+=n,t=r+1}return r!==t&&(i+=e.slice(t,r)),i}var ie=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},it=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},ir={},ii=/([A-Z])/g;function ia(e){var t="";for(var r in e){var i=e[r];null!=i&&""!==i&&(t&&(t+=" "),t+="-"==r[0]?r:ir[r]||(ir[r]=r.replace(ii,"-$1").toLowerCase()),t="number"==typeof i&&!1===r3.test(r)?t+": "+i+"px;":t+": "+i+";")}return t||void 0}function is(e,t){return Array.isArray(t)?t.reduce(is,e):null!=t&&!1!==t&&e.push(t),e}function io(){this.__d=!0}function il(e,t){return{__v:e,context:t,props:e.props,setState:io,forceUpdate:io,__d:!0,__h:[]}}function ic(e,t){var r=e.contextType,i=r&&t[r.__c];return null!=r?i?i.props.value:r.__:t}var iu=[],id={shallow:!0};ip.render=ip;var ih=[];function ip(e,t,r){t=t||{};var i,n=rM.__s;return rM.__s=!0,i=r&&(r.pretty||r.voidElements||r.sortAttributes||r.shallow||r.allAttributes||r.xml||r.attributeHook)?function e(t,r,i,n,a,s){if(null==t||"boolean"==typeof t)return"";if("object"!=typeof t)return r7(t);var o=i.pretty,l=o&&"string"==typeof o?o:"	";if(Array.isArray(t)){for(var c="",u=0;u<t.length;u++)o&&u>0&&(c+="\n"),c+=e(t[u],r,i,n,a,s);return c}var d,h=t.type,f=t.props,p=!1;if("function"==typeof h){if(p=!0,!i.shallow||!n&&!1!==i.renderRootComponent){if(h===rB){var g=[];return is(g,t.props.children),e(g,r,i,!1!==i.shallowHighOrder,a,s)}var m,b=t.__c=il(t,r);rM.__b&&rM.__b(t);var y=rM.__r;if(h.prototype&&"function"==typeof h.prototype.render){var _=ic(h,r);(b=t.__c=new h(f,_)).__v=t,b._dirty=b.__d=!0,b.props=f,null==b.state&&(b.state={}),null==b._nextState&&null==b.__s&&(b._nextState=b.__s=b.state),b.context=_,h.getDerivedStateFromProps?b.state=Object.assign({},b.state,h.getDerivedStateFromProps(b.props,b.state)):b.componentWillMount&&(b.componentWillMount(),b.state=b._nextState!==b.state?b._nextState:b.__s!==b.state?b.__s:b.state),y&&y(t),m=b.render(b.props,b.state,b.context)}else for(var v=ic(h,r),x=0;b.__d&&x++<25;)b.__d=!1,y&&y(t),m=h.call(t.__c,f,v);return b.getChildContext&&(r=Object.assign({},r,b.getChildContext())),rM.diffed&&rM.diffed(t),e(m,r,i,!1!==i.shallowHighOrder,a,s)}h=(d=h).displayName||d!==Function&&d.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var r=-1,i=iu.length;i--;)if(iu[i]===e){r=i;break}r<0&&(r=iu.push(e)-1),t="UnnamedComponent"+r}return t}(d)}var w,S,E="<"+h;if(f){var k=Object.keys(f);i&&!0===i.sortAttributes&&k.sort();for(var O=0;O<k.length;O++){var A=k[O],R=f[A];if("children"!==A){if(!r6.test(A)&&(i&&i.allAttributes||"key"!==A&&"ref"!==A&&"__self"!==A&&"__source"!==A)){if("defaultValue"===A)A="value";else if("defaultChecked"===A)A="checked";else if("defaultSelected"===A)A="selected";else if("className"===A){if(void 0!==f.class)continue;A="class"}else a&&r8.test(A)&&(A=A.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===A){if(f.for)continue;A="for"}"style"===A&&R&&"object"==typeof R&&(R=ia(R)),"a"===A[0]&&"r"===A[1]&&"boolean"==typeof R&&(R=String(R));var P=i.attributeHook&&i.attributeHook(A,R,r,i,p);if(P||""===P)E+=P;else if("dangerouslySetInnerHTML"===A)S=R&&R.__html;else if("textarea"===h&&"value"===A)w=R;else if((R||0===R||""===R)&&"function"!=typeof R){if(!(!0!==R&&""!==R||(R=A,i&&i.xml))){E=E+" "+A;continue}if("value"===A){if("select"===h){s=R;continue}"option"===h&&s==R&&void 0===f.selected&&(E+=" selected")}E=E+" "+A+'="'+r7(R)+'"'}}}else w=R}}if(o){var T=E.replace(/\n\s*/," ");T===E||~T.indexOf("\n")?o&&~E.indexOf("\n")&&(E+="\n"):E=T}if(E+=">",r6.test(h))throw Error(h+" is not a valid HTML tag name in "+E);var C,M=r4.test(h)||i.voidElements&&i.voidElements.test(h),j=[];if(S)o&&it(S)&&(S="\n"+l+ie(S,l)),E+=S;else if(null!=w&&is(C=[],w).length){for(var D=o&&~E.indexOf("\n"),N=!1,I=0;I<C.length;I++){var L=C[I];if(null!=L&&!1!==L){var U=e(L,r,i,!0,"svg"===h||"foreignObject"!==h&&a,s);if(o&&!D&&it(U)&&(D=!0),U){if(o){var $=U.length>0&&"<"!=U[0];N&&$?j[j.length-1]+=U:j.push(U),N=$}else j.push(U)}}}if(o&&D)for(var H=j.length;H--;)j[H]="\n"+l+ie(j[H],l)}if(j.length||S)E+=j.join("");else if(i&&i.xml)return E.substring(0,E.length-1)+" />";return!M||C||S?(o&&~E.indexOf("\n")&&(E+="\n"),E=E+"</"+h+">"):E=E.replace(/>$/," />"),E}(e,t,r):function e(t,r,i,n){if(null==t||!0===t||!1===t||""===t)return"";if("object"!=typeof t)return r7(t);if(ig(t)){for(var a="",s=0;s<t.length;s++)a+=e(t[s],r,i,n);return a}rM.__b&&rM.__b(t);var o=t.type,l=t.props;if("function"==typeof o){if(o===rB)return e(t.props.children,r,i,n);var c,u,d,h,f,p=o.prototype&&"function"==typeof o.prototype.render?(c=r,d=ic(u=t.type,c),h=new u(t.props,d),t.__c=h,h.__v=t,h.__d=!0,h.props=t.props,null==h.state&&(h.state={}),null==h.__s&&(h.__s=h.state),h.context=d,u.getDerivedStateFromProps?h.state=im({},h.state,u.getDerivedStateFromProps(h.props,h.state)):h.componentWillMount&&(h.componentWillMount(),h.state=h.__s!==h.state?h.__s:h.state),(f=rM.__r)&&f(t),h.render(h.props,h.state,h.context)):function(e,t){var r,i=il(e,t),n=ic(e.type,t);e.__c=i;for(var a=rM.__r,s=0;i.__d&&s++<25;)i.__d=!1,a&&a(e),r=e.type.call(i,e.props,n);return r}(t,r),g=t.__c;g.getChildContext&&(r=im({},r,g.getChildContext()));var m=e(p,r,i,n);return rM.diffed&&rM.diffed(t),m}var b,y,_="<";if(_+=o,l)for(var v in b=l.children,l){var x,w,S,E=l[v];if(!("key"===v||"ref"===v||"__self"===v||"__source"===v||"children"===v||"className"===v&&"class"in l||"htmlFor"===v&&"for"in l||r6.test(v))){if(w=v="className"===(x=v)?"class":"htmlFor"===x?"for":"defaultValue"===x?"value":"defaultChecked"===x?"checked":"defaultSelected"===x?"selected":i&&r8.test(x)?x.toLowerCase().replace(/^xlink:?/,"xlink:"):x,S=E,E="style"===w&&null!=S&&"object"==typeof S?ia(S):"a"===w[0]&&"r"===w[1]&&"boolean"==typeof S?String(S):S,"dangerouslySetInnerHTML"===v)y=E&&E.__html;else if("textarea"===o&&"value"===v)b=E;else if((E||0===E||""===E)&&"function"!=typeof E){if(!0===E||""===E){E=v,_=_+" "+v;continue}if("value"===v){if("select"===o){n=E;continue}"option"!==o||n!=E||"selected"in l||(_+=" selected")}_=_+" "+v+'="'+r7(E)+'"'}}}var k=_;if(_+=">",r6.test(o))throw Error(o+" is not a valid HTML tag name in "+_);var O="",A=!1;if(y)O+=y,A=!0;else if("string"==typeof b)O+=r7(b),A=!0;else if(ig(b))for(var R=0;R<b.length;R++){var P=b[R];if(null!=P&&!1!==P){var T=e(P,r,"svg"===o||"foreignObject"!==o&&i,n);T&&(O+=T,A=!0)}}else if(null!=b&&!1!==b&&!0!==b){var C=e(b,r,"svg"===o||"foreignObject"!==o&&i,n);C&&(O+=C,A=!0)}if(rM.diffed&&rM.diffed(t),A)_+=O;else if(r4.test(o))return k+" />";return _+"</"+o+">"}(e,t,!1,void 0),rM.__c&&rM.__c(e,ih),rM.__s=n,ih.length=0,i}var ig=Array.isArray,im=Object.assign;ip.shallowRender=function(e,t){return ip(e,t,id)};var ib=0;function iy(e,t,r,i,n){var a,s,o={};for(s in t)"ref"==s?a=t[s]:o[s]=t[s];var l={type:e,props:o,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ib,__source:n,__self:i};if("function"==typeof e&&(a=e.defaultProps))for(s in a)void 0===o[s]&&(o[s]=a[s]);return rM.vnode&&rM.vnode(l),l}async function i_(e,t){let r=window.SimpleWebAuthnBrowser;async function i(r){let i=new URL(`${e}/webauthn-options/${t}`);r&&i.searchParams.append("action",r),a().forEach(e=>{i.searchParams.append(e.name,e.value)});let n=await fetch(i);if(!n.ok){console.error("Failed to fetch options",n);return}return n.json()}function n(){let e=`#${t}-form`,r=document.querySelector(e);if(!r)throw Error(`Form '${e}' not found`);return r}function a(){return Array.from(n().querySelectorAll("input[data-form-field]"))}async function s(e,t){let r=n();if(e){let t=document.createElement("input");t.type="hidden",t.name="action",t.value=e,r.appendChild(t)}if(t){let e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(t),r.appendChild(e)}return r.submit()}async function o(e,t){let i=await r.startAuthentication(e,t);return await s("authenticate",i)}async function l(e){a().forEach(e=>{if(e.required&&!e.value)throw Error(`Missing required field: ${e.name}`)});let t=await r.startRegistration(e);return await s("register",t)}async function c(){if(!r.browserSupportsWebAuthnAutofill())return;let e=await i("authenticate");if(!e){console.error("Failed to fetch option for autofill authentication");return}try{await o(e.options,!0)}catch(e){console.error(e)}}(async function(){let e=n();if(!r.browserSupportsWebAuthn()){e.style.display="none";return}e&&e.addEventListener("submit",async e=>{e.preventDefault();let t=await i(void 0);if(!t){console.error("Failed to fetch options for form submission");return}if("authenticate"===t.action)try{await o(t.options,!1)}catch(e){console.error(e)}else if("register"===t.action)try{await l(t.options)}catch(e){console.error(e)}})})(),c()}let iv={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},ix=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
}

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
  }

  button,
  a.button {
    color: var(--provider-dark-color, var(--color-primary)) !important;
    background-color: var(
      --provider-dark-bg,
      var(--color-background)
    ) !important;
  }

    :is(button,a.button):hover {
      background-color: var(
        --provider-dark-bg-hover,
        var(--color-background-hover)
      ) !important;
    }

    :is(button,a.button) span {
      color: var(--provider-dark-bg) !important;
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: #fff;
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function iw({html:e,title:t,status:r,cookies:i,theme:n,headTags:a}){return{cookies:i,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${ix}</style><title>${t}</title>${a??""}</head><body class="__next-auth-theme-${n?.colorScheme??"auto"}"><div class="page">${ip(e)}</div></body></html>`}}function iS(e){let{url:t,theme:r,query:i,cookies:n,pages:a,providers:s}=e;return{csrf:(e,t,r)=>e?(t.logger.warn("csrf-disabled"),r.push({name:t.cookies.csrfToken.name,value:"",options:{...t.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:r}):{headers:{"Content-Type":"application/json"},body:{csrfToken:t.csrfToken},cookies:r},providers:e=>({headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:r,type:i,signinUrl:n,callbackUrl:a})=>(e[t]={id:t,name:r,type:i,signinUrl:n,callbackUrl:a},e),{})}),signin(t,o){if(t)throw new V("Unsupported action");if(a?.signIn){let t=`${a.signIn}${a.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return o&&(t=`${t}&${new URLSearchParams({error:o})}`),{redirect:t,cookies:n}}let l=s?.find(e=>"webauthn"===e.type&&e.enableConditionalUI&&!!e.simpleWebAuthnBrowserVersion),c="";if(l){let{simpleWebAuthnBrowserVersion:e}=l;c=`<script src="https://unpkg.com/@simplewebauthn/browser@${e}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return iw({cookies:n,theme:r,html:function(e){let{csrfToken:t,providers:r=[],callbackUrl:i,theme:n,email:a,error:s}=e;"undefined"!=typeof document&&n?.brandColor&&document.documentElement.style.setProperty("--brand-color",n.brandColor),"undefined"!=typeof document&&n?.buttonText&&document.documentElement.style.setProperty("--button-text-color",n.buttonText);let o=s&&(iv[s]??iv.default),l=r.find(e=>"webauthn"===e.type&&e.enableConditionalUI)?.id;return iy("div",{className:"signin",children:[n?.brandColor&&iy("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${n.brandColor}}`}}),n?.buttonText&&iy("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${n.buttonText}
        }
      `}}),iy("div",{className:"card",children:[o&&iy("div",{className:"error",children:iy("p",{children:o})}),n?.logo&&iy("img",{src:n.logo,alt:"Logo",className:"logo"}),r.map((e,n)=>{let s,o,l;("oauth"===e.type||"oidc"===e.type)&&({bg:s="#fff",brandColor:o,logo:l=`https://authjs.dev/img/providers/${e.id}.svg`}=e.style??{});let c=o??s??"#fff";return iy("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?iy("form",{action:e.signinUrl,method:"POST",children:[iy("input",{type:"hidden",name:"csrfToken",value:t}),i&&iy("input",{type:"hidden",name:"callbackUrl",value:i}),iy("button",{type:"submit",className:"button",style:{"--provider-bg":"#fff","--provider-bg-hover":`color-mix(in srgb, ${c} 30%, #fff)`,"--provider-dark-bg":"#161b22","--provider-dark-bg-hover":`color-mix(in srgb, ${c} 30%, #000)`},tabIndex:0,children:[iy("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",e.name]}),l&&iy("img",{loading:"lazy",height:24,src:l})]})]}):null,("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&n>0&&"email"!==r[n-1].type&&"credentials"!==r[n-1].type&&"webauthn"!==r[n-1].type&&iy("hr",{}),"email"===e.type&&iy("form",{action:e.signinUrl,method:"POST",children:[iy("input",{type:"hidden",name:"csrfToken",value:t}),iy("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),iy("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:a,placeholder:"email@example.com",required:!0}),iy("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"credentials"===e.type&&iy("form",{action:e.callbackUrl,method:"POST",children:[iy("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>iy("div",{children:[iy("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),iy("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),iy("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"webauthn"===e.type&&iy("form",{action:e.callbackUrl,method:"POST",id:`${e.id}-form`,children:[iy("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.formFields).map(t=>iy("div",{children:[iy("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.formFields[t].label??t}),iy("input",{name:t,"data-form-field":!0,id:`input-${t}-for-${e.id}-provider`,type:e.formFields[t].type??"text",placeholder:e.formFields[t].placeholder??"",...e.formFields[t]})]},`input-group-${e.id}`)),iy("button",{id:`submitButton-${e.id}`,type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&n+1<r.length&&iy("hr",{})]},e.id)})]}),l&&iy(rB,{children:iy("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${i_})(authURL, "${l}");
`}})})]})}({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||"webauthn"===e.type&&e.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:o,...i}),title:"Sign In",headTags:c})},signout:()=>a?.signOut?{redirect:a.signOut,cookies:n}:iw({cookies:n,theme:r,html:function(e){let{url:t,csrfToken:r,theme:i}=e;return iy("div",{className:"signout",children:[i?.brandColor&&iy("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${i.brandColor}
        }
      `}}),i?.buttonText&&iy("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),iy("div",{className:"card",children:[i?.logo&&iy("img",{src:i.logo,alt:"Logo",className:"logo"}),iy("h1",{children:"Signout"}),iy("p",{children:"Are you sure you want to sign out?"}),iy("form",{action:t?.toString(),method:"POST",children:[iy("input",{type:"hidden",name:"csrfToken",value:r}),iy("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:e=>a?.verifyRequest?{redirect:a.verifyRequest,cookies:n}:iw({cookies:n,theme:r,html:function(e){let{url:t,theme:r}=e;return iy("div",{className:"verify-request",children:[r.brandColor&&iy("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),iy("div",{className:"card",children:[r.logo&&iy("img",{src:r.logo,alt:"Logo",className:"logo"}),iy("h1",{children:"Check your email"}),iy("p",{children:"A sign in link has been sent to your email address."}),iy("p",{children:iy("a",{className:"site",href:t.origin,children:t.host})})]})]})}({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>a?.error?{redirect:`${a.error}${a.error.includes("?")?"&":"?"}error=${e}`,cookies:n}:iw({cookies:n,theme:r,...function(e){let{url:t,error:r="default",theme:i}=e,n=`${t}/signin`,a={default:{status:200,heading:"Error",message:iy("p",{children:iy("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:iy("div",{children:[iy("p",{children:"There is a problem with the server configuration."}),iy("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:iy("div",{children:[iy("p",{children:"You do not have permission to sign in."}),iy("p",{children:iy("a",{className:"button",href:n,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:iy("div",{children:[iy("p",{children:"The sign in link is no longer valid."}),iy("p",{children:"It may have been used already or it may have expired."})]}),signin:iy("a",{className:"button",href:n,children:"Sign in"})}},{status:s,heading:o,message:l,signin:c}=a[r]??a.default;return{status:s,html:iy("div",{className:"error",children:[i?.brandColor&&iy("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${i?.brandColor}
        }
      `}}),iy("div",{className:"card",children:[i?.logo&&iy("img",{src:i?.logo,alt:"Logo",className:"logo"}),iy("h1",{children:o}),iy("div",{className:"message",children:l}),c]})]})}}({url:t,theme:r,error:e}),title:"Error"})}}function iE(e,t=Date.now()){return new Date(t+1e3*e)}async function ik(e,t,r,i){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:n,jwt:a,events:s,session:{strategy:o,generateSessionToken:l}}=i;if(!n)return{user:t,account:r};let c=r,{createUser:u,updateUser:d,getUser:h,getUserByAccount:f,getUserByEmail:p,linkAccount:g,createSession:m,getSessionAndUser:b,deleteSession:y}=n,_=null,v=null,x=!1,w="jwt"===o;if(e){if(w)try{let t=i.cookies.sessionToken.name;(_=await a.decode({...a,token:e,salt:t}))&&"sub"in _&&_.sub&&(v=await h(_.sub))}catch{}else{let t=await b(e);t&&(_=t.session,v=t.user)}}if("email"===c.type){let r=await p(t.email);return r?(v?.id!==r.id&&!w&&e&&await y(e),v=await d({id:r.id,emailVerified:new Date}),await s.updateUser?.({user:v})):(v=await u({...t,emailVerified:new Date}),await s.createUser?.({user:v}),x=!0),{session:_=w?{}:await m({sessionToken:l(),userId:v.id,expires:iE(i.session.maxAge)}),user:v,isNewUser:x}}if("webauthn"===c.type){let e=await f({providerAccountId:c.providerAccountId,provider:c.provider});if(e){if(v){if(e.id===v.id){let e={...c,userId:v.id};return{session:_,user:v,isNewUser:x,account:e}}throw new et("The account is already associated with another user",{provider:c.provider})}_=w?{}:await m({sessionToken:l(),userId:e.id,expires:iE(i.session.maxAge)});let t={...c,userId:e.id};return{session:_,user:e,isNewUser:x,account:t}}{if(v){await g({...c,userId:v.id}),await s.linkAccount?.({user:v,account:c,profile:t});let e={...c,userId:v.id};return{session:_,user:v,isNewUser:x,account:e}}if(t.email?await p(t.email):null)throw new et("Another account already exists with the same e-mail address",{provider:c.provider});v=await u({...t}),await s.createUser?.({user:v}),await g({...c,userId:v.id}),await s.linkAccount?.({user:v,account:c,profile:t}),_=w?{}:await m({sessionToken:l(),userId:v.id,expires:iE(i.session.maxAge)});let e={...c,userId:v.id};return{session:_,user:v,isNewUser:!0,account:e}}}let S=await f({providerAccountId:c.providerAccountId,provider:c.provider});if(S){if(v){if(S.id===v.id)return{session:_,user:v,isNewUser:x};throw new U("The account is already associated with another user",{provider:c.provider})}return{session:_=w?{}:await m({sessionToken:l(),userId:S.id,expires:iE(i.session.maxAge)}),user:S,isNewUser:x}}{let{provider:e}=i,{type:r,provider:n,providerAccountId:a,userId:o,...d}=c;if(c=Object.assign(e.account(d)??{},{providerAccountId:a,provider:n,type:r,userId:o}),v)return await g({...c,userId:v.id}),await s.linkAccount?.({user:v,account:c,profile:t}),{session:_,user:v,isNewUser:x};let h=t.email?await p(t.email):null;if(h){let e=i.provider;if(e?.allowDangerousEmailAccountLinking)v=h,x=!1;else throw new U("Another account already exists with the same e-mail address",{provider:c.provider})}else v=await u({...t,emailVerified:null}),x=!0;return await s.createUser?.({user:v}),await g({...c,userId:v.id}),await s.linkAccount?.({user:v,account:c,profile:t}),{session:_=w?{}:await m({sessionToken:l(),userId:v.id,expires:iE(i.session.maxAge)}),user:v,isNewUser:x}}}function iO(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(a="oauth4webapi/v3.5.1");let iA="ERR_INVALID_ARG_VALUE",iR="ERR_INVALID_ARG_TYPE";function iP(e,t,r){let i=TypeError(e,{cause:r});return Object.assign(i,{code:t}),i}let iT=Symbol(),iC=Symbol(),iM=Symbol(),ij=Symbol(),iD=Symbol(),iN=Symbol(),iI=Symbol(),iL=new TextEncoder,iU=new TextDecoder;function i$(e){return"string"==typeof e?iL.encode(e):iU.decode(e)}function iH(e){return"string"==typeof e?function(e){try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw iP("The input to be decoded is not correctly encoded.",iA,e)}}(e):function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(e)}class iF extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=nX,Error.captureStackTrace?.(this,this.constructor)}}class iB extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,t?.code&&(this.code=t?.code),Error.captureStackTrace?.(this,this.constructor)}}function iW(e,t,r){return new iB(e,{code:t,cause:r})}function iz(e,t){if(!(e instanceof CryptoKey))throw iP(`${t} must be a CryptoKey`,iR)}function iV(e,t){if(iz(e,t),"private"!==e.type)throw iP(`${t} must be a private CryptoKey`,iA)}function iq(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function iK(e){iO(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e);if(a&&!t.has("user-agent")&&t.set("user-agent",a),t.has("authorization"))throw iP('"options.headers" must not include the "authorization" header name',iA);return t}function iG(e){if("function"==typeof e&&(e=e()),!(e instanceof AbortSignal))throw iP('"options.signal" must return or be an instance of AbortSignal',iR);return e}function iJ(e){return e.includes("//")?e.replace("//","/"):e}async function iX(e,t,r,i){if(!(e instanceof URL))throw iP(`"${t}" must be an instance of URL`,iR);ns(e,i?.[iT]!==!0);let n=r(new URL(e.href)),a=iK(i?.headers);return a.set("accept","application/json"),(i?.[ij]||fetch)(n.href,{body:void 0,headers:Object.fromEntries(a.entries()),method:"GET",redirect:"manual",signal:i?.signal?iG(i.signal):void 0})}async function iY(e,t){return iX(e,"issuerIdentifier",e=>{switch(t?.algorithm){case void 0:case"oidc":e.pathname=iJ(`${e.pathname}/.well-known/openid-configuration`);break;case"oauth2":var r,i;i=".well-known/oauth-authorization-server","/"===(r=e).pathname?r.pathname=i:r.pathname=iJ(`${i}/${r.pathname}`);break;default:throw iP('"options.algorithm" must be "oidc" (default), or "oauth2"',iA)}return e},t)}function iZ(e,t,r,i,n){try{if("number"!=typeof e||!Number.isFinite(e))throw iP(`${r} must be a number`,iR,n);if(e>0)return;if(t){if(0!==e)throw iP(`${r} must be a non-negative number`,iA,n);return}throw iP(`${r} must be a positive number`,iA,n)}catch(e){if(i)throw iW(e.message,i,n);throw e}}function iQ(e,t,r,i){try{if("string"!=typeof e)throw iP(`${t} must be a string`,iR,i);if(0===e.length)throw iP(`${t} must not be empty`,iA,i)}catch(e){if(r)throw iW(e.message,r,i);throw e}}async function i0(e,t){if(!(e instanceof URL)&&e!==aE)throw iP('"expectedIssuerIdentifier" must be an instance of URL',iR);if(!iO(t,Response))throw iP('"response" must be an instance of Response',iR);if(200!==t.status)throw iW('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',n5,t);ai(t);let r=await aw(t);if(iQ(r.issuer,'"response" body "issuer" property',n0,{body:r}),e!==aE&&new URL(r.issuer).href!==e.href)throw iW('"response" body "issuer" property does not match the expected value',n9,{expected:e.href,body:r,attribute:"issuer"});return r}function i1(e){(function(e,t){if(nO(e)!==t)throw i2(e,t)})(e,"application/json")}function i2(e,...t){let r='"response" content-type must be ';if(t.length>2){let e=t.pop();r+=`${t.join(", ")}, or ${e}`}else 2===t.length?r+=`${t[0]} or ${t[1]}`:r+=t[0];return iW(r,n2,e)}function i5(){return iH(crypto.getRandomValues(new Uint8Array(32)))}async function i3(e){return iQ(e,"codeVerifier"),iH(await crypto.subtle.digest("SHA-256",i$(e)))}function i4(e){switch(e.algorithm.name){case"RSA-PSS":return function(e){switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new iF("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}}(e);case"RSASSA-PKCS1-v1_5":return function(e){switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new iF("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}}(e);case"ECDSA":return function(e){switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new iF("unsupported EcKeyAlgorithm namedCurve",{cause:e})}}(e);case"Ed25519":case"EdDSA":return"Ed25519";default:throw new iF("unsupported CryptoKey algorithm name",{cause:e})}}function i6(e){let t=e?.[iC];return"number"==typeof t&&Number.isFinite(t)?t:0}function i8(e){let t=e?.[iM];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function i9(){return Math.floor(Date.now()/1e3)}function i7(e){if("object"!=typeof e||null===e)throw iP('"as" must be an object',iR);iQ(e.issuer,'"as.issuer"')}function ne(e){if("object"!=typeof e||null===e)throw iP('"client" must be an object',iR);iQ(e.client_id,'"client.client_id"')}function nt(e,t){let r=i9()+i6(t);return{jti:i5(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}async function nr(e,t,r){if(!r.usages.includes("sign"))throw iP('CryptoKey instances used for signing assertions must include "sign" in their "usages"',iA);let i=`${iH(i$(JSON.stringify(e)))}.${iH(i$(JSON.stringify(t)))}`,n=iH(await crypto.subtle.sign(al(r),r,i$(i)));return`${i}.${n}`}async function ni(e){let{kty:t,e:r,n:i,x:n,y:a,crv:o}=await crypto.subtle.exportKey("jwk",e),l={kty:t,e:r,n:i,x:n,y:a,crv:o};return s.set(e,l),l}async function nn(e){return(s||=new WeakMap).get(e)||ni(e)}let na=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function ns(e,t){if(t&&"https:"!==e.protocol)throw iW("only requests to HTTPS are allowed",n3,e);if("https:"!==e.protocol&&"http:"!==e.protocol)throw iW("only HTTP and HTTPS requests are allowed",n4,e)}function no(e,t,r,i){let n;if("string"!=typeof e||!(n=na(e)))throw iW(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,void 0===e?ae:at,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return ns(n,i),n}function nl(e,t,r,i){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?no(e.mtls_endpoint_aliases[t],t,r,i):no(e[t],t,r,i)}class nc extends Error{cause;code;error;status;error_description;response;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=nJ,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),Error.captureStackTrace?.(this,this.constructor)}}class nu extends Error{cause;code;error;error_description;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=nY,this.cause=t.cause,this.error=t.cause.get("error"),this.error_description=t.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class nd extends Error{cause;code;response;status;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=nG,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let nh="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",nf=RegExp("^[,\\s]*("+nh+")\\s(.*)"),np=RegExp("^[,\\s]*("+nh+')\\s*=\\s*"((?:[^"\\\\]|\\\\.)*)"[,\\s]*(.*)'),ng=RegExp("^[,\\s]*"+("("+nh+")\\s*=\\s*(")+nh+")[,\\s]*(.*)"),nm=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+[=]{0,2})(?:$|[,\\s])(.*)");async function nb(e){if(e.status>399&&e.status<500){ai(e),i1(e);try{let t=await e.clone().json();if(iq(t)&&"string"==typeof t.error&&t.error.length)return t}catch{}}}async function ny(e,t,r){if(e.status!==t){let t;if(t=await nb(e))throw await e.body?.cancel(),new nc("server responded with an error in the response body",{cause:t,response:e});throw iW(`"response" is not a conform ${r} response (unexpected HTTP status code)`,n5,e)}}function n_(e){if(!n$.has(e))throw iP('"options.DPoP" is not a valid DPoPHandle',iA)}async function nv(e,t,r,i,n,a){if(iQ(e,'"accessToken"'),!(r instanceof URL))throw iP('"url" must be an instance of URL',iR);ns(r,a?.[iT]!==!0),i=iK(i),a?.DPoP&&(n_(a.DPoP),await a.DPoP.addProof(r,i,t.toUpperCase(),e)),i.set("authorization",`${i.has("dpop")?"DPoP":"Bearer"} ${e}`);let s=await (a?.[ij]||fetch)(r.href,{body:n,headers:Object.fromEntries(i.entries()),method:t,redirect:"manual",signal:a?.signal?iG(a.signal):void 0});return a?.DPoP?.cacheNonce(s),s}async function nx(e,t,r,i){i7(e),ne(t);let n=nl(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,i?.[iT]!==!0),a=iK(i?.headers);return t.userinfo_signed_response_alg?a.set("accept","application/jwt"):(a.set("accept","application/json"),a.append("accept","application/jwt")),nv(r,"GET",n,a,null,{...i,[iC]:i6(t)})}function nw(e,t,r,i){(o||=new WeakMap).set(e,{jwks:t,uat:r,get age(){return i9()-this.uat}}),i&&Object.assign(i,{jwks:structuredClone(t),uat:r})}function nS(e,t){o?.delete(e),delete t?.jwks,delete t?.uat}async function nE(e,t,r){var i;let n,a,s;let{alg:l,kid:c}=r;if(function(e){if(!as(e.alg))throw new iF('unsupported JWS "alg" identifier',{cause:{alg:e.alg}})}(r),!o?.has(e)&&!("object"!=typeof(i=t?.[iI])||null===i||!("uat"in i)||"number"!=typeof i.uat||i9()-i.uat>=300)&&"jwks"in i&&iq(i.jwks)&&Array.isArray(i.jwks.keys)&&Array.prototype.every.call(i.jwks.keys,iq)&&nw(e,t?.[iI].jwks,t?.[iI].uat),o?.has(e)){if({jwks:n,age:a}=o.get(e),a>=300)return nS(e,t?.[iI]),nE(e,t,r)}else n=await an(e,t).then(aa),a=0,nw(e,n,i9(),t?.[iI]);switch(l.slice(0,2)){case"RS":case"PS":s="RSA";break;case"ES":s="EC";break;case"Ed":s="OKP";break;default:throw new iF("unsupported JWS algorithm",{cause:{alg:l}})}let u=n.keys.filter(e=>{if(e.kty!==s||void 0!==c&&c!==e.kid||void 0!==e.alg&&l!==e.alg||void 0!==e.use&&"sig"!==e.use||e.key_ops?.includes("verify")===!1)return!1;switch(!0){case"ES256"===l&&"P-256"!==e.crv:case"ES384"===l&&"P-384"!==e.crv:case"ES512"===l&&"P-521"!==e.crv:case"Ed25519"===l&&"Ed25519"!==e.crv:case"EdDSA"===l&&"Ed25519"!==e.crv:return!1}return!0}),{0:d,length:h}=u;if(!h){if(a>=60)return nS(e,t?.[iI]),nE(e,t,r);throw iW("error when selecting a JWT verification key, no applicable keys found",n7,{header:r,candidates:u,jwks_uri:new URL(e.jwks_uri)})}if(1!==h)throw iW('error when selecting a JWT verification key, multiple applicable keys found, a "kid" JWT Header Parameter is required',n7,{header:r,candidates:u,jwks_uri:new URL(e.jwks_uri)});return av(l,d)}let nk=Symbol();function nO(e){return e.headers.get("content-type")?.split(";")[0]}async function nA(e,t,r,i,n){let a;if(i7(e),ne(t),!iO(i,Response))throw iP('"response" must be an instance of Response',iR);if(nD(i),200!==i.status)throw iW('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',n5,i);if(ai(i),"application/jwt"===nO(i)){let{claims:r,jwt:s}=await au(await i.text(),ag.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),i6(t),i8(t),n?.[iN]).then(nN.bind(void 0,t.client_id)).then(nL.bind(void 0,e));nC.set(i,s),a=r}else{if(t.userinfo_signed_response_alg)throw iW("JWT UserInfo Response expected",nZ,i);a=await aw(i)}if(iQ(a.sub,'"response" body "sub" property',n0,{body:a}),r===nk);else if(iQ(r,'"expectedSubject"'),a.sub!==r)throw iW('unexpected "response" body "sub" property value',n9,{expected:r,body:a,attribute:"sub"});return a}async function nR(e,t,r,i,n,a,s){return await r(e,t,n,a),a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(s?.[ij]||fetch)(i.href,{body:n,headers:Object.fromEntries(a.entries()),method:"POST",redirect:"manual",signal:s?.signal?iG(s.signal):void 0})}async function nP(e,t,r,i,n,a){let s=nl(e,"token_endpoint",t.use_mtls_endpoint_aliases,a?.[iT]!==!0);n.set("grant_type",i);let o=iK(a?.headers);o.set("accept","application/json"),a?.DPoP!==void 0&&(n_(a.DPoP),await a.DPoP.addProof(s,o,"POST"));let l=await nR(e,t,r,s,n,o,a);return a?.DPoP?.cacheNonce(l),l}let nT=new WeakMap,nC=new WeakMap;function nM(e){if(!e.id_token)return;let t=nT.get(e);if(!t)throw iP('"ref" was already garbage collected or did not resolve from the proper sources',iA);return t}async function nj(e,t,r,i,n){if(i7(e),ne(t),!iO(r,Response))throw iP('"response" must be an instance of Response',iR);nD(r),await ny(r,200,"Token Endpoint"),ai(r);let a=await aw(r);if(iQ(a.access_token,'"response" body "access_token" property',n0,{body:a}),iQ(a.token_type,'"response" body "token_type" property',n0,{body:a}),a.token_type=a.token_type.toLowerCase(),"dpop"!==a.token_type&&"bearer"!==a.token_type)throw new iF("unsupported `token_type` value",{cause:{body:a}});if(void 0!==a.expires_in){let e="number"!=typeof a.expires_in?parseFloat(a.expires_in):a.expires_in;iZ(e,!1,'"response" body "expires_in" property',n0,{body:a}),a.expires_in=e}if(void 0!==a.refresh_token&&iQ(a.refresh_token,'"response" body "refresh_token" property',n0,{body:a}),void 0!==a.scope&&"string"!=typeof a.scope)throw iW('"response" body "scope" property must be a string',n0,{body:a});if(void 0!==a.id_token){iQ(a.id_token,'"response" body "id_token" property',n0,{body:a});let s=["aud","exp","iat","iss","sub"];!0===t.require_auth_time&&s.push("auth_time"),void 0!==t.default_max_age&&(iZ(t.default_max_age,!1,'"client.default_max_age"'),s.push("auth_time")),i?.length&&s.push(...i);let{claims:o,jwt:l}=await au(a.id_token,ag.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),i6(t),i8(t),n?.[iN]).then(nB.bind(void 0,s)).then(nU.bind(void 0,e)).then(nI.bind(void 0,t.client_id));if(Array.isArray(o.aud)&&1!==o.aud.length){if(void 0===o.azp)throw iW('ID Token "aud" (audience) claim includes additional untrusted audiences',n8,{claims:o,claim:"aud"});if(o.azp!==t.client_id)throw iW('unexpected ID Token "azp" (authorized party) claim value',n8,{expected:t.client_id,claims:o,claim:"azp"})}void 0!==o.auth_time&&iZ(o.auth_time,!1,'ID Token "auth_time" (authentication time)',n0,{claims:o}),nC.set(r,l),nT.set(a,o)}return a}function nD(e){let t;if(t=function(e){if(!iO(e,Response))throw iP('"response" must be an instance of Response',iR);let t=e.headers.get("www-authenticate");if(null===t)return;let r=[],i=t;for(;i;){let e,t=i.match(nf),n=t?.["1"].toLowerCase();if(i=t?.["2"],!n)return;let a={};for(;i;){let r,n;if(t=i.match(np)){if([,r,n,i]=t,n.includes("\\"))try{n=JSON.parse(`"${n}"`)}catch{}a[r.toLowerCase()]=n;continue}if(t=i.match(ng)){[,r,n,i]=t,a[r.toLowerCase()]=n;continue}if(t=i.match(nm)){if(Object.keys(a).length)break;[,e,i]=t;break}return}let s={scheme:n,parameters:a};e&&(s.token68=e),r.push(s)}if(r.length)return r}(e))throw new nd("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:t,response:e})}function nN(e,t){return void 0!==t.claims.aud?nI(e,t):t}function nI(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw iW('unexpected JWT "aud" (audience) claim value',n8,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw iW('unexpected JWT "aud" (audience) claim value',n8,{expected:e,claims:t.claims,claim:"aud"});return t}function nL(e,t){return void 0!==t.claims.iss?nU(e,t):t}function nU(e,t){let r=e[ak]?.(t)??e.issuer;if(t.claims.iss!==r)throw iW('unexpected JWT "iss" (issuer) claim value',n8,{expected:r,claims:t.claims,claim:"iss"});return t}let n$=new WeakSet;async function nH(e,t,r,i,n,a,s){if(i7(e),ne(t),!n$.has(i))throw iP('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',iA);iQ(n,'"redirectUri"');let o=am(i,"code");if(!o)throw iW('no authorization code in "callbackParameters"',n0);let l=new URLSearchParams(s?.additionalParameters);return l.set("redirect_uri",n),l.set("code",o),a!==aS&&(iQ(a,'"codeVerifier"'),l.set("code_verifier",a)),nP(e,t,r,"authorization_code",l,s)}let nF={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function nB(e,t){for(let r of e)if(void 0===t.claims[r])throw iW(`JWT "${r}" (${nF[r]}) claim missing`,n0,{claims:t.claims});return t}let nW=Symbol(),nz=Symbol();async function nV(e,t,r,i){return"string"==typeof i?.expectedNonce||"number"==typeof i?.maxAge||i?.requireIdToken?nq(e,t,r,i.expectedNonce,i.maxAge,{[iN]:i[iN]}):nK(e,t,r,i)}async function nq(e,t,r,i,n,a){let s=[];switch(i){case void 0:i=nW;break;case nW:break;default:iQ(i,'"expectedNonce" argument'),s.push("nonce")}switch(n??=t.default_max_age){case void 0:n=nz;break;case nz:break;default:iZ(n,!1,'"maxAge" argument'),s.push("auth_time")}let o=await nj(e,t,r,s,a);iQ(o.id_token,'"response" body "id_token" property',n0,{body:o});let l=nM(o);if(n!==nz){let e=i9()+i6(t),r=i8(t);if(l.auth_time+n<e-r)throw iW("too much time has elapsed since the last End-User authentication",n6,{claims:l,now:e,tolerance:r,claim:"auth_time"})}if(i===nW){if(void 0!==l.nonce)throw iW('unexpected ID Token "nonce" claim value',n8,{expected:void 0,claims:l,claim:"nonce"})}else if(l.nonce!==i)throw iW('unexpected ID Token "nonce" claim value',n8,{expected:i,claims:l,claim:"nonce"});return o}async function nK(e,t,r,i){let n=await nj(e,t,r,void 0,i),a=nM(n);if(a){if(void 0!==t.default_max_age){iZ(t.default_max_age,!1,'"client.default_max_age"');let e=i9()+i6(t),r=i8(t);if(a.auth_time+t.default_max_age<e-r)throw iW("too much time has elapsed since the last End-User authentication",n6,{claims:a,now:e,tolerance:r,claim:"auth_time"})}if(void 0!==a.nonce)throw iW('unexpected ID Token "nonce" claim value',n8,{expected:void 0,claims:a,claim:"nonce"})}return n}let nG="OAUTH_WWW_AUTHENTICATE_CHALLENGE",nJ="OAUTH_RESPONSE_BODY_ERROR",nX="OAUTH_UNSUPPORTED_OPERATION",nY="OAUTH_AUTHORIZATION_RESPONSE_ERROR",nZ="OAUTH_JWT_USERINFO_EXPECTED",nQ="OAUTH_PARSE_ERROR",n0="OAUTH_INVALID_RESPONSE",n1="OAUTH_INVALID_REQUEST",n2="OAUTH_RESPONSE_IS_NOT_JSON",n5="OAUTH_RESPONSE_IS_NOT_CONFORM",n3="OAUTH_HTTP_REQUEST_FORBIDDEN",n4="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",n6="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",n8="OAUTH_JWT_CLAIM_COMPARISON_FAILED",n9="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",n7="OAUTH_KEY_SELECTION_FAILED",ae="OAUTH_MISSING_SERVER_METADATA",at="OAUTH_INVALID_SERVER_METADATA";function ar(e,t){if("string"!=typeof t.header.typ||t.header.typ.toLowerCase().replace(/^application\//,"")!==e)throw iW('unexpected JWT "typ" header parameter value',n0,{header:t.header});return t}function ai(e){if(e.bodyUsed)throw iP('"response" body has been used already',iA)}async function an(e,t){i7(e);let r=nl(e,"jwks_uri",!1,t?.[iT]!==!0),i=iK(t?.headers);return i.set("accept","application/json"),i.append("accept","application/jwk-set+json"),(t?.[ij]||fetch)(r.href,{body:void 0,headers:Object.fromEntries(i.entries()),method:"GET",redirect:"manual",signal:t?.signal?iG(t.signal):void 0})}async function aa(e){if(!iO(e,Response))throw iP('"response" must be an instance of Response',iR);if(200!==e.status)throw iW('"response" is not a conform JSON Web Key Set response (unexpected HTTP status code)',n5,e);ai(e);let t=await aw(e,e=>(function(e,...t){if(!t.includes(nO(e)))throw i2(e,...t)})(e,"application/json","application/jwk-set+json"));if(!Array.isArray(t.keys))throw iW('"response" body "keys" property must be an array',n0,{body:t});if(!Array.prototype.every.call(t.keys,iq))throw iW('"response" body "keys" property members must be JWK formatted objects',n0,{body:t});return t}function as(e){switch(e){case"PS256":case"ES256":case"RS256":case"PS384":case"ES384":case"RS384":case"PS512":case"ES512":case"RS512":case"Ed25519":case"EdDSA":return!0;default:return!1}}function ao(e){let{algorithm:t}=e;if("number"!=typeof t.modulusLength||t.modulusLength<2048)throw new iF(`unsupported ${t.name} modulusLength`,{cause:e})}function al(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(e){let{algorithm:t}=e;switch(t.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new iF("unsupported ECDSA namedCurve",{cause:e})}}(e)};case"RSA-PSS":switch(ao(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new iF("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return ao(e),e.algorithm.name;case"Ed25519":return e.algorithm.name}throw new iF("unsupported CryptoKey algorithm name",{cause:e})}async function ac(e,t,r,i){let n=i$(`${e}.${t}`),a=al(r);if(!await crypto.subtle.verify(a,r,i,n))throw iW("JWT signature verification failed",n0,{key:r,data:n,signature:i,algorithm:a})}async function au(e,t,r,i,n){let a,s,{0:o,1:l,length:c}=e.split(".");if(5===c){if(void 0!==n)e=await n(e),{0:o,1:l,length:c}=e.split(".");else throw new iF("JWE decryption is not configured",{cause:e})}if(3!==c)throw iW("Invalid JWT",n0,e);try{a=JSON.parse(i$(iH(o)))}catch(e){throw iW("failed to parse JWT Header body as base64url encoded JSON",nQ,e)}if(!iq(a))throw iW("JWT Header must be a top level object",n0,e);if(t(a),void 0!==a.crit)throw new iF('no JWT "crit" header parameter extensions are supported',{cause:{header:a}});try{s=JSON.parse(i$(iH(l)))}catch(e){throw iW("failed to parse JWT Payload body as base64url encoded JSON",nQ,e)}if(!iq(s))throw iW("JWT Payload must be a top level object",n0,e);let u=i9()+r;if(void 0!==s.exp){if("number"!=typeof s.exp)throw iW('unexpected JWT "exp" (expiration time) claim type',n0,{claims:s});if(s.exp<=u-i)throw iW('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',n6,{claims:s,now:u,tolerance:i,claim:"exp"})}if(void 0!==s.iat&&"number"!=typeof s.iat)throw iW('unexpected JWT "iat" (issued at) claim type',n0,{claims:s});if(void 0!==s.iss&&"string"!=typeof s.iss)throw iW('unexpected JWT "iss" (issuer) claim type',n0,{claims:s});if(void 0!==s.nbf){if("number"!=typeof s.nbf)throw iW('unexpected JWT "nbf" (not before) claim type',n0,{claims:s});if(s.nbf>u+i)throw iW('unexpected JWT "nbf" (not before) claim value',n6,{claims:s,now:u,tolerance:i,claim:"nbf"})}if(void 0!==s.aud&&"string"!=typeof s.aud&&!Array.isArray(s.aud))throw iW('unexpected JWT "aud" (audience) claim type',n0,{claims:s});return{header:a,claims:s,jwt:e}}async function ad(e,t,r){let i;switch(t.alg){case"RS256":case"PS256":case"ES256":i="SHA-256";break;case"RS384":case"PS384":case"ES384":i="SHA-384";break;case"RS512":case"PS512":case"ES512":case"Ed25519":case"EdDSA":i="SHA-512";break;default:throw new iF(`unsupported JWS algorithm for ${r} calculation`,{cause:{alg:t.alg}})}let n=await crypto.subtle.digest(i,i$(e));return iH(n.slice(0,n.byteLength/2))}async function ah(e,t,r,i){return t===await ad(e,r,i)}async function af(e){if(e.bodyUsed)throw iP("form_post Request instances must contain a readable body",iA,{cause:e});return e.text()}async function ap(e){if("POST"!==e.method)throw iP("form_post responses are expected to use the POST method",iA,{cause:e});if("application/x-www-form-urlencoded"!==nO(e))throw iP("form_post responses are expected to use the application/x-www-form-urlencoded content-type",iA,{cause:e});return af(e)}function ag(e,t,r,i){if(void 0!==e){if("string"==typeof e?i.alg!==e:!e.includes(i.alg))throw iW('unexpected JWT "alg" header parameter',n0,{header:i,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(i.alg))throw iW('unexpected JWT "alg" header parameter',n0,{header:i,expected:t,reason:"authorization server metadata"});return}if(void 0!==r){if("string"==typeof r?i.alg!==r:"function"==typeof r?!r(i.alg):!r.includes(i.alg))throw iW('unexpected JWT "alg" header parameter',n0,{header:i,expected:r,reason:"default value"});return}throw iW('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function am(e,t){let{0:r,length:i}=e.getAll(t);if(i>1)throw iW(`"${t}" parameter must be provided only once`,n0);return r}let ab=Symbol(),ay=Symbol();function a_(e,t,r,i){var n;if(i7(e),ne(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw iP('"parameters" must be an instance of URLSearchParams, or URL',iR);if(am(r,"response"))throw iW('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',n0,{parameters:r});let a=am(r,"iss"),s=am(r,"state");if(!a&&e.authorization_response_iss_parameter_supported)throw iW('response parameter "iss" (issuer) missing',n0,{parameters:r});if(a&&a!==e.issuer)throw iW('unexpected "iss" (issuer) response parameter value',n0,{expected:e.issuer,parameters:r});switch(i){case void 0:case ay:if(void 0!==s)throw iW('unexpected "state" response parameter encountered',n0,{expected:void 0,parameters:r});break;case ab:break;default:if(iQ(i,'"expectedState" argument'),s!==i)throw iW(void 0===s?'response parameter "state" missing':'unexpected "state" response parameter value',n0,{expected:i,parameters:r})}if(am(r,"error"))throw new nu("authorization response from the server is an error",{cause:r});let o=am(r,"id_token"),l=am(r,"token");if(void 0!==o||void 0!==l)throw new iF("implicit and hybrid flows are not supported");return n=new URLSearchParams(r),n$.add(n),n}async function av(e,t){let{ext:r,key_ops:i,use:n,...a}=t;return crypto.subtle.importKey("jwk",a,function(e){switch(e){case"PS256":case"PS384":case"PS512":return{name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`};case"RS256":case"RS384":case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`};case"ES256":case"ES384":return{name:"ECDSA",namedCurve:`P-${e.slice(-3)}`};case"ES512":return{name:"ECDSA",namedCurve:"P-521"};case"Ed25519":case"EdDSA":return"Ed25519";default:throw new iF("unsupported JWS algorithm",{cause:{alg:e}})}}(e),!0,["verify"])}function ax(e){let t=new URL(e);return t.search="",t.hash="",t.href}async function aw(e,t=i1){let r;try{r=await e.json()}catch(r){throw t(e),iW('failed to parse "response" body as JSON',nQ,r)}if(!iq(r))throw iW('"response" body must be a top level object',n0,{body:r});return r}let aS=Symbol(),aE=Symbol(),ak=Symbol();async function aO(e,t,r){let{cookies:i,logger:n}=r,a=i[e],s=new Date;s.setTime(s.getTime()+9e5),n.debug(`CREATE_${e.toUpperCase()}`,{name:a.name,payload:t,COOKIE_TTL:900,expires:s});let o=await t8({...r.jwt,maxAge:900,token:{value:t},salt:a.name}),l={...a.options,expires:s};return{name:a.name,value:o,options:l}}async function aA(e,t,r){try{let{logger:i,cookies:n,jwt:a}=r;if(i.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new M(`${e} cookie was missing`);let s=await t9({...a,token:t,salt:n[e].name});if(s?.value)return s.value;throw Error("Invalid cookie")}catch(t){throw new M(`${e} value could not be parsed`,{cause:t})}}function aR(e,t,r){let{logger:i,cookies:n}=t,a=n[e];i.debug(`CLEAR_${e.toUpperCase()}`,{cookie:a}),r.push({name:a.name,value:"",options:{...n[e].options,maxAge:0}})}function aP(e,t){return async function(r,i,n){let{provider:a,logger:s}=n;if(!a?.checks?.includes(e))return;let o=r?.[n.cookies[t].name];s.debug(`USE_${t.toUpperCase()}`,{value:o});let l=await aA(t,o,n);return aR(t,n,i),l}}let aT={async create(e){let t=i5(),r=await i3(t);return{cookie:await aO("pkceCodeVerifier",t,e),value:r}},use:aP("pkce","pkceCodeVerifier")},aC="encodedState",aM={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new M("State data was provided but the provider is not configured to use state");return}let i={origin:t,random:i5()},n=await t8({secret:e.jwt.secret,token:i,salt:aC,maxAge:900});return{cookie:await aO("state",n,e),value:n}},use:aP("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await t9({secret:t.jwt.secret,token:e,salt:aC});if(r)return r;throw Error("Invalid state")}catch(e){throw new M("State could not be decoded",{cause:e})}}},aj={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=i5();return{cookie:await aO("nonce",t,e),value:t}},use:aP("nonce","nonce")},aD="encodedWebauthnChallenge",aN={create:async(e,t,r)=>({cookie:await aO("webauthnChallenge",await t8({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:aD,maxAge:900}),e)}),async use(e,t,r){let i=t?.[e.cookies.webauthnChallenge.name],n=await aA("webauthnChallenge",i,e),a=await t9({secret:e.jwt.secret,token:n,salt:aD});if(aR("webauthnChallenge",e,r),!a)throw new M("WebAuthn challenge was missing");return a}};function aI(e){return encodeURIComponent(e).replace(/%20/g,"+")}async function aL(e,t,r){let i,n,a;let{logger:s,provider:o}=r,{token:l,userinfo:c}=o;if(l?.url&&"authjs.dev"!==l.url.host||c?.url&&"authjs.dev"!==c.url.host)i={issuer:o.issuer??"https://authjs.dev",token_endpoint:l?.url.toString(),userinfo_endpoint:c?.url.toString()};else{let e=new URL(o.issuer),t=await iY(e,{[iT]:!0,[ij]:o[rb]});if(!(i=await i0(e,t)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!i.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let u={client_id:o.clientId,...o.client};switch(u.token_endpoint_auth_method){case void 0:case"client_secret_basic":n=(e,t,r,i)=>{i.set("authorization",function(e,t){let r=aI(e),i=aI(t),n=btoa(`${r}:${i}`);return`Basic ${n}`}(o.clientId,o.clientSecret))};break;case"client_secret_post":var d;iQ(d=o.clientSecret,'"clientSecret"'),n=(e,t,r,i)=>{r.set("client_id",t.client_id),r.set("client_secret",d)};break;case"client_secret_jwt":n=function(e,t){let r;iQ(e,'"clientSecret"');let i=void 0;return async(t,n,a,s)=>{r||=await crypto.subtle.importKey("raw",i$(e),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let o={alg:"HS256"},l=nt(t,n);i?.(o,l);let c=`${iH(i$(JSON.stringify(o)))}.${iH(i$(JSON.stringify(l)))}`,u=await crypto.subtle.sign(r.algorithm,r,i$(c));a.set("client_id",n.client_id),a.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.set("client_assertion",`${c}.${iH(new Uint8Array(u))}`)}}(o.clientSecret);break;case"private_key_jwt":n=function(e,t){var r;let{key:i,kid:n}=(r=e)instanceof CryptoKey?{key:r}:r?.key instanceof CryptoKey?(void 0!==r.kid&&iQ(r.kid,'"kid"'),{key:r.key,kid:r.kid}):{};return iV(i,'"clientPrivateKey.key"'),async(e,r,a,s)=>{let o={alg:i4(i),kid:n},l=nt(e,r);t?.[iD]?.(o,l),a.set("client_id",r.client_id),a.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.set("client_assertion",await nr(o,l,i))}}(o.token.clientPrivateKey,{[iD](e,t){t.aud=[i.issuer,i.token_endpoint]}});break;case"none":n=(e,t,r,i)=>{r.set("client_id",t.client_id)};break;default:throw Error("unsupported client authentication method")}let h=[],f=await aM.use(t,h,r);try{a=a_(i,u,new URLSearchParams(e),o.checks.includes("state")?f:ab)}catch(e){if(e instanceof nu){let t={providerId:o.id,...Object.fromEntries(e.cause.entries())};throw s.debug("OAuthCallbackError",t),new $("OAuth Provider returned an error",t)}throw e}let p=await aT.use(t,h,r),g=o.callbackUrl;!r.isOnRedirectProxy&&o.redirectProxyUrl&&(g=o.redirectProxyUrl);let m=await nH(i,u,n,a,g,p??"decoy",{[iT]:!0,[ij]:(...e)=>(o.checks.includes("pkce")||e[1].body.delete("code_verifier"),(o[rb]??fetch)(...e))});o.token?.conform&&(m=await o.token.conform(m.clone())??m);let b={},y="oidc"===o.type;if(o[ry])switch(o.id){case"microsoft-entra-id":case"azure-ad":{let{tid:e}=function(e){let t,r;if("string"!=typeof e)throw new eI("JWTs must use Compact JWS serialization, JWT must be a string");let{1:i,length:n}=e.split(".");if(5===n)throw new eI("Only JWTs using Compact JWS serialization can be decoded");if(3!==n)throw new eI("Invalid JWT");if(!i)throw new eI("JWTs must contain a payload");try{t=eR(i)}catch{throw new eI("Failed to base64url decode the payload")}try{r=JSON.parse(ev.decode(t))}catch{throw new eI("Failed to parse the decoded payload as JSON")}if(!e$(r))throw new eI("Invalid JWT Claims Set");return r}((await m.clone().json()).id_token);if("string"==typeof e){let t=i.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",r=new URL(i.issuer.replace(t,e)),n=await iY(r,{[ij]:o[rb]});i=await i0(r,n)}}}let _=await nV(i,u,m,{expectedNonce:await aj.use(t,h,r),requireIdToken:y});if(y){let t=nM(_);if(b=t,o[ry]&&"apple"===o.id)try{b.user=JSON.parse(e?.user)}catch{}if(!1===o.idToken){let e=await nx(i,u,_.access_token,{[ij]:o[rb],[iT]:!0});b=await nA(i,u,t.sub,e)}}else if(c?.request){let e=await c.request({tokens:_,provider:o});e instanceof Object&&(b=e)}else if(c?.url){let e=await nx(i,u,_.access_token,{[ij]:o[rb]});b=await e.json()}else throw TypeError("No userinfo endpoint configured");return _.expires_in&&(_.expires_at=Math.floor(Date.now()/1e3)+Number(_.expires_in)),{...await aU(b,o,_,s),profile:b,cookies:h}}async function aU(e,t,r,i){try{let i=await t.profile(e,r);return{user:{...i,id:crypto.randomUUID(),email:i.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:i.id??crypto.randomUUID()}}}catch(r){i.debug("getProfile error details",e),i.error(new H(r,{provider:t.id}))}}async function a$(e,t,r,i){let n=await az(e,t,r),{cookie:a}=await aN.create(e,n.challenge,r);return{status:200,cookies:[...i??[],a],body:{action:"register",options:n},headers:{"Content-Type":"application/json"}}}async function aH(e,t,r,i){let n=await aW(e,t,r),{cookie:a}=await aN.create(e,n.challenge);return{status:200,cookies:[...i??[],a],body:{action:"authenticate",options:n},headers:{"Content-Type":"application/json"}}}async function aF(e,t,r){let i;let{adapter:n,provider:a}=e,s=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!s||"object"!=typeof s||!("id"in s)||"string"!=typeof s.id)throw new w("Invalid WebAuthn Authentication response");let o=aK(aq(s.id)),l=await n.getAuthenticator(o);if(!l)throw new w(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:o})}`);let{challenge:c}=await aN.use(e,t.cookies,r);try{var u;let r=a.getRelayingParty(e,t);i=await a.simpleWebAuthn.verifyAuthenticationResponse({...a.verifyAuthenticationOptions,expectedChallenge:c,response:s,authenticator:{...u=l,credentialDeviceType:u.credentialDeviceType,transports:aG(u.transports),credentialID:aq(u.credentialID),credentialPublicKey:aq(u.credentialPublicKey)},expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new ee(e)}let{verified:d,authenticationInfo:h}=i;if(!d)throw new ee("WebAuthn authentication response could not be verified");try{let{newCounter:e}=h;await n.updateAuthenticatorCounter(l.credentialID,e)}catch(e){throw new E(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:o,oldCounter:l.counter,newCounter:h.newCounter})}`,e)}let f=await n.getAccount(l.providerAccountId,a.id);if(!f)throw new w(`WebAuthn account not found in database: ${JSON.stringify({credentialID:o,providerAccountId:l.providerAccountId})}`);let p=await n.getUser(f.userId);if(!p)throw new w(`WebAuthn user not found in database: ${JSON.stringify({credentialID:o,providerAccountId:l.providerAccountId,userID:f.userId})}`);return{account:f,user:p}}async function aB(e,t,r){var i;let n;let{provider:a}=e,s=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!s||"object"!=typeof s||!("id"in s)||"string"!=typeof s.id)throw new w("Invalid WebAuthn Registration response");let{challenge:o,registerData:l}=await aN.use(e,t.cookies,r);if(!l)throw new w("Missing user registration data in WebAuthn challenge cookie");try{let r=a.getRelayingParty(e,t);n=await a.simpleWebAuthn.verifyRegistrationResponse({...a.verifyRegistrationOptions,expectedChallenge:o,response:s,expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new ee(e)}if(!n.verified||!n.registrationInfo)throw new ee("WebAuthn registration response could not be verified");let c={providerAccountId:aK(n.registrationInfo.credentialID),provider:e.provider.id,type:a.type},u={providerAccountId:c.providerAccountId,counter:n.registrationInfo.counter,credentialID:aK(n.registrationInfo.credentialID),credentialPublicKey:aK(n.registrationInfo.credentialPublicKey),credentialBackedUp:n.registrationInfo.credentialBackedUp,credentialDeviceType:n.registrationInfo.credentialDeviceType,transports:(i=s.response.transports,i?.join(","))};return{user:l,account:c,authenticator:u}}async function aW(e,t,r){let{provider:i,adapter:n}=e,a=r&&r.id?await n.listAuthenticatorsByUserId(r.id):null,s=i.getRelayingParty(e,t);return await i.simpleWebAuthn.generateAuthenticationOptions({...i.authenticationOptions,rpID:s.id,allowCredentials:a?.map(e=>({id:aq(e.credentialID),type:"public-key",transports:aG(e.transports)}))})}async function az(e,t,r){let{provider:i,adapter:n}=e,a=r.id?await n.listAuthenticatorsByUserId(r.id):null,s=ru(32),o=i.getRelayingParty(e,t);return await i.simpleWebAuthn.generateRegistrationOptions({...i.registrationOptions,userID:s,userName:r.email,userDisplayName:r.name??void 0,rpID:o.id,rpName:o.name,excludeCredentials:a?.map(e=>({id:aq(e.credentialID),type:"public-key",transports:aG(e.transports)}))})}function aV(e){let{provider:t,adapter:r}=e;if(!r)throw new D("An adapter is required for the WebAuthn provider");if(!t||"webauthn"!==t.type)throw new K("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function aq(e){return new Uint8Array(Buffer.from(e,"base64"))}function aK(e){return Buffer.from(e).toString("base64")}function aG(e){return e?e.split(","):void 0}async function aJ(e,t,r,i){if(!t.provider)throw new K("Callback route called without provider");let{query:n,body:a,method:s,headers:o}=e,{provider:l,adapter:c,url:u,callbackUrl:d,pages:h,jwt:f,events:p,callbacks:g,session:{strategy:m,maxAge:b},logger:y}=t,_="jwt"===m;try{if("oauth"===l.type||"oidc"===l.type){let s;let o=l.authorization?.url.searchParams.get("response_mode")==="form_post"?a:n;if(t.isOnRedirectProxy&&o?.state){let e=await aM.decode(o.state,t);if(e?.origin&&new URL(e.origin).origin!==t.url.origin){let t=`${e.origin}?${new URLSearchParams(o)}`;return y.debug("Proxy redirecting to",t),{redirect:t,cookies:i}}}let m=await aL(o,e.cookies,t);m.cookies.length&&i.push(...m.cookies),y.debug("authorization result",m);let{user:v,account:x,profile:w}=m;if(!v||!x||!w)return{redirect:`${u}/signin`,cookies:i};if(c){let{getUserByAccount:e}=c;s=await e({providerAccountId:x.providerAccountId,provider:l.id})}let S=await aX({user:s??v,account:x,profile:w},t);if(S)return{redirect:S,cookies:i};let{user:E,session:k,isNewUser:O}=await ik(r.value,v,x,t);if(_){let e={name:E.name,email:E.email,picture:E.image,sub:E.id?.toString()},n=await g.jwt({token:e,user:E,account:x,profile:w,isNewUser:O,trigger:O?"signUp":"signIn"});if(null===n)i.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await f.encode({...f,token:n,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*b);let o=r.chunk(a,{expires:s});i.push(...o)}}else i.push({name:t.cookies.sessionToken.name,value:k.sessionToken,options:{...t.cookies.sessionToken.options,expires:k.expires}});if(await p.signIn?.({user:E,account:x,profile:w,isNewUser:O}),O&&h.newUser)return{redirect:`${h.newUser}${h.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:i};return{redirect:d,cookies:i}}if("email"===l.type){let e=n?.token,a=n?.email;if(!e){let t=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!e}});throw t.name="Configuration",t}let s=l.secret??t.secret,o=await c.useVerificationToken({identifier:a,token:await rc(`${e}${s}`)}),u=!!o,m=u&&o.expires.valueOf()<Date.now();if(!u||m||a&&o.identifier!==a)throw new J({hasInvite:u,expired:m});let{identifier:y}=o,v=await c.getUserByEmail(y)??{id:crypto.randomUUID(),email:y,emailVerified:null},x={providerAccountId:v.email,userId:v.id,type:"email",provider:l.id},w=await aX({user:v,account:x},t);if(w)return{redirect:w,cookies:i};let{user:S,session:E,isNewUser:k}=await ik(r.value,v,x,t);if(_){let e={name:S.name,email:S.email,picture:S.image,sub:S.id?.toString()},n=await g.jwt({token:e,user:S,account:x,isNewUser:k,trigger:k?"signUp":"signIn"});if(null===n)i.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await f.encode({...f,token:n,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*b);let o=r.chunk(a,{expires:s});i.push(...o)}}else i.push({name:t.cookies.sessionToken.name,value:E.sessionToken,options:{...t.cookies.sessionToken.options,expires:E.expires}});if(await p.signIn?.({user:S,account:x,isNewUser:k}),k&&h.newUser)return{redirect:`${h.newUser}${h.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:i};return{redirect:d,cookies:i}}if("credentials"===l.type&&"POST"===s){let e=a??{};Object.entries(n??{}).forEach(([e,t])=>u.searchParams.set(e,t));let c=await l.authorize(e,new Request(u,{headers:o,method:s,body:JSON.stringify(a)}));if(c)c.id=c.id?.toString()??crypto.randomUUID();else throw new T;let h={providerAccountId:c.id,type:"credentials",provider:l.id},m=await aX({user:c,account:h,credentials:e},t);if(m)return{redirect:m,cookies:i};let y={name:c.name,email:c.email,picture:c.image,sub:c.id},_=await g.jwt({token:y,user:c,account:h,isNewUser:!1,trigger:"signIn"});if(null===_)i.push(...r.clean());else{let e=t.cookies.sessionToken.name,n=await f.encode({...f,token:_,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*b);let s=r.chunk(n,{expires:a});i.push(...s)}return await p.signIn?.({user:c,account:h}),{redirect:d,cookies:i}}else if("webauthn"===l.type&&"POST"===s){let n,a,s;let o=e.body?.action;if("string"!=typeof o||"authenticate"!==o&&"register"!==o)throw new w("Invalid action parameter");let l=aV(t);switch(o){case"authenticate":{let t=await aF(l,e,i);n=t.user,a=t.account;break}case"register":{let r=await aB(t,e,i);n=r.user,a=r.account,s=r.authenticator}}await aX({user:n,account:a},t);let{user:c,isNewUser:u,session:m,account:y}=await ik(r.value,n,a,t);if(!y)throw new w("Error creating or finding account");if(s&&c.id&&await l.adapter.createAuthenticator({...s,userId:c.id}),_){let e={name:c.name,email:c.email,picture:c.image,sub:c.id?.toString()},n=await g.jwt({token:e,user:c,account:y,isNewUser:u,trigger:u?"signUp":"signIn"});if(null===n)i.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await f.encode({...f,token:n,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*b);let o=r.chunk(a,{expires:s});i.push(...o)}}else i.push({name:t.cookies.sessionToken.name,value:m.sessionToken,options:{...t.cookies.sessionToken.options,expires:m.expires}});if(await p.signIn?.({user:c,account:y,isNewUser:u}),u&&h.newUser)return{redirect:`${h.newUser}${h.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:i};return{redirect:d,cookies:i}}throw new K(`Callback for provider type (${l.type}) is not supported`)}catch(t){if(t instanceof w)throw t;let e=new O(t,{provider:l.id});throw y.debug("callback route error details",{method:s,query:n,body:a}),e}}async function aX(e,t){let r;let{signIn:i,redirect:n}=t.callbacks;try{r=await i(e)}catch(e){if(e instanceof w)throw e;throw new k(e)}if(!r)throw new k("AccessDenied");if("string"==typeof r)return await n({url:r,baseUrl:t.url.origin})}async function aY(e,t,r,i,n){let{adapter:a,jwt:s,events:o,callbacks:l,logger:c,session:{strategy:u,maxAge:d}}=e,h={body:null,headers:{"Content-Type":"application/json"},cookies:r},f=t.value;if(!f)return h;if("jwt"===u){try{let r=e.cookies.sessionToken.name,a=await s.decode({...s,token:f,salt:r});if(!a)throw Error("Invalid JWT");let c=await l.jwt({token:a,...i&&{trigger:"update"},session:n}),u=iE(d);if(null!==c){let e={user:{name:c.name,email:c.email,image:c.picture},expires:u.toISOString()},i=await l.session({session:e,token:c});h.body=i;let n=await s.encode({...s,token:c,salt:r}),a=t.chunk(n,{expires:u});h.cookies?.push(...a),await o.session?.({session:i,token:c})}else h.cookies?.push(...t.clean())}catch(e){c.error(new j(e)),h.cookies?.push(...t.clean())}return h}try{let{getSessionAndUser:r,deleteSession:s,updateSession:c}=a,u=await r(f);if(u&&u.session.expires.valueOf()<Date.now()&&(await s(f),u=null),u){let{user:t,session:r}=u,a=e.session.updateAge,s=r.expires.valueOf()-1e3*d+1e3*a,p=iE(d);s<=Date.now()&&await c({sessionToken:f,expires:p});let g=await l.session({session:{...r,user:t},user:t,newSession:n,...i?{trigger:"update"}:{}});h.body=g,h.cookies?.push({name:e.cookies.sessionToken.name,value:f,options:{...e.cookies.sessionToken.options,expires:p}}),await o.session?.({session:g})}else f&&h.cookies?.push(...t.clean())}catch(e){c.error(new F(e))}return h}async function aZ(e,t){let r,i;let{logger:n,provider:a}=t,s=a.authorization?.url;if(!s||"authjs.dev"===s.host){let e=new URL(a.issuer),t=await iY(e,{[ij]:a[rb],[iT]:!0}),r=await i0(e,t);if(!r.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");s=new URL(r.authorization_endpoint)}let o=s.searchParams,l=a.callbackUrl;!t.isOnRedirectProxy&&a.redirectProxyUrl&&(l=a.redirectProxyUrl,i=a.callbackUrl,n.debug("using redirect proxy",{redirect_uri:l,data:i}));let c=Object.assign({response_type:"code",client_id:a.clientId,redirect_uri:l,...a.authorization?.params},Object.fromEntries(a.authorization?.url.searchParams??[]),e);for(let e in c)o.set(e,c[e]);let u=[];a.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let d=await aM.create(t,i);if(d&&(o.set("state",d.value),u.push(d.cookie)),a.checks?.includes("pkce")){if(r&&!r.code_challenge_methods_supported?.includes("S256"))"oidc"===a.type&&(a.checks=["nonce"]);else{let{value:e,cookie:r}=await aT.create(t);o.set("code_challenge",e),o.set("code_challenge_method","S256"),u.push(r)}}let h=await aj.create(t);return h&&(o.set("nonce",h.value),u.push(h.cookie)),"oidc"!==a.type||s.searchParams.has("scope")||s.searchParams.set("scope","openid profile email"),n.debug("authorization url is ready",{url:s,cookies:u,provider:a}),{redirect:s.toString(),cookies:u}}async function aQ(e,t){let r;let{body:i}=e,{provider:n,callbacks:a,adapter:s}=t,o=(n.normalizeIdentifier??function(e){if(!e)throw Error("Missing email from request body.");let[t,r]=e.toLowerCase().trim().split("@");return r=r.split(",")[0],`${t}@${r}`})(i?.email),l={id:crypto.randomUUID(),email:o,emailVerified:null},c=await s.getUserByEmail(o)??l,u={providerAccountId:o,userId:c.id,type:"email",provider:n.id};try{r=await a.signIn({user:c,account:u,email:{verificationRequest:!0}})}catch(e){throw new k(e)}if(!r)throw new k("AccessDenied");if("string"==typeof r)return{redirect:await a.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:d,theme:h}=t,f=await n.generateVerificationToken?.()??ru(32),p=new Date(Date.now()+(n.maxAge??86400)*1e3),g=n.secret??t.secret,m=new URL(t.basePath,t.url.origin),b=n.sendVerificationRequest({identifier:o,token:f,expires:p,url:`${m}/callback/${n.id}?${new URLSearchParams({callbackUrl:d,token:f,email:o})}`,provider:n,theme:h,request:new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}),y=s.createVerificationToken?.({identifier:o,token:await rc(`${f}${g}`),expires:p});return await Promise.all([b,y]),{redirect:`${m}/verify-request?${new URLSearchParams({provider:n.id,type:n.type})}`}}async function a0(e,t,r){let i=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:i,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:i,cookies:n}=await aZ(e.query,r);return n&&t.push(...n),{redirect:i,cookies:t}}case"email":return{...await aQ(e,r),cookies:t};default:return{redirect:i,cookies:t}}}async function a1(e,t,r){let{jwt:i,events:n,callbackUrl:a,logger:s,session:o}=r,l=t.value;if(!l)return{redirect:a,cookies:e};try{if("jwt"===o.strategy){let e=r.cookies.sessionToken.name,t=await i.decode({...i,token:l,salt:e});await n.signOut?.({token:t})}else{let e=await r.adapter?.deleteSession(l);await n.signOut?.({session:e})}}catch(e){s.error(new z(e))}return e.push(...t.clean()),{redirect:a,cookies:e}}async function a2(e,t){let{adapter:r,jwt:i,session:{strategy:n}}=e,a=t.value;if(!a)return null;if("jwt"===n){let t=e.cookies.sessionToken.name,r=await i.decode({...i,token:a,salt:t});if(r&&r.sub)return{id:r.sub,name:r.name,email:r.email,image:r.picture}}else{let e=await r?.getSessionAndUser(a);if(e)return e.user}return null}async function a5(e,t,r,i){let n=aV(t),{provider:a}=n,{action:s}=e.query??{};if("register"!==s&&"authenticate"!==s&&void 0!==s)return{status:400,body:{error:"Invalid action"},cookies:i,headers:{"Content-Type":"application/json"}};let o=await a2(t,r),l=o?{user:o,exists:!0}:await a.getUserInfo(t,e),c=l?.user;switch(function(e,t,r){let{user:i,exists:n=!1}=r??{};switch(e){case"authenticate":return"authenticate";case"register":if(i&&t===n)return"register";break;case void 0:if(!t){if(!i||n)return"authenticate";return"register"}}return null}(s,!!o,l)){case"authenticate":return aH(n,e,c,i);case"register":if("string"==typeof c?.email)return a$(n,e,c,i);break;default:return{status:400,body:{error:"Invalid request"},cookies:i,headers:{"Content-Type":"application/json"}}}}async function a3(e,t){let{action:r,providerId:i,error:n,method:a}=e,s=t.skipCSRFCheck===rg,{options:o,cookies:l}=await rE({authOptions:t,action:r,providerId:i,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===a,csrfDisabled:s}),c=new x(o.cookies.sessionToken,e.cookies,o.logger);if("GET"===a){let t=iS({...o,query:e.query,cookies:l});switch(r){case"callback":return await aJ(e,o,c,l);case"csrf":return t.csrf(s,o,l);case"error":return t.error(n);case"providers":return t.providers(o.providers);case"session":return await aY(o,c,l);case"signin":return t.signin(i,n);case"signout":return t.signout();case"verify-request":return t.verifyRequest();case"webauthn-options":return await a5(e,o,c,l)}}else{let{csrfTokenVerified:t}=o;switch(r){case"callback":return"credentials"===o.provider.type&&rh(r,t),await aJ(e,o,c,l);case"session":return rh(r,t),await aY(o,c,l,!0,e.body?.data);case"signin":return rh(r,t),await a0(e,l,o);case"signout":return rh(r,t),await a1(l,c,o)}}throw new V(`Cannot handle action: ${r}`)}function a4(e,t,r,i,n){let a;let s=n?.basePath,o=i.AUTH_URL??i.NEXTAUTH_URL;if(o)a=new URL(o),s&&"/"!==s&&"/"!==a.pathname&&(a.pathname!==s&&rn(n).warn("env-url-basepath-mismatch"),a.pathname="/");else{let e=r.get("x-forwarded-host")??r.get("host"),i=r.get("x-forwarded-proto")??t??"https",n=i.endsWith(":")?i:i+":";a=new URL(`${n}//${e}`)}let l=a.toString().replace(/\/$/,"");if(s){let t=s?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${l}/${t}/${e}`)}return new URL(`${l}/${e}`)}async function a6(e,t){let r=rn(t),i=await ro(e,t);if(!i)return Response.json("Bad request.",{status:400});let n=function(e,t){let{url:r}=e,i=[];if(!ei&&t.debug&&i.push("debug-enabled"),!t.trustHost)return new G(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new L("Please define a `secret`");let n=e.query?.callbackUrl;if(n&&!en(n,r.origin))return new P(`Invalid callback URL. Received: ${n}`);let{callbackUrl:a}=v(t.useSecureCookies??"https:"===r.protocol),s=e.cookies?.[t.cookies?.callbackUrl?.name??a.name];if(s&&!en(s,r.origin))return new P(`Invalid callback URL. Received: ${s}`);let o=!1;for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e;let{authorization:r,token:i,userinfo:n}=t;if("string"==typeof r||r?.url?"string"==typeof i||i?.url?"string"==typeof n||n?.url||(e="userinfo"):e="token":e="authorization",e)return new C(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required`)}if("credentials"===t.type)ea=!0;else if("email"===t.type)es=!0;else if("webauthn"===t.type){var l;if(eo=!0,t.simpleWebAuthnBrowserVersion&&(l=t.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(l)))return new w(`Invalid provider config for "${t.id}": simpleWebAuthnBrowserVersion "${t.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(t.enableConditionalUI){if(o)return new Z("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(o=!0,!Object.values(t.formFields).some(e=>e.autocomplete&&e.autocomplete.toString().indexOf("webauthn")>-1))return new Q(`Provider "${t.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(ea){let e=t.session?.strategy==="database",r=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&r)return new q("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize}))return new I("Must define an authorize() handler to use credentials authentication provider")}let{adapter:c,session:u}=t,d=[];if(es||u?.strategy==="database"||!u?.strategy&&c){if(es){if(!c)return new D("Email login requires an adapter");d.push(...el)}else{if(!c)return new D("Database session requires an adapter");d.push(...ec)}}if(eo){if(!t.experimental?.enableWebAuthn)return new er("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(i.push("experimental-webauthn"),!c)return new D("WebAuthn requires an adapter");d.push(...eu)}if(c){let e=d.filter(e=>!(e in c));if(e.length)return new N(`Required adapter methods were missing: ${e.join(", ")}`)}return ei||(ei=!0),i}(i,t);if(Array.isArray(n))n.forEach(r.warn);else if(n){if(r.error(n),!new Set(["signin","signout","error","verify-request"]).has(i.action)||"GET"!==i.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:e,theme:a}=t,s=e?.error&&i.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||s)return s&&r.error(new A(`The error page ${e?.error} should not require authentication`)),rl(iS({theme:a}).error("Configuration"));let o=`${i.url.origin}${e.error}?error=Configuration`;return Response.redirect(o)}let a=e.headers?.has("X-Auth-Return-Redirect"),s=t.raw===rm;try{let e=await a3(i,t);if(s)return e;let r=rl(e),n=r.headers.get("Location");if(!a||!n)return r;return Response.json({url:n},{headers:r.headers})}catch(d){r.error(d);let n=d instanceof w;if(n&&s&&!a)throw d;if("POST"===e.method&&"session"===i.action)return Response.json(null,{status:400});let o=new URLSearchParams({error:d instanceof w&&Y.has(d.type)?d.type:"Configuration"});d instanceof T&&o.set("code",d.code);let l=n&&d.kind||"error",c=t.pages?.[l]??`${t.basePath}/${l.toLowerCase()}`,u=`${i.url.origin}${c}?${o}`;if(a)return Response.json({url:u});return Response.redirect(u)}}var a8=r(23794);function a9(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:i,origin:n}=e.nextUrl;return new a8.NextRequest(i.replace(n,r),e)}function a7(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if("/"===r)return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),function(e,t,r=!1){try{let i=e.AUTH_URL;i&&(t.basePath?r||rn(t).warn("env-url-basepath-redundant"):t.basePath=new URL(i).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let r=e.AUTH_SECRET;for(let i of(r&&t.secret.push(r),[1,2,3])){let r=e[`AUTH_SECRET_${i}`];r&&t.secret.unshift(r)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??"production"!==e.NODE_ENV)),t.providers=t.providers.map(t=>{let{id:r}="function"==typeof t?t({}):t,i=r.toUpperCase().replace(/-/g,"_"),n=e[`AUTH_${i}_ID`],a=e[`AUTH_${i}_SECRET`],s=e[`AUTH_${i}_ISSUER`],o=e[`AUTH_${i}_KEY`],l="function"==typeof t?t({clientId:n,clientSecret:a,issuer:s,apiKey:o}):t;return"oauth"===l.type||"oidc"===l.type?(l.clientId??(l.clientId=n),l.clientSecret??(l.clientSecret=a),l.issuer??(l.issuer=s)):"email"===l.type&&(l.apiKey??(l.apiKey=o)),l})}(process.env,e,!0)}}var se=r(23874),st=r(79097);async function sr(e,t){return a6(new Request(a4("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...e){let r=await t.callbacks?.session?.(...e)??{...e[0].session,expires:e[0].session.expires?.toISOString?.()??e[0].session.expires};return{user:e[0].user??e[0].token,...r}}}})}function si(e){return"function"==typeof e}function sn(e,t){return"function"==typeof e?async(...r)=>{if(!r.length){let r=await (0,st.b)(),i=await e(void 0);return t?.(i),sr(r,i).then(e=>e.json())}if(r[0]instanceof Request){let i=r[0],n=r[1],a=await e(i);return t?.(a),sa([i,n],a)}if(si(r[0])){let i=r[0];return async(...r)=>{let n=await e(r[0]);return t?.(n),sa(r,n,i)}}let i="req"in r[0]?r[0].req:r[0],n="res"in r[0]?r[0].res:r[1],a=await e(i);return t?.(a),sr(new Headers(i.headers),a).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in n?n.headers.append("set-cookie",t):n.appendHeader("set-cookie",t);return t})}:(...t)=>{if(!t.length)return Promise.resolve((0,st.b)()).then(t=>sr(t,e).then(e=>e.json()));if(t[0]instanceof Request)return sa([t[0],t[1]],e);if(si(t[0])){let r=t[0];return async(...t)=>sa(t,e,r).then(e=>e)}let r="req"in t[0]?t[0].req:t[0],i="res"in t[0]?t[0].res:t[1];return sr(new Headers(r.headers),e).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",t):i.appendHeader("set-cookie",t);return t})}}async function sa(e,t,r){let i=a9(e[0]),n=await sr(i.headers,t),a=await n.json(),s=!0;t.callbacks?.authorized&&(s=await t.callbacks.authorized({request:i,auth:a}));let o=a8.NextResponse.next?.();if(s instanceof Response){o=s;let e=s.headers.get("Location"),{pathname:r}=i.nextUrl;e&&function(e,t,r){let i=t.replace(`${e}/`,""),n=Object.values(r.pages??{});return(ss.has(i)||n.includes(t))&&t===e}(r,new URL(e).pathname,t)&&(s=!0)}else if(r)i.auth=a,o=await r(i,e[1])??a8.NextResponse.next();else if(!s){let e=t.pages?.signIn??`${t.basePath}/signin`;if(i.nextUrl.pathname!==e){let t=i.nextUrl.clone();t.pathname=e,t.searchParams.set("callbackUrl",i.nextUrl.href),o=a8.NextResponse.redirect(t)}}let l=new Response(o?.body,o);for(let e of n.headers.getSetCookie())l.headers.append("set-cookie",e);return l}r(3582);let ss=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var so=r(64665);async function sl(e,t={},r,i){let n=new Headers(await (0,st.b)()),{redirect:a=!0,redirectTo:s,...o}=t instanceof FormData?Object.fromEntries(t):t,l=s?.toString()??n.get("Referer")??"/",c=a4("signin",n.get("x-forwarded-proto"),n,process.env,i);if(!e)return c.searchParams.append("callbackUrl",l),a&&(0,so.redirect)(c.toString()),c.toString();let u=`${c}/${e}?${new URLSearchParams(r)}`,d={};for(let t of i.providers){let{options:r,...i}="function"==typeof t?t():t,n=r?.id??i.id;if(n===e){d={id:n,type:r?.type??i.type};break}}if(!d.id){let e=`${c}?${new URLSearchParams({callbackUrl:l})}`;return a&&(0,so.redirect)(e),e}"credentials"===d.type&&(u=u.replace("signin","callback")),n.set("Content-Type","application/x-www-form-urlencoded");let h=new Request(u,{method:"POST",headers:n,body:new URLSearchParams({...o,callbackUrl:l})}),f=await a6(h,{...i,raw:rm,skipCSRFCheck:rg}),p=await (0,se.U)();for(let e of f?.cookies??[])p.set(e.name,e.value,e.options);let g=(f instanceof Response?f.headers.get("Location"):f.redirect)??u;return a?(0,so.redirect)(g):g}async function sc(e,t){let r=new Headers(await (0,st.b)());r.set("Content-Type","application/x-www-form-urlencoded");let i=a4("signout",r.get("x-forwarded-proto"),r,process.env,t),n=new URLSearchParams({callbackUrl:e?.redirectTo??r.get("Referer")??"/"}),a=new Request(i,{method:"POST",headers:r,body:n}),s=await a6(a,{...t,raw:rm,skipCSRFCheck:rg}),o=await (0,se.U)();for(let e of s?.cookies??[])o.set(e.name,e.value,e.options);return e?.redirect??!0?(0,so.redirect)(s.redirect):s}async function su(e,t){let r=new Headers(await (0,st.b)());r.set("Content-Type","application/json");let i=new Request(a4("session",r.get("x-forwarded-proto"),r,process.env,t),{method:"POST",headers:r,body:JSON.stringify({data:e})}),n=await a6(i,{...t,raw:rm,skipCSRFCheck:rg}),a=await (0,se.U)();for(let e of n?.cookies??[])a.set(e.name,e.value,e.options);return n.body}let sd=new(u()).Schema({userId:{type:String,required:!0,unique:!0},gender:{type:String,enum:["female","male"],required:!0,default:"female"},birthDateTime:{type:Date,required:!0,default:new Date(1996,2,12,22)},email:{type:String,required:!1},isLock:{type:Boolean,required:!0,default:!0},genStatus:{type:String,enum:["none","waiting","done"],required:!1},createdAt:{type:Date,default:Date.now},updatedAt:{type:Date,default:Date.now}});sd.virtual("projects",{ref:"Project",localField:"userId",foreignField:"owner"}),sd.set("toJSON",{virtuals:!0}),sd.set("toObject",{virtuals:!0});let sh=u().models.User||u().model("User",sd);async function sf(e,t){try{await f();let r=await sh.findOne({userId:e});if(!r){let r=new sh({userId:e,email:t,gender:"female",birthDateTime:new Date(1996,2,12,22),isLock:!0,genStatus:"none"});return await r.save(),console.log("New user created:",e),r}return r}catch(e){throw console.error("Error creating user:",e),e}}let{handlers:sp,signIn:sg,signOut:sm,auth:sb}=function(e){if("function"==typeof e){let t=async t=>{let r=await e(t);return a7(r),a6(a9(t),r)};return{handlers:{GET:t,POST:t},auth:sn(e,e=>a7(e)),signIn:async(t,r,i)=>{let n=await e(void 0);return a7(n),sl(t,r,i,n)},signOut:async t=>{let r=await e(void 0);return a7(r),sc(t,r)},unstable_update:async t=>{let r=await e(void 0);return a7(r),su(t,r)}}}a7(e);let t=t=>a6(a9(t),e);return{handlers:{GET:t,POST:t},auth:sn(e),signIn:(t,r,i)=>sl(t,r,i,e),signOut:t=>sc(t,e),unstable_update:t=>su(t,e)}}({trustHost:!0,providers:[{id:"google",name:"Google",type:"oidc",issuer:"https://accounts.google.com",style:{brandColor:"#1a73e8"},options:{clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET}},{id:"apple",name:"Apple",type:"oidc",issuer:"https://appleid.apple.com",authorization:{params:{scope:"name email",response_mode:"form_post"}},[ry]:!0,profile(e){let t=e.user?`${e.user.name.firstName} ${e.user.name.lastName}`:e.email;return{id:e.sub,name:t,email:e.email,image:null}},async [rb](...e){if(new URL(e[0]instanceof Request?e[0].url:e[0]).pathname.endsWith(".well-known/openid-configuration")){let t=await fetch(...e),r=await t.clone().json();return Response.json({...r,userinfo_endpoint:"https://appleid.apple.com/fake_endpoint"})}return fetch(...e)},client:{token_endpoint_auth_method:"client_secret_post"},style:{text:"#fff",bg:"#000"},checks:["nonce","state"],options:{clientId:process.env.APPLE_ID,clientSecret:process.env.APPLE_CLIENT_SECRET}}],secret:process.env.NEXTAUTH_SECRET,callbacks:{async signIn({user:e,account:t,profile:r}){try{let t=e.email;if(!t)return!1;return await sf(t,e.email),!0}catch(e){return console.error("Error in signIn callback:",e),!1}},jwt:async({token:e,user:t,account:r})=>(r&&t&&(e.accessToken=r.access_token,e.id=t.id),e),session:async({session:e,token:t})=>(t&&e.user&&(e.user={...e.user,id:t.sub,userId:e.user.email}),e)},pages:{}});async function sy(){let e=await sb();return e?.user?e.user:null}let s_=(0,r(7153).cache)(sy);function sv(e){return e?{...e,_id:e._id?.toString()}:e}async function sx(){await f();let e=await g.findOne({language:"tw"}).select("-__v").lean(),t=await g.findOne({language:"zh"}).select("-__v").lean();return{twData:sv(e),zhData:sv(t)}}async function sw(e){let t=await s_();if(t&&t.userId)return await f(),await b.findOne({language:"zh-CN"==e?"zh":"tw",userId:t.userId,isDelete:0}).select("-__v")}(0,r(33331).D)([sx,sw]),(0,l.A)(sx,"007aeead8a21b5a6cbbcc86280c904a8bd297a2e78",null),(0,l.A)(sw,"405d1de469f7c27e9ed8d7737f87df5d0925cada62",null)},53361:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>c});var i=r(65239),n=r(48088),a=r(88170),s=r.n(a),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["[locale]",{children:["freereport",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,20814)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/freereport/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,11434)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,66196)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/error.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/freereport/page.jsx"],d={require:r,loadChunk:()=>Promise.resolve()},h=new i.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/[locale]/freereport/page",pathname:"/[locale]/freereport",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},54387:()=>{},55511:e=>{"use strict";e.exports=require("crypto")},56037:e=>{"use strict";e.exports=require("mongoose")},56397:()=>{},57975:e=>{"use strict";e.exports=require("node:util")},59311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{REDIRECT_ERROR_CODE:function(){return n},RedirectType:function(){return a},isRedirectError:function(){return s}});let i=r(18389),n="NEXT_REDIRECT";var a=function(e){return e.push="push",e.replace="replace",e}({});function s(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,a]=t,s=t.slice(2,-2).join(";"),o=Number(t.at(-2));return r===n&&("replace"===a||"push"===a)&&"string"==typeof s&&!isNaN(o)&&o in i.RedirectStatusCode}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},61096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rootParams",{enumerable:!0,get:function(){return u}});let i=r(23302),n=r(75124),a=r(29294),s=r(63033),o=r(37461),l=r(51078),c=new WeakMap;async function u(){let e=a.workAsyncStorage.getStore();if(!e)throw Object.defineProperty(new i.InvariantError("Missing workStore in unstable_rootParams"),"__NEXT_ERROR_CODE",{value:"E615",enumerable:!1,configurable:!0});let t=s.workUnitAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error(`Route ${e.route} used \`unstable_rootParams()\` in Pages Router. This API is only available within App Router.`),"__NEXT_ERROR_CODE",{value:"E641",enumerable:!1,configurable:!0});switch(t.type){case"unstable-cache":case"cache":throw Object.defineProperty(Error(`Route ${e.route} used \`unstable_rootParams()\` inside \`"use cache"\` or \`unstable_cache\`. Support for this API inside cache scopes is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E642",enumerable:!1,configurable:!0});case"prerender":case"prerender-ppr":case"prerender-legacy":return function(e,t,r){let i=t.fallbackRouteParams;if(i){let a=!1;for(let t in e)if(i.has(t)){a=!0;break}if(a){if("prerender"===r.type){let t=c.get(e);if(t)return t;let i=(0,o.makeHangingPromise)(r.renderSignal,"`unstable_rootParams`");return c.set(e,i),i}return function(e,t,r,i){let a=c.get(e);if(a)return a;let s={...e},o=Promise.resolve(s);return c.set(e,o),Object.keys(e).forEach(a=>{l.wellKnownProperties.has(a)||(t.has(a)?Object.defineProperty(s,a,{get(){let e=(0,l.describeStringPropertyAccess)("unstable_rootParams",a);"prerender-ppr"===i.type?(0,n.postponeWithTracking)(r.route,e,i.dynamicTracking):(0,n.throwToInterruptStaticGeneration)(e,r,i)},enumerable:!0}):o[a]=e[a])}),o}(e,i,t,r)}}return Promise.resolve(e)}(t.rootParams,e,t);default:return Promise.resolve(t.rootParams)}}},61794:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isPostpone",{enumerable:!0,get:function(){return i}});let r=Symbol.for("react.postpone");function i(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}},62736:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return i}});let r=new WeakMap;function i(e,t){let i;if(!t)return{pathname:e};let n=r.get(t);n||(n=t.map(e=>e.toLowerCase()),r.set(t,n));let a=e.split("/",2);if(!a[1])return{pathname:e};let s=a[1].toLowerCase(),o=n.indexOf(s);return o<0?{pathname:e}:(i=t[o],{pathname:e=e.slice(i.length+1)||"/",detectedLocale:i})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64043:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return n},userAgent:function(){return s},userAgentFromString:function(){return a}});let i=function(e){return e&&e.__esModule?e:{default:e}}(r(12130));function n(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function a(e){return{...(0,i.default)(e),isBot:void 0!==e&&n(e)}}function s({headers:e}){return a(e.get("user-agent")||void 0)}},64104:(e,t,r)=>{Promise.resolve().then(r.bind(r,20814))},64390:(e,t,r)=>{"use strict";e.exports=r(34821)},64665:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return u},RedirectType:function(){return n.RedirectType},forbidden:function(){return s.forbidden},notFound:function(){return a.notFound},permanentRedirect:function(){return i.permanentRedirect},redirect:function(){return i.redirect},unauthorized:function(){return o.unauthorized},unstable_rethrow:function(){return l.unstable_rethrow}});let i=r(68022),n=r(59311),a=r(86834),s=r(91777),o=r(24796),l=r(81452);class c extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class u extends URLSearchParams{append(){throw new c}delete(){throw new c}set(){throw new c}sort(){throw new c}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},66224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{StaticGenBailoutError:function(){return i},isStaticGenBailoutError:function(){return n}});let r="NEXT_STATIC_GEN_BAILOUT";class i extends Error{constructor(...e){super(...e),this.code=r}}function n(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},66455:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return a}});let i=r(35333),n=r(19186);function a(e,t,r,a){if(!t||t===r)return e;let s=e.toLowerCase();return!a&&((0,n.pathHasPrefix)(s,"/api")||(0,n.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,i.addPathPrefix)(e,"/"+t)}},68002:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return n}});let i=r(19186);function n(e,t){if(!(0,i.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},68022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return s},getRedirectStatusCodeFromError:function(){return d},getRedirectTypeFromError:function(){return u},getURLFromRedirectError:function(){return c},permanentRedirect:function(){return l},redirect:function(){return o}});let i=r(18389),n=r(59311),a=r(19121).actionAsyncStorage;function s(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let a=Object.defineProperty(Error(n.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a.digest=n.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",a}function o(e,t){var r;throw null!=t||(t=(null==a?void 0:null==(r=a.getStore())?void 0:r.isAction)?n.RedirectType.push:n.RedirectType.replace),s(e,t,i.RedirectStatusCode.TemporaryRedirect)}function l(e,t){throw void 0===t&&(t=n.RedirectType.replace),s(e,t,i.RedirectStatusCode.PermanentRedirect)}function c(e){return(0,n.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function u(e){if(!(0,n.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function d(e){if(!(0,n.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},68790:(e,t,r)=>{"use strict";e.exports=r(65239).vendored["react-rsc"].ReactDOM},70388:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},70830:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{METADATA_BOUNDARY_NAME:function(){return r},OUTLET_BOUNDARY_NAME:function(){return n},VIEWPORT_BOUNDARY_NAME:function(){return i}});let r="__next_metadata_boundary__",i="__next_viewport_boundary__",n="__next_outlet_boundary__"},71490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let i=r(25104),n=r(35333),a=r(222),s=r(66455);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,i.removeTrailingSlash)(t)),e.buildId&&(t=(0,a.addPathSuffix)((0,n.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,n.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,a.addPathSuffix)(t,"/"):(0,i.removeTrailingSlash)(t)}},73214:e=>{(()=>{"use strict";var t={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let i=r(223),n=r(172),a=r(930),s="context",o=new i.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,n.registerGlobal)(s,e,a.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...i){return this._getContextManager().with(e,t,r,...i)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,n.getGlobal)(s)||o}disable(){this._getContextManager().disable(),(0,n.unregisterGlobal)(s,a.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let i=r(56),n=r(912),a=r(957),s=r(172);class o{constructor(){function e(e){return function(...t){let r=(0,s.getGlobal)("diag");if(r)return r[e](...t)}}let t=this;t.setLogger=(e,r={logLevel:a.DiagLogLevel.INFO})=>{var i,o,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(i=e.stack)&&void 0!==i?i:e.message),!1}"number"==typeof r&&(r={logLevel:r});let c=(0,s.getGlobal)("diag"),u=(0,n.createLogLevelDiagLogger)(null!==(o=r.logLevel)&&void 0!==o?o:a.DiagLogLevel.INFO,e);if(c&&!r.suppressOverrideMessage){let e=null!==(l=Error().stack)&&void 0!==l?l:"<failed to generate stacktrace>";c.warn(`Current logger will be overwritten from ${e}`),u.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,s.registerGlobal)("diag",u,t,!0)},t.disable=()=>{(0,s.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new i.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let i=r(660),n=r(172),a=r(930),s="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,n.registerGlobal)(s,e,a.DiagAPI.instance())}getMeterProvider(){return(0,n.getGlobal)(s)||i.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,n.unregisterGlobal)(s,a.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let i=r(172),n=r(874),a=r(194),s=r(277),o=r(369),l=r(930),c="propagation",u=new n.NoopTextMapPropagator;class d{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=s.getBaggage,this.getActiveBaggage=s.getActiveBaggage,this.setBaggage=s.setBaggage,this.deleteBaggage=s.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,i.registerGlobal)(c,e,l.DiagAPI.instance())}inject(e,t,r=a.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=a.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,i.unregisterGlobal)(c,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,i.getGlobal)(c)||u}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let i=r(172),n=r(846),a=r(139),s=r(607),o=r(930),l="trace";class c{constructor(){this._proxyTracerProvider=new n.ProxyTracerProvider,this.wrapSpanContext=a.wrapSpanContext,this.isSpanContextValid=a.isSpanContextValid,this.deleteSpan=s.deleteSpan,this.getSpan=s.getSpan,this.getActiveSpan=s.getActiveSpan,this.getSpanContext=s.getSpanContext,this.setSpan=s.setSpan,this.setSpanContext=s.setSpanContext}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalTracerProvider(e){let t=(0,i.registerGlobal)(l,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,i.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,i.unregisterGlobal)(l,o.DiagAPI.instance()),this._proxyTracerProvider=new n.ProxyTracerProvider}}t.TraceAPI=c},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let i=r(491),n=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function a(e){return e.getValue(n)||void 0}t.getBaggage=a,t.getActiveBaggage=function(){return a(i.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(n,t)},t.deleteBaggage=function(e){return e.deleteValue(n)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let i=new r(this._entries);return i._entries.set(e,t),i}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let i=r(930),n=r(993),a=r(830),s=i.DiagAPI.instance();t.createBaggage=function(e={}){return new n.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(s.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:a.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let i=r(780);class n{active(){return i.ROOT_CONTEXT}with(e,t,r,...i){return t.call(r,...i)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=n},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,i)=>{let n=new r(t._currentContext);return n._currentContext.set(e,i),n},t.deleteValue=e=>{let i=new r(t._currentContext);return i._currentContext.delete(e),i}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let i=r(172);class n{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return a("debug",this._namespace,e)}error(...e){return a("error",this._namespace,e)}info(...e){return a("info",this._namespace,e)}warn(...e){return a("warn",this._namespace,e)}verbose(...e){return a("verbose",this._namespace,e)}}function a(e,t,r){let n=(0,i.getGlobal)("diag");if(n)return r.unshift(t),n[e](...r)}t.DiagComponentLogger=n},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class i{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}t.DiagConsoleLogger=i},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let i=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,i){let n=t[r];return"function"==typeof n&&e>=i?n.bind(t):function(){}}return e<i.DiagLogLevel.NONE?e=i.DiagLogLevel.NONE:e>i.DiagLogLevel.ALL&&(e=i.DiagLogLevel.ALL),t=t||{},{error:r("error",i.DiagLogLevel.ERROR),warn:r("warn",i.DiagLogLevel.WARN),info:r("info",i.DiagLogLevel.INFO),debug:r("debug",i.DiagLogLevel.DEBUG),verbose:r("verbose",i.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let i=r(200),n=r(521),a=r(130),s=n.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${s}`),l=i._globalThis;t.registerGlobal=function(e,t,r,i=!1){var a;let s=l[o]=null!==(a=l[o])&&void 0!==a?a:{version:n.VERSION};if(!i&&s[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(s.version!==n.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${n.VERSION}`);return r.error(t.stack||t.message),!1}return s[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${n.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let i=null===(t=l[o])||void 0===t?void 0:t.version;if(i&&(0,a.isCompatible)(i))return null===(r=l[o])||void 0===r?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${n.VERSION}.`);let r=l[o];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let i=r(521),n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function a(e){let t=new Set([e]),r=new Set,i=e.match(n);if(!i)return()=>!1;let a={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(null!=a.prerelease)return function(t){return t===e};function s(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let i=e.match(n);if(!i)return s(e);let o={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(null!=o.prerelease||a.major!==o.major)return s(e);if(0===a.major)return a.minor===o.minor&&a.patch<=o.patch?(t.add(e),!0):s(e);return a.minor<=o.minor?(t.add(e),!0):s(e)}}t._makeCompatibilityCheck=a,t.isCompatible=a(i.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class i{}t.NoopMetric=i;class n extends i{add(e,t){}}t.NoopCounterMetric=n;class a extends i{add(e,t){}}t.NoopUpDownCounterMetric=a;class s extends i{record(e,t){}}t.NoopHistogramMetric=s;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class l extends o{}t.NoopObservableCounterMetric=l;class c extends o{}t.NoopObservableGaugeMetric=c;class u extends o{}t.NoopObservableUpDownCounterMetric=u,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new n,t.NOOP_HISTOGRAM_METRIC=new s,t.NOOP_UP_DOWN_COUNTER_METRIC=new a,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new c,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new u,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let i=r(102);class n{getMeter(e,t,r){return i.NOOP_METER}}t.NoopMeterProvider=n,t.NOOP_METER_PROVIDER=new n},200:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:global},46:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;class r{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=r},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let i=r(476);class n{constructor(e=i.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}t.NonRecordingSpan=n},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let i=r(491),n=r(607),a=r(403),s=r(139),o=i.ContextAPI.getInstance();class l{startSpan(e,t,r=o.active()){var i;if(null==t?void 0:t.root)return new a.NonRecordingSpan;let l=r&&(0,n.getSpanContext)(r);return"object"==typeof(i=l)&&"string"==typeof i.spanId&&"string"==typeof i.traceId&&"number"==typeof i.traceFlags&&(0,s.isSpanContextValid)(l)?new a.NonRecordingSpan(l):new a.NonRecordingSpan}startActiveSpan(e,t,r,i){let a,s,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(a=t,l=r):(a=t,s=r,l=i);let c=null!=s?s:o.active(),u=this.startSpan(e,a,c),d=(0,n.setSpan)(c,u);return o.with(d,l,void 0,u)}}t.NoopTracer=l},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let i=r(614);class n{getTracer(e,t,r){return new i.NoopTracer}}t.NoopTracerProvider=n},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let i=new(r(614)).NoopTracer;class n{constructor(e,t,r,i){this._provider=e,this.name=t,this.version=r,this.options=i}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,i){let n=this._getTracer();return Reflect.apply(n.startActiveSpan,n,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):i}}t.ProxyTracer=n},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let i=r(125),n=new(r(124)).NoopTracerProvider;class a{getTracer(e,t,r){var n;return null!==(n=this.getDelegateTracer(e,t,r))&&void 0!==n?n:new i.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:n}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var i;return null===(i=this._delegate)||void 0===i?void 0:i.getTracer(e,t,r)}}t.ProxyTracerProvider=a},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let i=r(780),n=r(403),a=r(491),s=(0,i.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(s)||void 0}function l(e,t){return e.setValue(s,t)}t.getSpan=o,t.getActiveSpan=function(){return o(a.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(s)},t.setSpanContext=function(e,t){return l(e,new n.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let i=r(564);class n{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),n=r.indexOf("=");if(-1!==n){let a=r.slice(0,n),s=r.slice(n+1,t.length);(0,i.validateKey)(a)&&(0,i.validateValue)(s)&&e.set(a,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new n;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=n},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",i=`[a-z]${r}{0,255}`,n=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,a=RegExp(`^(?:${i}|${n})$`),s=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return a.test(e)},t.validateValue=function(e){return s.test(e)&&!o.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let i=r(325);t.createTraceState=function(e){return new i.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let i=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:i.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let i=r(476),n=r(403),a=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function o(e){return a.test(e)&&e!==i.INVALID_TRACEID}function l(e){return s.test(e)&&e!==i.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=l,t.isSpanContextValid=function(e){return o(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new n.NonRecordingSpan(e)}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}},s=!0;try{t[e].call(a.exports,a,a.exports,i),s=!1}finally{s&&delete r[e]}return a.exports}i.ab=__dirname+"/";var n={};(()=>{Object.defineProperty(n,"__esModule",{value:!0}),n.trace=n.propagation=n.metrics=n.diag=n.context=n.INVALID_SPAN_CONTEXT=n.INVALID_TRACEID=n.INVALID_SPANID=n.isValidSpanId=n.isValidTraceId=n.isSpanContextValid=n.createTraceState=n.TraceFlags=n.SpanStatusCode=n.SpanKind=n.SamplingDecision=n.ProxyTracerProvider=n.ProxyTracer=n.defaultTextMapSetter=n.defaultTextMapGetter=n.ValueType=n.createNoopMeter=n.DiagLogLevel=n.DiagConsoleLogger=n.ROOT_CONTEXT=n.createContextKey=n.baggageEntryMetadataFromString=void 0;var e=i(369);Object.defineProperty(n,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=i(780);Object.defineProperty(n,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(n,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var r=i(972);Object.defineProperty(n,"DiagConsoleLogger",{enumerable:!0,get:function(){return r.DiagConsoleLogger}});var a=i(957);Object.defineProperty(n,"DiagLogLevel",{enumerable:!0,get:function(){return a.DiagLogLevel}});var s=i(102);Object.defineProperty(n,"createNoopMeter",{enumerable:!0,get:function(){return s.createNoopMeter}});var o=i(901);Object.defineProperty(n,"ValueType",{enumerable:!0,get:function(){return o.ValueType}});var l=i(194);Object.defineProperty(n,"defaultTextMapGetter",{enumerable:!0,get:function(){return l.defaultTextMapGetter}}),Object.defineProperty(n,"defaultTextMapSetter",{enumerable:!0,get:function(){return l.defaultTextMapSetter}});var c=i(125);Object.defineProperty(n,"ProxyTracer",{enumerable:!0,get:function(){return c.ProxyTracer}});var u=i(846);Object.defineProperty(n,"ProxyTracerProvider",{enumerable:!0,get:function(){return u.ProxyTracerProvider}});var d=i(996);Object.defineProperty(n,"SamplingDecision",{enumerable:!0,get:function(){return d.SamplingDecision}});var h=i(357);Object.defineProperty(n,"SpanKind",{enumerable:!0,get:function(){return h.SpanKind}});var f=i(847);Object.defineProperty(n,"SpanStatusCode",{enumerable:!0,get:function(){return f.SpanStatusCode}});var p=i(475);Object.defineProperty(n,"TraceFlags",{enumerable:!0,get:function(){return p.TraceFlags}});var g=i(98);Object.defineProperty(n,"createTraceState",{enumerable:!0,get:function(){return g.createTraceState}});var m=i(139);Object.defineProperty(n,"isSpanContextValid",{enumerable:!0,get:function(){return m.isSpanContextValid}}),Object.defineProperty(n,"isValidTraceId",{enumerable:!0,get:function(){return m.isValidTraceId}}),Object.defineProperty(n,"isValidSpanId",{enumerable:!0,get:function(){return m.isValidSpanId}});var b=i(476);Object.defineProperty(n,"INVALID_SPANID",{enumerable:!0,get:function(){return b.INVALID_SPANID}}),Object.defineProperty(n,"INVALID_TRACEID",{enumerable:!0,get:function(){return b.INVALID_TRACEID}}),Object.defineProperty(n,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return b.INVALID_SPAN_CONTEXT}});let y=i(67);Object.defineProperty(n,"context",{enumerable:!0,get:function(){return y.context}});let _=i(506);Object.defineProperty(n,"diag",{enumerable:!0,get:function(){return _.diag}});let v=i(886);Object.defineProperty(n,"metrics",{enumerable:!0,get:function(){return v.metrics}});let x=i(939);Object.defineProperty(n,"propagation",{enumerable:!0,get:function(){return x.propagation}});let w=i(845);Object.defineProperty(n,"trace",{enumerable:!0,get:function(){return w.trace}}),n.default={context:y.context,diag:_.diag,metrics:v.metrics,propagation:x.propagation,trace:w.trace}})(),e.exports=n})()},74932:(e,t,r)=>{"use strict";e.exports=r(65239).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},75124:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{Postpone:function(){return E},abortAndThrowOnSynchronousRequestDataAccess:function(){return w},abortOnSynchronousPlatformIOAccess:function(){return v},accessedDynamicData:function(){return M},annotateDynamicAccess:function(){return U},consumeDynamicAccess:function(){return j},createDynamicTrackingState:function(){return h},createDynamicValidationState:function(){return f},createHangingInputAbortSignal:function(){return L},createPostponedAbortSignal:function(){return I},formatDynamicAPIAccesses:function(){return D},getFirstDynamicReason:function(){return p},isDynamicPostpone:function(){return A},isPrerenderInterruptedError:function(){return C},markCurrentScopeAsDynamic:function(){return g},postponeWithTracking:function(){return k},throwIfDisallowedDynamic:function(){return V},throwToInterruptStaticGeneration:function(){return b},trackAllowedDynamicAccess:function(){return z},trackDynamicDataInDynamicRender:function(){return y},trackFallbackParamAccessed:function(){return m},trackSynchronousPlatformIOAccessInDev:function(){return x},trackSynchronousRequestDataAccessInDev:function(){return S},useDynamicRouteParams:function(){return $}});let i=function(e){return e&&e.__esModule?e:{default:e}}(r(7153)),n=r(38248),a=r(66224),s=r(63033),o=r(29294),l=r(37461),c=r(70830),u=r(97748),d="function"==typeof i.default.unstable_postpone;function h(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicExpression:void 0,syncDynamicErrorWithStack:null}}function f(){return{hasSuspendedDynamic:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasSyncDynamicErrors:!1,dynamicErrors:[]}}function p(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function g(e,t,r){if((!t||"cache"!==t.type&&"unstable-cache"!==t.type)&&!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t){if("prerender-ppr"===t.type)k(e.route,r,t.dynamicTracking);else if("prerender-legacy"===t.type){t.revalidate=0;let i=Object.defineProperty(new n.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=i.stack,i}}}}function m(e,t){let r=s.workUnitAsyncStorage.getStore();r&&"prerender-ppr"===r.type&&k(e.route,t,r.dynamicTracking)}function b(e,t,r){let i=Object.defineProperty(new n.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=i.stack,i}function y(e,t){t&&"cache"!==t.type&&"unstable-cache"!==t.type&&("prerender"===t.type||"prerender-legacy"===t.type)&&(t.revalidate=0)}function _(e,t,r){let i=T(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(i);let n=r.dynamicTracking;n&&n.dynamicAccesses.push({stack:n.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function v(e,t,r,i){let n=i.dynamicTracking;return n&&null===n.syncDynamicErrorWithStack&&(n.syncDynamicExpression=t,n.syncDynamicErrorWithStack=r),_(e,t,i)}function x(e){e.prerenderPhase=!1}function w(e,t,r,i){let n=i.dynamicTracking;throw n&&null===n.syncDynamicErrorWithStack&&(n.syncDynamicExpression=t,n.syncDynamicErrorWithStack=r,!0===i.validating&&(n.syncDynamicLogged=!0)),_(e,t,i),T(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}let S=x;function E({reason:e,route:t}){let r=s.workUnitAsyncStorage.getStore();k(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function k(e,t,r){N(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),i.default.unstable_postpone(O(e,t))}function O(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function A(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&R(e.message)}function R(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===R(O("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let P="NEXT_PRERENDER_INTERRUPTED";function T(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=P,t}function C(e){return"object"==typeof e&&null!==e&&e.digest===P&&"name"in e&&"message"in e&&e instanceof Error}function M(e){return e.length>0}function j(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function D(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function N(){if(!d)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})}function I(e){N();let t=new AbortController;try{i.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}function L(e){let t=new AbortController;return e.cacheSignal?e.cacheSignal.inputReady().then(()=>{t.abort()}):(0,u.scheduleOnNextTick)(()=>t.abort()),t.signal}function U(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function $(e){let t=o.workAsyncStorage.getStore();if(t&&t.isStaticGeneration&&t.fallbackRouteParams&&t.fallbackRouteParams.size>0){let r=s.workUnitAsyncStorage.getStore();r&&("prerender"===r.type?i.default.use((0,l.makeHangingPromise)(r.renderSignal,e)):"prerender-ppr"===r.type?k(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&b(e,t,r))}}let H=/\n\s+at Suspense \(<anonymous>\)/,F=RegExp(`\\n\\s+at ${c.METADATA_BOUNDARY_NAME}[\\n\\s]`),B=RegExp(`\\n\\s+at ${c.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),W=RegExp(`\\n\\s+at ${c.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function z(e,t,r,i,n){if(!W.test(t)){if(F.test(t)){r.hasDynamicMetadata=!0;return}if(B.test(t)){r.hasDynamicViewport=!0;return}if(H.test(t)){r.hasSuspendedDynamic=!0;return}else if(i.syncDynamicErrorWithStack||n.syncDynamicErrorWithStack){r.hasSyncDynamicErrors=!0;return}else{let i=function(e,t){let r=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r.stack="Error: "+e+t,r}(`Route "${e}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`,t);r.dynamicErrors.push(i);return}}}function V(e,t,r,i){let n,s,o;if(r.syncDynamicErrorWithStack?(n=r.syncDynamicErrorWithStack,s=r.syncDynamicExpression,o=!0===r.syncDynamicLogged):i.syncDynamicErrorWithStack?(n=i.syncDynamicErrorWithStack,s=i.syncDynamicExpression,o=!0===i.syncDynamicLogged):(n=null,s=void 0,o=!1),t.hasSyncDynamicErrors&&n)throw o||console.error(n),new a.StaticGenBailoutError;let l=t.dynamicErrors;if(l.length){for(let e=0;e<l.length;e++)console.error(l[e]);throw new a.StaticGenBailoutError}if(!t.hasSuspendedDynamic){if(t.hasDynamicMetadata){if(n)throw console.error(n),Object.defineProperty(new a.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`),"__NEXT_ERROR_CODE",{value:"E608",enumerable:!1,configurable:!0});throw Object.defineProperty(new a.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateMetadata\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`),"__NEXT_ERROR_CODE",{value:"E534",enumerable:!1,configurable:!0})}if(t.hasDynamicViewport){if(n)throw console.error(n),Object.defineProperty(new a.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`),"__NEXT_ERROR_CODE",{value:"E573",enumerable:!1,configurable:!0});throw Object.defineProperty(new a.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateViewport\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`),"__NEXT_ERROR_CODE",{value:"E590",enumerable:!1,configurable:!0})}}}},75659:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return l}});let i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}return i.default=e,r&&r.set(e,i),i}(r(7153));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}let a={current:null},s="function"==typeof i.cache?i.cache:e=>e,o=console.warn;function l(e){return function(...t){o(e(...t))}}s(e=>{try{o(a.current)}finally{a.current=null}})},75913:(e,t,r)=>{"use strict";r(56397);var i=r(43210),n=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(i),a="undefined"!=typeof process&&process.env&&!0,s=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,r=t.name,i=void 0===r?"stylesheet":r,n=t.optimizeForSpeed,o=void 0===n?a:n;l(s(i),"`name` must be a string"),this._name=i,this._deletedRulePlaceholder="#"+i+"-deleted-rule____{}",l("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return l(s(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var r=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(i){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,r){t&&l(s(t),"makeStyleTag accepts only strings as second parameter");var i=document.createElement("style");this._nonce&&i.setAttribute("nonce",this._nonce),i.type="text/css",i.setAttribute("data-"+e,""),t&&i.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return r?n.insertBefore(i,r):n.appendChild(i),i},function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},u={};function d(e,t){if(!t)return"jsx-"+e;var r=String(t),i=e+r;return u[i]||(u[i]="jsx-"+c(e+"-"+r)),u[i]}function h(e,t){var r=e+(t=t.replace(/\/style/gi,"\\/style"));return u[r]||(u[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[r]}var f=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,i=void 0===r?null:r,n=t.optimizeForSpeed,a=void 0!==n&&n;this._sheet=i||new o({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),i&&"boolean"==typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var r=this.getIdAndRules(e),i=r.styleId,n=r.rules;if(i in this._instancesCounts){this._instancesCounts[i]+=1;return}var a=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[i]=a,this._instancesCounts[i]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var i=this._fromServer&&this._fromServer[r];i?(i.parentNode.removeChild(i),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],i=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:i}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,i=e.id;if(r){var n=d(i,r);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return h(n,e)}):[h(n,t)]}}return{styleId:d(i),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=i.createContext(null);p.displayName="StyleSheetContext";n.default.useInsertionEffect||n.default.useLayoutEffect;var g=void 0;function m(e){var t=g||i.useContext(p);return t&&t.add(e),null}m.dynamic=function(e){return e.map(function(e){return d(e[0],e[1])}).join(" ")},t.style=m},76180:(e,t,r)=>{"use strict";e.exports=r(75913).style},77598:e=>{"use strict";e.exports=require("node:crypto")},78745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HeadersAdapter:function(){return a},ReadonlyHeadersError:function(){return n}});let i=r(10492);class n extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new n}}class a extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return i.ReflectAdapter.get(t,r,n);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);if(void 0!==s)return i.ReflectAdapter.get(t,s,n)},set(t,r,n,a){if("symbol"==typeof r)return i.ReflectAdapter.set(t,r,n,a);let s=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);return i.ReflectAdapter.set(t,o??r,n,a)},has(t,r){if("symbol"==typeof r)return i.ReflectAdapter.has(t,r);let n=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==a&&i.ReflectAdapter.has(t,a)},deleteProperty(t,r){if("symbol"==typeof r)return i.ReflectAdapter.deleteProperty(t,r);let n=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===a||i.ReflectAdapter.deleteProperty(t,a)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return n.callable;default:return i.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new a(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,i]of this.entries())e.call(t,i,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},79097:(e,t,r)=>{"use strict";Object.defineProperty(t,"b",{enumerable:!0,get:function(){return d}});let i=r(78745),n=r(29294),a=r(63033),s=r(75124),o=r(66224),l=r(37461),c=r(75659),u=(r(97748),r(16296));function d(){let e=n.workAsyncStorage.getStore(),t=a.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,u.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(e.forceStatic)return f(i.HeadersAdapter.seal(new Headers({})));if(t){if("cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});if("unstable-cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(e.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(t){if("prerender"===t.type)return function(e,t){let r=h.get(t);if(r)return r;let i=(0,l.makeHangingPromise)(t.renderSignal,"`headers()`");return h.set(t,i),Object.defineProperties(i,{append:{value:function(){let r=`\`headers().append(${p(arguments[0])}, ...)\``,i=m(e,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},delete:{value:function(){let r=`\`headers().delete(${p(arguments[0])})\``,i=m(e,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},get:{value:function(){let r=`\`headers().get(${p(arguments[0])})\``,i=m(e,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},has:{value:function(){let r=`\`headers().has(${p(arguments[0])})\``,i=m(e,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},set:{value:function(){let r=`\`headers().set(${p(arguments[0])}, ...)\``,i=m(e,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},getSetCookie:{value:function(){let r="`headers().getSetCookie()`",i=m(e,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},forEach:{value:function(){let r="`headers().forEach(...)`",i=m(e,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},keys:{value:function(){let r="`headers().keys()`",i=m(e,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},values:{value:function(){let r="`headers().values()`",i=m(e,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},entries:{value:function(){let r="`headers().entries()`",i=m(e,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}},[Symbol.iterator]:{value:function(){let r="`headers()[Symbol.iterator]()`",i=m(e,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,r,i,t)}}}),i}(e.route,t);"prerender-ppr"===t.type?(0,s.postponeWithTracking)(e.route,"headers",t.dynamicTracking):"prerender-legacy"===t.type&&(0,s.throwToInterruptStaticGeneration)("headers",e,t)}(0,s.trackDynamicDataInDynamicRender)(e,t)}return f((0,a.getExpectedRequestStore)("headers").headers)}let h=new WeakMap;function f(e){let t=h.get(e);if(t)return t;let r=Promise.resolve(e);return h.set(e,r),Object.defineProperties(r,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),r}function p(e){return"string"==typeof e?`'${e}'`:"..."}let g=(0,c.createDedupedByCallsiteServerErrorLoggerDev)(m);function m(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})}},79535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return a},normalizeRscURL:function(){return s}});let i=r(90372),n=r(84212);function a(e){return(0,i.ensureLeadingSlash)(e.split("/").reduce((e,t,r,i)=>!t||(0,n.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===i.length-1?e:e+"/"+t,""))}function s(e){return e.replace(/\.rsc($|\?)/,"$1")}},79551:e=>{"use strict";e.exports=require("url")},81452:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return i}});let i=r(4431).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},81661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return l}});let i=r(49761),n=r(40857),a=r(25220),s=r(14659),o=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,n.validateURL)(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);let a=new i.NextURL(r,{headers:(0,n.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new s.RequestCookies(this.headers),nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get nextUrl(){return this[o].nextUrl}get page(){throw new a.RemovedPageError}get ua(){throw new a.RemovedUAError}get url(){return this[o].url}}},82362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{MutableRequestCookiesAdapter:function(){return h},ReadonlyRequestCookiesError:function(){return o},RequestCookiesAdapter:function(){return l},appendMutableCookies:function(){return d},areCookiesMutableInCurrentPhase:function(){return p},getModifiedCookieValues:function(){return u},responseCookiesToRequestCookies:function(){return m},wrapWithMutableAccessCheck:function(){return f}});let i=r(14659),n=r(10492),a=r(29294),s=r(63033);class o extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new o}}class l{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return o.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}}let c=Symbol.for("next.mutated.cookies");function u(e){let t=e[c];return t&&Array.isArray(t)&&0!==t.length?t:[]}function d(e,t){let r=u(t);if(0===r.length)return!1;let n=new i.ResponseCookies(e),a=n.getAll();for(let e of r)n.set(e);for(let e of a)n.set(e);return!0}class h{static wrap(e,t){let r=new i.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let s=[],o=new Set,l=()=>{let e=a.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),s=r.getAll().filter(e=>o.has(e.name)),t){let e=[];for(let t of s){let r=new i.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},u=new Proxy(r,{get(e,t,r){switch(t){case c:return s;case"delete":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),u}finally{l()}};case"set":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),u}finally{l()}};default:return n.ReflectAdapter.get(e,t,r)}}});return u}}function f(e){let t=new Proxy(e,{get(e,r,i){switch(r){case"delete":return function(...r){return g("cookies().delete"),e.delete(...r),t};case"set":return function(...r){return g("cookies().set"),e.set(...r),t};default:return n.ReflectAdapter.get(e,r,i)}}});return t}function p(e){return"action"===e.phase}function g(e){if(!p((0,s.getExpectedRequestStore)(e)))throw new o}function m(e){let t=new i.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},84212:(e,t)=>{"use strict";function r(e){return"("===e[0]&&e.endsWith(")")}function i(e){return e.startsWith("@")&&"@children"!==e}function n(e,t){if(e.includes(a)){let e=JSON.stringify(t);return"{}"!==e?a+"?"+e:a}return e}Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DEFAULT_SEGMENT_KEY:function(){return s},PAGE_SEGMENT_KEY:function(){return a},addSearchParamsIfPageSegment:function(){return n},isGroupSegment:function(){return r},isParallelRouteSegment:function(){return i}});let a="__PAGE__",s="__DEFAULT__"},86834:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return n}});let i=""+r(32913).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function n(){let e=Object.defineProperty(Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=i,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},88477:(e,t)=>{"use strict";function r(e,t){if(0===t.length)return 0;if(0===e.length||t.length>e.length)return -1;for(let r=0;r<=e.length-t.length;r++){let i=!0;for(let n=0;n<t.length;n++)if(e[r+n]!==t[n]){i=!1;break}if(i)return r}return -1}function i(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function n(e,t){let i=r(e,t);if(0===i)return e.subarray(t.length);if(!(i>-1))return e;{let r=new Uint8Array(e.length-t.length);return r.set(e.slice(0,i)),r.set(e.slice(i+t.length),i),r}}Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{indexOfUint8Array:function(){return r},isEquivalentUint8Arrays:function(){return i},removeFromUint8Array:function(){return n}})},90036:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,a={};function s(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),i=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?i:`${i}; ${r.join("; ")}`}function o(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[i,n]=[r.slice(0,e),r.slice(e+1)];try{t.set(i,decodeURIComponent(null!=n?n:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[i,n],...a]=o(e),{domain:s,expires:l,httponly:d,maxage:h,path:f,samesite:p,secure:g,partitioned:m,priority:b}=Object.fromEntries(a.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:i,value:decodeURIComponent(n),domain:s,...l&&{expires:new Date(l)},...d&&{httpOnly:!0},..."string"==typeof h&&{maxAge:Number(h)},path:f,...p&&{sameSite:c.includes(t=(t=p).toLowerCase())?t:void 0},...g&&{secure:!0},...b&&{priority:u.includes(r=(r=b).toLowerCase())?r:void 0},...m&&{partitioned:!0}})}((e,r)=>{for(var i in r)t(e,i,{get:r[i],enumerable:!0})})(a,{RequestCookies:()=>d,ResponseCookies:()=>h,parseCookie:()=>o,parseSetCookie:()=>l,stringifyCookie:()=>s}),e.exports=((e,a,s,o)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let l of i(a))n.call(e,l)||l===s||t(e,l,{get:()=>a[l],enumerable:!(o=r(a,l))||o.enumerable});return e})(t({},"__esModule",{value:!0}),a);var c=["strict","lax","none"],u=["low","medium","high"],d=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of o(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===i).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,i=this._parsed;return i.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(i).map(([e,t])=>s(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>s(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},h=class{constructor(e){var t,r,i;this._parsed=new Map,this._headers=e;let n=null!=(i=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?i:[];for(let e of Array.isArray(n)?n:function(e){if(!e)return[];var t,r,i,n,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(i=o,o+=1,l(),n=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=n,s.push(e.substring(t,i)),t=o):o=i+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}(n)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===i)}has(e){return this._parsed.has(e)}set(...e){let[t,r,i]=1===e.length?[e[0].name,e[0].value,e[0]]:e,n=this._parsed;return n.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...i})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=s(r);t.append("set-cookie",e)}}(n,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(s).join("; ")}}},90372:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},91199:(e,t,r)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return i.registerServerReference}});let i=r(74932)},91339:(e,t)=>{"use strict";function r(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},91777:(e,t,r)=>{"use strict";function i(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return i}}),r(32913).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},96197:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let a of(r&&(r=r.toLowerCase()),e)){var i,n;if(t===(null==(i=a.domain)?void 0:i.split(":",1)[0].toLowerCase())||r===a.defaultLocale.toLowerCase()||(null==(n=a.locales)?void 0:n.some(e=>e.toLowerCase()===r)))return a}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},96448:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var i=r(60687);r(91842);var n=r(43210),a=r(99208);r(72879);var s=r(99970),o=r(5748),l=r(96474),c=r(30474),u=r(77618);function d({activeRoom:e,setActiveRoom:t,onChangeDesignData:r,onChangeRoomList:d}){let h=(0,u.c3)("report"),[f,p]=(0,n.useState)({}),[g,m]=(0,n.useState)({width:0,height:0}),[b,y]=(0,n.useState)(100),[_,v]=(0,n.useState)(0),[x,w]=(0,n.useState)([]),[S,E]=(0,n.useState)(!1),{data:k}=(0,a.wV)();if(!f.localItems)return"";function O(e,t=5){let r;if("in"===e&&b<120)r=b+t;else if("out"===e&&b>50)r=b-t;else{if("reset"!==e)return;r=100}y(r)}let A=e=>{t(e)},R=e=>{t(e)};return(0,i.jsxs)("div",{className:"relative canvasImage",children:[(0,i.jsx)("div",{className:"relative border-1 border-[#E6E6E6] rounded-t-3xl py-[2px] mt-8 overflow-scroll",children:(0,i.jsx)("div",{onClick:()=>E(!1),className:"relative flex justify-center w-full h-135",style:{minWidth:g.width},children:(0,i.jsx)("div",{id:"roomCanvas",className:"absolute cursor-not-allowed",style:{width:`${g.width}px`,height:`${g.height}px`,transform:`scale(${b/100})`,transformOrigin:"top left"},children:(0,i.jsx)("div",{className:"relative",children:f.localItems.map(t=>t._type===s.w$.ROOM?(0,i.jsx)("div",{"data-room-element":"true",className:`absolute ${e?.id===t.id?"ring-2 ring-red-500":""} cursor-move z-100`,style:{left:t.position.x,top:t.position.y,width:t.size.width,height:t.size.height},onClick:e=>{e.stopPropagation(),R(t)},children:(0,i.jsx)("div",{className:"w-full h-full",style:{border:t._type===s.w$.ROOM?"8px solid":"none",borderColor:t._type===s.w$.ROOM?s.$q[t.data._type]:"transparent",borderRadius:"8px",backgroundColor:s.$q[t.data._type]+"80"},children:(0,i.jsx)("div",{className:"absolute top-2 left-2 text-[14px] text-[#888888]",style:{zIndex:1},children:t.data.label})})},t.id):t._type===s.w$.FURNITURE?(0,i.jsx)("div",{"data-room-element":"true",className:"absolute cursor-move z-200",style:{left:t.position.x,top:t.position.y,width:t.size.width,height:t.size.height},children:(0,i.jsx)(c.default,{draggable:"false",className:e?.id===t.id?"ring-2 ring-red-500":"",style:{transform:t.rotation?`rotate(${t.rotation}deg)`:"none",transformOrigin:"center"},src:t.activeIcon,alt:"Furniture",width:t.size.width,height:t.size.height})},t.id):void 0)})})})}),(0,i.jsxs)("div",{style:{transform:`rotate(${_}deg)`,transition:"transform 0.3s ease-out"},className:"absolute flex flex-col items-center top-5 right-5",children:[(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"N"}),(0,i.jsx)(c.default,{src:"/images/compass.png",alt:"方向",width:40,height:40})]}),(0,i.jsxs)("div",{className:"absolute flex items-center gap-2 px-3 py-2 bg-white rounded-full shadow-lg top-120 right-5",children:[(0,i.jsx)("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-100",onClick:e=>O("out"),disabled:b<=50,children:(0,i.jsx)(o.A,{className:"w-4 h-4"})}),(0,i.jsxs)("span",{className:"text-sm font-medium text-gray-600 min-w-[48px] text-center",children:[b,"%"]}),(0,i.jsx)("button",{className:"p-1 text-gray-600 rounded hover:bg-gray-100",onClick:e=>O("in"),disabled:b>=120,children:(0,i.jsx)(l.A,{className:"w-4 h-4"})})]}),(0,i.jsxs)("div",{onClick:()=>E(!0),className:"absolute z-20 flex items-center justify-center w-10 h-10 text-xs rounded-full shadow-lg cursor-pointer top-120 left-5",children:[S&&(0,i.jsx)("div",{className:"absolute left-0 w-20 px-4 py-4 overflow-y-auto text-sm bg-white rounded-lg shadow-lg bottom-10 report-menu max-h-110",children:x.map((t,r)=>(0,i.jsx)("div",{className:`text-sm mb-4 cursor-pointer ${e?.id===t.id?"text-[#20B580]":""}`,onClick:()=>A(t),children:t.data.label},r))}),(0,i.jsx)("span",{children:h("catelog")})]})]})}},97683:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return i},isBailoutToCSRError:function(){return n}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class i extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},97748:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{atLeastOneTask:function(){return n},scheduleImmediate:function(){return i},scheduleOnNextTick:function(){return r},waitAtLeastOneReactRenderTask:function(){return a}});let r=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},i=e=>{setImmediate(e)};function n(){return new Promise(e=>i(e))}function a(){return new Promise(e=>setImmediate(e))}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[7719,4999,928,4825,4166,695,6533,9012,798,5716,1225,6893],()=>r(53361));module.exports=i})();