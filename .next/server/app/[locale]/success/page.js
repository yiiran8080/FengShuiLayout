(()=>{var e={};e.id=8157,e.ids=[8157],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12167:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(65239),n=r(48088),a=r(88170),o=r.n(a),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c={children:["",{children:["[locale]",{children:["success",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,69655)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/success/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,11434)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,66196)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/error.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/success/page.jsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/[locale]/success/page",pathname:"/[locale]/success",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},16015:(e,t,r)=>{Promise.resolve().then(r.bind(r,69655))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},56397:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69655:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/success/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/michaelng/Desktop/HarmoniqFengShui/FengShuiLayout/src/app/[locale]/success/page.jsx","default")},75913:(e,t,r)=>{"use strict";r(56397);var s=r(43210),n=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(s),a="undefined"!=typeof process&&process.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,r=t.name,s=void 0===r?"stylesheet":r,n=t.optimizeForSpeed,i=void 0===n?a:n;l(o(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",l("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return l(o(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var r=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(s){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,r){t&&l(o(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return r?n.insertBefore(s,r):n.appendChild(s),s},function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},d={};function m(e,t){if(!t)return"jsx-"+e;var r=String(t),s=e+r;return d[s]||(d[s]="jsx-"+c(e+"-"+r)),d[s]}function u(e,t){var r=e+(t=t.replace(/\/style/gi,"\\/style"));return d[r]||(d[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[r]}var h=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,s=void 0===r?null:r,n=t.optimizeForSpeed,a=void 0!==n&&n;this._sheet=s||new i({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),s&&"boolean"==typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var r=this.getIdAndRules(e),s=r.styleId,n=r.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var a=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=a,this._instancesCounts[s]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var s=this._fromServer&&this._fromServer[r];s?(s.parentNode.removeChild(s),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],s=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,s=e.id;if(r){var n=m(s,r);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return u(n,e)}):[u(n,t)]}}return{styleId:m(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),f=s.createContext(null);f.displayName="StyleSheetContext";n.default.useInsertionEffect||n.default.useLayoutEffect;var p=void 0;function x(e){var t=p||s.useContext(f);return t&&t.add(e),null}x.dynamic=function(e){return e.map(function(e){return m(e[0],e[1])}).join(" ")},t.style=x},76180:(e,t,r)=>{"use strict";e.exports=r(75913).style},77618:(e,t,r)=>{"use strict";r.d(t,{c3:()=>a});var s=r(8610);function n(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let a=n(0,s.c3);n(0,s.kc)},79551:e=>{"use strict";e.exports=require("url")},94766:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(60687),n=r(43210),a=r(16189),o=r(77618);let i=({time:e,status:t})=>{let[r,i]=(0,n.useState)(e),l=(0,o.c3)("toast");return(0,n.useEffect)(()=>{if(r>0){let e=setInterval(()=>{i(e=>e-1)},1e3);return()=>clearInterval(e)}(0,a.redirect)("/design")},[r]),(0,s.jsxs)("div",{className:"mt-10 text-4xl text-center",children:["open"==t&&(0,s.jsx)("p",{children:l("open")}),"complete"==t&&(0,s.jsx)("p",{children:"支付成功！"}),(0,s.jsxs)("p",{className:"mt-5",children:[(0,s.jsx)("span",{className:"font-bold text-red-600",children:r}),l("redirect")]})]})},l=({isOpen:e,onClose:t,concernType:r,sessionId:a,chatContext:o})=>{let[i,l]=(0,n.useState)(1),[c,d]=(0,n.useState)({gender:"",birthday:"",problem:""}),[m,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{o?.fromChat&&o.specificProblem&&(d(e=>({...e,problem:o.specificProblem})),console.log("\uD83D\uDCAC Pre-filled problem from chat:",o.specificProblem))},[o]),(0,n.useEffect)(()=>{e&&l(1)},[e]),(0,n.useEffect)(()=>{console.log("FortuneDataModal props:",{isOpen:e,concernType:r,sessionId:a,chatContext:o})},[e,r,a,o]);let h=async e=>{e.preventDefault(),u(!0);try{let e=new URLSearchParams({birthday:c.birthday,concern:{financial:"財運",love:"感情",health:"健康",career:"事業"}[r]||r,problem:c.problem,gender:c.gender||""});window.location.href=`/feng-shui-report?${e.toString()}`}catch(e){console.error("Error submitting form:",e),u(!1)}};if(!e)return console.log("Modal not open, returning null"),null;console.log("Rendering modal with concernType:",r);let f=()=>({financial:"財運",love:"感情",health:"健康",career:"事業"})[r]||"運勢";return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:(0,s.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-6",children:[(0,s.jsx)("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${i>=1?"bg-[#A3B116] text-white":"bg-gray-200 text-gray-600"} text-sm font-medium`,children:"1"}),(0,s.jsx)("div",{className:`flex-1 h-1 mx-2 ${i>=2?"bg-[#A3B116]":"bg-gray-200"}`}),(0,s.jsx)("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${i>=2?"bg-[#A3B116] text-white":"bg-gray-200 text-gray-600"} text-sm font-medium`,children:"2"})]}),(0,s.jsx)("h2",{className:"mb-6 text-xl font-bold text-gray-800",children:1===i?"基本資料":`${f()}測算問題`}),1===i&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block mb-4 text-sm font-medium text-gray-700",children:["選擇性別"," ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,s.jsx)("div",{onClick:()=>d(e=>({...e,gender:"male"})),className:`flex flex-col items-center p-4 cursor-pointer transition-all ${"male"===c.gender?"border-[#A3B116] bg-[#A3B116]/10":"border-gray-200 hover:border-gray-300"}`,children:(0,s.jsx)("img",{src:"/images/hero/male.png",alt:"Male",className:"mb-2 w-30 h-30"})}),(0,s.jsx)("div",{onClick:()=>d(e=>({...e,gender:"female"})),className:`flex flex-col items-center p-4 cursor-pointer transition-all ${"female"===c.gender?"border-[#A3B116] bg-[#A3B116]/10":"border-gray-200 hover:border-gray-300"}`,children:(0,s.jsx)("img",{src:"/images/hero/female.png",alt:"Female",className:"mb-2 w-30 h-30"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["出生日期"," ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"date",name:"birthday",value:c.birthday,onChange:e=>d(t=>({...t,birthday:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#A3B116]"})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 text-gray-700 transition-colors border border-gray-300 rounded-md hover:bg-gray-50",children:"取消"}),(0,s.jsx)("button",{type:"button",onClick:()=>{c.gender&&c.birthday&&l(2)},disabled:!c.gender||!c.birthday,className:"flex-1 px-4 py-2 bg-[#A3B116] text-white rounded-md hover:bg-[#8B9914] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"下一步"})]})]}),2===i&&(0,s.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"具體問題描述"}),(0,s.jsx)("textarea",{name:"problem",value:c.problem,onChange:e=>d(t=>({...t,problem:e.target.value})),rows:4,placeholder:`請詳細描述您想了解的${f()}問題...`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#A3B116] resize-none"})]}),(0,s.jsxs)("div",{className:"pt-4 space-y-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{let e=`一般${{financial:"財運",love:"感情",health:"健康",career:"事業"}[r]||r}運勢分析`;d(t=>({...t,problem:e})),u(!0),setTimeout(()=>{let t=new URLSearchParams({birthday:c.birthday,concern:{financial:"財運",love:"感情",health:"健康",career:"事業"}[r]||r,problem:e,gender:c.gender||""});window.location.href=`/feng-shui-report?${t.toString()}`},100)},disabled:""!==c.problem.trim(),className:"w-full px-4 py-2 text-gray-700 transition-colors bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"我無特定疑惑"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{l(1)},className:"flex-1 px-4 py-2 text-gray-700 transition-colors border border-gray-300 rounded-md hover:bg-gray-50",disabled:m,children:"上一步"}),(0,s.jsx)("button",{type:"submit",disabled:m||""===c.problem.trim(),className:"flex-1 px-4 py-2 bg-[#A3B116] text-white rounded-md hover:bg-[#8B9914] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"提交中...":"完成"})]})]})]})]})})})};var c=r(76180),d=r.n(c);let m=function({paymentType:e,onStartDataEntry:t}){let r=(0,o.c3)("paymentThankYou");return(0,s.jsxs)("div",{style:{backgroundImage:"url('/images/hero/Herobg2.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll"},className:"jsx-d5489c5684ac2783 relative flex items-center justify-center min-h-screen p-4 sm:p-6",children:[(0,s.jsx)("div",{className:"jsx-d5489c5684ac2783 absolute inset-0 bg-gradient-to-b from-black/50 via-black/40 to-black/60"}),(0,s.jsxs)("div",{className:"jsx-d5489c5684ac2783 relative z-10 w-full max-w-2xl mx-auto text-center",children:[(0,s.jsx)("h1",{className:"jsx-d5489c5684ac2783 mb-4 text-3xl font-bold leading-tight text-white sm:mb-6 sm:text-4xl md:text-5xl lg:text-6xl",children:r("title")}),(0,s.jsx)("p",{className:"jsx-d5489c5684ac2783 mb-8 text-lg font-light tracking-wide text-white opacity-90 sm:mb-12 sm:text-xl md:mb-16 md:text-2xl",children:r("subtitle")}),(0,s.jsx)("div",{className:"jsx-d5489c5684ac2783 flex justify-center mb-8 sm:mb-12 md:mb-16",children:(0,s.jsx)("img",{src:"/images/hero/tick2.png",alt:"Success",style:{animation:"fadeInScale 1.5s ease-out forwards, bounce 2s ease-in-out 1.5s infinite"},className:"jsx-d5489c5684ac2783 object-contain w-24 h-24 animate-bounce sm:w-32 sm:h-32 md:w-40 md:h-40"})}),(0,s.jsx)("button",{onClick:t,className:"jsx-d5489c5684ac2783 inline-flex items-center justify-center w-full px-8 py-4 bg-white text-[#2D5016] font-bold text-lg rounded-full hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-2xl hover:shadow-3xl border-2 border-transparent hover:border-[#B8D42F] sm:w-auto sm:px-12 sm:py-5 sm:text-xl md:px-16",children:r("startButton")}),(0,s.jsx)("div",{className:"jsx-d5489c5684ac2783 max-w-lg mx-auto mt-6 text-sm text-white opacity-80 sm:mt-8 sm:text-base md:mt-10",children:(0,s.jsx)("p",{className:"jsx-d5489c5684ac2783 leading-relaxed",children:r(`description.${e||"default"}`)})})]}),(0,s.jsx)(d(),{id:"d5489c5684ac2783",children:"@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes fadeInScale{0%{opacity:0;-webkit-transform:scale(.3);transform:scale(.3)}50%{opacity:.8;-webkit-transform:scale(1.1);transform:scale(1.1)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@-moz-keyframes fadeInScale{0%{opacity:0;-moz-transform:scale(.3);transform:scale(.3)}50%{opacity:.8;-moz-transform:scale(1.1);transform:scale(1.1)}100%{opacity:1;-moz-transform:scale(1);transform:scale(1)}}@-o-keyframes fadeInScale{0%{opacity:0;-o-transform:scale(.3);transform:scale(.3)}50%{opacity:.8;-o-transform:scale(1.1);transform:scale(1.1)}100%{opacity:1;-o-transform:scale(1);transform:scale(1)}}@keyframes fadeInScale{0%{opacity:0;-webkit-transform:scale(.3);-moz-transform:scale(.3);-o-transform:scale(.3);transform:scale(.3)}50%{opacity:.8;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}100%{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-webkit-keyframes bounce{0%,20%,50%,80%,100%{-webkit-transform:translatey(0);transform:translatey(0)}40%{-webkit-transform:translatey(-10px);transform:translatey(-10px)}60%{-webkit-transform:translatey(-5px);transform:translatey(-5px)}}@-moz-keyframes bounce{0%,20%,50%,80%,100%{-moz-transform:translatey(0);transform:translatey(0)}40%{-moz-transform:translatey(-10px);transform:translatey(-10px)}60%{-moz-transform:translatey(-5px);transform:translatey(-5px)}}@-o-keyframes bounce{0%,20%,50%,80%,100%{-o-transform:translatey(0);transform:translatey(0)}40%{-o-transform:translatey(-10px);transform:translatey(-10px)}60%{-o-transform:translatey(-5px);transform:translatey(-5px)}}@keyframes bounce{0%,20%,50%,80%,100%{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}40%{-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}60%{-webkit-transform:translatey(-5px);-moz-transform:translatey(-5px);-o-transform:translatey(-5px);transform:translatey(-5px)}}"})]})};function u({searchParams:e}){let[t,r]=(0,n.useState)(null),[a,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(""),[f,p]=(0,n.useState)(""),[x,y]=(0,n.useState)({fromChat:!1,specificProblem:"",concern:""}),b=(0,n.use)(e);return t?t.error?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen p-8",children:(0,s.jsxs)("div",{className:"max-w-2xl text-center",children:[(0,s.jsx)("div",{className:"mb-4 text-xl text-red-500",children:"⚠️"}),(0,s.jsxs)("p",{className:"mb-4 text-gray-600",children:["錯誤: ",t.error]}),(0,s.jsx)("button",{onClick:()=>window.location.href="/price",className:"px-4 py-2 bg-[#A3B116] text-white rounded-md hover:bg-[#8B9914]",children:"返回價格頁面"})]})}):(0,s.jsxs)(s.Fragment,{children:[c&&(0,s.jsx)(m,{type:b.type,onStartDataEntry:()=>{let{type:e,session_id:t,concern:r,specificProblem:s,fromChat:n}=b;if("fortune"===e){let e=`/fortune-entry?session_id=${t}`;r&&(e+=`&concern=${r}`),"true"===n&&s&&(e+=`&specificProblem=${encodeURIComponent(s)}&fromChat=true`),window.location.href=e}else if("couple"===e){let e=`/couple-entry?session_id=${t}`;"true"===n&&s&&(e+=`&specificProblem=${encodeURIComponent(s)}&fromChat=true`),window.location.href=e}else("expert188"===e||"expert88"===e)&&(window.location.href=`/birthday-entry?session_id=${t}`)},sessionId:t.sessionId||t.data?.sessionId,concernType:u,chatContext:x}),(!b.type||"fortune"!==b.type&&"couple"!==b.type)&&(0,s.jsx)(i,{time:5,status:0===t.status?"complete":"incomplete"}),(0,s.jsx)(l,{isOpen:a,onClose:()=>{o(!1)},concernType:u,sessionId:t.sessionId||t.data?.sessionId,chatContext:x})]}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen p-8",children:(0,s.jsxs)("div",{className:"max-w-2xl text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#A3B116] mx-auto mb-4"}),(0,s.jsx)("p",{className:"mb-4 text-gray-600",children:"驗證付款中..."})]})})}},99143:(e,t,r)=>{Promise.resolve().then(r.bind(r,94766))}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7719,7380,9916,7076,5127,8491],()=>r(12167));module.exports=s})();