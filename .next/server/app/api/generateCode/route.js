(()=>{var e={};e.id=804,e.ids=[804],e.modules={2592:(e,t,r)=>{"use strict";function s(e){return{status:401,message:e||"Unauthorized"}}function n(e){let t={status:0};return e&&(t.data=e),t}function o(e){return{status:-1,message:e||"server error"}}r.d(t,{Cs:()=>n,J4:()=>o,kn:()=>s})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},36439:()=>{},44179:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>f,routeModule:()=>c,serverHooks:()=>g,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{POST:()=>p});var n=r(79643),o=r(57380),a=r(50747),i=r(24714),u=r(2592);async function p(e){let t=await e.json(),r=JSON.stringify({messages:[{content:t.system,role:"system"},{content:t.user,role:"user"},{role:"assistant",content:t.assistant||""}],model:"deepseek-chat",frequency_penalty:0,max_tokens:t.jsonResult?null:300,presence_penalty:0,response_format:{type:t.jsonResult?"json_object":"text"},stop:null,stream:!1,stream_options:null,temperature:1,top_p:1,tools:null,tool_choice:"none",logprobs:!1,top_logprobs:null});try{let e=await fetch("https://api.deepseek.com/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${process.env.API_KEY}`},maxBodyLength:1/0,body:r}),t=await e.json();if(t.choices)return i.NextResponse.json((0,u.Cs)(t.choices[0].message.content));throw Error(t.statusText)}catch(e){return console.log("error",e),i.NextResponse.json((0,u.J4)(e.message))}}let c=new n.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/generateCode/route",pathname:"/api/generateCode",filename:"route",bundlePath:"app/api/generateCode/route"},resolvedPagePath:"D:\\code\\fengshui\\src\\app\\api\\generateCode\\route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:d,serverHooks:g}=c;function f(){return(0,a.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:d})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},48509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{describeHasCheckingStringProperty:function(){return n},describeStringPropertyAccess:function(){return s},wellKnownProperties:function(){return o}});let r=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function s(e,t){return r.test(t)?"`"+e+"."+t+"`":"`"+e+"["+JSON.stringify(t)+"]`"}function n(e,t){let r=JSON.stringify(t);return"`Reflect.has("+e+", "+r+")`, `"+r+" in "+e+"`, or similar"}let o=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},99487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[643,622],()=>r(44179));module.exports=s})();